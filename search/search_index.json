{"config":{"lang":["en","ja"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"\u6280\u672f\u7b14\u8bb0","text":"<p>\u672c\u6280\u672f\u7b14\u8bb0\u5305\u62ec\u4f46\u4e0d\u9650\u4e8e</p> <ol> <li>Linux\u4f7f\u7528\u8fc7\u7a0b\u4e2d\u9047\u5230\u7684\u95ee\u9898\u53ca\u89e3\u51b3\u65b9\u6848\uff0c\u4ee5\u53ca\u5e38\u7528\u6280\u5de7\uff1b</li> <li>\u7f16\u7a0b\u8bed\u8a00\u4f7f\u7528\u8fc7\u7a0b\u4e2d\u9047\u5230\u7684bug\u53ca\u89e3\u51b3\u65b9\u6848\uff0c\u4ee5\u53ca\u5e38\u7528\u6280\u5de7\uff1b</li> <li>\u76f8\u5173\u8f6f\u4ef6\u7684\u914d\u7f6e\u8fc7\u7a0b\u3002</li> </ol>       (adsbygoogle = window.adsbygoogle || []).push({           google_ad_client: \"ca-pub-3680148472128768\",           enable_page_level_ads: true      });"},{"location":"#highly-recommended-resources","title":"Highly Recommended Resources","text":"<ul> <li>The Missing Semester of Your CS Education</li> </ul>"},{"location":"#other-independent-notes","title":"Other Independent Notes","text":"<ul> <li>TensorFlow Notes</li> </ul>"},{"location":"#cheat-sheets","title":"Cheat sheets","text":"<ol> <li>Rcpp-quickref</li> <li>r-graphical-parameters-cheatsheet</li> <li>git-cheat-sheet</li> <li>conda-cheatsheet</li> <li>matlab-cheatsheet</li> <li>biblatex-cheatsheet</li> <li>Google \u5f00\u6e90\u9879\u76ee\u98ce\u683c\u6307\u5357</li> </ol>"},{"location":"Cpp/","title":"C/C++ Notes","text":"<p>My C/C++ Projects</p> <ul> <li>C</li> <li>C++</li> </ul>"},{"location":"Cpp/#gcc-gccg","title":"GCC: gcc/g++","text":"<p>GCC \u4ee3\u8868 GNU Compiler Collections, \u4e3b\u8981\u7528\u4e8e\u7f16\u8bd1 C/C++\uff0c\u4f46\u4e5f\u652f\u6301\u5176\u5b83\u8bed\u8a00\uff0c\u5982 Fortran, Go.</p> <ul> <li>gcc/g++ \u90fd\u53ef\u4ee5\u7f16\u8bd1\u4efb\u4f55 <code>.c</code> \u6216\u8005 <code>.cpp</code> \u6587\u4ef6\uff0c\u4f46 gcc \u5c06\u5176\u770b\u4f5c\u5206\u522b C, C++\uff0c\u800c g++ \u5c06\u5176\u90fd\u770b\u6210 C++</li> <li>\u5728 link \u65f6\uff0cg++ \u4f1a\u81ea\u52a8\u8fde\u63a5 C++ \u6807\u51c6\u5e93\uff0c\u800c gcc \u4e0d\u4f1a</li> </ul> <p>see also: </p> <ul> <li>Difference between GCC and G++</li> <li>What is the difference between g++ and gcc?</li> </ul> <p>\u4e00\u6b65\u5230\u4f4d\u7684\u7f16\u8bd1\u547d\u4ee4\u4e3a</p> <pre><code>gcc test.c -o test\n</code></pre> <p>\u5b83\u53ef\u4ee5\u62c6\u89e3\u4e3a\u4ee5\u4e0b\u82e5\u5e72\u6b65</p> <pre><code># \u9884\u5904\u7406, -E \u4f7f\u5f97\u7f16\u8bd1\u5668\u5728\u9884\u5904\u7406\u540e\u505c\u6b62\uff0c\u5e76\u8f93\u51fa\u9884\u5904\u7406\u7ed3\u679c\ngcc -E test.c -o test.i\n// gcc -E test.c\n# \u7f16\u8bd1\u4e3a\u6c47\u7f16\u4ee3\u7801, -S \u7a0b\u5e8f\u7f16\u8bd1\u671f\u95f4\uff0c\u751f\u6210\u6c47\u7f16\u4ee3\u7801\u540e\uff0c\u505c\u6b62\ngcc -S test.i -o test.s\n# \u6c47\u7f16\ngcc -c test.s -o test.o\n# \u8fde\u63a5\ngcc test.o -o test\n</code></pre> <ul> <li>\u591a\u4e2a\u7a0b\u5e8f\u6587\u4ef6\u7684\u7f16\u8bd1</li> </ul> <pre><code>gcc test1.c test2.c -o test </code></pre> <ul> <li>\u68c0\u9519</li> </ul> <pre><code>gcc -pedantic illcode.c -o illcode\ngcc -Wall illcode.c -o illcode\ngcc -Werror test.c -o test\n</code></pre> <ul> <li>\u7f16\u8bd1\u6210\u53ef\u6267\u884c\u6587\u4ef6</li> </ul> <pre><code>gcc -c -I /usr/dev/mysql/include test.c -o test.o\n</code></pre> <ul> <li>\u8fde\u63a5\u5e93\u6587\u4ef6</li> </ul> <pre><code>gcc -L /usr/dev/mysql/lib \u2013lmysqlclient test.o -o test\n</code></pre> <ul> <li>\u5f3a\u5236\u8fde\u63a5\u65f6\u4f7f\u7528\u9759\u6001\u94fe\u63a5\u5e93: \u4f18\u5148\u4f7f\u7528\u52a8\u6001\u94fe\u63a5\u5e93\uff0c\u53ea\u6709\u5f53\u52a8\u6001\u94fe\u63a5\u5e93\u4e0d\u5b58\u5728\u65f6\u624d\u8003\u8651\u4f7f\u7528\u9759\u6001\u94fe\u63a5\u5e93\uff0c<code>-static</code> \u5f3a\u5236\u4f7f\u7528\u9759\u6001\u94fe\u63a5\u5e93</li> </ul> <p>\u5728 <code>/usr/dev/mysql/lib</code> \u76ee\u5f55\u4e0b\u6709\u94fe\u63a5\u65f6\u6240\u9700\u8981\u7684\u5e93\u6587\u4ef6<code>libmysqlclient.so</code>\u548c <code>libmysqlclient.a</code>\uff0c\u4e3a\u4e86\u8ba9GCC\u5728\u94fe\u63a5\u65f6\u53ea\u7528\u5230\u9759\u6001\u94fe\u63a5\u5e93\uff0c\u53ef\u4ee5\u4f7f\u7528\u4e0b\u9762\u7684\u547d\u4ee4</p> <pre><code>gcc -L /usr/dev/mysql/lib -static -lmysqlclient test.o -o test\n</code></pre> <ul> <li> <p>\u9759\u6001\u5e93\u94fe\u63a5\u65f6\u641c\u7d22\u8def\u5f84\u987a\u5e8f:</p> <ol> <li>ld\u4f1a\u53bb\u627eGCC\u547d\u4ee4\u4e2d\u7684\u53c2\u6570-L</li> <li>\u518d\u627egcc\u7684\u73af\u5883\u53d8\u91cf LIBRARY_PATH</li> <li>\u518d\u627e\u5185\u5b9a\u76ee\u5f55 /lib /usr/lib /usr/local/lib \u8fd9\u662f\u5f53\u521dcompile gcc\u65f6\u5199\u5728\u7a0b\u5e8f\u5185\u7684</li> </ol> </li> <li> <p>\u52a8\u6001\u94fe\u63a5\u65f6\u3001\u6267\u884c\u65f6\u641c\u7d22\u8def\u5f84\u987a\u5e8f: see also</p> <ol> <li>\u7f16\u8bd1\u76ee\u6807\u4ee3\u7801\u65f6\u6307\u5b9a\u7684\u52a8\u6001\u5e93\u641c\u7d22\u8def\u5f84</li> <li>\u73af\u5883\u53d8\u91cf LD_LIBRARY_PATH \u6307\u5b9a\u7684\u52a8\u6001\u5e93\u641c\u7d22\u8def\u5f84</li> <li>\u914d\u7f6e\u6587\u4ef6 /etc/ld.so.conf \u4e2d\u6307\u5b9a\u7684\u52a8\u6001\u5e93\u641c\u7d22\u8def\u5f84</li> <li>\u9ed8\u8ba4\u7684\u52a8\u6001\u5e93\u641c\u7d22\u8def\u5f84 /lib</li> <li>\u9ed8\u8ba4\u7684\u52a8\u6001\u5e93\u641c\u7d22\u8def\u5f84 /usr/lib</li> </ol> </li> </ul> <p>\u53c2\u8003 Linux GCC\u5e38\u7528\u547d\u4ee4</p>"},{"location":"Cpp/#print-format","title":"Print Format","text":"<p>source: https://www.cplusplus.com/reference/cstdio/printf/</p>"},{"location":"Cpp/#gsl","title":"GSL","text":"<ul> <li>My compiled <code>lib</code> and <code>include</code> for Windows and the detailed procedures: szcf-weiya/GSLwin</li> </ul>"},{"location":"Cpp/#openmp","title":"OpenMP","text":""},{"location":"Cpp/#get-its-version","title":"get its version","text":"<pre><code>// https://stackoverflow.com/questions/1304363/how-to-check-the-version-of-openmp-on-linux\n#include &lt;unordered_map&gt;\n#include &lt;iostream&gt;\n#include &lt;omp.h&gt;\nusing namespace std;\n\nint main()\n{\nunordered_map&lt;unsigned, string&gt; map{{200505,\"2.5\"},{200805,\"3.0\"},{201107,\"3.1\"},{201307,\"4.0\"},{201511,\"4.5\"},{201811,\"5.0\"},{202011,\"5.1\"}};\ncout &lt;&lt; \"We have OpenMP \" &lt;&lt; map.at(_OPENMP) &lt;&lt; endl;\n}\n</code></pre> <p>On T460P,</p> <pre><code>$ g++ version.cpp -fopenmp\n$ ./a.out \nWe have OpenMP 4.5\n</code></pre>"},{"location":"Cpp/#data-scope-attribute-clause","title":"data scope attribute clause","text":"<p>source: Shared and private variables in a parallel environment</p>"},{"location":"Cpp/#pragma-omp-critical","title":"<code>#pragma omp critical</code>","text":"<p>Info</p> <p>A practical example: <code>r.push_back(j);</code></p> <p>\u6307\u5b9a\u67d0\u4e2a\u533a\u57df\u7684\u4ee3\u7801\uff0c\u6bcf\u6b21\u53ea\u80fd\u540c\u65f6\u88ab\u4e00\u4e2a\u7ebf\u7a0b\u6267\u884c\u3002</p>"},{"location":"Cpp/#references","title":"references","text":"<ul> <li>Official Specifications<ul> <li>OpenMP 4.5 API C/C++ Syntax Reference Guide</li> <li>OpenMP 4.5 Examples</li> </ul> </li> <li>Lecture Notes: CS-E4580 Programming Parallel Computers @ Aalto University</li> </ul> <p>OpenMP topic: Loop parallelism</p> <p>OpenMP\u5e76\u884c\u6784\u9020\u7684schedule\u5b50\u53e5\u8be6\u89e3</p>"},{"location":"Cpp/#pointer","title":"Pointer","text":"<ul> <li>\u7a7a\u683c\u4e0d\u91cd\u8981\uff1a<code>int* p</code>, <code>int * p</code>, <code>int *p</code>, <code>int*p</code>\uff0c\u4f46\u662f\u7c7b\u578b\u4e3a <code>int *</code> \u6216 <code>int*</code>: refer to c++\u6307\u9488\uff08\u4e00\uff09\u2014\u2014\u6307\u9488\u7684\u5b9a\u4e49\u4ee5\u53ca\u5199\u6cd5\u2013\u5927\u98ce\u8f66-CSDN\u535a\u5ba2 and C++\u4e2d\u5f15\u7528\uff0c\u6307\u9488\uff0c\u6307\u9488\u7684\u5f15\u7528\uff0c\u6307\u9488\u7684\u6307\u9488\u2013luoshenFU\u7684\u4e13\u680f-CSDN\u535a\u5ba2</li> </ul>"},{"location":"Cpp/#reference-vs-pointer","title":"reference vs pointer","text":"<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nint main()\n{\nint array[3] = {1, 2, 3};\n// int &amp;b = array; // WRONG!!\nint &amp;b = *array; // left-hand side is `Int`, then right-hand side should also be int\nint c = *array;\ncout &lt;&lt; array[0] &lt;&lt; endl;\ncout &lt;&lt; &amp;array[0] &lt;&lt; endl;\ncout &lt;&lt; &amp;b &lt;&lt; endl;\ncout &lt;&lt; &amp;c &lt;&lt; endl;\n}\n</code></pre> <ul> <li>\u8d4b\u503c\u65f6\u5de6\u53f3\u7aef\u7c7b\u578b\u9700\u76f8\u540c\uff0c\u4e0e\u7b26\u53f7 <code>*</code> \u548c <code>&amp;</code> \u65e0\u5173</li> <li><code>b</code> \u4e0e <code>array</code> \u7684\u5730\u5740\u76f8\u540c</li> </ul> <p>\u53c2\u8003 c++\u6307\u9488\uff08\u516d\uff09\u2014\u2014\u6307\u9488\u4e0e\u5f15\u7528_\u5927\u98ce\u8f66-CSDN\u535a\u5ba2</p>"},{"location":"Cpp/#_1","title":"\u8f93\u51fa\u5b57\u7b26\u578b\u6307\u9488\u5730\u5740\u503c","text":"<p>C \u8bed\u8a00\u4e2d\u901a\u8fc7 <code>printf</code> \u4fbf\u53ef\u4ee5\u5f88\u65b9\u4fbf\u5730\u8f93\u51fa\u5b57\u7b26\u4e32\u6307\u9488\u5730\u5740\u503c\uff0c\u5982</p> <pre><code>#include &lt;stdio.h&gt;\nint main (){\nconst char *pstr = \"hello world\";\n\nprintf(\"\u5b57\u7b26\u4e32: %s\\n\", pstr);\nprintf(\"\u5b57\u7b26\u4e32\u8d77\u59cb\u5730\u5740\u503c: %p\\n\", pstr);\n\nreturn 0;\n}\n</code></pre> <p>\u8fd0\u884c\u7ed3\u679c\u4e3a\uff0c</p> <pre><code>$ gcc print_pointer_address.c\n$ ./a.out \n\u5b57\u7b26\u4e32: hello world\n\u5b57\u7b26\u4e32\u8d77\u59cb\u5730\u5740\u503c: 0x56499eb0e724\n</code></pre> <p>\u4f46\u5728 Cpp \u4e2d\u6ca1\u90a3\u4e48\u7b80\u5355\uff0c\u4e3b\u8981\u539f\u56e0\u662f</p> <p>C++\u6807\u51c6\u5e93\u4e2dI/O\u7c7b\u5bf9 &lt;&lt; \u64cd\u4f5c\u7b26\u91cd\u8f7d\uff0c\u56e0\u6b64\u5728\u9047\u5230\u5b57\u7b26\u578b\u6307\u9488\u65f6\u4f1a\u5c06\u5176\u5f53\u4f5c\u5b57\u7b26\u4e32\u540d\u6765\u5904\u7406\uff0c\u8f93\u51fa\u6307\u9488\u6240\u6307\u7684\u5b57\u7b26\u4e32</p> <p>\u7c7b\u4f3c C \u4e2d\u5f3a\u5236\u7c7b\u578b\u8f6c\u6362\uff0c\u7528 <code>static_cast</code> \u5c06\u5b57\u7b26\u4e32\u6307\u9488\u8f6c\u6362\u6210\u65e0\u7c7b\u578b\u6307\u9488\u3002</p> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nint main()\n{\nconst char *pstr = \"hello world\";\ncout &lt;&lt; pstr &lt;&lt; endl;\ncout &lt;&lt; static_cast&lt;const void*&gt;(pstr) &lt;&lt; endl;\nreturn 0;\n}\n</code></pre> <p>\u8fd0\u884c\u7ed3\u679c\u4e3a\uff0c</p> <pre><code>$ g++ print_pointer_address.cpp \n$ ./a.out \nhello world\n0x556f1462fa65\n</code></pre> <p>\u53c2\u8003 C++\u4e2dcout\u8f93\u51fa\u5b57\u7b26\u578b\u6307\u9488\u5730\u5740\u503c\u7684\u65b9\u6cd5</p>"},{"location":"Cpp/#_2","title":"\u6307\u9488\u521d\u59cb\u5316","text":"<pre><code>double x;\ndouble *p = &amp;x;\n</code></pre> <p>DO NOT</p> <pre><code>double *p = 5;\n</code></pre> <p>BUT <pre><code>double *p = \"aaa\";\n</code></pre> \u5e76\u4e14\u8981\u521d\u59cb\u5316\uff0c\u4e0d\u80fd</p> <p><pre><code>double *p;\n</code></pre> \u7136\u540e\u76f4\u63a5\u4f20\u53c2\u4e86\uff0c\u8fd9\u662f\u4e0d\u5bf9\u7684\u3002</p>"},{"location":"Cpp/#_3","title":"\u53c2\u6570\u548c\u8fd4\u56de\u503c\u7684\u4e09\u79cd\u4f20\u9012\u65b9\u5f0f","text":"<p>\u53c2\u8003</p> <ul> <li>Passing vector to a function in C++ and Vector in C++ STL</li> <li>C++\u51fd\u6570\u53c2\u6570\u548c\u8fd4\u56de\u503c\u4e09\u79cd\u4f20\u9012\u65b9\u5f0f\uff1a\u503c\u4f20\u9012\u3001\u6307\u9488\u4f20\u9012\u548c\u5f15\u7528\u4f20\u9012\uff08\u7740\u91cd\u7406\u89e3\uff09</li> </ul>"},{"location":"Cpp/#_4","title":"\u503c\u4f20\u9012","text":"<p>\u6539\u53d8 <code>x</code> \u7684\u503c\u4e0d\u4f1a\u5f71\u54cd <code>n</code></p> <pre><code>void Func1(int x)\n{\nx = x + 10;\n}\nint n = 0;\nFunc1(n);\n</code></pre>"},{"location":"Cpp/#_5","title":"\u6307\u9488\u4f20\u9012","text":"<pre><code>void Func2(int *x)\n{\n(*x) = (*x) + 10;\n}\nint n = 0;\nFunc2(&amp;n);\n</code></pre>"},{"location":"Cpp/#_6","title":"\u5f15\u7528\u4f20\u9012","text":"<p><code>x</code> \u548c <code>n</code> \u662f\u4e00\u4e2a\u4e1c\u897f</p> <pre><code>void Func3(int &amp;x)\n{\nx = x + 10;\n}\nint x = 0;\nFunc3(n);\n</code></pre> <p>\u5f15\u7528\u4f20\u9012\u7684\u6027\u8d28\u50cf\u6307\u9488\u4f20\u9012\uff0c\u800c\u4e66\u5199\u65b9\u5f0f\u50cf\u503c\u4f20\u9012\u3002</p> <pre><code>int m;\nint &amp;n = m;\n</code></pre> <p>\u5176\u4e2d <code>n</code> \u662f <code>m</code> \u7684\u4e00\u4e2a\u5f15\u7528 (reference)\uff0c\u800c <code>m</code> \u662f\u88ab\u5f15\u7528\u7269 (referent).</p> <p>\u5f15\u7528\u7684\u89c4\u5219\u5982\u4e0b\uff1a</p> <ul> <li>\u5f15\u7528\u88ab\u521b\u5efa\u65f6\u540c\u65f6\u88ab\u521d\u59cb\u5316\uff0c\u800c\u6307\u9488\u5219\u53ef\u4ee5\u5728\u4efb\u4f55\u65f6\u5019\u521d\u59cb\u5316\uff1b</li> <li>\u4e0d\u80fd\u6709 NULL \u5f15\u7528\uff0c\u5fc5\u987b\u4e0e\u5408\u6cd5\u7684\u5b58\u50a8\u5355\u5143\u5173\u8054\uff0c\u800c\u6307\u9488\u53ef\u4ee5\u662f NULL;</li> <li>\u4e00\u65e6\u5f15\u7528\u88ab\u521d\u59cb\u5316\uff0c\u5c31\u4e0d\u80fd\u6539\u53d8\u5f15\u7528\u7684\u5173\u7cfb\uff0c\u800c\u6307\u9488\u5219\u53ef\u4ee5\u968f\u65f6\u6539\u53d8\u6240\u6307\u7684\u5bf9\u8c61\u3002</li> </ul>"},{"location":"Cpp/#_7","title":"\u591a\u7ebf\u7a0b\u7f16\u7a0b\uff08\u672a\u5b8c\uff09","text":"<p>\u53c2\u8003 c++\u591a\u7ebf\u7a0b\u7f16\u7a0b_\u72c2\u5954\u7684\u8717\u725b-CSDN\u535a\u5ba2</p>"},{"location":"Cpp/#say_hello","title":"say_hello","text":"<pre><code>#include &lt;iostream&gt;\n#include &lt;pthread.h&gt;\n\nusing namespace std;\n\n#define NUM_THREADS 5\n\n// \u51fd\u6570\u6307\u9488\nvoid* say_hello(void *args)\n{\ncout &lt;&lt; \"hello ...\" &lt;&lt; endl;\n}\n\nint main(int argc, char const *argv[]) {\npthread_t tids[NUM_THREADS];\nfor (int i = 0; i &lt; NUM_THREADS; i++)\n{\n// \u7ebf\u7a0b\u7684id\uff0c\u7ebf\u7a0b\u53c2\u6570\uff0c \u7ebf\u7a0b\u8fd0\u884c\u51fd\u6570\u7684\u8d77\u59cb\u5730\u5740\uff0c\u8fd0\u884c\u51fd\u6570\u7684\u53c2\u6570\nint ret = pthread_create(&amp;tids[i], NULL, say_hello, NULL);\nif (ret!=0)\n{\ncout &lt;&lt; \"pthread_create error: error_code = \" &lt;&lt; ret &lt;&lt; endl;\n}\n}\npthread_exit(NULL);\nreturn 0;\n}\n</code></pre> <p>\u4e24\u6b21\u8fd0\u884c\u7684\u7ed3\u679c\u6df7\u4e71\uff0c\u56e0\u4e3a\u6ca1\u6709\u540c\u6b65\uff1f</p> <p></p> <p></p>"},{"location":"Cpp/#say_hello_paras","title":"say_hello_paras","text":"<pre><code>#include &lt;iostream&gt;\n#include &lt;pthread.h&gt;\n\nusing namespace std;\n\n#define NUM_THREADS 5\n\n// \u51fd\u6570\u6307\u9488\nvoid* say_hello(void *args)\n{\nint i = *((int*)args);\ncout &lt;&lt; \"hello in \" &lt;&lt; i &lt;&lt; endl;\n}\n\nint main(int argc, char const *argv[]) {\npthread_t tids[NUM_THREADS];\ncout &lt;&lt; \"hello in main\" &lt;&lt; endl;\nfor (int i = 0; i &lt; NUM_THREADS; i++)\n{\n// \u7ebf\u7a0b\u7684id\uff0c\u7ebf\u7a0b\u53c2\u6570\uff0c \u7ebf\u7a0b\u8fd0\u884c\u51fd\u6570\u7684\u8d77\u59cb\u5730\u5740\uff0c\u8fd0\u884c\u51fd\u6570\u7684\u53c2\u6570\nint ret = pthread_create(&amp;tids[i], NULL, say_hello, (void*)&amp;i);\n// &amp;i\u8868\u793a\u53d6i\u7684\u5730\u5740\uff0c\u5373\u6307\u5411i\u7684\u6307\u9488\ncout &lt;&lt; \"current pthread id = \" &lt;&lt; tids[i] &lt;&lt; endl;\nif (ret!=0)\n{\ncout &lt;&lt; \"pthread_create error: error_code = \" &lt;&lt; ret &lt;&lt; endl;\n}\n}\npthread_exit(NULL);\nreturn 0;\n}\n</code></pre> <p>\u7ed3\u679c\u6df7\u4e71\uff01\uff01</p> <p>\u53ef\u80fd\u539f\u56e0\uff1a\u4e3b\u8fdb\u7a0b\u8fd8\u6ca1\u5f00\u59cb\u5bf9i\u8d4b\u503c\uff0c\u7ebf\u7a0b\u5df2\u7ecf\u5f00\u59cb\u8dd1\u4e86\u2026?</p>"},{"location":"Cpp/#say_hello_paras_revise","title":"say_hello_paras_revise","text":"<pre><code>#include &lt;iostream&gt;\n#include &lt;pthread.h&gt;\n\nusing namespace std;\n\n#define NUM_THREADS 5\n\n// \u51fd\u6570\u6307\u9488\nvoid* say_hello(void *args)\n{\nint i = *((int*)args);\ncout &lt;&lt; \"hello in \" &lt;&lt; i &lt;&lt; endl;\n}\n\nint main(int argc, char const *argv[]) {\npthread_t tids[NUM_THREADS];\nint indexes[NUM_THREADS]; //\u4fdd\u5b58i\u7684\u503c\u907f\u514d\u88ab\u4fee\u6539\ncout &lt;&lt; \"hello in main\" &lt;&lt; endl;\nfor (int i = 0; i &lt; NUM_THREADS; i++)\n{\nindexes[i] = i;\n// \u7ebf\u7a0b\u7684id\uff0c\u7ebf\u7a0b\u53c2\u6570\uff0c \u7ebf\u7a0b\u8fd0\u884c\u51fd\u6570\u7684\u8d77\u59cb\u5730\u5740\uff0c\u8fd0\u884c\u51fd\u6570\u7684\u53c2\u6570\nint ret = pthread_create(&amp;tids[i], NULL, say_hello, (void*)&amp;(indexes[i]));\n// &amp;i\u8868\u793a\u53d6i\u7684\u5730\u5740\uff0c\u5373\u6307\u5411i\u7684\u6307\u9488\n//cout &lt;&lt; \"current pthread id = \" &lt;&lt; tids[i] &lt;&lt; endl;\nif (ret!=0)\n{\ncout &lt;&lt; \"pthread_create error: error_code = \" &lt;&lt; ret &lt;&lt; endl;\n}\n}\n//pthread_exit(NULL);\nfor (int i = 0; i &lt; NUM_THREADS; i++)\npthread_join(tids[i], NULL); //\u7528\u4e8e\u7b49\u5f85\u4e00\u4e2a\u7ebf\u7a0b\u7684\u7ed3\u675f\nreturn 0;\n}\n</code></pre>"},{"location":"Cpp/#algorithms","title":"Algorithms","text":"<ul> <li>three ways for iterating combinations</li> </ul>"},{"location":"Cpp/#const","title":"const \u603b\u7ed3","text":"<p>ref</p>"},{"location":"Cpp/#new","title":"new","text":"<p>\u7533\u8bf7\u7a7a\u95f4\uff0c\u5e76\u6267\u884c\u76f8\u5e94\u7684\u6784\u9020\u51fd\u6570</p>"},{"location":"Cpp/#delete","title":"delete","text":"<p>\u6267\u884c\u6790\u6784\u51fd\u6570\uff0c\u5e76\u91ca\u653e\u7a7a\u95f4</p> <p>\u5f15\u7528\u7684\u672c\u8d28\u662f\u6307\u9488\u5e38\u91cf</p> <pre><code>const int m;\n//int* p = &amp;m;//wrong\nconst int* p = &amp;m;\nint *const pc = &amp;m; //\u5fc5\u987b\u521d\u59cb\u5316\uff0c\u5f15\u7528\u7684\u672c\u8d28\n</code></pre> <p>\u6784\u9020\u51fd\u6570\u6790\u6784\u51fd\u6570\u4f5c\u7528\u533a\u95f4</p> <pre><code>A a;\nA *ap;\nif (...)\n{\n    B b;\n    ...// B\u6790\u6784\n    ap = new A;\n}\n......// A\u6790\u6784\ndelete ap;\n</code></pre> <p>\u5148\u6267\u884c\u57fa\u7c7b\u6784\u9020\u51fd\u6570\uff0c\u518d\u6d3e\u751f\u7c7b\u6784\u9020\u51fd\u6570\uff1b \u5148\u6267\u884c\u6d3e\u751f\u7c7b\u6790\u6784\u51fd\u6570\uff0c\u518d\u6d3e\u751f\u57fa\u7c7b\u6790\u6784\u51fd\u6570\u3002</p>"},{"location":"Cpp/#_8","title":"\u51fd\u6570\u6a21\u677f\u548c\u6a21\u677f\u51fd\u6570","text":"<p>ref</p> <p>C++\u4e2d\uff0c\u51fd\u6570\u6a21\u677f\u4e0e\u540c\u540d\u7684\u975e\u6a21\u677f\u51fd\u6570\u91cd\u8f7d\u65f6\uff0c\u5e94\u9075\u5faa\u4e0b\u5217\u8c03\u7528\u539f\u5219\uff1a 1. \u5bfb\u627e\u4e00\u4e2a\u53c2\u6570\u5b8c\u5168\u5339\u914d\u7684\u51fd\u6570\uff0c\u82e5\u627e\u5230\u5c31\u8c03\u7528\u5b83\u3002\u82e5\u53c2\u6570\u5b8c\u5168\u5339\u914d\u7684\u51fd\u6570\u591a\u4e8e\u4e00\u4e2a\uff0c\u5219\u8fd9\u4e2a\u8c03\u7528\u662f\u4e00\u4e2a\u9519\u8bef\u7684\u8c03\u7528\u3002 2. \u5bfb\u627e\u4e00\u4e2a\u51fd\u6570\u6a21\u677f\uff0c\u82e5\u627e\u5230\u5c31\u5c06\u5176\u5b9e\u4f8b\u5316\u751f\u6210\u4e00\u4e2a\u5339\u914d\u7684\u6a21\u677f\u51fd\u6570\u5e76\u8c03\u7528\u5b83\u3002 3. \u82e5\u4e0a\u9762\u4e24\u6761\u90fd\u5931\u8d25\uff0c\u5219\u4f7f\u7528\u51fd\u6570\u91cd\u8f7d\u7684\u65b9\u6cd5\uff0c\u901a\u8fc7\u7c7b\u578b\u8f6c\u6362\u4ea7\u751f\u53c2\u6570\u5339\u914d\uff0c\u82e5\u627e\u5230\u5c31\u8c03\u7528\u5b83\u3002 4. \u82e5\u4e0a\u9762\u4e09\u6761\u90fd\u5931\u8d25\uff0c\u8fd8\u6ca1\u6709\u627e\u90fd\u5339\u914d\u7684\u51fd\u6570\uff0c\u5219\u8fd9\u4e2a\u8c03\u7528\u662f\u4e00\u4e2a\u9519\u8bef\u7684\u8c03\u7528\u3002</p>"},{"location":"Cpp/#_9","title":"\u521d\u59cb\u5316\u5217\u8868","text":"<p>ref</p>"},{"location":"Cpp/#extern","title":"extern","text":"<p>reference</p> <p>\u5728Rcpp\u4e2d\uff0cextern \u201cC\u201d \u544a\u8bc9\u7f16\u8bd1\u5668\uff0c\u4fdd\u6301\u5176\u540d\u79f0\uff0c\u4e0d\u8981\u751f\u6210\u7528\u4e8e\u94fe\u63a5\u7684\u4e2d\u95f4\u51fd\u6570\u540d\u3002</p>"},{"location":"Cpp/#symbol-lookup-error","title":"\u201csymbol lookup error\u201d","text":"<pre><code>./test: symbol lookup error: ./test: undefined symbol:\n</code></pre> <p>\u52a8\u6001\u94fe\u63a5\u5e93\u7684\u539f\u56e0\uff0c\u56e0\u4e3a\u66f4\u65b0\u5b8cgsl\u4e4b\u540e\uff0c\u539f\u5148\u7684\u52a8\u6001\u94fe\u63a5\u5e93\u4e0d\u7ba1\u7528\u4e86\uff0c\u53ef\u4ee5\u7528\u4e0b\u9762\u7684\u547d\u4ee4\u8ffd\u8e2a\u52a8\u6001\u94fe\u63a5\u5e93 <pre><code>ldd test\nldd -d -r test\n</code></pre></p> <p>\u53c2\u8003c++ runtime \u201csymbol lookup error\u201d </p>"},{"location":"Cpp/#_10","title":"\u5b57\u7b26\u6570\u7ec4\u4e0e\u6570\u5b57\u4e92\u6362","text":"<p>http://blog.csdn.net/sunquana/article/details/14645079</p>"},{"location":"Cpp/#_11","title":"\u5b57\u7b26\u6570\u5b57\u8f6c\u6570\u5b57","text":"<ol> <li>atoi</li> <li>atof</li> <li>atol</li> <li>strtod</li> <li>strtol</li> </ol>"},{"location":"Cpp/#_12","title":"\u6570\u5b57\u8f6c\u5b57\u7b26","text":"<p>sprintf</p>"},{"location":"Cpp/#c-correctly-freeing-memory-of-a-multi-dimensional-array","title":"C: Correctly freeing memory of a multi-dimensional array","text":"<p>https://stackoverflow.com/questions/1733881/c-correctly-freeing-memory-of-a-multi-dimensional-array</p>"},{"location":"Cpp/#pragma-unroll","title":"#pragma unroll\u7684\u7528\u6cd5","text":"<p>http://blog.csdn.net/fengzizhuang/article/details/9300431</p>"},{"location":"Cpp/#getting-std-ifstream-to-handle-lf-cr-and-crlf","title":"Getting std :: ifstream to handle LF, CR, and CRLF?","text":"<ol> <li> <p>https://stackoverflow.com/questions/6089231/getting-std-ifstream-to-handle-lf-cr-and-crlf</p> </li> <li> <p>https://stackoverflow.com/questions/9188126/c-strange-behavior-with-stdistream-or-sentry-wrap-around/9189541#9189541</p> </li> </ol> <pre><code>std::istream&amp; safeGetline(std::istream&amp; is, std::string&amp; t)\n{\n    t.clear();\n\n    // The characters in the stream are read one-by-one using a std::streambuf.\n    // That is faster than reading them one-by-one using the std::istream.\n    // Code that uses streambuf this way must be guarded by a sentry object.\n    // The sentry object performs various tasks,\n    // such as thread synchronization and updating the stream state.\n\n    std::istream::sentry se(is, true);\n    std::streambuf* sb = is.rdbuf();\n\n    for(;;) {\n        int c = sb-&gt;sbumpc();\n        switch (c) {\n        case '\\n':\n            return is;\n        case '\\r':\n            if(sb-&gt;sgetc() == '\\n')\n                sb-&gt;sbumpc();\n            return is;\n        case EOF:\n            // Also handle the case when the last line has no line ending\n            if(t.empty())\n                is.setstate(std::ios::eofbit);\n            return is;\n        default:\n            t += (char)c;\n        }\n    }\n}\n</code></pre> <p>\u4f7f\u7528\u8fd9\u4e2a\u4ee3\u7801\u6ce8\u610f\u4e00\u4e2a\u95ee\u9898 \u5e94\u8be5\u4f7f\u7528 <pre><code>while(!safeGetline(input, line).eof)\n</code></pre></p> <p>\u4e0d\u80fd\u7528 <pre><code>while(safeGetline(input, line))\n</code></pre></p>"},{"location":"Cpp/#fpic","title":"fPIC","text":"<p>\u53c2\u8003http://blog.sina.com.cn/s/blog_54f82cc201011op1.html</p>"},{"location":"Cpp/#c-publicprotectedprivate","title":"C++ public/protected/private","text":"<p>\u6df1\u5165\u7406\u89e3C++\u4e2dpublic\u3001protected\u53caprivate\u7528\u6cd5</p>"},{"location":"Cpp/#c","title":"C++\u6309\u884c\u8bfb\u53d6\u6587\u672c\u6587\u4ef6","text":"<p>C++\u6309\u884c\u8bfb\u53d6\u6587\u672c\u6587\u4ef6</p>"},{"location":"Cpp/#struct-","title":"struct\u2013\u6784\u9020\u51fd\u6570\u5bf9\u7ed3\u6784\u4f53\u521d\u59cb\u5316\u7684\u5f71\u54cd","text":"<p>struct\u2013\u6784\u9020\u51fd\u6570\u5bf9\u7ed3\u6784\u4f53\u521d\u59cb\u5316\u7684\u5f71\u54cd</p>"},{"location":"Cpp/#_13","title":"General","text":""},{"location":"Cpp/#c11-stdchrono","title":"C++11 std::chrono\u5e93\u8be6\u89e3","text":"<p>C++11 std::chrono\u5e93\u8be6\u89e3</p>"},{"location":"Cpp/#vectorerase","title":"vector::erase()\u65b9\u6cd5\u7684\u8be6\u7ec6\u4ecb\u7ecd\u53ca\u95ee\u9898\u89e3\u7b54","text":"<p>adapted from vector::erase()\u65b9\u6cd5\u7684\u8be6\u7ec6\u4ecb\u7ecd\u53ca\u95ee\u9898\u89e3\u7b54</p> <p>\u5f53\u8c03\u7528erase()\u540eIter\u8fed\u4ee3\u5668\u5c31\u5931\u6548\u4e86\uff0c\u53d8\u6210\u4e86\u4e00\u91ce\u6307\u9488\u3002\u2026 \u8981\u89e3\u51b3\u8c03\u7528erase()\u65b9\u6cd5\u540e\uff0cIter\u8fed\u4ee3\u5668\u53d8\u6210\u91ce\u6307\u9488\u7684\u95ee\u9898\uff0c\u8fd9\u4e2a\u65f6\u5019\u5462\u7ed9\u4ed6\u8d4b\u4e00\u4e2a\u65b0\u7684\u8fed\u4ee3\u5668\u7ed9\u4ed6\u3002</p> <pre><code>// ref: http://blog.sina.com.cn/s/blog_6377b8e60100ino6.html\n\n#include &lt;vector&gt;\n#include &lt;iostream&gt;\nusing namespace std;\n\nint main()\n{\nvector &lt;int&gt; v1;\nvector &lt;int&gt;::iterator Iter;\nv1.push_back( 10 );\nv1.push_back( 20 );\nv1.push_back( 30 );\nv1.push_back( 40 );\nv1.push_back( 50 );\ncout &lt;&lt; \"v1 =\" ;\nfor ( Iter = v1.begin( ) ; Iter != v1.end( ) ; Iter++ ) cout &lt;&lt; \" \" &lt;&lt; *Iter;\ncout &lt;&lt; endl;\nv1.erase( v1.begin( ) );\ncout &lt;&lt; \"v1 =\";\nfor ( Iter = v1.begin( ) ; Iter != v1.end( ) ; Iter++ ) cout &lt;&lt; \" \" &lt;&lt; *Iter;\ncout &lt;&lt; endl;\nv1.erase( v1.begin( ) + 1, v1.begin( ) + 3 );\ncout &lt;&lt; \"v1 =\";\nfor ( Iter = v1.begin( ) ; Iter != v1.end( ) ; Iter++ ) cout &lt;&lt; \" \" &lt;&lt; *Iter;\ncout &lt;&lt; endl;\n//\u5f53\u8c03\u7528erase()\u540eIter\u8fed\u4ee3\u5668\u5c31\u5931\u6548\u4e86\uff0c\u53d8\u6210\u4e86\u4e00\u91ce\u6307\u9488\u3002\n//\u6240\u4ee5\u8981\u5904\u7406\u8fd9\u79cd\u95ee\u9898\uff0c\u5173\u952e\u662f\u8981\u89e3\u51b3\u8c03\u7528erase()\u65b9\u6cd5\u540e\uff0cIter\u8fed\u4ee3\u5668\u53d8\u6210\u91ce\u6307\u9488\u7684\u95ee\u9898\uff0c\n//\u8fd9\u4e2a\u65f6\u5019\u5462\u7ed9\u4ed6\u8d4b\u4e00\u4e2a\u65b0\u7684\u8fed\u4ee3\u5668\u7ed9\u4ed6\u3002\nv1.push_back( 10 );\nv1.push_back( 30 );\nv1.push_back( 10 );\ncout &lt;&lt; \"v1 =\";\nfor ( Iter = v1.begin( ) ; Iter != v1.end( ) ; Iter++ ) cout &lt;&lt; \" \" &lt;&lt; *Iter;\ncout &lt;&lt; endl; for(Iter = v1.begin(); Iter != v1.end(); Iter++) { if(*Iter == 10) { v1.erase(Iter);\nIter = v1.begin(); //\u5f53erase\u540e\uff0c\u65e7\u7684\u5bb9\u5668\u4f1a\u88ab\u91cd\u65b0\u6574\u7406\u6210\u4e00\u4e2a\u65b0\u7684\u5bb9\u5668\n// or\n// Iter = v1.erase(Iter);\n}\nif (Iter == v1.end())\nbreak;\n}\n\ncout &lt;&lt; \"v1 =\";\nfor ( Iter = v1.begin( ) ; Iter != v1.end( ) ; Iter++ ) cout &lt;&lt; \" \" &lt;&lt; *Iter;\ncout &lt;&lt; endl; // another one\nv1.erase(v1.begin()+1);\ncout &lt;&lt; \"v1 =\";\nfor ( Iter = v1.begin( ) ; Iter != v1.end( ) ; Iter++ ) cout &lt;&lt; \" \" &lt;&lt; *Iter;\ncout &lt;&lt; endl; return 0;\n\n}\n</code></pre>"},{"location":"Cpp/#onlogn","title":"\u6700\u957f\u9012\u589e\u5b50\u5e8f\u5217 O(NlogN)\u7b97\u6cd5","text":"<p>\u6700\u957f\u9012\u589e\u5b50\u5e8f\u5217 O(NlogN)\u7b97\u6cd5 </p>"},{"location":"Cpp/#crealloc","title":"c\u8bed\u8a00\u4e2drealloc()\u51fd\u6570\u89e3\u6790","text":"<p>c\u8bed\u8a00\u4e2drealloc()\u51fd\u6570\u89e3\u6790</p>"},{"location":"Cpp/#c_1","title":"C\u8bed\u8a00\u7ed3\u6784\u4f53\u91cc\u7684\u6210\u5458\u6570\u7ec4\u548c\u6307\u9488(\u5173\u4e8e\u96f6\u6570\u7ec4)","text":"<p>C\u8bed\u8a00\u7ed3\u6784\u4f53\u91cc\u7684\u6210\u5458\u6570\u7ec4\u548c\u6307\u9488(\u5173\u4e8e\u96f6\u6570\u7ec4)</p>"},{"location":"Cpp/#c_2","title":"C\u8bed\u8a00\uff1a\u6570\u7ec4\u548c\u6307\u9488\u7684\u533a\u522b","text":"<p>C\u8bed\u8a00\uff1a\u6570\u7ec4\u548c\u6307\u9488\u7684\u533a\u522b</p>"},{"location":"Cpp/#1017-the-best-peak-shape-35","title":"1017. The Best Peak Shape (35)","text":"<p>1017. The Best Peak Shape (35)</p>"},{"location":"Cpp/#error-stod-was-not-declared-in-this-scope","title":"error: \u2018stod\u2019 was not declared in this scope","text":"<p>error: \u2018stod\u2019 was not declared in this scope</p>"},{"location":"Cpp/#_14","title":"\u5206\u8bcd","text":"<p>\u53c2\u8003The Porter Stemming Algorithm</p>"},{"location":"Cpp/#cstring","title":"C++\u4e2dString\u7c7b\u7684\u5b57\u7b26\u4e32\u5206\u5272\u5b9e\u73b0","text":"<p>\u53c2\u8003C++\u4e2dString\u7c7b\u7684\u5b57\u7b26\u4e32\u5206\u5272\u5b9e\u73b0</p>"},{"location":"Cpp/#typeinfoh","title":"typeinfo.h","text":"<p>\u53c2\u8003C++: typeinfo.h</p>"},{"location":"Cpp/#exit0-exit1return","title":"exit(0), exit(1)\u548creturn\u7684\u533a\u522b","text":"<p>\u53c2\u8003exit\uff080\uff09\u4e0eexit\uff081\uff09\u3001return\u533a\u522b - ITtecman - \u535a\u5ba2\u56ed</p> <ul> <li>exit(0): \u6b63\u5e38\u8fd0\u884c\u7a0b\u5e8f\u5e76\u9000\u51fa\u7a0b\u5e8f</li> <li>exit(1): \u975e\u6b63\u5e38\u8fd0\u884c\u5bfc\u81f4\u9000\u51fa\u7a0b\u5e8f</li> <li>return: \u8fd4\u56de\u51fd\u6570</li> </ul>"},{"location":"Cpp/#_15","title":"\u547d\u4ee4\u884c\u53c2\u6570\u7684\u4f20\u5165","text":"<p>\u7533\u660e <code>main</code> \u51fd\u6570\u5982\u4e0b</p> <pre><code>int main( int argc, char *argv[] );\nint main( int argc, char **argv );\n</code></pre> <p>\u5176\u4e2d <code>argc</code> \u53c2\u6570\u5305\u542b\u53c2\u6570\u7684\u8ba1\u6570\u503c\uff0c\u800c <code>argv</code> \u5305\u542b\u6307\u5411\u8fd9\u4e9b\u53c2\u6570\u7684\u6307\u9488\u6570\u7ec4\uff0c\u4e14\u7b2c\u4e00\u4e2a\u53c2\u6570\u4e3a\u7a0b\u5e8f\u540d\u3002\u6bd4\u5982\u8fd9\u91cc\uff0c</p> <pre><code>size_t order = atoi(argv[1]);\n</code></pre> <p>\u5bf9\u4e8e\u547d\u4ee4\u884c\u7684\u5904\u7406\uff0c\u53ef\u4ee5\u91c7\u7528 <code>getopt()</code> \u6216\u8005 <code>getopt_long()</code>.</p> <p>\u53c2\u8003\u4f7f\u7528 getopt() \u8fdb\u884c\u547d\u4ee4\u884c\u5904\u7406</p>"},{"location":"Cpp/#variably-modeified-type-in-c-language","title":"variably modeified type in C language","text":"<p>\u53c2\u8003Variably modified type in C language - Stack Overflow</p>"},{"location":"Cpp/#write-into-file-immediately","title":"write into file immediately","text":"<pre><code>fprintf(fileptr, \"writing to file\\n\");\nfflush(fileptr);\n</code></pre> <p>How to make fprintf() writes immediately</p> <p>or refer to</p> <p>Linux\u5b9e\u65f6\u5c06\u6240\u6709\u8f93\u51fa\u91cd\u5b9a\u5411\u5230\u6587\u4ef6</p>"},{"location":"Cpp/#map","title":"Map","text":"<ul> <li><code>find</code> returns an iterator, so if the key does not exist it returns an end iterator. </li> </ul> <pre><code>std::map&lt;int, int&gt; some_map;\nif (some_map.find(10) != some_map.end())\n{\n// key exists\n}\nelse\n{\n// key does not exist\n}\n</code></pre>"},{"location":"Cpp/Qt/","title":"Qt","text":"<p>Info</p> <p>A Project based on Qt with Partners. gobang <pre><code>~/OneDrive/ZJU_courses/201703 Course/OOP/build-Gobang-Desktop_Qt_5_8_0_GCC_64bit-Debug$ ./Gobang </code></pre> </p> <ul> <li>\u5b89\u88c5: https://wiki.qt.io/Install_Qt_5_on_Ubuntu</li> <li>slot: http://blog.chinaunix.net/uid-9787967-id-1988915.html</li> <li>menu: http://www.cnblogs.com/shiyumiao/p/5208210.html</li> <li>Qt \u5b66\u4e60\u4e4b\u8def 2\uff0817\uff09\uff1a\u6587\u4ef6\u5bf9\u8bdd\u6846</li> <li>QTextstream \u8be6\u89e3</li> </ul>"},{"location":"Cpp/math/","title":"\u5173\u4e8e-lm","text":"<p>\u5f53\u91c7\u7528gcc\u7f16\u8bd1c\u6587\u4ef6\u65f6\uff0c\u4e00\u5b9a\u8981\u52a0\u4e0a-lm</p> <p>\u5f53\u91c7\u7528g++\u7f16\u8bd1cpp\u6587\u4ef6\u65f6\uff0c\u53ef\u4e0d\u7528\u52a0\u4e0a-lm</p> <p></p>"},{"location":"Cpp/struct/","title":"struct","text":""},{"location":"Cpp/struct/#conclusion","title":"Conclusion","text":"<p>\u5982\u679c\u4e00\u4e2a\u7ed3\u6784\u4f53\u5b9a\u4e49\u4e86\u6784\u9020\u51fd\u6570\uff0c\u90a3\u4e48\u4e0d\u80fd\u518d\u5728\u5b9a\u4e49\u4e00\u4e2a\u7ed3\u6784\u4f53\u53d8\u91cf\u7684\u540c\u65f6\u5bf9\u5176\u8fdb\u884c\u521d\u59cb\u5316.\u5fc5\u987b\u5148\u5b9a\u4e49\uff0c\u518d\u521d\u59cb\u5316\u3002\u5982\u679c\u6ca1\u6709\u6784\u9020\u51fd\u6570\u5219\u4e24\u79cd\u90fd\u884c</p>"},{"location":"Cpp/struct/#reference","title":"Reference","text":"<p>\u6784\u9020\u51fd\u6570\u5bf9\u7ed3\u6784\u4f53\u521d\u59cb\u5316\u7684\u5f71\u54cd</p>"},{"location":"Cpp/typedef/","title":"typedef","text":"<p>c_typedef</p>"},{"location":"English/","title":"English","text":""},{"location":"English/#202303","title":"2023.03","text":"<ul> <li>The Times Editorial: \u6cf0\u6664\u58eb\u62a5\u793e\u8bba</li> <li>We prefer to take our chance of cholera and the rest than be bullied into health.</li> <li>dungheap: \u7caa\u5806</li> <li>his thatch (\u8305\u8349\u5c4b\u9876) forced to give way for slate (\u77f3\u677f\uff0c\u677f\u5ca9)</li> <li>as much from the irritation (\u523a\u6fc0\u7269\uff1b\u6124\u6012) to the nerves as from the exposure of the cuticle (\u8868\u76ae\uff0c\u89d2\u8d28\u5c42).</li> </ul>"},{"location":"English/#202302","title":"2023.02","text":"<ul> <li>An epitope, also known as antigenic determinant, is the part of an antigen that is recognized by the immune system, specifically by antibodies, B cells or T cells.</li> <li>Neoepitopes are a class of major histocompatibility complex (MHC) bounded peptides. They represent the antogenic determinant of neoantigens.</li> <li>legendary: \u975e\u5e38\u8457\u540d\u7684\uff0c\u4eab\u6709\u76db\u540d\u7684\uff0c\u4f20\u5947\u7684</li> <li>learn how radiocarbon (\u653e\u5c04\u6027\u78b3) dating is spotting art forgeries (\u4f2a\u9020\uff0c\u8d5d\u54c1)</li> <li>pellet gun: \u5f39\u4e38\u67aa\uff0c\u9730\u5f39\u67aa</li> <li>advocacy: \u652f\u6301\uff1b\uff08\u5f8b\u5e08\uff09\u51fa\u5ead\u8fa9\u62a4</li> <li>stakeholder: \u5229\u76ca\u76f8\u5173\u8005</li> <li>diligent: \u5b5c\u5b5c\u4e0d\u5026\u7684\uff0c\u52e4\u52c9\u7684</li> <li>Servier: </li> </ul>"},{"location":"English/#202301","title":"2023.01","text":"<ul> <li>plasma: \u8840\u6d46</li> <li>Interstitial Lung Disease (ILD)</li> <li>stringent: \u4e25\u683c\u7684\uff0c\u4e25\u5389\u7684</li> <li>strand: \u7f15</li> <li>Heterozygosity: \u6742\u5408\u6027</li> <li>phosphorylated: \u78f7\u9178\u5316\u7684</li> <li>apoptosis: \u7ec6\u80de\u51cb\u4ea1</li> <li>organelle (\u7ec6\u80de\u5668): mitochondrion (\u7ebf\u7c92\u4f53)\u3001chloroplast (\u53f6\u7eff\u4f53)\u3001peroxisome (\u8fc7\u6c27\u5316\u7269\u9176\u4f53)\u3001apicoplast (\u8d28\u4f53\u6837\u7ec6\u80de\u5668)</li> <li>spillover: \u5916\u6ea2\u6027\uff0c\u5f71\u54cd</li> <li>intimacy: \u4eb2\u5bc6\uff1b\u5bc6\u5207\uff1b\u5173\u7cfb\u5bc6\u5207</li> </ul>"},{"location":"English/#202212","title":"2022.12","text":"<ul> <li>wormhole inside a quantum computer: the surprise is not that message made it across in some form, but that it made it across unscrambled (\u4f7f\u3010\u4fe1\u606f\u3001\u4fe1\u53f7\u3011\u8fd8\u539f\uff1b\u8bd1\u51fa\u3010\u5bc6\u7801\u3011\uff1b\u89e3\u7801\uff0c\u6574\u7406).</li> <li>contemporaneous: \u540c\u65f6\u53d1\u751f\uff08\u6216\u5b58\u5728\uff09\u7684\uff1b\u540c\u65f6\u671f\u7684\uff1b\u540c\u65f6\u4ee3\u7684</li> <li>investigational new drug (IND): \u65b0\u836f\u4e34\u5e8a</li> <li>Squinting (\u659c\u89c6\uff0c\u772f\u7740\u773c\u955c\u770b) at a graph is fine for getting a rough idea of the answer, but if you want to pretend to know it exactly, you need statistics. </li> <li>Plurals of acronyms, letters, numbers \u2014 use an apostrophe (\u6487\u53f7) or not? </li> <li>gaze estimation: \u89c6\u7ebf\u4f30\u8ba1</li> <li>rotor:\uff08\u673a\u5668\u7684\uff09\u8f6c\u5b50</li> </ul>"},{"location":"English/#202211","title":"2022.11","text":"<ul> <li>monetization: \u8d27\u5e01\u5316</li> <li>atrial fibrillation (Afib): \u5fc3\u623f\u98a4\u52a8\uff0c\u623f\u98a4 </li> <li>American Thoracic Society (ATS): \u7f8e\u56fd\u80f8\u8154\u5b66\u4f1a </li> <li>Coronary artery disease (CAD): \u51a0\u72b6\u52a8\u8109\u75be\u75c5</li> <li>plethora: \u8fc7\u591a\uff0c\u8fc7\u91cf\uff0c\u8fc7\u5269</li> <li>signal transduction (\u4f20\u5bfc)</li> <li>frugality: \u8282\u4fed\uff0c\u4fed\u6734</li> </ul>"},{"location":"English/#202210","title":"2022.10","text":"<ul> <li>Primary Biliary Cirrhosis: \u539f\u53d1\u6027\u80c6\u6c41\u6027\u80c6\u7ba1\u708e</li> <li>prothrobin: \u51dd\u8840\u9176\u539f</li> <li>olfactory bulb: \u55c5\u7403\uff0c\u55c5\u89c9\u4e2d\u5fc3</li> <li>dendrogram: \u6811\u5f62\u56fe</li> <li>Peabody (\u4e54\u6cbb\u00b7\u76ae\u535a\u8fea\uff0c\u7f8e\u56fd\u4f01\u4e1a\u5bb6\u548c\u6148\u5584\u5bb6) Museum</li> <li>GNNs subsume (\u5c06\u2026\u2026\u7eb3\u5165) CNNs and Transformers</li> <li>scrutinize (\u4ed4\u7ec6\u67e5\u770b\uff0c\u8ba4\u771f\u68c0\u67e5) loss function!</li> <li>next week vs the next (following) week: </li> <li>evacuate: \u64a4\u79bb\uff0c\u6392\u7a7a</li> <li>a unitary (\u96c6\u4e2d\u7684\uff0c\u4e2d\u592e\u96c6\u6743\u7684) government where no power was devolved to states or provinces.</li> <li>Procter &amp; Gamble (P &amp; G): \u5b9d\u6d01</li> <li>mass spectrometry: \u8d28\u8c31\u5206\u6790\u6cd5</li> <li>Mass incarceration (\u76d1\u7981\uff0c\u76d1\u72f1) is shorthand for the fact that the U.S. incarcerates more people than any nation in the world, including China.</li> <li>diversification: \u591a\u6837\u5316</li> <li>kidney renal clear cell carcinoma (\u764c): \u80be\u900f\u660e\u7ec6\u80de\u764c</li> <li>A protein isoform, or protein variant, is a member of a set of highly similar proteins that originate from a single gene or gene family and are the result of genetic differences.</li> </ul>"},{"location":"English/#202209","title":"2022.09","text":"<ul> <li>bilirubin: \u80c6\u7ea2\u7d20</li> <li>frailty: \u865a\u5f31\uff0c\u8870\u5f31</li> <li>hefty (\u5927\u800c\u91cd\u7684\uff0c\u5f88\u5927\u7684\uff0c\u53ef\u89c2\u7684) vocabulary: </li> <li>stifle: \u627c\u6740\uff0c\u6291\u5236\uff0c\u963b\u6b62</li> <li>tailgating: \u5c3e\u968f\uff0c\u8ffd\u5c3e</li> <li>malware: \u6076\u610f\u8f6f\u4ef6</li> <li>prophylactic: \u9884\u9632\u75be\u75c5\u7684</li> <li>swelling: \u81a8\u80c0\uff0c\u80bf\u80c0</li> <li>veterinary: \u517d\u533b\u7684</li> <li>pharmacovigilance: \u836f\u7269\u8b66\u6212\u7cfb\u7edf\uff0c\u836f\u7269\u4e3b\u52a8\u76d1\u89c6</li> <li>pharma: \u533b\u836f\uff08pharmaceuticals\uff09</li> <li>untoward: \u5f02\u5e38\u7684\uff0c\u610f\u5916\u7684</li> <li>dizzy: \u5934\u6655\u76ee\u7729\u7684</li> <li>acne: \u75e4\u75ae\uff0c\u7c89\u523a</li> <li>counterfeit: \u5047\u5192\uff0c\u4eff\u9020\u7684</li> <li>blister pack (\u3010\u836f\u54c1\u7b49\u7684\u3011\u5438\u5851\u5305\u88c5), tablet, syrup (\u7cd6\u6c34), ampule (\u5b89\u74ff)</li> <li>rash: \u76ae\u75b9</li> <li>breastfeed: \u7528\u6bcd\u4e73\u5582\u517b</li> <li> <p>meeting minute: \u4f1a\u8bae\u8bb0\u5f55</p> </li> <li> <p>opioid: \u9e26\u7247\u7c7b\u836f\u7269</p> </li> <li> <p>sexual assault (\u6027\u4fb5\u72af) is any kind of nonconsensual contact, including rape, groping (\u7528\u624b\u6478\u7d22), or any other form of nonconsensual sexual touching.</p> </li> <li>sexual harassment: \u6027\u9a9a\u6270</li> <li>Stalking (\u8ddf\u8e2a\u7f6a) is repeated or obsessive unwanted attention directed toward an individual or group that is likely to cause alarm, fear, or substantial emotional distress.</li> <li>hostile (\u654c\u610f\u7684\uff0c\u654c\u5bf9\u7684\uff0c\u4e0d\u53cb\u597d\u7684) work environment</li> <li>subordinate: \u4e0b\u7ea7\uff0c\u90e8\u5c5e</li> <li>abusive: \u8fb1\u9a82\u7684\uff0c\u6076\u8bed\u7684\uff0c\u6bc1\u8c24\u7684</li> <li>yelling (\u5927\u558a\uff0c\u558a\u53eb) at a coworker in front of others when they made a mistake</li> <li> <p>retaliation: \u62a5\u590d</p> </li> <li> <p>RSVP is an initialism derived from a French phrase, literally meaning \u201cRespond, if you please\u201d.</p> </li> <li> <p>accommodating: \u4e50\u4e8e\u52a9\u4eba\u7684\uff0c\u4e0e\u4eba\u65b9\u4fbf\u7684</p> </li> <li>we hear from a US scientist falsely accused of hiding ties to China: \u88ab\u8bec\u544a\u9690\u7792\u4e0e\u4e2d\u56fd\u7684\u5173\u7cfb</li> <li> <p>testimonial: \u8bc1\u660e\u4fe1\uff0c\u4ecb\u7ecd\u4fe1\uff0c\u63a8\u8350\u4fe1</p> </li> <li> <p>I appreciate your trying to be proactive (\u79ef\u6781\u4e3b\u52a8\u7684\uff0c\u4e3b\u52a8\u51fa\u51fb\u7684) about completing the onboarding paperwork.</p> </li> <li> <p>coaxial cables: \u540c\u8f74\u7535\u7f06</p> </li> <li> <p>The order is rescinded (\u64a4\u9500\uff0c\u5220\u9664).</p> </li> <li> <p>rigmarole: \u4e71\u4e03\u516b\u7cdf\u7684\uff0c\u65e0\u804a\u7684</p> </li> </ul>"},{"location":"English/#202208","title":"2022.08","text":"<ul> <li>Rent and electric may not comingle.</li> <li>addendum: \u9644\u5f55</li> <li>force majeure: \u4e0d\u53ef\u6297\u62d2</li> <li>indemnify: \u8d54\u507f</li> <li>lead-based paint: \u542b\u94c5\u6cb9\u6f06</li> <li>Byzantine: \u62dc\u5360\u5ead\u5f0f\u7684\uff0c\u590d\u6742\u795e\u79d8\u800c\u6b7b\u677f\u7684\uff0c</li> <li>\u201cThe Loyal American Underground\u201d, some of the proud, defiant (boldly challenging, \u6311\u8845\u7684\uff0c\u76ee\u4e2d\u65e0\u4eba\u7684\uff0c\u6311\u6218\u7684) members called themselves.</li> <li>A big flaw is that it entirely abdicates (\u9000\u4f4d\uff0c\u8ba9\u4f4d\uff0c\u8f9e\u804c) the responsibility of defining intelligence and how to evaluate it, which is precisely the value of creating a test.</li> <li>a vacuum (\u771f\u7a7a\u7684) tube (\u7ba1\uff1b\u9053) computer developed for the U.S. Navy (\u6d77\u519b)</li> <li>lounge: \u4f11\u606f\u5ba4\uff0c\u9152\u5427</li> <li>Those with narcissistic (\u81ea\u604b\u7684) traits pose a particular threat to companies.</li> <li>narcissist: \u81ea\u604b\u72c2</li> <li>Much scientific endeavour (\u52aa\u529b\uff0c\u5c1d\u8bd5) of the past amounted to wasted effort, in fields with absolutely no yield of true scientific information.</li> <li>tertiary institution: \u9ad8\u7b49\u6559\u80b2\u673a\u6784</li> <li>\u201cAll Fandom (\u8fd0\u52a8\u8ff7\uff0c\u5f71\u8ff7) was Plunged into War\u201d describes a major conflagration (\u7a81\u53d1\uff0c\u51b2\u7a81) of fannish disharmony, in which many feuding fans take sides, friends may stop speaking to each other, fen may gafiate (an initialism for Get Away From It All), and bad feelings go on for years. , </li> <li>When you pitch a potential problem to your adviser you will either see their face contort, their eyes rolling (\u6eda\u52a8), and their attention drift (\u6f02\u79fb), or you\u2019ll sense the excitement in their eyes as they contemplate the uncharted (\u964c\u751f\u7684\uff0c\u4eba\u8ff9\u7f55\u81f3\u7684) territory ripe (\u6210\u719f\u7684) for exploration.</li> <li>digital forensics: \u7535\u5b50\u53d6\u8bc1</li> <li>Cavitation for Cold Brew (\u915d\u917f\uff0c\u917f\u5236) Espresso: Cavitation (\u7a7a\u8680\uff0c\u7a7a\u7a74) is caused by the movement of water being so quick that the pressure drops and then the water vaporizes. For coffee, the theory is that cavitation makes extraction easier. , </li> <li>eugenics: \u57fa\u56e0\u4f18\u751f\u5b66</li> <li>a blazingly (with or like a blaze; bright and fiery) fast solution </li> <li>tricks that wow (\u535a\u5f97\u79f0\u8d5e) you</li> <li>snap out (\u5feb\u901f\u8131\u79bb) of a data science slump (\u4f4e\u8ff7)</li> <li>Dunder or magic methods in Python are the methods having two prefix and suffix underscores in the method name. </li> <li>In any phase of your career, you need to have your niche (\u3010\u8212\u9002\u6216\u79f0\u5fc3\u7684\u5de5\u4f5c\u3011\uff0c\u5e02\u573a\u5b9a\u4f4d) or \u201cyour field\u201d. </li> <li>Jeep Wrangler: \u5409\u666e\u7267\u9a6c\u4eba</li> <li>It is just terrific (\u6781\u597d\u7684\uff0c\u7edd\u5999\u7684) for showing how easy extensibility is in Julia.</li> <li>I found myself attending to emails while the speaker was still enthusiastically discussing the slides, quite oblivious (\u4e0d\u77e5\u9053\uff0c\u672a\u5bdf\u89c9) to what was going on \u2014 and perhaps unaware of my presence in the first place.</li> <li>consolidate (\u5de9\u56fa\uff0c\u5408\u5e76) your knowledge</li> <li>Researchers found that the nocebo (\u53cd\u5b89\u6170\u5242) effect accounted for 76% of common adverse (\u4e0d\u5229\u7684\uff0c\u6709\u5bb3\u7684\uff0c\u53cd\u9762\u7684) reactions, such as headache and fatigue (\u75b2\u52b3\uff0c), after the first dose.</li> <li>a kind, thoughtful, and charming (\u82f1\u4fca\u7684\uff0c\u6f47\u6d12\u7684\uff0c\u6709\u9b45\u529b\u7684) person.</li> <li>derby (\u5fb7\u6bd4\uff0c\u540c\u57ce\u5927\u6218): a sports match between two rival (\u7ade\u4e89\u7684) teams from the same area.</li> <li>The Reverend (\u7267\u5e08) Bayes \u2014 was he really a prophet (\u9884\u8a00\u5bb6)?</li> <li>Coronavirus made a big mistake invading (\u4fb5\u7565) the greatest goddamn country on earth.</li> <li>Omicron is supercharging (\u589e\u52a0\u8d1f\u8377) the COVID vaccine booster debate.</li> <li>puff piece: A journalistic (\u65b0\u95fb\u4e1a\u7684) form of puffery (\u5439\u5618); an article or story of exaggerating praise that often ignores or downplays opposing viewpoints or evidence to the contrary.</li> <li>Don\u2019t try to blow the audiences away (to surprise or please someone very much), it\u2019s enough to just present what you did. If it\u2019s good stuff, it can stand up unadorned (\u4e0d\u52a0\u88c5\u9970\u7684\uff0c\u7b80\u6734\u7684) and a discerning (\u6709\u773c\u529b\u7684\uff0c\u773c\u5149\u654f\u9510\u7684) audience will realize its importance. And if it\u2019s not good stuff, you shouldn\u2019t be wasting people\u2019s time on it anyway. </li> <li>inhale a bunch of oxygen and exhale (\u547c\u51fa) a bunch of carbon dioxide</li> <li>A sequence of apologies from the company highest officers that did not seem to pacify (\u5e73\u606f\uff0c\u629a\u6170) anyone.</li> <li>pacifier: \u5b89\u629a\u5976\u5634</li> <li>despair (\u7edd\u671b) and hope</li> </ul>"},{"location":"English/#202207","title":"2022.07","text":"<ul> <li>prolifically (\u591a\u4ea7\u5730) productive</li> <li>perjury: \u4f2a\u8bc1</li> <li>the famous Box\u2019s aphorism (\u683c\u8a00\uff0c\u8b66\u53e5): \u201cAll models are wrong but some are useful\u201d.</li> <li>In today\u2019s tech-driven world, it\u2019s imperative (\u8feb\u5207\u7684) to know how to handle data.</li> <li>holistically</li> <li>holistic approach: \u6574\u4f53\u5206\u6790\uff0c\u6574\u4f53\u7814\u7a76</li> <li>Could anyone help me solve this problem, or at least steer (\u5efa\u8bae\uff0c\u529d\u544a) me in the right direction?</li> <li>This can be done by exporting the video to a raw bitstream format and muxing to a container while creating new timestamps. </li> </ul>"},{"location":"English/#202206","title":"2022.06","text":"<ul> <li>position of adverbs and adverb phrases<ul> <li>mid position between the subject and the main verb:<ul> <li>Apples always taste best when you pick them straight off the tree.</li> </ul> </li> <li>when there is more than one verb, mid position means after the first auxiliary verb or after a modal verb:<ul> <li>The government has occasionally been forced to change its mind. (after the first auxiliary verb)</li> <li>You can definitely never predict what will happen. (after a modal verb)</li> <li>We mightn\u2019t ever have met. (after the modal verb and before the auxiliary verb)</li> </ul> </li> <li>Adverbs usually come after the main verb be, except in emphatic clauses<ul> <li>She\u2019s always late for everything.</li> </ul> </li> <li>When be is emphasised, the adverb comes before the verb<ul> <li>I never was a fan of hers.</li> </ul> </li> </ul> </li> <li>English writing often uses slashes to form two-letter abbreviations , such as<ul> <li>I/O: \u201cinput/output\u201d</li> <li>w/: \u201cwith\u201d</li> <li>c/o: \u201ccare of\u201d</li> <li>A/C: \u201cair conditioning\u201d</li> <li>w/o: \u201cwithout\u201d</li> <li>R/C: \u201cremote control\u201d</li> <li>b/c: \u201cbecause\u201d</li> </ul> </li> <li>paleoclimatology: \u53e4\u6c14\u5019\u5b66\uff0c\u7814\u7a76\u53e4\u5730\u8d28\u65f6\u4ee3\u6c14\u5019\u7684\u79d1\u5b66</li> <li>paleontologist: \u53e4\u751f\u7269\u5b66\u8005</li> </ul>"},{"location":"English/#202205","title":"2022.05","text":"<ul> <li>posthumous paper: \u4f5c\u8005\u6b7b\u540e\u51fa\u7248\u7684</li> </ul>"},{"location":"English/#202204","title":"2022.04","text":"<ul> <li>the more we lament how our nutritious recipes are increasingly being ignored, the more fast food is being produced, consumed and even celebrated as the cuisine of a coming age.</li> <li>culinary</li> <li>cynical (\u6124\u4e16\u5ac9\u4fd7\u7684\uff0c\u60b2\u89c2\u7684\uff0c\u6000\u7591\u7684)</li> <li>how to reduce the harm without unduly (\u8fc7\u5ea6\u5730\uff0c\u4e0d\u6070\u5f53\u5730) affecting their appeal</li> </ul>"},{"location":"English/#202203","title":"2022.03","text":"<ul> <li>apropos: \u9002\u5f53\u7684\uff0c\u6070\u597d</li> <li>fiducial: \u57fa\u51c6\u7684\uff0c\u6709\u4fe1\u4ef0\u7684</li> <li>scornful (\u8f7b\u8511\u7684) critics</li> <li>preordain: \u9884\u5148\u89c4\u5b9a\uff0c\u6ce8\u5b9a</li> </ul>"},{"location":"English/#202202","title":"2022.02","text":"<ul> <li>We expect that people who have a compelling (\u4e0d\u53ef\u6297\u62d2\u7684\uff0c\u975e\u5e38\u5f3a\u70c8\u7684) reason to need to stay will be able to explain their reasons to their hostel.</li> <li>brochure: \u8d44\u6599\uff08\u6216\u5e7f\u544a\uff09\u624b\u518c</li> </ul>"},{"location":"English/#202201","title":"2022.01","text":"<ul> <li>The laws are draconian (\u975e\u5e38\u4e25\u5389\u7684\uff0c\u975e\u5e38\u4e25\u9177\u7684).</li> <li>You\u2019d rather scrub (\u64e6\u6d17) toilets than teach your daughter?</li> <li>data sleuthing (\u6570\u636e\u4fa6\u67e5)</li> <li>it is attempting to ask whether\u2026</li> <li>filamentary: \u4e1d\u72b6\u7684</li> <li>Suffering is a perfectly natural part of getting a neural network to work well, but it can be mitigated (\u4f7f\u7f13\u548c\uff0c\u4f7f\u51cf\u8f7b) by being thorough, defensive, paranoid (\u5984\u60f3\u72c2\uff0c\u504f\u6267\u72c2), and obsessed (\u7740\u8ff7\u7684) with visualizations of basically every possible thing.</li> <li>The coefficients of x^3 is positive, so indeed the function has to blow up (\u653e\u5927\uff0c\u7206\u70b8) to infinity once x is big enough.</li> <li>Every mammal on this plant instinctively (\u672c\u80fd\u5730) develops a natural equilibrium with the surrounding environment.</li> <li>admiral: \u6d77\u519b\u4e0a\u5c06</li> </ul>"},{"location":"English/#202112","title":"2021.12","text":"<ul> <li>The insurer would now consider the extra expenses related to trip curtailment (\u7f29\u51cf\uff0c\u51cf\u5c11) and cancellation arising from COVID-19.</li> <li>Lint, or a linter, is a static code analysis tool used to flag programming errors, bugs, stylistic errors and suspicious constructs. </li> <li>obituary: \u8ba3\u544a</li> <li>imposter: \u4f2a\u88c5\u8005\uff0c\u9a97\u5b50</li> <li>Study linking vaping (\u7535\u5b50\u70df) to heart attacks muddied amid spat (\u4e89\u5435) between two tobacco researchers.</li> <li>take adorable (\u4ee4\u4eba\u559c\u7231\u7684) pictures with doggies.</li> <li>hypnagogia: \u534a\u68a6\u534a\u9192</li> <li>It seemed a bit farfetched (\u5f3a\u8bcd\u593a\u7406) to me but not impossible.</li> <li>A healthy mental state is always about moderation and balance: be prudent (\u8c28\u614e\u7684) but not frightened.</li> <li>Climate change is worsening heat waves, making them more frequent, longer, and hotter. It\u2019s amplifying drought and intensifying (\u52a0\u5267\uff0c\u589e\u5f3a) wildfires.</li> <li>Bonus-Malus (\u5956\u60e9\u673a\u5236) System (BMS)</li> <li>Piano Recital (\u97f3\u4e50\u6f14\u594f\u4f1a)</li> <li>if you are planning to travel over the winter recess (\u5bd2\u5047), you must monitor all COVID-19 updates.</li> <li>Vice-Chancellor and President: \u6821\u957f</li> <li>Provost: \u5e38\u52a1\u526f\u6821\u957f</li> <li>Among his colleagues Arthur was also revered for his integrity (\u8bda\u5b9e\u6b63\u76f4), geniality (\u548c\u853c\u4eb2\u5207), incisiveness, and an unending passion for statistics.<ul> <li>data integrity (\u5b8c\u6574)</li> </ul> </li> </ul>"},{"location":"English/#202111","title":"2021.11","text":"<ul> <li>In countries where average incomes and ages are lowest, the response to the coronavirus has ushered (\u5f15\u5bfc\uff0c\u5f15\u9886) in \u201ca shadow pandemic\u201d.</li> <li>ferreting out (\u641c\u51fa\uff0c\u67e5\u83b7) a few frauds.</li> <li>apsara: \u98de\u5929\uff1b\u98de\u5929\u4ed9\u5973</li> <li>chinked out: \u534e\u4eba\u563b\u54c8</li> <li>Larry played basketball at Cal Tech, first on the freshman team and then three years on the varsity (\u6821\u961f).</li> <li>The fantasy (\u5e7b\u60f3) companies say their daily games are not gambling, contending (\u575a\u51b3\u4e3b\u5f20) that the games involve more skill than luck.</li> <li>bon ([\u6cd5]\u597d\u7684) voyage (\u822a\u884c\uff0c\u822a\u7a0b): \u4e00\u8def\u5e73\u5b89</li> <li>Harvard Stadium is a U-shaped college football stadium (\u9732\u5929\u5927\u578b\u4f53\u80b2\u573a).</li> <li>A torta (\u58a8\u897f\u54e5\u4e09\u660e\u6cbb) is a Mexican sandwich. Imagine that a sandwich and a taco (\u58a8\u897f\u54e5\u714e\u7389\u7c73\u7c89\u5377) got married and had a kid. That kid would be named Torta.</li> <li>invite the members of last two graduating classes back to campus for their long-awaited commencement (\u6bd5\u4e1a\u5178\u793c).</li> <li>cow and camel (\u9a86\u9a7c)<ul> <li>classify beige (\u7c73\u9ec4\u8272) landscapes as camels</li> </ul> </li> <li>in statistical parlance (\u8bf4\u6cd5\uff0c\u7528\u8bed)</li> <li>Michael Jordan of Berkeley alluded to (\u63d0\u5230\uff0c\u6697\u6307) how uncertainty quantification has long been a niche (\u7ec6\u5206) topic in ML, and still kind of is, but this might be shifting.</li> <li>dovetail (\u543b\u5408\uff0c\u517c\u987e) career and family commitments</li> <li>judge the plausibility (\u5408\u7406\u6027\uff0c\u53ef\u4fe1\u6027) of assumptions.<ul> <li>plausible: \u4f3c\u4e4e\u662f\u771f\u7684\uff08\u6709\u7406\uff09</li> </ul> </li> <li>The GPU revolution catapulted NVIDIA\u2019s past incumbents such as Intel or Qualcomm both in market capitalization and AI-related technology innovation.</li> <li>Mass transit (\u516c\u5171\u4ea4\u901a) can help unclog (\u758f\u901a) the roads and your arteries (\u52a8\u8109).</li> <li>tare: \u5305\u88c5\u91cd\u91cf</li> </ul>"},{"location":"English/#202110","title":"2021.10","text":"<ul> <li>Picketing (\u7f62\u5de5\u7ea0\u5bdf) is the essential way that we publicly display our strike power and disrupt the University.<ul> <li>picket line: \u7ea0\u5bdf\u7ebf\uff0c\u7f62\u5de5\u8b66\u6212\u7ebf</li> </ul> </li> <li>intracellular (\u7ec6\u80de\u5185\u7684) signaling pathways in CAR T cells</li> <li>macrophage: \u5de8\u566c\u7ec6\u80de</li> <li>Increased predation (\u6355\u98df) and competition ultimately favored the evolution of more elaborate nests.</li> <li>vertebrate: \u810a\u690e\u52a8\u7269</li> <li>plumage: \u7fc5\u8180\uff0c\u9e1f\u7c7b\u7fbd\u6bdb</li> <li>Everything hinges on (\u53d6\u51b3\u4e8e) how hard we work.</li> <li>excursion: \u77ed\u9014\u65c5\u884c\uff0c\u6d89\u730e</li> <li>The Harvard Gazette (\u62a5\u7eb8)</li> <li>ginger ale: \u59dc\u5473\u6c7d\u6c34</li> </ul>"},{"location":"English/#202109","title":"2021.09","text":"<ul> <li>Lamb Combo: Lam Curry, Basmati Rice (\u5370\u5ea6\u9999\u7c73)</li> <li>tow zone: \u62d6\u8f66\u533a</li> <li>ITSC will revamp (\u6539\u9020) the network facilities.</li> <li>pickleball: \u5339\u514b\u7403</li> <li>Squash is older, and invented by English school kids in 1830. Racquetball was created by an American fellow in 1949. </li> <li>Patrons (\u987e\u5ba2) must wear an appropriate bathing suit; gym shorts, compression shorts, sport bras or similar attire (\u670d\u88c5\uff0c\u8863\u670d) are not permitted.</li> <li>It has commenced (\u5f00\u59cb\u7740\u624b) the student fees billing.</li> <li>The demolition (\u7206\u7834\uff0c\u5e9f\u589f) makes for a unique soundtrack (\u539f\u58f0\u97f3\u4e50\uff0c\u914d\u97f3\u3001\u5bf9\u767d), workers hammering (\u9524\u6253\uff0c\u8fde\u7eed\u51fb\u6253) in cadence (\u8282\u594f) as blurred (\u6a21\u7cca\u4e0d\u6e05\u7684) black shades against the sky.</li> <li>mRNA vaccines are triumph (\u5de8\u5927\u6210\u529f\uff0c\u91cd\u5927\u6210\u5c31).</li> <li>JupyterLab moves closer to becoming a full-fledged (\u5168\u9762\u53d1\u5c55\u7684) IDE with xeus-python.</li> <li>Hurricane Ida was the sixth tropical (\u70ed\u5e26\u7684) cyclone (\u98d3\u98ce\uff0c\u9f99\u5377\u98ce) to make landfall in Louisiana (\u8def\u6613\u65af\u5b89\u90a3\u5dde) since the start of 2020.</li> <li>sickle-cell: \u9570\u72b6\u7ec6\u80de</li> <li>hear how insect (\u6606\u866b) mushroom-farmers throttle (\u538b\u5236\uff0c\u8282\u6d41) the carbon emissions from dead trees.</li> <li>Welcome to perk (\u5c0f\u8d39\uff0c\u989d\u5916\u6536\u5165) paradise.</li> <li>Ireland, too, is a paradise (\u5929\u5802) of greenery, with far fewer people than populous England and even more quaint (\u53e4\u8272\u53e4\u9999\u7684\uff0c\u5c11\u89c1\u7684\uff0c\u53e4\u602a\u7684) villages scattered among its low-lying hills and forever green fields.</li> <li>Wild musk (\u9e9d\u9999) ducks learn to make high-pitched whistles from older members of their flock (\u7fa4).</li> <li>correct position of only<ul> <li>see also: Using the Word \u201cOnly\u201d Correctly</li> <li>tool for comparing two sentences: https://textranch.com/sentence-checker/</li> <li><code>depend only on</code> vs <code>depend on only</code></li> </ul> </li> <li>pentagon: \u4e94\u89d2\u5f62<ul> <li>The Pentagon: \u534e\u76db\u987f\u4e94\u89d2\u5927\u697c\uff0c\u7f8e\u56fd\u56fd\u9632\u90e8</li> </ul> </li> <li>hexagon: \u516d\u89d2\u5f62\uff0c\u516d\u8fb9\u5f62</li> <li>heptagon: \u4e03\u89d2\u5f62\uff0c\u4e03\u8fb9\u5f62</li> <li>sailing (\u822a\u884c\uff0c\u822a\u6d77) pavilion (\u4ead\u5b50\uff0c\u4e34\u65f6\u5efa\u7b51\u7269)</li> <li>gluten (\u9eb8\u8d28\uff0c\u8c37\u86cb\u767d\uff0c\u9762\u7b4b) free: \u4e3a\u4ec0\u4e48\u7f8e\u56fd\u5f88\u591a\u7684\u98df\u54c1\u6807\u660e gluten free\uff1f</li> <li>fried tripes: \u7206\u725b\u809a</li> <li>toast (\u70e4\u9762\u5305\u7247) grillage (\u683c\u67b6)</li> <li>broil (\u70e4) griller (\u70e4\u7089)</li> <li>Saturn\u2019s core might be a slushy (\u6ce5\u6cde\u7684\uff0c\u878d\u96ea\u7684) mixture of ice and rock, rather than a compact solid made of mostly one or the other material, as is generally thought.</li> <li>His yearly payroll (\u5de5\u8d44\u603b\u989d) is $XX.<ul> <li>He\u2019s no longer on their payroll (\u5de5\u8d44\u540d\u5355).</li> </ul> </li> <li>The motto of Harvard: Veritas</li> <li>We had a Sunday brunch (\u65e9\u5348\u9910) of bagels (\u767e\u5409\u997c\uff0c\u786c\u9762\u5305\u5708).</li> </ul>"},{"location":"English/#202108","title":"2021.08","text":"<ul> <li>We can draw certain conclusions about our new friend, such as whether it is a bird or a dinosaur (\u6050\u9f99), or whether it can swim or fly.</li> <li>Australia\u2019s cane toads (\u7518\u8517\u87fe\u870d\uff0c\u6d77\u87fe\u870d) evolved as cannibals (\u5403\u540c\u7c7b\u7684\u52a8\u7269) with frightening speed.</li> <li>Michael came up with a hilarious ad-lib (\u5373\u5174\u8bf4\u51fa\u7684\u53f0\u8bcd) in this scene.</li> <li>Many researchers are fleeing (\u9003\u79bb) and those who remain face lost funding and the threat of persecution (\u8feb\u5bb3\uff0c\u6b8b\u5bb3).</li> <li>The speedy production of COVID-19-related research has not been met with an equally nimble (\u654f\u6377\u7684\uff0c\u7075\u6d3b\u7684) process for correcting potentially harmful errors.</li> <li>The bivariate normal distributions arise across many domains, from telecommunications, to meteorology (\u6c14\u8c61\u5b66), ballistics (\u5f39\u9053\u5b66\uff0c\u53d1\u5c04\u5b66), and computational neuroscience.</li> <li>Text summarization consists of methods that generate a succinct (\u7b80\u660e\u7684\uff0c\u8a00\u7b80\u610f\u8d45\u7684) summary from a longer-form text.</li> <li>I attest (\u4f5c\u8bc1) that I have received a negative pre-departure test result for COVID-19.</li> <li>rules for success: \u201cThere are two rules for success: 1. Never tell everything you know. \u2013Roger H. Lincoln\u201d </li> <li>As someone who didn\u2019t care much about distributed ML training, he followed the research peripherally (\u6b21\u8981\u5730\uff0c\u5916\u56f4\u5730) without getting into the details.</li> <li>Training deep learning models to interact with visual environments is one of the most complex and expensive challenges in the modern AI ecosystem. The AI community refers to this branch of research as Embodied (\u4f53\u73b0\uff0c\u5305\u542b\uff0c\u5177\u4f53\u5316) AI and remains a very active area of research.</li> <li>polyester: \u805a\u916f\u7ea4\u7ef4</li> <li>viscose: \u7ea4\u7ef4\u80f6</li> <li>a hispster (\u8d76\u65f6\u9ae6\u7684\u4eba) doofus (\u8822\u4eba\uff0c\u7b28\u86cb).</li> <li>baby bats babble (\u542b\u6df7\u4e0d\u6e05\u5730\u8bf4\uff0c\u5e7c\u513f\u54bf\u54d1\u5b66\u8bed) like human infants</li> <li>Public-health research has a history of interference from industry funders, so the team behind the study, led by health scientist Sam McCrabb, expected researchers running industry-funded studies to be those most commonly acting under duress (\u5f3a\u8feb\uff0c\u80c1\u8feb).</li> <li>Caltech regrets drilling (\u94bb\u5b54) near petroglyph (\u5ca9\u77f3\u96d5\u523b\uff0c\u5ca9\u77f3\u753b).</li> <li>They\u2019re doing chemistry, geology, hydrology (\u6c34\u6587), petrology\u2026, everything but astronomy.</li> <li>You may also want to use the <code>--prune-empty</code> option to expunge (\u62b9\u53bb\uff0c\u5220\u53bb) commits that touched only the folder. </li> <li>oncology: \u80bf\u7624\u5b66</li> <li>Luxury 2 Bedroom/2 Full Bathroom Fully Renovated (\u7ffb\u65b0) Condominium (\u516c\u5bd3) Located in a Highly Sought After Concierge (\u793c\u5bbe\u90e8)\uff0c Elevator Building with Amenities (\u4fbf\u5229\u8bbe\u65bd) in Cambridge Featuring Beautiful Hardwood Floors Throughout, Granite (\u82b1\u5c97\u5ca9)/Stainless Steel Kitchen with Large Pantry (\u98df\u54c1\u8d2e\u85cf\u5ba4), Spacious (\u5bbd\u655e\u7684), Sunny Bedrooms with Views\uff0c Hot Water and Garage (\u8f66\u5e93) Parking Included.</li> <li>Kitsch (\u523b\u5947\uff0c\u5a9a\u4fd7\uff0c\u77eb\u9970) is a low-brow style of mass-produced art or design using popular or cultural icons.</li> <li>dyadic (\u4e8c\u4ef7\u7684\uff0c\u4e8c\u503c\u7684) operator: \u4e8c\u5143\u7b97\u5b50</li> <li>You\u2019re a newlywed (\u521a\u7ed3\u5a5a\u7684\u4eba) and your first bady is on the way.</li> <li>Any scoop (\u72ec\u5bb6\u65b0\u95fb\uff0c\u7279\u522b\u62a5\u9053) on that plane crash?<ul> <li>scoop \u6307\u52fa\uff0c\u4f5c\u52a8\u8bcd\u6307\u7528\u52fa\u76db\u6216\u8200\uff0c\u5f15\u7533\u4e3a\u6025\u901f\u5730\u6536\u96c6\u3001\u6293\u53d6\uff0c\u53c8\u7531\u6b64\u5f15\u7533\u4e3a\u5a92\u4f53\u62a2\u5148\u4e8e\u5bf9\u624b\u53d1\u5e03\u91cd\u8981\u65b0\u95fb\u4fe1\u606f\u3001\u72ec\u5bb6\u62a5\u9053\u3002</li> </ul> </li> <li>What was once a fringe (\u8fb9\u7f18\u7684) theory \u2013 the gut-brain axis \u2013 is seeing an explosion of interest.</li> <li>She scarfed (eat rapidly and eagerly) down some ice cream and rushed back to work.</li> <li>I am not a cheapskate (\u5c0f\u6c14\u9b3c).</li> <li>run some errands (\u4f7f\u547d\uff0c\u5dee\u4e8b): \u5904\u7406\u751f\u6d3b\u7410\u4e8b</li> <li>an officious statement: \u975e\u6b63\u5f0f\u58f0\u660e</li> <li>apply the procedure to a real data set of hepatic (\u809d\u7684) miRNA expressions from a mouse model of non-alcoholic steatohepatitis (\u8102\u80aa\u809d) (NASH).</li> <li>Drop me a line in your leisure (\u7a7a\u95f2\u7684) time.</li> <li>His classmates laughed at his lame (\u7638\u7684\uff1b\u8ddb\u7684\uff1b\u7ad9\u4e0d\u4f4f\u811a\u7684) drawing.</li> <li>A gravity-defying physics experiment makes liquid levitate (\u6f02\u6d6e) and boats float upside down.</li> <li>One way to obviate (\u6392\u9664\uff0c\u6d88\u9664) this difficulty is to perform a grid search.</li> <li>FAIR published a paper introducing TextStyleBrush, a model that can emulate (\u6a21\u4eff\uff0c\u4eff\u771f\uff0c\u5411\u2026\u770b\u9f50) the text style in a photo from a single shot.</li> <li>MLOps is a set of practices that aims to deploy and maintain machine learning models in production reliably and efficiently. The word is compound of \u201cmachine learning\u201d and the continuous development practice of DevOps in the software field.<ul> <li>DevOps is a set of practices that combines software development (Dev) and IT operations (Ops). It aims to shorten the systems development life cycle and provide continuous delivery with high software quality.</li> </ul> </li> <li>not only the complicated dynamic dependence between the series, but also the existence of aberrant (\u5f02\u5e38\u7684\uff0c\u53cd\u5e38\u7684) observations, such as missing values, contaminated observations, and heavy-tailed distributions.</li> <li>In the US, socioeconomic disadvantage is positively associated with adiposity (\u80a5\u80d6\u75c7)</li> <li>omnibus: \u516c\u5171\u6c7d\u8f66\uff1b\uff08\u5e7f\u64ad\u3001\u7535\u89c6\uff09\u7efc\u5408\u8282\u76ee</li> <li>epistemic: \u77e5\u8bc6\u7684\uff0c\u8ba4\u8bc6\u7684</li> <li>A K Poker deck contains nice consecutively ranked cards of the same suit; we use deuce (\u4e24\u70b9\u7684\u7eb8\u724c) through ten.<ul> <li>deuce: \u5c40\u672b\u5e73\u5206</li> </ul> </li> <li>Researchers have used the gene-editing tool CRISPR, and tweaks to typical rearing practices (\u517b\u80b2\u884c\u4e3a).</li> <li>Convex clustering has recently garnered (\u79ef\u7d2f\uff0c\u83b7\u5f97) increasing interest due to its attractive theoretical and computational properties.</li> <li>delve (\u94bb\u7814) inside the COVID-19 outbreak in India</li> <li>How to build an antiviral arsenal (\u6b66\u5668\u5e93\uff0c\u519b\u706b\u5e93).</li> <li>These dependencies have unleashed (\u7206\u53d1\uff0c\u53d1\u6cc4) a renaissance (\u590d\u5174\uff0c\u6587\u827a\u590d\u5174) in AI hardware innovations.</li> </ul>"},{"location":"English/#202107","title":"2021.07","text":"<ul> <li>One researcher\u2019s unorthdox attempt to listen in to the seismic (\u5730\u9707\u7684) whisper at the foot of a Greenland glacier.</li> <li>alkali metals: \u78b1\u91d1\u5c5e</li> <li>agnosticism: \u4e0d\u53ef\u77e5\u8bba</li> <li>The concept of \u201caromaticity (\u82b3\u9999\u5ea6)\u201d gets its name from the pungent (\u523a\u6fc0\u6027\u7684\uff0c\u5473\u9053\u5f3a\u70c8\u7684) benzene (\u82ef) ring, which is found in many organic compounds.</li> <li>My parents got hitched (\u7ed3\u5a5a) in 1973.</li> <li>Aviator (\u98de\u884c\u5458) Wally Funk travelled to space in a Blue Origin capsule, alongside billionaire Jeff Bezos, his brother Mark and an 18-year-old whose parents bought him a ticket.</li> <li>Italian businesses preferred to stay small and discreet (\u8c28\u614e\u5468\u5bc6).</li> <li>Sea sponge (\u6d77\u7ef5\u52a8\u7269) controls ocean currents (\u6c34\u6d41).</li> <li>A rug vender gypped (\u6b3a\u9a97\u6216\u6b3a\u8bc8) them good while they were touring in Egypt.</li> <li>a new dawn (\u5f00\u7aef\uff0c\u840c\u82bd) in US gun-violence research</li> <li>Somewhat paradoxically (\u4e8b\u4e0e\u613f\u8fdd\u5730\uff0c\u51fa\u4e4e\u610f\u6599\u5730), machine learning frameworks have evolved several orders of magnitude faster than the corresponding data management toolsets. The platforms for managing the lifecycle of the datasets powering machine learning models are still in their infancy (\u5a74\u513f\u671f\uff0c\u521d\u671f).</li> <li>Scientists analysed samples from muddy (\u6ce5\u6cde\u7684\uff0c\u810f\u7684) sites in the western United States and found DNA structures that seem to scavenge (\u300c\u4ece\u5e9f\u5f03\u7269\u4e2d\u300d\u89c5\u98df\uff0c\u5403\u300c\u52a8\u7269\u5c38\u4f53\u300d) and \u201cassimilate\u201d genes from microorganisms in their environment, much like the fictional Star Trek \u201cBrog\u201d aliens who assimilate the knowledge and technology of other species.</li> <li>apocalypse: \uff08\u5c24\u6307\u4e16\u754c\u672b\u65e5\u7684\uff09\u542f\u793a\uff0c\u5929\u542f</li> <li>serendipity: \u610f\u5916\u53d1\u73b0\u73cd\u5947\u4e8b\u7269\u7684\u624d\u80fd</li> <li>Many of the machine learning open-source frameworks picture is not so rosy (\u7f8e\u597d\u7684\uff0c\u4e50\u89c2\u7684) when it comes using them in real-world production systems.</li> <li>Space scientists increasingly fear a runaway (\u5931\u63a7\u7684\uff0c\u8f7b\u6613\u7684) cascade (\u7ea7\u8054) of collisions that would make low-Earth orbit unusable.</li> <li>It was vehemently (\u6fc0\u70c8\u5730\uff0c\u731b\u70c8\u5730) opposed to the vaccines and claimed that prayer (\u7977\u544a) had eradicated the disease in his country \u2013 despite being a former science teacher himself.</li> <li>Campaigns (\u6218\u5f79\uff0c\u8fd0\u52a8) to quash (\u9547\u538b\uff0c\u5e73\u606f) tuberculosis (TB), measles and polio have all been set back by the need to divert medical resources to COVID-19.</li> <li>A new measure of chronic, systemic inflammation aims to pinpoint (\u786e\u5b9a) whether your immune system is not as perky (\u7cbe\u529b\u5145\u6c9b\u7684\uff0c\u6d3b\u8dc3\u7684\uff0c\u9ad8\u5174\u7684) as it used to be.</li> <li>It\u2019s hard to tease (\u68b3\u7406) apart the effects of the infection from other factors, such as pandemic-related stress.</li> <li>An instrument on the Perseverance rover (\u6bc5\u529b\u53f7\u706b\u661f\u8f66) has produced breathable oxygen on Mars.</li> <li>Two jabs (\u6ce8\u5c04) that each contained only one-quarter of the standards dose of Moderna\u2019s COVID-19 vaccine gave rise to long-lasting protective antibodies and virus-fighting T cells.</li> <li>Call for clearer rules on science espionage (\u95f4\u8c0d\u6d3b\u52a8).</li> <li>The scientists transplanted uteruses (\u5b50\u5bab) into castrated (\u9609\u5272\u7684) male rats and sewed (\u7f1d\u5408\uff0c\u7f1d\u4e0a) the animals to pregnant female rats. </li> <li>New evidence suggests that the coronavirus\u2019s assault (\u653b\u51fb) on this organ could be multipronged (\u591a\u65b9\u9762\u7684).</li> <li>A chevron (V \u5f62\u56fe\u6848) pattern etched into the bone of a giant deer is opening our eyes to the advanced behavioural complexity of Neanderthals (\u5c3c\u5b89\u5fb7\u7279\u4eba, \u7a74\u5c45\u4eba), writes anthropologist Silvia Bello.</li> <li>A heatmap of log-scale count data from human pancreas (\u80f0\u817a) studies.</li> <li>Processors advancing at a faster pace, leaving memory stagnant (\u505c\u6ede\u7684\uff0c\u8fdf\u949d\u7684).</li> <li>pulmonary embolism: \u80ba\u6813\u585e\uff1b\u80ba\u8840\u7ba1\u963b\u585e\u75c7</li> <li>the recuperative (\u6062\u590d\u4e2d\u7684\uff0c\u5177\u6062\u590d\u529b\u7684) powers of fresh air</li> <li>torso: the body excluding the head and neck and limbs (\u56db\u80a2)</li> <li>China has officially eradicated (\u6839\u9664\uff0c\u6d88\u706d) malaria (\u759f\u75be).</li> <li>There is something incredibly seductive (\u8bf1\u4eba\u7684\uff0c\u8ff7\u4eba\u7684\uff0c\u6709\u9b45\u529b\u7684) about the idea of using machine intelligence to generate code, but the specific of the problem have made it really impractical for machine learning techniques.</li> <li>The cell\u2019s progeny (\u5b50\u5b59) trail (\u8def\u5f84) to the left in a cluster resembling a bunch of grapes.<ul> <li>trailer: \u9884\u544a\u7247</li> </ul> </li> <li>Ancient beetle (\u7532\u866b) species found in fossil faeces (\u7caa\u4fbf). </li> <li>An experimental vaccine containing live malaria parasites (\u759f\u539f\u866b) protected nearly all recipients from infection in a small clinical trail.<ul> <li>parasite: \u5bc4\u751f\u866b</li> </ul> </li> <li>The new intern is cozying up to (\u5949\u627f) his supervisor.</li> </ul>"},{"location":"English/#202106","title":"2021.06","text":"<ul> <li>A heatwave in western Canada and the northwestern United States has shattered (\u6253\u788e\uff0c\u7834\u6389) temperature records.<ul> <li>Heatwave scorches (\u70e7\u7126\uff0c\u4f7f\u67af\u840e) Pacific Northwest.</li> </ul> </li> <li>Incomplete training data set will be a detriment (\u635f\u5bb3\uff0c\u4f24\u5bb3) to the recommendation system performance.</li> <li>Ontology (\u672c\u4f53\u8bba) is the philosophical study of the nature of being, becoming, existence, or reality, as well as the basic categories of being and their relations.</li> <li>Strong people confront (\u6562\u4e8e\u6b63\u89c6\u56f0\u96be\u6216\u95ee\u9898\u7684\u51b3\u5fc3\u548c\u4fe1\u5fc3) their fears and emotions.<ul> <li>the newly designed system confronts (\u4e0d\u53ef\u907f\u514d\u5730\u3001\u9762\u5bf9\u9762\u5730\u76f8\u9047) with the following challenges</li> </ul> </li> <li>brittle (\u6613\u788e\u7684\uff0c\u8106\u5f31\u7684) material: \u8106\u6027\u6750\u6599</li> <li>A skip (\u5e9f\u6599\u6876\uff08\u88c5\u5de5\u5730\u5e9f\u6599\u3001\u5783\u573e\u7b49\uff0c\u7531\u5361\u8f66\u62d6\u8d70\uff09) will be placed next to the bicycle racks (\u67b6\u5b50) for disposal of bulky (\u5e9e\u5927\u7684\uff0c\u4f53\u79ef\u5927\u7684) waste.<ul> <li>bulk: n. \u4f53\u79ef\uff0c\u5bb9\u91cf\uff0c\u5927\u5757\uff1bv. \u4f7f\u6269\u5927</li> <li>bulk commodity (\u5546\u54c1\uff0c\u8d27\u7269): \u5927\u5b97\u5546\u54c1</li> </ul> </li> <li>We need to take away the ability to get unfettered (\u65e0\u9650\u5236\u7684\uff0c\u4e0d\u53d7\u7ea6\u675f\u7684) access to the machine.</li> <li>The killing of a maths faculty member on a Shanghai campus has stirred up (\u6fc0\u8d77\uff0c\u6311\u8d77) debate over the onerous tenure process. </li> <li>Leaked report sends dire (\u6781\u5176\u4e25\u91cd\u7684\uff0c\u5371\u6025\u7684) climate warning.</li> <li>The people who built the ancient monumental structures at Turkey\u2019s Gobekli Tepe were fuelled by vat-fulls of starchy porridge and stew, not just meaty feasts.</li> <li>George was whipping up (\u5feb\u901f\u5730\u5403\uff0c\u72fc\u541e\u864e\u54bd) a sundae (\u5723\u4ee3\u300c\u4e00\u79cd\u52a0\u6709\u6c34\u679c\u3001\u751c\u6c41\u3001\u679c\u4ec1\u7684\u51b0\u6dc7\u6dcb\u300d) during the tennis match break and got caught by the camera without knowing it.</li> <li>Today we enjoy a selfie (\u81ea\u62cd\u7167) from China\u2019s Zhurong Mars rover, and discover a masterful memoir (\u81ea\u4f20) by mathematician Katherine Johnson.</li> <li>The global antiracism movement sparked by the murder of George Floyd and the pandemic also spurred (\u523a\u6fc0\uff0c\u6fc0\u52b1) Wellcome, one of the world\u2019s largest biomedical-research funders.<ul> <li>The Wellcome Trust is a charitable foundation focuses on health research. Not the supermarket Wellcome.</li> </ul> </li> <li>Christopher Nolan produced one of his first most influential movies in the history of cinematography (\u7535\u5f71\u6444\u5236\u6280\u672f). Memento broke many of the traditional paradigms in the film industry by structuring two parallel narratives, one chronologically (\u6309\u5e74\u4ee3\u987a\u5e8f\uff0c\u6309\u65f6\u95f4\u987a\u5e8f) going backwards and one going forward.<ul> <li>chronology: \u5e74\u8868\uff0c\u5e74\u4ee3\u5b66</li> </ul> </li> <li>Time to take the plunge (\u5192\u9669\u5c1d\u8bd5\uff1b\u6295\u5165) into learning to code?</li> <li>I need to add some bright colors to my wardrobe (\u8863\u67dc\uff0c\u8863\u6a71).</li> <li>spay</li> <li>They were gaga over Will Smith\u2019s new rap album.</li> <li>The holy grail (\u5723\u676f\uff1b\u6e34\u671b\u4f46\u6c38\u8fdc\u5f97\u4e0d\u5230\u7684\u4e1c\u897f) of mobile deep machine learning is to build models that can execute natively and efficiently in mobile devices.</li> <li>There are not sustained (\u6301\u7eed\u7684\uff0c\u6301\u4e45\u7684) sections of sarcasm (\u8bbd\u523a\uff0c\u5632\u8bbd) or negated text.</li> <li>Crowdsourcing is a sourcing model in which individuals or organizations obtain goods or services, including ideas, voting, micro-tasks and finances, from a large, relatively open and often rapidly evolving group of participants. </li> <li>We see that salutations (\u79f0\u547c\uff0c\u79f0\u8c13) such as \u201cmiss\u201d, \u201clady\u201d, \u201csir\u201d and \u201ccolonel (\u4e0a\u6821)\u201d form common centers of nodes, which are often followed by names.</li> <li>We conclude with a few polishing (improve or perfect by pruning or polishing) operations to make a better looking graph.</li> <li>The package comes with a corpus of presidential inauguration (\u5c31\u804c\u5178\u793c) speeches.</li> <li>inaugural: \u5c31\u804c\u6f14\u8bf4\uff1b\u5c31\u804c\u7684\uff0c\u5f00\u5e55\u7684</li> <li>Suppose a vandal has broken into your study and torn apart four of your books.</li> <li>One basic problem of information retrieval culminates (\u3010\u4ee5\u67d0\u79cd\u7ed3\u679c\u3011\u544a\u7ec8) in the realization that the same idea or concept can be presented in many different ways.</li> <li>Natural language gives freedom for enormous variation in expression, from choosing between synonyms to using different styles, emphasis, different levels of abstraction, and anaphoric and metaphoric (\u9690\u55bb) expressions.</li> <li>You may even be a little weary (\u75b2\u5026\u7684\uff0c\u538c\u70e6\u7684) of people pontificating about this fact.</li> <li>much of the data proliferating (\u6fc0\u589e) today is unstructured and text-heavy.</li> <li>Data wrangling, sometimes referred to as data munging, is the process of transforming and mapping data from one raw data form into another format with the intent of making it more appropriate and valuable for a variety of downstream purposes such as analytics. </li> <li>A bumper (\u4e30\u5bcc\u7684) crop of fast radio bursts (FRBs) shows that the mysterious signals come in two distinct types. The Canadian Hydrogen Intensity Mapping Experiment (CHIME) radio telescope has detected 535 FRBs \u2013 quadrupling (\u56db\u500d) the known tally of these powerful cosmic flashes, which flare (\u71c3\u70e7) for just milliseconds.</li> <li>Of course, for that to happen, the meanings behind those utterances (\u53d1\u58f0\uff0c\u8868\u8fbe) would have to be clearly understood.</li> <li>A few key examples of successful startups we\u2019ve incubated include sophisticated novel voice generation by WellSaid, and an AI-backed smart repository for notoriously complex, voluminous (\u6d69\u7e41\u7684\uff0c\u5bbd\u677e\u7684) legal contracts and agreements created by Lexion.</li> <li>Indexes and indices are both accepted and widely used plurals of the noun index. Both appear throughout the English-speaking world, but indices prevails in varieties of English from outside North America, while indexes is more common in American and Canadian English. Meanwhile, indices is generally preferred in mathematical, financial, and technical contexts, while indexes is relatively common in general usage. </li> <li>Scientists say that the shots \u2013 which show the rover with its solar panels unfurled and the ramp from its lander deployed \u2013 hint that it has arrived at a safe, ideal site from which it can begin exploring.</li> <li>Optogenetics (\u5149\u5b66\u9057\u4f20\u5b66) restores blind man\u2019s vision. </li> <li>Nuclear fallout haunts (\u957f\u671f\u4e0d\u65ad\u5730\u7f20\u6270\u67d0\u4eba) Maralinga.</li> <li>End of 14-day rule for lab-grown embryos (\u80da\u80ce).<ul> <li>embryotic: \u840c\u82bd\u671f\u7684\uff0c\u672a\u53d1\u80b2\u597d\u7684</li> </ul> </li> <li>Tiny lungs and other miniature (\u5c0f\u578b\u7684\uff0c\u5fae\u5c0f\u7684) lab-grown organs are helping researchers to study how SARS-CoV-2 attacks.</li> <li>Microfossils (\u5fae\u751f\u7269\u5316\u77f3) reveal mysterious shark die-off.</li> <li>Nasal (\u9f3b\u5b50\u7684) spray (\u55b7\u96fe\uff0c\u55b7\u5242) could provide protection.</li> <li>Researchers say there is some evidence that infected mink (\u6c34\u8c82) can pass the virus on to humans.<ul> <li>ape: \u7c7b\u4eba\u733f</li> </ul> </li> <li>Lexicons (\u5b57\u5178\uff1b\uff08\u67d0\u8bed\u8a00\u6216\u5b66\u79d1\u3001\u67d0\u4eba\u6216\u7fa4\u4f53\u4f7f\u7528\u7684\uff09\u5168\u90e8\u8bcd\u6c47) of other languages, due to weaker national power, generally cannot match the UMLS in terms of comprehensiveness. </li> <li>Have you ever served in, been a member of, or been involved with a paramilitary unit, vigilante unit, rebel (\u9020\u53cd\u7684) group, guerrilla (\u6e38\u51fb\u7684\uff0c\u975e\u6b63\u5f0f\u7684) group, or insurgent (\u8d77\u4e49\u8005) organization? </li> <li>Do you belong to a clan (\u5e9e\u5927\u7684\u5bb6\u65cf\uff1b\u5b97\u6d3e) or tribe?</li> <li>Are you coming to the United States to engage in prostitution or unlawful commercialized vice or have you been engaged in prostitution (\u5356\u6deb\uff1b\u624d\u80fd\u7684\u6ee5\u7528\uff08\u6216\u7cdf\u8e4b\uff09) or procuring prostitutes within the past 10 years? </li> <li>Have you ever ordered, incited (\u717d\u52a8\uff0c\u9f13\u52a8), committed, assisted, or otherwise participated in genocide (\u79cd\u65cf\u706d\u7edd\uff0c\u5927\u5c60\u6740)? </li> <li>freak</li> </ul>"},{"location":"English/#202105","title":"2021.05","text":"<ul> <li>Kramer is telling Elaine about her mannequin (\u65f6\u88c5\u6a21\u7279\uff0c\u4eba\u4f53\u6a21\u7279) double (\u66ff\u8eab\uff1f). </li> <li>The emcee (M.C.\uff0c master of ceremony, \u4e3b\u6301\u4eba) guy was quite funny.</li> <li>A <code>Dataset.batch</code> applied after <code>Dataset.repeat</code> will yield batches that straddle (\u6a2a\u8de8) epoch boundaries. </li> <li>Cholera (\u970d\u4e71) is caused by ingesting (\u6444\u5165\uff0c\u83b7\u53d6) bacteria from contaminated water or food.</li> <li>reality has a way of sneaking up (\u5077\u5077\u5730\u6e9c\u8d70) and biting us in the ass. </li> <li>The word \u201calumni\u201d refers collectively to male and female graduates, or to a group of all-male graduates, and is plural. \u201cAlumnae\u201d refers to a group of women graduates and is plural. \u201cAlumna\u201d refers to a single female alum, and \u201calumnus\u201d is a single male alum. The terms \u201calum\u201d (singular, not gender specific) and \u201calums\u201d (plural, not gender specific) are more informal and are acceptable, particularly when the gender is unknown. </li> <li>In statistical sciences from economics to medicine, including some parts of physics and chemistry, the ubiquitous (\u65e0\u5904\u4e0d\u5728\u7684\uff0c\u666e\u904d\u5b58\u5728\u7684) \u201ctest\u201d for \u201cstatistical significance\u201d cannot, and will not, prove that a Higgs boson (\u5e0c\u683c\u65af\u73bb\u8272\u5b50) exists, any more than it can prove the reality of God, the existence of a good pain pill (\u836f\u4e38), or the validity of loose monetary policy (\u5bbd\u677e\u8d27\u5e01\u653f\u7b56). </li> <li>His pockets bulge (\u81a8\u80c0\uff0c\u9f13\u8d77) with papers and pencils.</li> <li>Automatic methods have to deal with mitotic (\u6709\u4e1d\u5206\u88c2\u7684\uff0c\u95f4\u63a5\u6838\u5206\u88c2\u7684) and apoptotic (\u7ec6\u80de\u51cb\u4ea1) events that affect cell lineages as cells move through their environment.</li> <li>Family is the wellspring (\u6e90\u6cc9) of your confidence.</li> <li>pop science: \u5927\u4f17\u79d1\u5b66</li> <li>We\u2019ll want to train it, visualize the losses, any other metrics (e.g. accuracy), model predictions, and perform a series of ablation experiments (\u6d88\u878d\u5b9e\u9a8c) with explicit hypotheses along the way. </li> <li>It\u2019s the Rolls-Royce (\u52b3\u65af\u83b1\u65af) of wheelchairs. This is like you\u2019re almost glad to be handicapped (\u6b8b\u75be\u4eba).</li> <li>Love is sweet as summer showers, love is wondrous (\u5947\u5f02\u7684\uff0c\u7f8e\u597d\u7684) work of art, but your love is like a giant pigeon (\u9e3d\u5b50) crapping (\u6392\u6cc4) on my heart.</li> <li>Bravo (\u559d\u5f69\uff0c\u53eb\u597d) on the hot nanny (\u4fdd\u59c6)!</li> <li>Financial anomalies (anomaly, \u5f02\u5e38\uff0c\u53cd\u5e38\uff0c\u4e0d\u89c4\u5219) are contingent on being unknown.</li> <li>I\u2019m a laundry virgin (\u5904\u5973).</li> <li>I just don\u2019t wanna give them any more ammunition (\u5f39\u836f\uff0c\u8fa9\u8bba\u4e2d\u53ef\u653b\u51fb\u5bf9\u65b9\u7684\u628a\u67c4) than they already have.</li> <li>One commentator said that the National Front has gone from pariah (\u88ab\u793e\u4f1a\u9057\u5f03\u8005) status to mainstream.</li> <li>An exoplanet (\u7cfb\u5916\u884c\u661f) or extrasolar planet is a planet outside the Solar system.</li> <li>Anto has been instrumental in creating a musical (\u97f3\u4e50\u7247) about COVID-19 vaccine. </li> <li>Humans no longer need to hand rear (\u5582\u517b\uff0c\u629a\u80b2) the chicks.<ul> <li>rear (\u540e\u9762\u7684) view: \u540e\u89c6\u56fe</li> </ul> </li> <li>Online ride-hailing platforms have emerged as a viable (\u53ef\u884c\u7684) solution to provide more timely and personalized transportation service.<ul> <li>viable (\u80fd\u517b\u6d3b\u7684) cell: \u6d3b\u7ec6\u80de</li> </ul> </li> <li>boondoggle: \u6beb\u65e0\u610f\u4e49\u7684\u5de5\u4f5c\uff08\u6216\u4e8b\u60c5\uff09</li> <li>data falsification: \u4f2a\u9020\u6570\u636e</li> <li>whipsaw: \u72ed\u8fb9\u7c97\u6728\u952f</li> <li>This is more than a cosmetic (\u88c5\u9970\u6027\u7684\uff0c\u5316\u5986\u7528\u7684; \u5316\u5986\u54c1) problem.</li> <li>I began then to acquire some rudimentary (\u57fa\u672c\u7684\uff0c\u521d\u6b65\u7684) knowledge of such important terms as reliability, validity, norms, correlation, and so on.</li> <li>ambient (\u5468\u56f4\u7684\uff0c\u5305\u56f4\u7740\u7684) temperature: \u73af\u5883\u6e29\u5ea6</li> <li>celestial body: \u5929\u4f53<ul> <li>celestial empire, Chinese empire: \u5929\u671d\u5927\u56fd</li> </ul> </li> <li>If a book is a loose leaf, this means that it does not have a traditional binding like a hardcover (\u7cbe\u88c5\u4e66) or a paperback (\u7b80\u88c5\u4e66): basically, a loose leaf edition is just a stack of pages which may be three-hole-punched (\u6253\u5b54) so that they could be held together by a binder.</li> <li>curds (\u51dd\u4e73) and whey (\u4e73\u6e05)</li> <li>A raffle (\u62bd\u5956) is a type of contest in which participants purchase tickets in exchange for chances to win a prize.</li> <li>seedless raisins (\u8461\u8404\u5e72\uff0c\u63d0\u5b50\u5e72) </li> <li>Bigshot (\u5927\u4eba\u7269) psychologist, unhappy when his famous finding does not replicate, won\u2019t consider that he might have been wrong; instead he scrambles furiously (\u6fc0\u70c8\u5730\uff0c\u72c2\u6012\u5730) to preserve his theories.</li> <li>zealot: \u72c2\u70ed\u8005</li> <li>A truly brave man is even serene (\u5b89\u9759\uff0c\u5b81\u9759); he is never taken by surprise; nothing ruffles the equanimity (\u9547\u5b9a) of his spirit.</li> <li>Onychectomy (\u9664\u722a\u624b\u672f), popularly known as declawing, is an operation to remove an animal\u2019s claws surgically by means of the amputation (\u622a\u80a2) of all or part of the distal (\u672b\u68a2\u7684\uff0c\u672b\u7aef\u7684) phalanges (\u8dbe\u9aa8), or end bones, or the animal\u2019s toes.</li> <li>ostrich: \u9e35\u9e1f</li> </ul>"},{"location":"English/#202104","title":"2021.04","text":"<ul> <li>racquetball: \u58c1\u7403</li> <li>cheerleading: \u5566\u5566\u961f<ul> <li>cheerleader: \u5566\u5566\u961f\u961f\u957f</li> </ul> </li> <li>Human meridian (Jingluo) system was by hypothesized by traditional Chinese medicine (TCM) for thousands of years, suggesting twelve formal meridian channels going through respective organs, carrying fluid and energy, and laying thermal effects.</li> <li>Dig a pit (\u6df1\u5751\uff0c\u77ff\u4e95) and bury (\u63a9\u57cb\uff0c\u57cb\u85cf) the garbage.</li> <li>gay (\u7537\u540c\u6027\u604b) and lesbian (\u5973\u540c\u6027\u604b)</li> <li>the calamity (\u707e\u7978\uff0c\u707e\u96be) of the 1918 flu pandemic.</li> <li>left ventricle: \u5de6\u5fc3\u5ba4</li> <li>The most salient (\u7a81\u51fa) point of any pie chart is that the percentages add up to 100%.</li> <li>For a time, it appears, Homo erectus (\u76f4\u7acb\u4eba) was the only hominid (\u4eba\u7c7b\u53ca\u5176\u7956\u5148\u7684) species on Earth.</li> <li>sandpit: \u91c7\u6c99\u5751</li> <li>Much as I abominate (\u8ba8\u538c\uff0c\u4e0d\u559c\u6b22) writing, I would not give up his correspondence for any consideration.</li> <li>gobbledygook: \u5b98\u6837\u6587\u7ae0</li> <li>incestuous: \u4e71\u4f26\u7684\uff0c\u8fd1\u4eb2\u7e41\u6b96\u7684</li> <li>neonatology: \u65b0\u751f\u513f\u79d1\u5b66</li> <li>trophy: \u6218\u5229\u54c1\uff0c\u5956\u54c1<ul> <li>trophy cup: \u5956\u676f</li> <li>trophy wife: \u82b1\u74f6\u59bb\u5b50\uff08\u4ee5\u9752\u6625\u548c\u7f8e\u8c8c\u4e3a\u672c\u94b1\u7684\u59bb\u5b50\uff09</li> </ul> </li> <li>Mussolini: \u72ec\u88c1\u8005\u58a8\u7d22\u91cc\u5c3c</li> <li>jerk: \u6027\u60c5\u53e4\u602a\u7684\u4eba</li> <li>alchemy: \u70b9\u91d1\u672f</li> <li>I am a dreamer, but I\u2019m also extremely pragmatic (\u52a1\u5b9e\u7684).</li> <li>The Regency (\u6444\u653f\u65f6\u4ee3) in the United Kingdom of Great Britain and Ireland was a period at the end of the Georgian era, when King George III was deemed unfit to rule due to his illness. The term Regency (or Regency era) can refer to various stretches of time; some are longer than the decade of the formal Regency, which lasted from 1811 to 1820. wiki<ul> <li>Hyatt Regency: \u51ef\u60a6\u9152\u5e97</li> </ul> </li> <li>Phenological (\u9885\u76f8\u5b66\u7684) responses to climate change (e.g. earlier leaf-out or egg hatch (\u5b75\u5316) date) are now well documented and clearly linked to rising temperatures in recent decades.</li> <li>a list of big, high profile goals that proved far more challenging than people had anticipated circa (\u300c\u4e0e\u65e5\u671f\u8fde\u7528\u300d\u5927\u7ea6) 1970</li> <li>I admire the authors for simply admitting they made an error and stating clearly and without equivocation (\u6a21\u68f1\u4e24\u53ef\u7684\u8bdd) that their original conclusions were not substantiated (\u8bc1\u660e\uff0c\u8bc1\u5b9e).</li> <li>It is not a panacea (\u4e07\u80fd\u836f) for every problem of statistical inference, nor does it apply equally effectively to every type of random process in its simplest form.</li> <li>If X_iX_i denoted the hexamine (\u516d\u80fa) content of the ii-th pallet (\u8d27\u677f) produced by a palletizing (\u7801\u579b) machine under identical production conditions,\u2026</li> <li>We get bacon and ham (\u706b\u817f\uff0c\u9999\u80a0) from pigs.</li> <li>Are they doomed (\u6ce8\u5b9a) to live in squalor (\u60b2\u60e8)?</li> <li>but also exposes imho the chasm (\u88c2\u53e3\uff0c\u5206\u6b67) existing between statistical and machine learning perspectives on the problem.<ul> <li>IMHO: in my humble opinion, \u4f9d\u672c\u4eba\u611a\u89c1\uff0c\u6055\u6211\u76f4\u8a00</li> </ul> </li> <li>If you refuse to let them go, I will bring locusts (\u8757\u866b) into your country tomorrow. They will cover the face of the ground so that it cannot be seen. They will devour (\u541e\u98df) what little you have left after the hail (\u51b0\u96f9), including every tree that is growing in your fields.</li> <li>The five countries formed a regional trade bloc (\u96c6\u56e2\uff0c\u8054\u76df).</li> <li>You were epically (\u5b8f\u4f1f\u5730\uff0c\u53f2\u8bd7\u5f0f\u5730) productive last week.</li> <li>A lot of propaganda (\u5ba3\u4f20) has painted him as bad.</li> <li>R. A. Fisher is usually perceived to have been a staunch (\u575a\u5b9a\u7684\uff0c\u5fe0\u8bda\u7684) critic of the Bayesian approach to statistic.</li> <li>Addressing envelopes all day long is dreary (\u6c89\u95f7\u5355\u8c03) work.</li> <li>The drought (\u5e72\u65f1) depressed the water level in the reservoirs (\u6c34\u5e93).</li> <li>Fudged (\u7be1\u6539) statistics on the Iraq War (\u4f0a\u62c9\u514b\u6218\u4e89) death are still circulating today.</li> <li>Japan decided to resume whaling last week after a year long moratorium (\u6682\u505c).</li> <li>donkey: \u9a74</li> <li>I get vertigo (\u7729\u6655) on the step stool (\u51f3\u5b50).</li> </ul>"},{"location":"English/#202103","title":"2021.03","text":"<ul> <li>If something tickles (\u4f7f\u53d1\u75d2) you, it makes you laugh.<ul> <li>It really does not tickle my fancy. \u5b83\u771f\u7684\u65e0\u6cd5\u8ba9\u6211\u63d0\u8d77\u5174\u8da3\u3002</li> </ul> </li> <li>It\u2019s better to report results clearly and graphically rather than contorting (\u626d\u66f2) the data to support some particular claim.</li> <li>It empowers (\u4f7f\u80fd\u591f\uff0c\u6388\u6743\uff0c\u5141\u8bb8) you to put your best foot forward (\u5168\u529b\u4ee5\u8d74, embark on (\u4ece\u4e8b) an undertaking (\u5de5\u4f5c\uff0c\u4efb\u52a1) with as much effort and determination as possible) through exclusive access to features like vocabulary enhancement and suggestions for improving style and tone.<ul> <li>empower your dream: \u6210\u5c31\u4f60\u7684\u68a6\u60f3</li> <li>When I sing on stage I feel empowered (\u611f\u89c9\u5f88\u6709\u529b\u91cf).</li> </ul> </li> <li>Scarcity (\u7a00\u7f3a\u6027) means we must make a choice.</li> <li>Soak (\u6e17\u900f\uff0c\u6d78\u6ce1) the vegetables before cooking to clear the remnant (\u5269\u4f59\uff0c\u6b8b\u7559) of pesticides (\u6740\u866b\u5242).</li> <li>He generously (\u6177\u6168\u5730) presented all their property to the state.</li> <li>The cherry trees are in full blossom (\u6b63\u5f00\u7740\u82b1) now. See also: \u6a31\u6843\u82b1 vs \u6a31\u82b1</li> <li>My consciousness dissipated in a final whiff (\u4e00\u70b9\u70b9) of warm exhalation (\u547c\u6c14).</li> <li>Mortgage-Backed Securities (MBS, \u4e0d\u52a8\u4ea7\u62b5\u62bc\u8d37\u6b3e\u8bc1\u5238) and the Financial Crisis of 2008: A Post Mortem<ul> <li>The AAA tranches (\u5728\u6295\u8d44\u754c\uff0c\u7528\u6765\u63cf\u8ff0\u53ef\u4ee5\u88ab\u5206\u5272\u6210\u5e76\u5356\u7ed9\u6295\u8d44\u8005\u7684\u5c0f\u989d\u8bc1\u5238) of subprime science.</li> <li>subprime mortgage: \u6b21\u7ea7\u8d37\u6b3e</li> <li>subprime mortgage crisis: \u6b21\u8d37\u5371\u673a</li> </ul> </li> <li>A long lost hope can be rekindled (\u91cd\u71c3).</li> <li>a harbor clotted (\u51dd\u7ed3) with sunken (\u6c89\u6ca1\u7684) vessel (\u8239\uff0c\u8230)<ul> <li>blood clot: \u8840\u51dd\u5757\uff0c\u8840\u5757</li> </ul> </li> <li>Government efforts to resuscitate (\u4f7f\u590d\u6d3b\uff0c\u4f7f\u82cf\u9192) the market have flopped (\u5f7b\u5e95\u5931\u8d25\uff0c\u4e0d\u6210\u529f).</li> <li>The cosmological (\u5b87\u5b99\u8bba\u7684) application therein deals with the incorporation of recent measurement in the study of \u039bCDM cosmological model.</li> <li>The SDSS (Sloan Digital Sky Survey)-III\u2019s Baryon Oscillation Spectroscopic Survey (BOSS) was designed to measure the expansion rate of the universe.</li> <li>The central ideas of this earlier paper are the introduction of conformal Hamiltonian dynamics, where a dissipative (\u8017\u6563\u7684) term is added to the ODE found in HMC.</li> <li>As someone who has worked in AI for decades, I\u2019ve witnessed the failure of similar predictions of imminent (\u8feb\u8fd1\u7684\uff0c\u5373\u5c06\u6765\u4e34\u7684) human-level AI, and I\u2019m certain these latest forecasts will fall short (fail to meet expectations or standards) as well.</li> <li>The article on the CSI effect demonstrates a statistical fallacy, which is the view that, once a statistically significant result has been found, that this retroactively (\u8ffd\u6eaf\u5730) removes all concerns about inferential uncertainty due to variation in the data.</li> <li>It was around this time that the predicament (\u56f0\u96be\u7684\u5904\u5883\uff0c\u7a98\u5883) of my existence struck me with a jolt (\u9707\u60ca\uff0c\u60ca\u8bb6).</li> <li>The field is interspersed (\u6563\u5e03\uff0c\u6563\u7f6e) with wild flowers.</li> <li>Is consciousness an emergent (\u610f\u5916\u7684\uff0c\u81ea\u7136\u53d1\u751f\u7684) but otherwise peripheral (\u6b21\u8981\u7684\uff0c\u5916\u56f4\u7684) phenomenon of the compression demanded by the tremendous pressure of the objective, or the key algorithmic innovation, incrementally constructed, perfected and reliably converged on in the program space?<ul> <li>emergent light: \u5e94\u6025\u706f</li> </ul> </li> <li>I reveled (\u72c2\u6b22\uff0c\u9676\u9189) at this epiphany (\u3010\u5b97\u3011(\u6bcf\u5e74\u4e00\u6708\u516d\u65e5\u7eaa\u5ff5\u8036\u7a23\u663e\u7075\u7684)\u663e\u73b0\u8282\uff1b(\u795e\u7684)\u663e\u73b0) for a layer or two.</li> <li>Machine learning researchers like to call these evil forged images as \u201cadversarial (\u654c\u5bf9\u7684\uff0c\u5bf9\u6297\u7684) samples\u201d.</li> <li>Heresy (Herecy, \u5f02\u7aef) is any belief or theory that is strongly at variance with established beliefs or customs.</li> <li>Students read, flirt (\u8c03\u60c5), converse (\u4ea4\u8c08), mediate (\u51a5\u60f3\uff0c\u6df1\u601d), brood (\u6c89\u601d).</li> <li>I highly value self-motivation, initiative (\u4e3b\u52a8\u6027) and creativity.<ul> <li>peace initiative: \u548c\u5e73\u5021\u8bae</li> </ul> </li> <li>It has its perils (\u5371\u9669) and its merits (\u4f18\u70b9\u3001\u597d\u5904).<ul> <li>merits and demerits: \u4f18\u7f3a\u70b9</li> <li>Water shortages also imperil (\u4f7f\u9677\u4e8e\u5371\u9669\uff0c\u5371\u53ca) plans to expand energy production, threatening economic growth.</li> </ul> </li> <li>The coronavirus debacle (\u5d29\u6e83\uff0c\u707e\u5bb3) now threatens to do the same to Boris Johnson.</li> <li>And instead, he watched those tensions ratchet up (\u9010\u6e10\u5347\u9ad8) even further.<ul> <li>ratchet: (\u9632\u5012\u8f6c\u7684)\u68d8\u9f7f</li> </ul> </li> <li>Huckleberry friend: \u7ae5\u5e74\u548c\u5c11\u5e74\u65f6\u4ee3\u7684\u597d\u53cb\uff0c\u80cc\u666f\u662f\u5929\u771f\u65e0\u90aa\u3001\u65e0\u5fe7\u65e0\u8651\u7684\u73a9\u800d\u573a\u9762\u3002see also</li> <li>ladder type: \u68af\u5f62</li> <li>It\u2019s a total rip-off (\u76d7\u7a83) of an American reality show, but the imitation is unbearably clumsy.</li> <li>the principle of this idea of dissonance (\u4e0d\u8c03\u548c\uff0c\u4e0d\u548c\u8c10\u97f3) resolving to consonance (\u8c03\u548c\uff0c\u548c\u97f3).</li> <li>A centenarian is a person who lives to or beyond the age of 100 years. A supercentenarian is someone who has lived to or passed their 110th birthday.</li> <li>It was pretty nonsensical (\u65e0\u610f\u4e49\u7684\uff0c\u8352\u8c2c\u7684) which makes me wonder if I could get more viewers for Loaded if I just started running my mouth and talking nonsense.</li> <li>It\u2019s perfect, you know. It\u2019s gorgeous (\u6781\u597d\u7684\uff0c\u975e\u5e38\u6f02\u4eae\u7684). It\u2019s almost uncanny (\u795e\u5947\u7684\uff0c\u79bb\u5947\u7684\uff0c\u795e\u79d8\u7684).<ul> <li>uncanny valley: \u6050\u6016\u8c37\uff0c\u6050\u6016\u8c37\u7406\u8bba</li> </ul> </li> <li>A relatively small variation in breakfast\u2019s macronutrient (\u8425\u517b\u7d20) composition has a striking impact on social decisions.<ul> <li>nutritious (\u6709\u8425\u517b\u7684) recipes</li> </ul> </li> <li>It was hard to say which class was more cordially (\u70ed\u8bda\u5730\uff0c\u53cb\u5584\u5730) hated by the settled citizenry, the impractical Yankee (\u7f8e\u56fd\u5317\u65b9\u4eba\u7684) schoolmarms (\u5973\u6559\u5e08) or the Scallawags (white Southerners, also spelled as Scalawag), but the balance probably fell with the latter.</li> <li>Shock waves are produced as young hot stars ionize (\u7535\u79bb) the surrounding gas, forming emission nebulae.</li> <li>A protostar (\u539f\u6052\u661f) is a very young star that is still gathering mass from its parent molecular cloud. The protosteller (\u539f\u6052\u661f\u7684) phase is the earliest one in the process of stellar (\u661f\u7684) evolution. The phase begins when a molecular cloud first collapses under the force of self-gravity. It ends when the protostar blows back the infalling gas and is revealed as an optically visible pre-main-sequence star, which later contracts to become a main sequence star.</li> <li>The Ph.D. process is exhausting, and some leave the field after the grad school grind, never again to publish in a scientific journal. Others, though, find it exhilarating (\u4ee4\u4eba\u632f\u594b\u7684), and go on to highly productive careers.</li> <li>We begin by studying how interstellar clouds of gas and dust are transformed into the myriad (\u65e0\u6570\u7684) stars throughout the night sky.</li> <li>stellar nurseries (a child\u2019s room for a bady) are scenes of violent outbursts, interstellar shock waves, even actual collisions, as prestellar fragments grow in mass and compete for resources in a newborn cluster.<ul> <li>nursery school: \u5e7c\u513f\u56ed</li> </ul> </li> <li>a large mosaic of a billion bits of data stitched (\u7f1d\uff0c\u7f1d\u5408) together from hundreds of small images</li> <li>the loose matter comparising the surrounding nebulosity (\u661f\u4e91).</li> <li>The infrared spectrum (\u7ea2\u5916\u5149\u8c31) at bottom was acquired by Europe\u2019s Herschel (\u8d6b\u6b47\u5c14) Space Observatory.</li> <li>We do not see this activity (billions of stars have been born, lived out their lives, and died since our Galaxy formed) when we gaze (\u51dd\u89c6) at the nighttime sky, because the time scales on which starts play out this cosmic (\u5b87\u5b99\u7684) drama are enormously long by human standards.</li> <li>The road from a gas cloud to a single, isolated star like the Sun is long and tortuous indeed!</li> <li>The real lesson learned from those academic hoaxes (\u9a97\u5c40): a key part of getting a paper published in a scholarly journal is to be able to follow the conventions of the journal.<ul> <li>virus hoax: \u75c5\u6bd2\u6076\u4f5c\u5267</li> </ul> </li> <li>The daemon process is terminated automatically before the main program exits, to avoid leaving orphaned (\u5b64\u7acb\u7684) processes running.<ul> <li>orphan asylum: \u5b64\u513f\u9662</li> </ul> </li> <li>In multitasking computer operating systems, a daemon (\u5b88\u62a4\u8fdb\u7a0b) is a computer program that runs as a background process, rather than being under the direct control of an interactive user. In a Unix environment, the parent process of a daemon is often, but not always, the init process.</li> <li>It usually more useful to be able to spawn (\u4ea7\u5375\uff0c\u5f15\u53d1\uff0c\u5bfc\u81f4) a process with arguments to tell it what work to do.</li> <li>Facts matter. Fairness matters. The presumption (\u5047\u5b9a\uff0c\u8ba4\u5b9a) of innocence is sacrosanct (\u6781\u5176\u795e\u5723\u7684\uff0c\u4e0d\u53ef\u4fb5\u72af\u7684).</li> <li>Conjoint analysis (\u8054\u5408\u5206\u6790), also called multi-attribute compositional models or stated preference analysis, is a statisical technique that originated in mathematical psychology.</li> <li>Free range denotes a method of farming husbandry (\u755c\u7267\uff0c\u9972\u517b\uff0c\u519c\u4e1a) where the animals, for at least part of the day, can roam freely outdoors, rather than being confined in an enclosure for 24 hours each day.<ul> <li>organically fed, free range chicken\uff1a\u6709\u673a\u5582\u517b\u7684\u6563\u517b\u9e21</li> </ul> </li> <li>Milky Way (galaxy): \u94f6\u6cb3\uff0c\u94f6\u6cb3\u7cfb</li> <li>It\u2019s the accountant/economist\u2019s dilemma of disregarding (\u4e0d\u7406\u4f1a\uff0c\u65e0\u89c6) sunk costs (\u6c89\u6ca1\u6210\u672c\uff0c\u5df2\u652f\u4ed8\u6210\u672c).</li> <li>According to the economist Paul Krugman (2013), a zombie (\u50f5\u5c38) idea is a view that\u2019s been thoroughly refuted by a mountain of empirical evidence but nonetheless refuses to die, being continually reanimated by our deeply held beliefs. source</li> <li>immigrants do not have a greater-than-average arrest and incarceration (\u76d1\u7981\uff0c\u4e0b\u72f1) rates.</li> <li>Venus: \u91d1\u661f\uff0c\u7231\u795e\u7ef4\u7eb3\u65af</li> <li>Jupiter: \u6728\u661f\uff0c\u4f17\u4e4b\u738b\u6731\u5e87\u7279</li> <li>Mercury\uff1a\u6c34\u661f\uff0c\u4fe1\u4f7f\u795e\u58a8\u4e18\u5229<ul> <li>mercury\uff1a\u6c34\u94f6\uff0c\u6c34\u94f6\u67f1</li> </ul> </li> <li>Mars: \u706b\u661f\uff0c\u6218\u795e\u9a6c\u5c14\u65af</li> <li>Saturn\uff1a\u571f\u661f\uff0c\u519c\u4e1a\u4e4b\u795e</li> <li>He is allergic (\u8fc7\u654f\u7684) to lobster (\u9f99\u867e).</li> <li>We have got to instill (\u5f90\u5f90\u6ef4\u5165\uff1b\u9010\u6e10\u704c\u8f93) values in these young people.</li> <li>The hijackers (\u52ab\u6301\u8005) released three of the hostages (\u4eba\u8d28).</li> <li>Then top with marshmallows (\u68c9\u82b1\u7cd6), and bake again until brown. \u7136\u540e\u52a0\u5165\u68c9\u82b1\u7cd6\uff0c\u518d\u70d8\u70e4\u81f3\u68d5\u8272\u3002</li> <li>Polio (\u5c0f\u513f\u9ebb\u75f9\u75c7\uff0c\u810a\u9ad3\u7070\u8d28\u708e), short for poliomyelitis, is a highly infectious disease.</li> <li>The finding, from the Laser Interferometer (\u5e72\u6d89\u4eea) Gravitational-Wave Observatory, or LIGO (\u6fc0\u5149\u5e72\u6d89\u5f15\u529b\u6ce2\u5929\u6587\u53f0), showed that extreme gravity can cause ripples (\u6ce2\u7eb9\uff0c\u6d9f\u6f2a) in spacetime.</li> <li>Colliding dust grains formed larger and larger clumps (\u56e2\u5757).</li> </ul>"},{"location":"English/#202102","title":"2021.02","text":"<ul> <li>clunky (\u6c89\u91cd\u7684\uff0c\u7b28\u91cd\u7684) high-heel shoes</li> <li>the symbolic meaning of a Manhattan project (\u9ea6\u54c8\u987f\u8ba1\u5212) and a moonshot (\u6708\u7403\u63a2\u6d4b\u5668).</li> <li>The julia language bills (\u5ba3\u4f20) itself as \u201cfresh approach to technical computing\u201d.</li> <li>Music is an aurally (\u542c\u89c9\u4e0a) perceived (\u5bdf\u89c9\uff0c\u611f\u77e5) phenomenon.</li> <li>He\u2019s been arrested on suspension of intoxication (\u9676\u9189\uff0c\u9169\u914a\u5927\u9189) manslaughter (\u8fc7\u5931\u6740\u4eba).<ul> <li>alcohol intoxication: \u9152\u7cbe\u4e2d\u6bd2</li> </ul> </li> <li>Yet as soon as the UN Security Council (\u653f\u52a1\u59d4\u5458\u4f1a) issued new sanctions against the regime (\u653f\u4f53) as a result of the rocket launch, the response was apoplectic (\u5927\u6012\u7684\uff0c\u5341\u5206\u751f\u6c14\u7684), warning of more tests and threatening to attack America.<ul> <li>apoplectic patients: \u4e2d\u98ce\u60a3\u8005</li> </ul> </li> <li>His attorney (\u4ee3\u7406\u4eba\uff0c\u5f8b\u5e08) says he\u2019ll appeal the conviction.<ul> <li>attorney general: \u53f8\u6cd5\u90e8\u957f\uff0c\u9996\u5e2d\u68c0\u5bdf\u5b98</li> </ul> </li> <li>Popular newspapers are known as tabloids (\u5c0f\u62a5\uff0c\u6587\u6458).</li> <li>There will be an uphill (\u4e0a\u5761\u7684\uff0c\u5411\u4e0a\u7684) incline eventually.</li> <li>A nudge (\u63a8\u52a8\uff0c\u7528\u8098\u8f7b\u63a8) is a small push, to encourage us to do something.</li> <li>The winners stand on the podium (\u9886\u5956\u53f0\uff0c\u4e50\u961f\u6307\u6325\u53f0).</li> <li>Bureau of Consular (\u9886\u4e8b\u7684) Affairs: \u9886\u4e8b\u4e8b\u52a1\u5c40</li> <li>Policy wonks (a person who takes an enthusiastic or excessive interest in the specialized details of a particular subject or field, especially political policy.) have long dreamed of simplifying America\u2019s tax code.<ul> <li>wonk: a studious (\u7528\u5de5\u7684\uff0c\u4e13\u5fc3\u7684) or hard-working person</li> </ul> </li> <li>This is accomplished by JLL packages (a pun (\u53cc\u5173\u8bed\uff0c\u4fcf\u76ae\u8bdd) on \u201cDynamic-Link Library\u201d, with the J standing for Julia).</li> <li>The anatomy (\u89e3\u5256\uff1b\u89e3\u5256\u5b66\uff1b\u89e3\u5256\u7ed3\u6784) of a bird is much simpler than that of an elephant.<ul> <li>anatomy of a JLL package</li> </ul> </li> <li>I binge (\u653e\u7eb5\uff0c\u72c2\u6b22\u4f5c\u4e50) watch television shows sometimes\u2026always!</li> <li>A black banner hung over the doorway of the hall, with white characters \u201cdeeply mourn (\u54c0\u60bc\uff0c\u60bc\u5ff5) for martyrs (\u70c8\u58eb) and compatriots (\u540c\u80de) who died in COVID-19 outbreak.\u201d source</li> <li>The umbra (\u672c\u5f71), penumbra (\u534a\u5f71) and antumbra (\u4f2a\u672c\u5f71) are three distinct parts of shadow, created by any light source after impinging on an opaque object. wiki</li> <li>petit (\u5c0f\u7684\uff0c\u6b21\u8981\u7684) four: \u3010\u6cd5\u3011\u5c0f\u86cb\u7cd5</li> <li>What\u2019s the difference between a gamete (\u914d\u5b50\uff0c\u751f\u6b96\u7ec6\u80de) and a zygote (\u53d7\u7cbe\u5375)?</li> <li>leukocyte: \u767d\u7ec6\u80de</li> <li>Cheap and rapid antigen (\u6297\u539f) testing can identify and prevent every cluster of COVID-19.</li> <li>codominant gene: \u7b49\u663e\u6027\u57fa\u56e0</li> <li>Aleppo (\u963f\u52d2\u9887) is the commercial hub (\u4e2d\u5fc3) of Syria (\u53d9\u5229\u4e9a), symbolically unparalleled (\u65e0\u4e0e\u4f26\u6bd4\u7684\u8c61\u5f81\u610f\u4e49).</li> <li>The book describes how they used copper (\u94dc) to sterilize (\u6d88\u6bd2) wounds (\u4f24\u53e3) and drinking water.</li> <li>Alas, like many good stories this one appears to be apocryphal (\u771f\u5b9e\u6027\u53ef\u7591\u7684\uff0c\u4f2a\u9020\u7684\uff0c\u675c\u64b0\u7684).</li> <li>Binomial nomenclature (\u547d\u540d\u6cd5) gives every species a unique and stable two-word name, agreed upon by biologists worldwide.</li> <li>As people get older, many of them develop the disease osteoporosis (\u9aa8\u8d28\u758f\u677e\u75c7).</li> <li>This study sheds light on (\u9610\u660e) improving treatment effect estimation efficiency by implementing machine learning methods in covariate-adaptive randomized experiments.</li> <li>They want to minimize their staff turnover (\u5458\u5de5\u6d41\u52a8\u7387).<ul> <li>The textile export turnover (\u8425\u4e1a\u989d) has been increased 67% this year in China.</li> </ul> </li> <li>He was found guilty of culpable homicide (\u5211\u4e8b\u6740\u4eba\uff0c\u5e94\u53d7\u60e9\u7f5a\u7684\u6740\u4eba\u7f6a) for the shooting of his girlfriend.</li> <li>Stated-owned enterprises (SOE)\uff1a\u56fd\u6709\u4f01\u4e1a</li> <li>corporate (\u793e\u56e2\u7684\uff0c\u6cd5\u4eba\u7684) misconduct (\u4e0d\u5f53\u884c\u4e3a)</li> <li>innocent (\u65e0\u7f6a\u7684\uff0c\u65e0\u8f9c\u7684) until proven guilty.</li> <li>The fact that NNLS, apart from sign constraints, only consists of a fitting term, fosters (\u517b\u80b2\uff0c\u629a\u80b2\uff1b\u57f9\u517b) the intuition that NNLS is prone to overfitting.</li> <li>Their niceness can be so unsettling (\u4f7f\u4eba\u4e0d\u5b89\u7684) you might even try a trick or two.</li> <li>The heart is a highly contractile (\u6709\u6536\u7f29\u6027\u7684) organ.</li> <li>A veneer (\u865a\u5047\u7684\u5916\u8868\uff0c\u865a\u9970) of jaunty (\u5feb\u6d3b\u7684\uff0c\u6d3b\u6cfc\u7684) self-confidence thinly concealed (\u9690\u85cf\uff0c\u9690\u7792) his nervousness.</li> <li>When people are forgotten, the world becomes fractured (\u65ad\u88c2\u7684\uff0c\u5206\u5316\u7684).</li> <li>postmenopausal women: \u7edd\u7ecf\u540e\u5987\u5973</li> <li>Nota bene (\u6ce8\u610f) is a Latin phrase. Often abbreviated as NB, n.b., the phrase is Latin for \u201cnote well\u201d. In modern English, it is used, particularly in legal papers, to draw the attention of the reader to a certain (side) aspect or detail of the subject being addressed.</li> <li>If your laser is mounted on a car on a bumpy (\u5d0e\u5c96\u4e0d\u5e73\u7684\uff0c\u98a0\u7c38\u7684) road, or tracking some object in the sky, or your data comes from acoustic waves (\u58f0\u6ce2) traveling through earth, you are bound to (\u5fc5\u7136\uff0c\u5fc5\u5b9a) get noise.</li> <li>turquoise (\u9752\u7eff\u8272); magenta (\u54c1\u7ea2\uff0c\u6d0b\u7ea2)</li> <li>She is the curator (\u9986\u957f\uff1b\u76d1\u62a4\u4eba\uff1b\u7ba1\u7406\u8005) of the museum.<ul> <li>a bundle of curated (\u4ed4\u7ec6\u6311\u9009\u7684\uff1b\u7cbe\u9009\u7684) packages from different categories</li> </ul> </li> <li>They were following the normal protocol (\u534f\u8bae\uff0c\u534f\u5b9a) of the cancer genome consortium (\u8054\u76df).<ul> <li>communication protocol: \u901a\u4fe1\u534f\u8bae</li> </ul> </li> <li>Land severely depleted (\u8017\u5c3d) by urbanization, population growth, intensive agriculture and climate change.<ul> <li>Understanding what depletes you and what replenishes you makes you more effective at life. </li> </ul> </li> <li>Two putative (\u4e00\u822c\u8ba4\u5b9a\u7684\uff0c\u63a8\u5b9a\u7684) human sex pheromones turn out not to be.</li> <li>chronic disease: \u6162\u6027\u75c5</li> <li>Shame can be crippling (\u4e25\u91cd\u635f\u5bb3\u8eab\u4f53\u7684) and debilitating (\u4f7f\u8870\u5f31\uff0c\u4f7f\u865a\u5f31).</li> <li>postmortem examination: \u5c38\u68c0\uff1b\u5c38\u4f53\u5256\u68c0</li> <li>Every farm needs cats because otherwise, they can overrun (\u8d85\u8fc7\uff0c\u6cdb\u6ee5) by rodents (\u556e\u9f7f\u7c7b\u52a8\u7269).</li> <li>The buyers can then use a website to tinker (\u7c97\u4fee\uff0c\u4fee\u8865) with the designs further to create exactly the look they want.</li> <li>The use of pretentious (\u72c2\u5984\u7684\uff0c\u81ea\u547d\u4e0d\u51e1\u7684\uff0c\u81ea\u8d1f\u7684) phrases and complex acronyms is generally designed to obfuscate rather than elucidate (\u9610\u660e\uff0c\u89e3\u91ca).</li> <li>Psychiatry is the branch of medicine concerned with the bio-psycho-social study of the etiology (\u75c5\u56e0\u5b66\uff1b\u75c5\u539f\u5b66), diagnosis, treatment and prevention of cognitive, perceptual, emotional and behaviorical disorders.</li> <li>The scientists were eager to unravel (\u89e3\u5f00\uff1b\u9610\u660e) the cause of death.</li> <li>If she had had a little more self-control she would have attenuated (\u4f7f\u51cf\u5f31\uff1b\u4f7f\u7a00\u8584) the emotion to nothing by sheer (\u5145\u5206\u7684\uff0c\u5b8c\u5168\u7684) reasoning, and so have killed it off.</li> <li>I intend to amortize (\u5206\u671f\u507f\u8fd8) the total cost of the car over three years.</li> <li>Their feet are wide and splay (\u5f20\u5f00) outwards to stop them sinking in loose sand.</li> <li>Success always seems as inevitable in retrospect as it is elusive (\u96be\u4ee5\u6349\u6478\u7684\uff0c\u4e0d\u6613\u8bb0\u4f4f\u7684) when sought.</li> <li>As a PhD student, how do you make sure your research had not already been done before, rendering (cause to become) it obsolete (\u8fc7\u65f6\u7684\uff0c\u5e9f\u5f03\u7684\uff0c\u8001\u5f0f\u7684)?</li> <li>If you do not know if you are starting off in a good region, assessing convergence is fraught with (\u5145\u6ee1\u2026\u7684) epistemological (\u8ba4\u8bc6\u8bba\u7684) problems.</li> <li>The assessment derived from those techniques is partly subjective and clearly not foolproof (\u4e07\u65e0\u4e00\u5931\u7684\uff0c\u80af\u5b9a\u6210\u529f\u7684).</li> <li>There was a flurry (\u4e00\u9635\u5fd9\u4e71\uff08\u6216\u6fc0\u52a8\u3001\u5174\u594b\u7b49\uff09\uff1b\u5c0f\u9635\u96ea\uff08\u6216\u96e8\u7b49) of papers at the end of 1990s concerned with the development of convergence diagnoses.</li> <li>An ergodic Markov chain that starts from one mode of ff can be correctly deemed (\u8ba4\u4e3a\uff0c\u89c6\u4f5c\uff0c\u76f8\u4fe1) to be in its stationary regime, but it may still require many iterations to reach the other modes of this distribution, another occurrence of the \u201cmissing mass\u201d problem.</li> <li>It\u2019s a replica (\u590d\u5236\u54c1) of a classical work originally made perhaps around 300 BC.</li> <li>He asked his bean-counter (&lt;\u4fda&gt;\u7edf\u8ba1\u4e13\u5bb6) to crunch (\u56bc\uff0c\u54ac\u788e) the numbers.<ul> <li>crunch time: \u5173\u952e\u65f6\u523b\uff0c\u5173\u952e\u65f6\u95f4</li> <li>credit crunch: \u4fe1\u8d37\u7d27\u7f29\uff0c\u4fe1\u8d37\u5371\u673a\uff08\u7b49\u4e8e credit crisis)</li> <li>credence: \u4fe1\u4efb\uff0c\u51ed\u8bc1</li> </ul> </li> <li>A Bayesian analysis concludes beyond a reasonable doubt that SARS-CoV-2 is not a natural zoonosis (\u52a8\u7269\u4f20\u67d3\u75c5) but instead is laboratory derived.</li> </ul>"},{"location":"English/#202101","title":"2021.01","text":"<ul> <li>What\u2019s new here is they duped (\u6b3a\u9a97\uff0c\u611a\u5f04) Americans into helping them seem more credible.<ul> <li>super-duper: \u8d85\u7ea7\u5927\u9a97\u5b50</li> </ul> </li> <li>drug trafficking: \u6bd2\u54c1\u8d70\u79c1<ul> <li>drug trafficker: \u6bd2\u54c1\u8d29\u5b50</li> <li>human trafficking: \u4eba\u53e3\u8d29\u5356</li> </ul> </li> <li>The bazaar (\u96c6\u5e02\uff1b\u5e02\u573a\uff1b\u4e49\u5356\u5e02\u573a) had taken place Monday night and today was only Thursday.</li> <li>Cathedrals (\u603b\u6559\u5802\uff0c\u5927\u6559\u5802) were much more urban in their loation.</li> <li>These feelings are normal, and you\u2019ll never truly banish (\u9a71\u9010\uff0c\u6d88\u9664) them.</li> <li>Rising global temperatures could shift the balance between males and females in crocodile (\u9cc4\u9c7c) and alligator (\u77ed\u543b\u9cc4) populations, potentially leading to a sharp decline in the reptiles (\u722c\u884c\u52a8\u7269)\u2018 reproduction rates\u2026\u2026</li> <li>Do people cheat by rigging (\u64cd\u7eb5) the prior?</li> <li>The flashy (\u70ab\u8000\u6280\u827a\u7684) crooks (\u9a97\u5b50) get the headlines, but the bigger problem in everyday routine bad science done by non-crooks.<ul> <li>a crooked (\u5f2f\u66f2\u7684) mile</li> </ul> </li> <li>The truth of a theory is contingent on (\u89c6\u2026\u2026\u800c\u5b9a\uff0c\u53d6\u51b3\u4e8e\u2026\u2026) both our state of knowledge and the purposes to which it will be put.</li> <li>The intrepid (\u52c7\u6562\u7684\uff0c\u65e0\u754f\u7684) explorers reached the South Pole.</li> <li>That\u2019s part one of the trilogy (\u4e09\u90e8\u66f2).</li> <li>The trio (\u4e09\u4eba\u4e00\u7ec4\uff0c\u4e09\u4ef6\u4e00\u5957) has denied the charges.</li> <li>abstemious (\u9002\u4e2d\u7684\uff0c\u3010\u5c24\u6307\u5728\u5403\u996d\u3001\u996e\u9152\u65b9\u9762\u3011\u6709\u8282\u5236\u7684) habit</li> <li>the name-calling tone of this tribune, as illustrated by the above quotes, is appalling (\u4ee4\u4eba\u9707\u60ca\u7684\uff0c\u9a87\u4eba\u542c\u95fb\u7684) and populist (\u5e73\u6c11\u4e3b\u4e49\uff0c\u6c11\u7cb9\u4e3b\u4e49), more in the spirit of Trump than of a rational search for scientific evidence.</li> <li>Out of the welter (\u6df7\u5408) of rapture (\u72c2\u559c) and anger and heartbreak and hurt pride (\u5c48\u8fb1) that he had left, depression emerged to sit upon her shoulder like a carrion (\u8150\u8089\u7684\uff0c\u5403\u8150\u8089\u7684) crow (\u4e4c\u9e26).</li> <li>Encryption jumbles (\u641e\u4e71\uff0c\u4f7f\u6df7\u4e71) words into random numbers, letters, characters.</li> <li>Traffic is hectic (\u7e41\u5fd9\u7684\uff0c\u5fd9\u4e71\u7684) every day.</li> <li>atrocious (\u6076\u52a3\u7684\uff0c\u7cdf\u900f\u7684) weather</li> <li>offer a bit of admonition (\u544a\u8beb\uff0c\u5fe0\u544a).</li> <li>A Journal of the Plague Year (\u761f\u75ab\u5e74\u7eaa\u4e8b) is a book by Daniel Defoe (\u4e39\u5c3c\u5c14\u00b7\u7b1b\u798f).<ul> <li>It has been plagued (\u56f0\u6270\uff0c annoy continually or chronically) by delays.</li> </ul> </li> <li>Just disclaimer (\u514d\u8d23\u58f0\u660e\uff1b\u5426\u5b9a\u7533\u660e), he\u2019s not sponsored by Adidas.</li> <li>The PhD is a very specific kind of experience that deserves a large disclaimer (\u653e\u5f03\uff0c\u62d2\u7edd).</li> <li>cram (\u585e\u6ee1\uff0c\u586b\u5165) them into a single talk.</li> <li>We will arrange the payment of the lump-sum (\u603b\u989d\uff0c\u4e00\u6b21\u603b\u4ed8\u7684\u94b1\u6b3e) award of $1000.</li> <li>It illustrates a problem with political punditry (\u6743\u5a01\u7684\u610f\u89c1): There\u2019s a demand for predictions, and there\u2019s no shortage of outlets promising a \u201ccrystal ball (\u3010\u5360\u535c\u7528\u7684\u3011\u6c34\u6676\u7403\uff1b\u9884\u8a00\u672a\u6765\u7684\u65b9\u6cd5)\u201d or some other short of certainty.</li> <li>It is full of prominent (\u8457\u540d\u7684\uff0c\u6770\u51fa\u7684), successful, well-connected bluffers (\u9a97\u5b50\uff0c\u865a\u5f20\u58f0\u52bf\u7684\u4eba).</li> <li>The results should be made public before the rule is enacted (\u5236\u5b9a\u3010\u6cd5\u5f8b\u3011\uff0c\u901a\u8fc7\u3010\u6cd5\u6848\u3011).</li> <li>Scientific rigor and social conscience (\u826f\u5fc3) do not always go together.</li> <li>Barring (\u4e0d\u5305\u62ec\uff0c\u9664\u975e) that, I have no other option.</li> <li>A pantheon (\u4e07\u795e\u6bbf\uff1b\u540d\u6d41\u7fa4) of super intelligent beings will watch over us.</li> <li>That particular study was riddled (\u5145\u6ee1\u7740) with flaws.<ul> <li>Riddle (\u8c1c\u8bed\uff0c\u8c1c\u4e00\u822c\u7684\u4eba) of Sphinx: \u65af\u82ac\u514b\u65af\u4e4b\u8c1c</li> </ul> </li> <li>they are written in newspeak (\u4e00\u79cd\u6307\u4e1c\u8bf4\u897f\u3001\u6a21\u68f1\u4e24\u53ef\u7684\u5b98\u8154) with enough acronyms (\u9996\u5b57\u6bcd\u7f29\u7565\u8bcd) to incapacitate (\u4f7f\u65e0\u80fd\u529b\u3001\u4f7f\u4e0d\u9002\u5408) a brand new typewriter.</li> <li>The lecturer droned (talk in a monotonous (\u65e0\u53d8\u5316\u7684\uff0c\u5355\u8c03\u4e4f\u5473\u7684) voice) on for hours.<ul> <li>drone: n. \u65e0\u4eba\u673a\uff0c\u96c4\u5cf0</li> <li>drone cinematography: \u65e0\u4eba\u673a\u6444\u5f71</li> </ul> </li> <li>sassy (&lt;\u8d2c&gt;\u7c97\u9c81\u7684\uff0c\u65e0\u793c\u7684\uff1b&lt;\u8912&gt;\u65f6\u9ae6\u7684\uff0c\u6f02\u4eae\u7684) girl: \u91ce\u86ee\u5973\u53cb</li> <li>trolley problem: \u6709\u8f68\u7535\u8f66\u96be\u9898\uff0c\u7535\u8f66\u95ee\u9898</li> <li>Mary is very adept (\u719f\u7ec3\u7684\uff0c\u64c5\u957f\u7684) at playing pianos.</li> <li>\u60f3\u60f3\u82f1\u8bed\u91cc\u67d0\u4e9b\u8bcd\u6c47\uff1a\u201cgristly (\u8f6f\u9aa8\u72b6\u7684\uff1b\u8f6f\u97e7), slithery (\u6ed1\u6e9c\u6e9c\u7684), slimy (\u9ecf\u7cca\u7cca\u7684\uff1b\u7c98\u817b), squelchy (\u8010\u56bc), crunchy (\u723d\u8106), gloopy (\u80f6\u7740)\u201d\u2026\u2026\u800c\u8fd9\u4e9b\u6070\u6070\u662f\u4e2d\u56fd\u7f8e\u98df\u4e2d\u6700\u53d7\u6b22\u8fce\u7684\u53e3\u611f\u3010\u9c7c\u7fc5\u4e0e\u82b1\u6912\u3011</li> <li>We\u2019ll have accountability and we will strive for bipartisanship (\u4e24\u515a\u5408\u4f5c) with fairness on all sides.</li> <li>fugitive (\u65e0\u5e38\u7684\uff0c\u9003\u4ea1\u7684\uff0c\u6613\u53d8\u7684) and cloistered (\u9690\u5c45\u7684\uff0c\u8eb2\u5f00\u5c18\u4e16\u7eb7\u4e89\u7684) virtues</li> <li>This monstrosity (\u5e9e\u7136\u5927\u7269\uff0c\u602a\u7269\uff0c\u5de8\u517d) has truck tires (\u5361\u8f66\u8f6e\u80ce) for buttons and 9 meter-long pine (\u677e\u6811) trees for arms!</li> <li>This issue is monumentally (\u975e\u5e38\u5730\uff0c\u7eaa\u5ff5\u5730\uff0c\u4f5c\u4e3a\u7eaa\u5ff5\u7891\u5730) important RIGHT NOW.</li> </ul>"},{"location":"English/#202012","title":"2020.12","text":"<ul> <li>Let\u2019s also not forget the benefit of the occasional dumb (\u611a\u8822\u7684) but fun example.</li> <li>There are still hurdles (\u969c\u788d) to surmount (\u514b\u670d).</li> <li>At a recent Harvard colloquium (\u7814\u8ba8\u4f1a\uff0c\u5b66\u672f\u62a5\u544a\u4f1a), a bigwig (\u6743\u5a01\u4eba\u58eb) from one of the large consultancies told his audience of star professors that the only person he valued at the school was the admissions officer.</li> <li>The Lancet study has already been consequential (\u968f\u4e4b\u800c\u6765\u7684).</li> <li>someone who\u2019s basically a good person but has some larceny (\u76d7\u7a83) and lust (\u6b32\u671b) in his heart and cannot be relied on to do the right thing.</li> <li>a cadre (\u9aa8\u5e72) of new friends<ul> <li>leading cadre: \u9886\u5bfc\u5e72\u90e8\uff0c\u9996\u957f</li> </ul> </li> <li>I need that trail of breadcrumbs (\u9762\u5305\u5c51) connecting data.<ul> <li>word origin (https://www.collinsdictionary.com/us/dictionary/english/breadcrumb-trail): from the German fairy tale Hansel and Gretel, in which two children use a trail of breadcrumbs to find their way back home through a forest</li> </ul> </li> <li>The premise of the emerging field of computational psychiatry (\u7cbe\u795e\u75c5\u5b66\uff0c\u7cbe\u795e\u75c5\u6cbb\u7597) is to use models from computational cognitive neuroscience to gain deeper insights into mental illness.</li> <li>The US will likely go down as the country that was supposedly best prepared to fight a pandemic but ended up catastrophically (\u707e\u96be\u6027\u5730) overmatched (\u6253\u8d25) by the novel coronavirus, sustaining heavier casualties than any other nation.</li> <li>I\u2019m afraid it is too narrow-minded to judge people using astrology (\u5360\u661f\u672f). It\u2019s all stereotypes!</li> <li>The land sale was merely a temporary expedient (\u6682\u65f6\u7684\u6743\u5b9c\u4e4b\u8ba1) for dealing with a immediate need.</li> <li>It will be more expedient (\u5f97\u5f53\uff0c\u53ef\u53d6\uff0c\u5408\u5b9c) to use railways with trains on magnetic cushions (\u57ab\u5b50) for cargo-transportation.</li> <li>Astronomical (\u5929\u6587\u5b66\u7684\uff0c\u53ca\u5176\u5de8\u5927\u7684) sums of money will be needed for this river tunnel plan.<ul> <li>there are not few but hyperastronomically (\u8d85\u5929\u6587\u7684) many genotypes with a given metabolic phenotype</li> </ul> </li> <li>art nouveau (\u65b0\u8fd1\u5230\u8fbe\u7684\uff0c\u65b0\u8fd1\u4ea7\u751f\u7684): \u65b0\u827a\u672f\uff0c\u65b0\u827a\u672f\u6d3e<ul> <li>nouveau: \u81ea\u7531\u53ca\u5f00\u653e\u6e90\u4ee3\u7801\u663e\u5361\u9a71\u52a8\u7a0b\u5e8f\u3002</li> </ul> </li> <li>We covered over 300 villages by distributing 30000 pamphlets (\u5c0f\u518c\u5b50).</li> <li>The site upended (\u98a0\u5012) communication as we know it.</li> <li>risk aversion: \u98ce\u9669\u89c4\u907f\uff0c\u538c\u6076\u98ce\u9669</li> <li>He did that out of mercenary (\u552f\u5229\u662f\u56fe\u7684) motives.<ul> <li>mercenary marriage: \u4e70\u5356\u5a5a\u59fb\uff1b\u7740\u773c\u5b9e\u5229\u7684\u5a5a\u59fb</li> </ul> </li> <li>To rectify (\u7ea0\u6b63\uff0c\u77eb\u6b63) that failing on my part.</li> <li>way to be a grammar guru (\u5927\u5e08\uff0c\u4e13\u5bb6).</li> <li>The farmer is shearing (\u526a) his sheep.</li> <li>No comma is used between the month and the year when they are the only two elements in the date. source<ul> <li>The store closed its doors for good in October 1958.</li> <li>The store closed its doors for good in October, 1958.</li> </ul> </li> <li>it is constantly generating electrons that could neutralize free radicals (\u81ea\u7531\u57fa), acting as antioxidants (\u6297\u6c27\u5316\u5242).<ul> <li>oxidant: \u6c27\u5316\u5242</li> </ul> </li> <li>a peculiar (\u5947\u602a\u7684\uff0c\u5f02\u5e38\u7684\uff0c\u7279\u6709\u7684) choice of null hypothesis on subsamples</li> <li>The heir apparent (\u6cd5\u5b9a\u7ee7\u627f\u4eba) succeeded to the throne.<ul> <li>He is the legitimate (\u5408\u6cd5\u7684\uff0c\u6b63\u5f53\u5408\u7406\u7684) heir (\u7ee7\u627f\u4eba) to the property.</li> </ul> </li> <li>By various recondite (\u6df1\u5965\u7684\uff0c\u6666\u6da9\u7684) processes, he converted the urine (\u5c3f) first into a noxious paste and then into translucent (\u534a\u900f\u660e) waxy substance. None of it yielded gold, of course, but a strange and interesting thing did happen. After a time, the substance began to glow.</li> <li>The slogan has been revived (\u590d\u6d3b\uff0c\u91cd\u65b0\u4f7f\u7528) recently in social media.</li> <li>As a result, the up-front (\u9884\u4ed8\u7684\uff0c\u5148\u671f\u7684) cost for education is real, large and easy to measure.</li> <li>deputy director: \u526f\u5c40\u957f\uff0c\u526f\u5385\u957f\uff0c\u526f\u9662\u957f</li> <li>Given that the purpose of this lawsuit is to subvert (\u63a8\u7ffb\uff0c\u98a0\u8986\uff0c\u7834\u574f) the express will of the voters, I am glad they hired such an incompetent consultant, but I feel bad for the residents of Texas that they had to pay for it.</li> <li>It\u2019s turtles for quite a way down, but at some point it\u2019s solid bedrock (\u6839\u5e95\uff0c\u57fa\u5ca9).<ul> <li>turtles all the way down: \u4e00\u4f4d\u8457\u540d\u7684\u79d1\u5b66\u5bb6\uff08\u636e\u8bf4\u662f\u8d1d\u7279\u5170\u00b7\u7f57\u7d20\uff09\u66fe\u7ecf\u4f5c\u8fc7\u4e00\u6b21\u5929\u6587\u5b66\u8bb2\u6f14\u3002\u4ed6\u63cf\u8ff0\u4e86\u5730\u7403\u5982\u4f55\u56f4\u7ed5\u7740\u592a\u9633\u516c\u8f6c\uff0c\u800c\u592a\u9633\u53c8\u662f\u5982\u4f55\u56f4\u7ed5\u7740\u79f0\u4e4b\u4e3a\u6211\u4eec\u661f\u7cfb\u7684\u5de8\u5927\u7684\u6052\u661f\u96c6\u56e2\u7684\u4e2d\u5fc3\u516c\u8f6c\u3002\u6f14\u8bb2\u7ed3\u675f\u4e4b\u9645\uff0c\u5750\u5728\u623f\u95f4\u540e\u6392\u7684\u4e00\u4f4d\u5c0f\u4e2a\u8001\u5987\u4eba\u8d77\u7acb\u8bf4\u9053\uff1a\u201c\u4f60\u8bb2\u7684\u662f\u4e00\u6d3e\u80e1\u8a00\u3002\u5b9e\u9645\u4e0a\uff0c\u4e16\u754c\u662f\u9a6e\u5728\u4e00\u53ea\u5de8\u5927\u4e4c\u9f9f\u80cc\u4e0a\u7684\u5e73\u677f\u3002\u201d\u8fd9\u4f4d\u79d1\u5b66\u5bb6\u9732\u51fa\u9ad8\u50b2\u7684\u5fae\u7b11\uff0c\u7136\u540e\u7b54\u9053\uff1a\u201c\u90a3\u4e48\u8fd9\u53ea\u4e4c\u9f9f\u662f\u7ad9\u5728\u4ec0\u4e48\u4e0a\u9762\u7684\u5462\uff1f\u201d\u201c\u4f60\u5f88\u806a\u660e\uff0c\u5e74\u8f7b\u4eba\uff0c\u7684\u786e\u5f88\u806a\u660e\uff0c\u201d\u8001\u5987\u4eba\u8bf4\uff0c\u201c\u4e0d\u8fc7\uff0c\u8fd9\u662f\u4e00\u53ea\u9a6e\u7740\u4e00\u53ea\uff0c\u4e00\u76f4\u9a6e\u4e0b\u53bb\u7684\u4e4c\u9f9f\u5854\u554a\uff01\u201d\u3010\u65f6\u95f4\u7b80\u53f2\u3011</li> </ul> </li> <li>By its very name, anthropology (\u4eba\u7c7b\u5b66) encompasses the study of all humankind.<ul> <li>The anthropic principle (\u4eba\u62e9\u539f\u7406) in physics states that we can derive certain properties of the world, or even the universe, based on the knowledge of our existence. wiki</li> </ul> </li> <li>gross domestic (\u672c\u56fd\u7684\uff0c\u56fd\u5185\u7684) product</li> <li>Columbia University in New York, the president\u2019s alma mater (\u6bcd\u6821), is preparing a bid.</li> <li>Data from infectious disease outbreaks in congregate (adj. \u96c6\u5408\u5728\u4e00\u8d77\u7684; v. \u805a\u96c6) settings are often used to elicit (\u5f15\u51fa) clues about which types of interventions may be useful in other facilities.</li> <li>some patients with hypertriglyceridemia (\u9ad8\u7518\u6cb9\u4e09\u916f\u8840\u75c7) were placed on a low-fat, high-carbohydrate (\u78b3\u6c34\u5316\u5408\u7269\uff1b\u7cd6\u7c7b) diet.<ul> <li>triglyceride: \u7518\u6cb9\u4e09\u9178\u916f</li> <li>hyperglycemia: \u591a\u7cd6\u75c7\uff0c\u9ad8\u8840\u7cd6\u75c7</li> </ul> </li> <li>A study of patients with insulin (\u80f0\u5c9b\u7d20)-dependent diabetes was conducted to investigate the effects of cigarette smoking on renal (\u80be\u810f\u7684) and retinal (\u89c6\u7f51\u819c\u7684) complications (\u5e76\u53d1\u75c7).</li> <li>In a study investigating maternal (\u6bcd\u4eb2\u7684\uff0c\u6bcd\u7cfb\u7684\uff0c\u6bcd\u4f53\u9057\u4f20\u7684) risk factors for congenital (\u5148\u5929\u7684\uff0c\u5929\u751f\u7684) syphilis (\u6885\u6bd2).<ul> <li>maternity leave: \u4ea7\u5047</li> </ul> </li> <li>The estimated coefficients from a logistic regression model containing the explanatory variables cocaine or crack (\u53ef\u5361\u56e0) use\uff0c marital status, number of prenatal (\u4ea7\u524d\u7684) visits to a doctor.</li> <li>the AIDS patients suffering from concomitant (\u4f34\u968f\u7684) esophageal (\u98df\u9053\u7684\uff0c\u98df\u7ba1\u7684) candidiasis (\u5ff5\u73e0\u83cc\u75c5), an infection due to candida (\u5ff5\u73e0\u83cc) yeast, and cytomegalovirus (\u5de8\u7ec6\u80de\u75c5\u6bd2), a herpes (\u75b1\u75b9) infection that can cause serious illness.</li> <li>Maybe something like the elasticities (\u5f39\u6027) that economists use?</li> <li>I am humbled by the response we have received during the Black Friday sale.</li> <li>The staggering (\u96be\u4ee5\u7f6e\u4fe1\u7684\uff0c\u4ee4\u4eba\u9707\u60ca\u7684) problems of poverty remain unsolved.</li> <li>It was possible to identify specific customers in the competition data set (suggesting even political and religious affiliations could be determined), even though Netflix had performed a form of cursory (\u7c97\u7565\u7684\uff0c\u8349\u7387\u7684) anonymization.</li> <li>We take our lumps (suffer punishment; be attacked or defeated.), and we try to do better next time.</li> </ul>"},{"location":"English/#202011","title":"2020.11","text":"<ul> <li>The big top-line (\u5934\u6761\u65b0\u95fb\u7684\uff0c\u8d28\u91cf\u6700\u597d\u7684\uff0c\u7ea7\u522b\u6700\u9ad8\u7684) takeaway is what already know.</li> <li>I felt great and confident. That is a stunning (\u6781\u597d\u7684) blouse (\u5bbd\u677e\u7684\u4e0a\u8863\uff0c\u5973\u88c5\u886c\u886b).</li> <li>The \u201cgig economy (\u96f6\u5de5\u7ecf\u6d4e)\u201d exemplified by Uber drivers is mushrooming.</li> <li>The issues that Gandhi was known for (de-colonization (\u975e\u6b96\u6c11\u5730\u5316\uff0c\u6b96\u6c11\u5730\u81ea\u6cbb\u5316), passive resistance) remain immensely (\u975e\u5e38\uff0c\u6781\u5927\u5730) relevant but with very different parameters than the 1920\u2019s-1940\u2019s.</li> <li>looking under the lamp-post</li> <li>the mud was up to her chin: \u6ce5\u5df4\u5df2\u7ecf\u6ca1\u5230\u4e86\u5979\u7684\u4e0b\u5df4\u3002</li> <li>There are a number of bells and whistles (\u9644\u52a0\u7684\u4fee\u9970\u7269) that make autoencoders more effective.</li> <li>They quarreled (\u4e89\u5435) last week but now they are completely reconciled (\u548c\u89e3).</li> <li>racial disparity (\u5dee\u5f02) in mortgage lending (\u62b5\u62bc\u8d37\u6b3e)</li> <li>the praise is a bit over the top<ul> <li>brimming with wit and pathos (\u60b2\u4f24\uff0c\u75db\u82e6)</li> <li>the enormous debut (\u521d\u6b21\u767b\u53f0\uff0c\u5904\u5973\u79c0) is a wonder (\u5947\u8ff9\uff0c\u60ca\u5947)</li> <li>an astounding feat of craftsmanship and patience</li> <li>never has an artist created a world so vivid without a single word spoken</li> </ul> </li> <li>The earliest scratchy recording of a pope (\u6559\u7687\uff0c\u7f57\u9a6c\u6559\u7687) was that of Leo XIII on a wax cylinder (\u8721\u7b52\u5531\u7247).<ul> <li>cylinder: \u6c7d\u7f38\uff1b\u5706\u7b52</li> <li>cylindrical: \u5706\u67f1\u5f62\u7684</li> </ul> </li> <li>Georgiou is not a mobster (\u532a\u5f92\uff0c\u66b4\u5f92). He\u2019s not a hit man (\u804c\u4e1a\u51f6\u624b) or a spy (\u95f4\u8c0d\uff0c\u5bc6\u63a2). He\u2019s a statistician. And the sin (\u8fc7\u5931\uff0c\u7f6a\u6076) at the heart of his supposed crimes was publishing correct budget numbers.</li> <li>The government has brought a relentless (\u4e0d\u505c\u7684\uff0c\u6301\u7eed\u5f3a\u70c8\u7684) series of criminal prosecutions (\u8bc9\u8bbc) against him. His countryman have sought their own vengeance (\u590d\u4ec7\uff0c\u62a5\u590d) by hacking his emails, dragging him into court, even threatening his life.</li> <li>This means the person who restored the credibility of Greek statistics will have to apologize to a person who had been fudging (\u642a\u585e\uff0c\u7be1\u6539) the data.</li> <li>We distinguish the corpora (\u8bed\u6599\uff0c\u6587\u96c6, plural form of corpus) containing reference annotations based on their origin.</li> <li>Gold-standard corpus (\u8bed\u6599) containing human-made reference annotations, obtained as a consensual or majority opinion of several human experts.</li> <li>A frame definition domain was virtually eroded in the lateral (\u4fa7\u9762\u7684\uff0c\u6a2a\u5411\u7684) axes (x and y) by a constant number of pixels (voxels (\u4f53\u7d20\u6216\u7acb\u4f53\u50cf\u7d20\uff0c\u662f\u4f53\u79ef\u50cf\u7d20 volume pixel \u7684\u7b80\u79f0)) E depending on a dataset.</li> <li>In 3D image data, the marker does not have to be necessarily formed of a single connected component, allowing annotators to create quintessential (\u6700\u5b8c\u7f8e\u7684\uff0c\u7cbe\u9ad3\u7684) volumetric markers.</li> <li>Things done by halves are never done right.</li> <li>The process of extracting the object from the original image is often called matting  (\u62a0\u56fe), while the process of inserting it into another image is called compositing.</li> <li>customers may be unable or unwilling to accept our model of commercial software procurement (\u91c7\u8d2d\uff0c\u83b7\u5f97\uff0c\u53d6\u5f97).</li> <li>it\u2019s not a slam (\u62a8\u51fb) on this graph to say that it makes me want to learn more.<ul> <li>it\u2019s not a slam at you when people are rude, it\u2019s a slum at the people they\u2019ve met before.</li> </ul> </li> <li>Man has been predominant over other species for a long time.</li> <li>A specific job hunt will be more efficient than a haphazard (\u5076\u7136\u7684\uff0c\u968f\u610f\u7684) one.</li> <li>The British Chamber (\u3010\u8eab\u4f53\u6216\u5668\u5b98\u5185\u7684\u3011\u5ba4\u3001\u819b\uff1b\u623f\u95f4\uff1b\u4f1a\u6240) of Commerce (\u5546\u4f1a) in Hong Kong is inviting applications for its Events &amp; Marketing Executive.</li> <li>An assessment centre (\u6c42\u804c\u8bc4\u4f30) is a recruitment process with a series of tasks including presentation, group exercise, psychometric tests (\u5fc3\u7406\u8ba1\u91cf\u6d4b\u9a8c), etc, to evaluate candidates\u2019 ability and personality.</li> <li>Amid COVID-19, we are going through a very difficult and uncertain situation.</li> <li>Your changes will be vetted (\u5ba1\u67e5\uff0c\u8bca\u7597) by developers before becoming permanent.</li> <li>Standard Chartered (\u6e23\u6253\u94f6\u884c) Bank China is inviting registration for its Networking Session.<ul> <li>chartered: \uff08\u6839\u636e\u6301\u6709\u7687\u5bb6\u7279\u8bb8\u72b6\u7684\u4e13\u4e1a\u534f\u4f1a\u7684\u89c4\u7ae0\uff09\u5408\u683c\u7684\uff1b\u7279\u8bb8\u7684</li> <li>UNICEF (United Nations International Children\u2019s Emergency Fund, \u65e7\u79f0\u8054\u5408\u56fd\u56fd\u9645\u513f\u7ae5\u7d27\u6025\u6551\u63f4\u57fa\u91d1\u4f1a\uff0c\u73b0\u79f0\u8054\u5408\u56fd\u513f\u7ae5\u57fa\u91d1\u4f1a\uff0cThe United Nations Children\u2019s Fund) chartered (\u5305\u79df) a flight to deliver vaccines to seven African countries.</li> </ul> </li> <li>Ado (\u65e0\u8c13\u7684\u5fd9\u4e71\uff0c\u8d39\u529b) usually refers to fuss (\u5c0f\u9898\u5927\u505a\uff0c\u5fd9\u4e71), concern, or time wasted due to trivialities or troubles. It is most often found in the phrases \u201cwithout much ado\u201d, meaning \u201cwithout much fuss\u201d, or \u201cwithout further ado\u201d, meaning \u201cwithout further delay\u201d. Adieu (\u544a\u522b\uff0c\u8f9e\u884c) on the other hand, is a French word that refers to a farewell. It often follows bid, as in \u201cI bid you adieu\u201d, as a rather dramatic way of saying \u201cgoodbye\u201d. reference</li> <li>Everyone seems fixated (adj. \u5ff5\u5ff5\u4e0d\u5fd8\u7684\uff1bv. \u6ce8\u89c6\uff0c\u56fa\u5b9a\u4e0b\u6765) on the 90% effectiveness lower bound reported for the Pfizer vaccine.</li> <li>I\u2019m basing it off of a press release, which is not ideal for scientific precision.<ul> <li>\u201cbase on\u201d vs \u201cbase off of\u201d</li> </ul> </li> <li>It won\u2019t be the silver bullet we are looking for.</li> <li>I\u2019m ecstatic (\u72c2\u559c\u7684\uff0c\u5165\u8ff7\u7684) about this product.</li> <li>Haven\u2019t they ever read Mandelbrot (\u672c\u534e\u00b7\u66fc\u5fb7\u535a\uff0c\u521b\u7acb\u4e86\u5206\u5f62\u51e0\u4f55)?</li> <li>Those wacky anti-Bayesian used to be intimidating (\u5413\u4eba\u7684\uff0c\u4ee4\u4eba\u80c6\u602f\u7684), but now they\u2019re just pathetic (\u53ef\u601c\u7684\uff0c\u60b2\u54c0\u7684).</li> <li>I was trying to draw Bert and Ernie the other day (\u4e0d\u4e45\u524d\u67d0\u4e00\u5929\uff0c\u51e0\u5929\u4ee5\u524d).</li> <li>I call this the Chris Rock (\u7f8e\u56fd\u559c\u5267\u6f14\u5458\uff0c\u4ee5\u680b\u7b03\u7b11\u3010\u5355\u53e3\u559c\u5267\uff0cstand-up comedy\u3011\u51fa\u9053) effect. Chris Rock says things we all know are true. But he says it so well that we get a shock of recognition, the joy of relearning what we already know, but hearing it in a new way that makes us think more deeply about all sorts of related topics.</li> <li>Would the prof have the chutzpah (\u65e0\u6240\u987e\u5fcc\uff0c\u6562\u4f5c\u6562\u4e3a\uff0c\u8086\u65e0\u5fcc\u60ee) to fail the student, or would he just give the student an A out of fear that the student would raise a ruckus (\u55a7\u95f9\uff0c\u9a9a\u52a8\uff0c\u4e89\u5435) if anything were done about it?</li> <li>They might just get expelled anyway for the combined violations of plagiarism and embarrassing the university.</li> <li>For his own sanity (\u7406\u667a) he had to get out of this trap.</li> <li>It has all the usual culprits (\u72af\u4eba\uff0c\u7f6a\u72af): forking paths, statistical significance.</li> <li>The market often is up for part of the day and down for others, so the intra-day variability may undermine (\u4ece\u6839\u57fa\u5904\u7834\u574f\uff1b\u6316\u2026\u7684\u5899\u89d2\uff1b\u9010\u6e10\u524a\u5f31\u3010\u4fe1\u5fc3\uff0c\u6743\u5a01\u7b49\u3011) what the paper is finding.</li> <li>the data is not provided, although the source is publicly available (and would probably take me a week to try to match up to what they purported (\u636e\u79f0\u7684\uff0c\u4f20\u8a00\u7684) to use).</li> <li>These claims are absolutely preposterous (\u8352\u5510\u7684\uff0c\u6781\u4e0d\u5408\u7406\u7684).</li> <li>Imagine a person traversing a finite curved path while walking their dog on a leash (\u7cfb\u72d7\u7684\u76ae\u5e26), with the dog traversing a separate finite curved path.</li> <li>trapezoidal: \u68af\u5f62\u7684</li> <li>This is the seed of a snowflake, and it retains a hexagonal (\u516d\u89d2\u5f62\u7684) shape as it grows.</li> <li>Medically speaking, diabetes is not curable. Once a person is diagnosed with diabetes, he or she will carry diabetes for the rest of life. Only under successful management, diabetes can go into \u201cremission\u201d state.</li> <li>influenza (\u6d41\u884c\u6027\u611f\u5192) is more of an acute condition that patient can recover from in a short period of time.</li> <li>ICD-9-CM has refined coding granularity (\u95f4\u9694\u5c3a\u5bf8\uff0c\u7c92\u5ea6) to classify and group diseases and medical conditions.</li> <li>These savvy (\u6709\u89c1\u8bc6\u7684\uff1b\u61c2\u5b9e\u9645\u77e5\u8bc6\u7684\uff1b\u901a\u60c5\u8fbe\u7406\u7684) speakers have some tips for novice speakers.</li> <li>An interesting question in pediatrics (\u513f\u79d1) is whether the tendency for children to have many episodes of otitis media (\u4e2d\u8033\u708e\u3010\u8033\u5185\u957f\u671f\u6d41\u6c34\u3001\u6d41\u8113\u3001\u80c0\u75db\u3011) is inherited in a family.</li> <li>all would be OK if people just ditched (\u5f00\u6c9f\uff1b\u6398\u6c9f\uff1b\u3010\u4fda\u3011\u4e22\u5f03) their pp-values and replaced them with intervals.</li> <li>it seemed kinda tacky (\u4f4e\u52a3\u7684\uff0c\u8e69\u811a\u7684\uff0c\u4fd7\u6c14\u7684\uff0c\u4e4f\u5473\u7684) for a reporter whose shtick (\u7279\u957f\uff0c\u64c5\u957f\u7684\u672c\u9886) was access to the powerful, to not want his own speech to be reported.</li> <li>They have inscribed (\u9898\u5199\uff0c\u94ed\u8bb0\uff0c\u96d5\u523b) their names upon the pages of history.<ul> <li>inscribed circle: \u5185\u5207\u5706</li> </ul> </li> <li>fractal (\uff08\u7ecf\u5178\u51e0\u4f55\u5b66\u4e2d\u6ca1\u6709\u8868\u793a\u7684\uff09\u4e0d\u89c4\u5219\u788e\u7247\u5f62) landscape</li> <li>The \u201cincised (\u5207\u5165\u7684\uff0c\u96d5\u523b\u7684\uff0c\u6709\u952f\u9f7f\u72b6\u8fb9\u7f18\u7684) plane\u201d scene consists of two planes with Gaussian noise and grooves (\u51f9\u69fd) in the shape of an \u201cX\u201d.<ul> <li>His incisive (\u900f\u5f7b\u7684\uff0c\u9510\u5229\u7684) criticism gave us a thorough understanding of Dicken\u2019s writings.</li> </ul> </li> <li>Any idiot (\u50bb\u5b50\uff0c\u7b28\u86cb) can write a critique (\u6279\u8bc4\uff0c\u8bc4\u8bba).</li> <li>It can take a lot of work to untangle (\u6e05\u7406\uff0c\u89e3\u5f00\u2026\u7ea0\u7ed3) exactly what went wrong.</li> <li>Original researchers do all the hard work, and \u201copen science\u201d critics are lazy parasites (\u98df\u5ba2\uff0c\u5bc4\u751f\u866b).</li> <li>People often repress (\u6291\u5236\uff0c\u7ea6\u675f) painful experience, which years later may later reappear as memories or disguised (\u5047\u88c5\uff0c\u63a9\u9970) emotions.</li> <li>Both of these extensions confer (\u5546\u8ba8\uff0c\u6388\u4e88) improved convergence properties on the basic algorithm without a significant increase in computational cost.<ul> <li>confer sth. on/upon sb.: \u6388\u4e88\uff0c\u9881\u53d1\uff08\u5956\u9879\u3001\u5b66\u4f4d\u3001\u8363\u8a89\u6216\u6743\u5229\uff09</li> <li>confer with sb. on/about sth.: \u5546\u8ba8\uff0c\u534f\u5546\uff0c\u4ea4\u6362\u610f\u89c1</li> </ul> </li> <li>The extensions to multiple-view reconstructions necessitated the introduction of nonlinear optimization strategies.</li> <li>Thus it is that firmness and strength are the concomitants (\u540c\u65f6\u53d1\u751f\u7684\u4e8b) of death; softness and weakness, the concomitants of life.</li> <li>It should be possible for a class to inherit from as many others as necessary, with an adequate mechanism for disambiguating name clashes.</li> <li>No comparison frameworks are available, leading to an arduous selection of an appropriate variant for particular experimental conditions.</li> <li>Laser-range sensors were a cornerstone (\u57fa\u77f3\uff0c\u57fa\u7840) to the development of mapping and navigation in the past two decades.</li> <li>planar open curves</li> <li>aerial imagery: aerial photography, \u822a\u62cd</li> <li>Skim the text to grasp its main idea.</li> <li>it has some deeply wacky (\u4e56\u50fb\u7684\uff0c\u53e4\u602a\u7684) scenarios</li> <li>voter turnout</li> <li>the betting markets have Trump as a slight favorite in Florida, which I\u2019d attribute to bettors performing some sort of implicit averaging of current polls and the 2016 election results.</li> <li>there is some room for maneuver (\u6f14\u4e60\uff0c\u82b1\u62db) here.</li> <li>the Republican party controls the federal government and many state legislatures.</li> <li>Picking pennies in front of a steamroller (\u84b8\u6c7d\u538b\u8def\u673a): A parable (\u6bd4\u55bb\uff0c\u5bd3\u8a00) comes to life.</li> <li>I stopped by the Jamaican beef patties place but they were closed.</li> <li>Has Stan jumped the shark?</li> <li>A bracket or tournament (\u9526\u6807\u8d5b) bracket is a tree diagram that represents the series of games played during a knockout (\u6dd8\u6c70\u8d5b\u7684) tournament.</li> <li>Politics has taken on particular vitriol (\u5c16\u523b\u7684\u8bdd) in recent years.</li> <li>Commentators and political scientists have described the rising tide of polarization in terms of concepts such as tribalism (\u90e8\u843d\u5236) and negative partisanship (\u515a\u6d3e\u6027\uff0c\u515a\u6d3e\u504f\u89c1).</li> <li>An idealistic picture of science views science as an orderly process where disinterested (\u5ba2\u89c2\u7684\uff0c\u516c\u6b63\u7684\uff0c\u65e0\u79c1\u7684), objective experts look at crystal clear (\u5b8c\u5168\u900f\u660e\u7684\uff0c\u3010\u55bb\u3011\u6781\u5176\u660e\u767d\uff0c\u5341\u5206\u6e05\u695a) evidence to find the truth.<ul> <li>crystal: \u6c34\u6676\uff0c\u6676\u4f53\uff1b\u6c34\u6676\u7684\uff0c\u900f\u660e\u7684</li> </ul> </li> <li>Fake facts in Covid-19 Science: Kentucky (\u80af\u5854\u57fa\u5dde) vs. Tennessee (\u7530\u7eb3\u897f\u5dde)</li> </ul>"},{"location":"English/#202010","title":"2020.10","text":"<ul> <li>A psychology professor whom I\u2019ve never met once wrote me a mini-manifesto (\u5ba3\u8a00), disparaging my efforts as a critic.</li> <li>Bumblers (\u505a\u9519\u4e8b\u7684\u4eba) are the people who get up every morning and make mistakes, trying to find truth but mainly tripping over their own feet, occasionally getting it right but typically getting it wrong.</li> <li>I think this dualism is counterproductive (\u9002\u5f97\u5176\u53cd\u7684).</li> <li>but it would be more evocative (\u5f15\u8d77\u2026\u8bb0\u5fc6\u7684\uff0c\u5524\u8d77\u2026\u611f\u60c5\u7684) to show a series of images showing graying hair.</li> <li>Nobel prize and other science prices are problematic and this is not endorsement (\u8ba4\u53ef\uff1b\u652f\u6301\uff1b\u80cc\u4e66\uff1b\u7b7e\u6ce8) of such prices, but this might be useful for someone who needs to tell (hype (\u7092\u4f5c\uff0c\u5927\u8086\u5ba3\u4f20)) about the impact of Stan.</li> <li>A spaghetti (\u610f\u5927\u5229\u5f0f\u7ec6\u9762\u6761) plot is a line plot with many lines displayed together. see also</li> <li>Maine (\u7f05\u56e0\u5dde) and Nebraska (\u5185\u5e03\u62c9\u65af\u52a0\u5dde)</li> <li>our model is a forecast of vote intentions (\u610f\u5411), not of votes as counted.</li> <li>Now that it\u2019s 95%, the rubber meets the road.</li> <li>It came in as a sort of brief interlude and solo between more extensive performances.</li> <li>It\u2019s not a Jenga (\u53e0\u53e0\u4e50), but neither is it a WW2 jeep.</li> <li>this model really needs a lot more scaffolding for us to fully trust it.</li> <li>The interim (\u4e34\u65f6\u7684\uff0c\u4e2d\u95f4\u7684) Stan governing body stepped down and were replaced with a new board elected by the developer community.</li> <li>a feud (\u4e0d\u548c\uff0c\u4e89\u6267) that was made worse by a lack of sharing code.</li> <li>condensed matter (\u51dd\u805a\u6001) theory</li> <li>Here is a fitted model from the Bangladesh (\u5b5f\u52a0\u62c9\u56fd) analysis predicting whether a person with high-arsenic (\u7837, \u7812\u971c) drinking water will switch wells.</li> <li>The rule is brutal (\u6b8b\u66b4\u7684\uff0c\u76f4\u622a\u4e86\u5f53\u7684).</li> <li>You conduct an experiment in which some people get a special get-out-of-vote (\u52a8\u5458\u6295\u7968\uff0c\u51fa\u95e8\u6295\u7968) message.</li> <li>Humility needed in decision-making.</li> <li>I just don\u2019t buy into the premise (\u524d\u63d0) so it\u2019s hard for me to go further.<ul> <li>I hate to buy into stereotypes (\u58a8\u5b88\u6210\u89c4).</li> </ul> </li> <li>Talmudic (\u5854\u6728\u5fb7\uff0c\u72b9\u592a\u6559\u5b97\u6559\u6587\u732e) argument about whether God can dig a ditch (\u6c9f\u6e20) so width he can\u2019t jump across it.</li> <li>the question sounds snarky (\u5c16\u9510\u6279\u8bc4\u7684\uff0c\u8bbd\u523a\u6316\u82e6\u7684), but it\u2019s not meant in that vein (\u7528\u540c\u6837\u7684\u98ce\u683c\u5904\u7406\u67d0\u4e8b).</li> <li>we must avoid the trap of overconfidence in our inferential summaries.</li> <li>the 40% rule is a time-tried tactic (\u7b56\u7565\uff0c\u6218\u672f) employed by pundits (\u67d0\u4e00\u5b66\u79d1\u7684\u6743\u5a01\uff0c\u4e13\u5bb6) making forecasts.</li> <li>There we mention that the birthday data come from the National Vital (\u6781\u91cd\u8981\u7684\uff0c\u5fc5\u4e0d\u53ef\u5c11\u7684) Statistics natality (\u51fa\u751f\u7387\uff0c\u751f\u4ea7\u7387) data.</li> <li>I came across this interview of John Conway and Siobhan Roberts, Conway\u2019s biographer.</li> <li>a strong sense of competitiveness and ego (\u81ea\u6211\u4ef7\u503c\u611f) in the maths world.</li> <li>Did you get a sense of a lot of people trying to outdo (\u80dc\u8fc7\uff0c\u4f18\u4e8e) each other in the field?</li> <li>there are occasional examples of it coming to the fore more prominently.</li> <li>there were characters I encountered, Stephen Wolfram for one, for whom I think there was a bit of an unacknowledged competitive tension with John.</li> <li>The idea of competing with them is absurd (\u8352\u5510\u53ef\u7b11\u7684\uff0c\u4e0d\u5408\u7406\u7684).</li> <li>That\u2019s a very egotistical (\u81ea\u8d1f\u7684) statement.<ul> <li>egotism: \u81ea\u8d1f</li> </ul> </li> <li>Conway doesn\u2019t mess around (\u6d6a\u8d39\u65f6\u95f4\uff0c\u6df7\u65e5\u5b50).</li> <li>Wolfram may be egotistical, but he has a lot to be egotistical about.</li> <li>if anyone can do that astounding (\u4ee4\u4eba\u9707\u60ca\u7684) feat (\u6280\u827a\u8868\u6f14\uff0c\u529f\u7ee9\uff0c\u58ee\u4e3e), it\u2019s this guy.</li> <li>Every once in awhile (\u5076\u5c14\uff0c\u6709\u65f6\uff0c\u65f6\u4e0d\u65f6), though, Wolfram will break down and, with very great reluctance, talk about himself.</li> <li>that is somewhat reminiscent (\u4f7f\u56de\u5fc6\u8d77\uff0c\u56de\u5fc6\u8fc7\u53bb\u7684\uff0c\u6000\u65e7\u7684) of time travel.</li> <li>I don\u2019t know that I could quite articulate (\u8bf4\uff0c\u8868\u8fbe) what the rules are, but I can tell what\u2019s going on.</li> <li>The moral economy (\u9053\u5fb7\u7ecf\u6d4e\uff0c\u4f26\u7406\u7ecf\u6d4e) of science.</li> <li>I heard a rumor that they have contacts at the Antarctic Polar Station who are going to sign the thing once they can get their damn fur gloves off.</li> <li>I\u2019ve obscured (v. \u4f7f\u6a21\u7cca) the details of the letter here because I don\u2019t want to single out (\u6311\u9009\u51fa\uff0c\u7cbe\u9009\u51fa) the authors of this particular paper or the editor of this particular journal.</li> <li>its results are used to inform federal funding decisions.</li> <li>what are the effects of X on election, where X is ballot (\u6295\u7968\uff0c\u9009\u4e3e)-order effects, Fox News, home-state advantage, or other things?</li> <li>I agree with my correspondent (\u8bb0\u8005\uff0c\u901a\u8baf\u5458) that this graph does not look like a very good advertisement for this method!</li> <li>Never underestimate the power of fomo (fear of missing out, \u793e\u4ea4\u63a7).</li> <li>This particular code is kinda hacky in that it does not account for fencepost errors, but it conveys the general idea.</li> <li>The premise (\u524d\u63d0) of this joke is that if the one economist had truly wanted the car then he would have walked into the showroom and bought it.</li> <li>Donating was used to determine whether men or women are better tippers.</li> <li>Donating was used to determine which prominent skeptic to prank (\u6076\u4f5c\u5267).</li> <li>I was looking at this map of coronavirus cases, pondering (\u6df1\u601d\uff0c\u4ed4\u7ec6\u8003\u8651) the large swaths (\u6761\u5e26) with seemingly no cases.</li> <li>Or, even worse, designing a study, not finding the anticipated main effect, and then using the interactions to bail you out.</li> <li>I\u2019m pretty sure the idea has been reinvented a zillion other times before and after I did it.</li> <li>Any sufficiently crappy (\u52a3\u8d28\u7684\uff0c\u8e69\u811a\u7684) research is indistinguishable from fraud.</li> <li>the notorious study in which participants were invited to stick 51 pins into a voodoo doll representing their spouses.</li> <li>it was just done by some bigshot professor who calls himself a \u201cmyth buster\u201d.</li> <li>That voodoo (\u5deb\u672f) study is hilarious (\u5341\u5206\u6709\u8da3\u7684\uff0c\u975e\u5e38\u6ed1\u7a3d\u7684), worth a good rant (\u6012\u543c\uff1b\u53eb\u558a\uff1b\u5927\u58f0\u8d23\u9a82) or two.</li> <li>Kennedy looms large in retrospect but it is not clear that he was considered as a savior when he was running for president.</li> <li>There was the radicalism (\u6fc0\u8fdb\u4e3b\u4e49) of the post-1974 reform movement, the 1994 Newt Gingrich revolution (\u7ebd\u7279\u00b7\u91d1\u91cc\u5947\u9886\u5bfc\u7684\u5171\u548c\u515a\u9769\u547d), and then the locked-in partisanship of congressional Republicans since 2010, all of these which can be considered both as responses to executive overreach (\u8fc7\u706b\uff0c\u8fc7\u5ea6\u4f38\u5f20\uff0c\u505a\u4e8b\u8fc7\u5934) by opposition presidents and which have motivated counterreactions (\u9006\u53cd\u5e94).</li> <li>a return to problem solving and dialing down of tension.</li> <li>characterize the modern presidents in this way, saviors: Trump, Obama, Clinton, Reagan (\u91cc\u6839), Roosevelt (\u7f57\u65af\u798f)</li> <li>Carter (\u5361\u7279) in retrospect does not have a savior vibe, but he was elected as a transformative outlier.</li> <li>I\u2019d assumed that there are more pro Dem pollsters than pro Rep or unbiased pollsters.</li> <li>our model judges that to be a fluke</li> <li>someone sent me this collage (\u62fc\u8d34\u753b) of maps from Nate\u2019s model</li> <li>they\u2019re not just some sort of computer glitch (\u5c0f\u6545\u969c\uff0c\u5c0f\u6bdb\u75c5)</li> <li>problem of the between-state correlations in the Fivethirtyeight(\u4e2d\u6587\u89e3\u91ca) election forecast.</li> <li>this might be a feather in the wind to prevent a predictable post-voting-day wrangle (\u4e89\u5435) that could tip the country over the edge.</li> <li>accusations of fraud seem almost inevitable.</li> <li>they can analyze precinct (\u9009\u533a\uff0c\u8b66\u533a)-level totals to look for \u201cthumbprints\u201d of voter fraud.</li> <li>it\u2019s not as sure as a photograph of \u201cmislaid\u201d ballots dumped behind a post office.</li> <li>I was intrigued (\u6fc0\u8d77\u2026\u7684\u597d\u5947\u5fc3) by the observations you made this summer.</li> <li>In order for Trump to win a blue state (in order for sth. to happen)</li> <li>I put them in a pile so that later I can read them in order.</li> <li>this article informs us that Trump is invincible (\u4e0d\u53ef\u6218\u80dc\u7684\uff0c\u4e0d\u80fd\u6539\u53d8\u7684).</li> <li>this is just a rehash (\u65e7\u4e1c\u897f\u7684\u6539\u4f5c\uff0c\u65b0\u5f62\u5f0f\u8868\u8fbe\u65e7\u5185\u5bb9) of the major news media.</li> <li>it\u2019s your grandpa who\u2019s been reading a bunch of newspapers and watching lots of TV news and then regurgitating it back to you.</li> <li>I leave it to you to decide whether this is fodder (\u9972\u6599\uff0c\u7d20\u6750) for your blog.</li> <li>a plaintiff (\u539f\u544a) should be able to bring a lawsuit (\u8d77\u8bc9) on the basis of discrimination per se (\u672c\u8eab\uff0c\u81ea\u8eab\uff0cby itself, in itself)</li> <li>the Biber Code dudes (\u4f19\u8ba1\uff0c\u82b1\u82b1\u516c\u5b50)</li> <li>I was surprised to find my neighbourhood city of Bourg-la-Reine (\u7687\u540e\u5821, \u6cd5\u56fd\u6cd5\u5170\u897f\u5c9b\u5927\u533a\u4e0a\u585e\u7eb3\u7701\u7684\u4e00\u4e2a\u5e02\u9547\uff0c\u4f4d\u4e8e\u5df4\u9ece\u5e02\u533a\u5357\u90e8\uff0c\u5c5e\u4e8e\u5b89\u4e1c\u5c3c\u533a\u3002) (twin city, Kenilworth (\u51ef\u5c3c\u5c14\u6c83\u601d, \u82f1\u683c\u5170\u6c83\u91cc\u514b\u90e1\u7684\u4e00\u4e2a\u96c6\u9547\u548c\u6c11\u653f\u6559\u533a)) mentioned in a tribune (\u8bba\u575b\u62a5).</li> <li>a boardgame (\u7248\u56fe\u6e38\u620f) called Kapital which is presented there as a form of anti-Monopoly, authors who were both CNRS (Centre national de la recherche scientifique, \u6cd5\u56fd\u56fd\u5bb6\u79d1\u5b66\u7814\u7a76\u4e2d\u5fc3) researchers in sociology until they retired.</li> <li>the opposition between the May 68 (\u4e94\u6708\u98ce\u66b4\uff0c\u4e5f\u79f0\u4e94\u6708\u8fd0\u52a8\u3001\u4e94\u6708\u9769\u547d\u548c\u4e94\u6708\u4e8b\u4ef6\uff0c\u662f1968\u5e74\u6625\u590f\u4e4b\u4ea4\u6cd5\u56fd\u53d1\u751f\u7684\u5b66\u751f\u8fd0\u52a8\u3002) style class warfare (\u6218\u4e89\uff0c\u51b2\u7a81) denounced (\u8c34\u8d23\uff0c\u544a\u53d1) by the authors and their apparently well-off (\u5bcc\u88d5\u7684\uff0c\u5904\u5883\u597d\u7684) conditions.</li> <li>consensus-based transparency checklist</li> <li>I also have a wary (\u5c0f\u5fc3\u7684\uff0c\u8c28\u614e\u7684) feeling that is harder to put words to</li> <li>will the satisfactory feeling of successfully completing the checklist lull (\u54c4\u9a97\uff1b\u4f7f\u5e73\u9759) researchers into complacency and keep them from spending effort on the deeper layers?</li> <li>I worry the checklist is going to inadvertently (\u6f2b\u4e0d\u7ecf\u5fc3\u5730\uff1b\u975e\u6545\u610f\u5730) be taken as a false check of quality, rather than simply transparency.</li> <li>We should always consider the lurking (\u6f5c\u5728\u7684) dangers of offering easy solutions and simple checklists that make humans feel that they\u2019ve done all that is needed.</li> <li>transparency should reduce existing incentives (\u523a\u6fc0\uff0c\u6fc0\u52b1) for performing bad science and increase incentives for better measurement and design of studies.</li> <li>both of contagious (\u60a3\u4f20\u67d3\u6027\u75be\u75c5) individuals and viral load sufficient to related to death.</li> <li>statistical cult (\u5d07\u62dc\uff0c\u5f02\u6559\u56e2\u4f53)</li> <li>noncommittal response</li> <li> <p>Vocal characteristics predict infidelity (\u4e0d\u5fe0) intention and relationship commitment (\u627f\u8bfa) in men but not in women.</p> <ul> <li>high fidelity (\u4fdd\u771f\u5ea6) playback</li> </ul> </li> <li> <p>The story was featured in various classy (\u4e0a\u7b49\u7684\uff0c\u8c6a\u534e\u7684\uff0c\u65f6\u9ae6\u7684) news outlets (\u62a5\u9053\u65b0\u95fb\u7684\u673a\u6784).</p> </li> <li>some wiseass (\u81ea\u4ee5\u4e3a\u662f\u7684\u4eba) replies to all</li> <li>we\u2019re reliving the 1990\u2019s here\u2026</li> <li>The X-ray emission comes from the hot gas surrounding and accreting onto the merging black holes.</li> <li>During the merger, some of the X-ray emission is expected to be modulated at a frequency commensurate to that of the gravitational waves produced by the black holes.</li> <li>after the merger, it is possible that a corona (\u65e5\u5195\uff0c\u65e5\u534e) of hot, X-ray emitting gas will form and jets of particles may be launched at speeds close to the speed of light.</li> <li>They are acutely (\u6781\u5176\uff0c\u5f3a\u70c8\u5730) attuned (\u4e60\u60ef\uff0c\u9002\u5e94) to the grave (\u4e25\u91cd\u7684) dangers associated with an economy grinding to a halt (\u6162\u6162\u505c\u4e0b\u6765\uff0c\u65e0\u6cd5\u7ee7\u7eed\u524d\u8fdb). see also<ul> <li>acutely aware: \u6df1\u5207\u5730\u610f\u8bc6\u5230</li> <li>daily grind: \u65e5\u5e38\uff08\u82e6\uff09\u5de5\u4f5c</li> </ul> </li> <li>racial profiling: \u79cd\u65cf\u5f62\u8c61\u5b9a\u6027\uff08\u6307\u8b66\u5bdf\u7b49\u56e0\u80a4\u8272\u6216\u79cd\u65cf\u800c\u4e0d\u662f\u8bc1\u636e\u6000\u7591\u4eba\u72af\u7f6a\uff09</li> <li>Blacks are more likely to be stopped for pretextual (pretext, \u501f\u53e3\uff0c\u63a8\u8f9e) reasons (e.g. alleged (\u6240\u8c13\u7684\uff0c\u58f0\u79f0\u7684) vehicle defect (\u7f3a\u70b9\uff0c\u7f3a\u9677\uff0c\u4e0d\u8db3\u4e4b\u5904), such as broken taillight; record check) and less for more concrete (\u5177\u4f53\u7684) reasons such as speeding.</li> <li>defective: \u6709\u7f3a\u70b9\u7684\uff0c\u6709\u7f3a\u9677\u7684</li> <li>these have been valorized (\u7a33\u5b9a\u7269\u4ef7\uff0c\u89c4\u5b9a\u4ef7\u683c) in constitutional caselaw</li> <li>I bought the book and, flipping through it to find examples for use in class, came cross the two sketches</li> <li>the frequency of driving accidents is plotted against the time of menstruation</li> <li>one for parous women, and one for nonparous women</li> <li>premenopausal female \u7edd\u7ecf\u524d\u5973\u6027</li> <li>the left hump representing accidents that had occurred just before the menstrual period</li> <li>he then could have hastily summarized the data in a sketch</li> <li>it was just sloppiness.</li> <li>This article on bus ridership is right up your alley (well suited to one\u2019s tastes, interests, or abilities).</li> <li>I grant (\u3010\u52c9\u5f3a\u3011\u627f\u8ba4\uff0c\u540c\u610f) you that..</li> <li>the ensuing (\u968f\u540e\u7684\uff0c\u540e\u6765\u7684) discussion in the article speculated about explanations for a decline in the individual propensity to ride.</li> <li>suburbanite: \u90ca\u533a\u5c45\u6c11</li> <li>they screwed up on the above graph</li> <li>it has to swerve (\u7a81\u7136\u8f6c\u5411\uff0c\u6025\u8f6c\u5f2f) in and out of traffic after each bus stop.</li> <li>does this fallacy have a name?</li> <li>Collider (\u5bf9\u649e\u673a) bias</li> <li>when considering ideological (\u610f\u8bc6\u5f62\u6001\u7684\uff0c\u601d\u60f3\u4f53\u7cfb\u4e0a\u7684) balance, it is useful to place social psychology within a larger context of the prevailing ideologies of other influential groups within society, such as military officers, journalists, and business executives.</li> <li>the content of unreplicated or otherwise shaky (\u98a4\u6296\u7684\uff0c\u4e0d\u7262\u9760\u7684) empirical claims</li> <li>sway (\u5f71\u54cd\uff0c\u6447\u6446) in the way</li> <li>their attitude is something like 50% careerism and 50% that they feel already know the answers about primatology (\u7075\u957f\u7c7b\u52a8\u7269\u5b66) or criminology (\u72af\u7f6a\u5b66)</li> <li>these people see the entire a scientific process, pretty much the whole megillah (\u5197\u957f\u63cf\u8ff0) as a bunch of red tape (\u7e41\u6587\u7f1b\u8282), just a bunch of hoops they need to jump through so they can move on with their day and get their 8 hours of sleep every night</li> <li>they don\u2019t get the connection between the fun parts and the hard work and inevitable setbacks (\u632b\u6298)</li> <li>they think that correcting or retracting an article or having your public errors pointed out to you is a form of punishment.</li> <li>misinformation about the event abounds</li> <li>the findings suggest that the five articles were likely fraudulent (\u6b3a\u9a97\u7684\uff0c\u6b3a\u8bc8\u7684), several coauthors acted with negligence bordering on complicity (\u5408\u8c0b\uff0c\u4e32\u901a) after learning about the data irregularities.</li> <li>beyond our interest in the sordid details here, our horror at what \u2026, and our understanding and policymaking in the important field of criminology is being driven by fake data and fake analysis.</li> <li>flat out (\u7aed\u5c3d\u5168\u529b\uff0c\u7528\u5168\u901f) fabrication</li> <li>dodge (\u8eb2\u95ea) criticism</li> <li>let\u2019s start with the leadoff to Pickett\u2019s article</li> <li>academic bureaucrats and game-players taking a technical dispute (\u7ea0\u7eb7\uff0c\u4e89\u7aef)</li> <li>attacks and name-calling against dissenters</li> <li>retreat (\u64a4\u9000) into procedure<ul> <li>retreat into oneself: \u9000\u9690\uff0c\u79bb\u7fa4\u7d22\u5c45</li> </ul> </li> <li>if someone at one of these universities had been caught robbing at a bank, would his colleagues have all backed him up like that?</li> <li>this kind of cavalier (\u968f\u4fbf\u7684\uff0c\u50b2\u6162\u7684) attitude to what is pretty much the purest sort of scientific fraud makes it clear how little the scientific process is valued.</li> <li>this kind of sounds like a conspiracy theory (\u9634\u8c0b\u8bba)</li> <li>all participants in cargo-cult (\u8d27\u7269\u5d07\u62dc) social science\u2014\u2014from the fabricators to the powermongers to the enablers to the just plain incompetents (\u65e0\u80fd\u8005\uff0c\u4e0d\u80dc\u4efb\u8005)</li> <li>swatting away people like other data thugs (\u66b4\u5f92)</li> <li>old people with comorbidities (\u5408\u5e76\u75c7)</li> <li>Trump\u2019s probabilities are way (adv. \u5f88\u8fdc\uff1b\u5927\u91cf\uff1b\u975e\u5e38\uff1b\u6781\u5176) better.</li> <li>I\u2019m kicking myself (\u540e\u6094) because I was planning to tell the hookah (\u6c34\u70df\u888b) story</li> <li>the dose you get of carcinogens (\u81f4\u764c\u7269) from hookah smoking might be 20 times the dose of smoking a cigarette.</li> <li>if you\u2019re willing to accept anecdotal (\u8f76\u4e8b\u7684\uff0c\u8da3\u95fb\u7684) evidence, there\u2019s always going to be an unlimited amount of evidence which won\u2019t tell you anything.</li> <li>according to the National Academy of Sciences, (google \u201chimmicanes\u201d for lots more), it saves lives to give hurricanes the names of boys rather than girls, because people are more scared of boys so they\u2019ll act with appropriate caution.</li> <li>Hurricane Butch? Run away. Hurricane Missy? Who cares.</li> <li>according to Pythagoras (\u6bd5\u8fbe\u54e5\u62c9\u65af) (really!), 17 is \u201cthe most despised and horrible (\u53ef\u6015\u7684\uff0c\u6781\u8ba8\u538c\u7684) of all numbers.\u201d</li> <li>Time is of the essence. (\u65f6\u95f4\u5c31\u662f\u751f\u547d)</li> <li>Quino\u2019s Mafalda: \u5b63\u8bfa\uff08\u963f\u6839\u5ef7\u6f2b\u753b\u5bb6\uff09\u7684\u739b\u6cd5\u8fbe</li> </ul>"},{"location":"English/#202008","title":"2020.08","text":"<ul> <li>the people of Italy experienced a strange kind of mass hysteria known as \u201c53 fever\u201d</li> <li>Italy cities: Bari (\u5df4\u91cc\uff0c\u4e1c\u5357\u90e8\u6d77\u6e2f), Naples (\u90a3\u4e0d\u52d2\u65af\uff0c\u897f\u5357\u90e8\u6e2f\u5e02), Venice (\u5a01\u5c3c\u65af\uff0c\u6e2f\u5e02)</li> <li>the number 53 simply stopped coming up on the Venice wheel \u2013 leading punters to place increasingly big bets on the number in the certainty that it must soon make a reappearance.</li> <li>their financial ruin, the pain of which resulted in a spate of suicides</li> <li>the victims had been led astray (adv \u8ff7\u9014\u5730; adj \u8ff7\u8def\u7684) (\u5f15\u5165\u6b67\u9014) by a reasoning flaw called the \u201cgambler\u2019s fallacy\u201d \u2013 a worryingly common error that can derail (\u8131\u8f68) many of our professional decisions, from a goalkeeper\u2018s responses to penalty shootouts in football to stock investments and even judicial (\u6cd5\u5ead\u7684\uff0c\u516c\u6b63\u7684) rulings on new asylum cases</li> <li>Jellyfish (\u6c34\u6bcd\uff0c\u6d77\u8707) is the common name for the free-swimming form of gelatinous animals</li> <li>farmed in aquaculture (\u6c34\u4ea7\u517b\u6b96\u4e1a) systems</li> <li>thousands of swimmers are stung with varying degrees of severity every year.</li> <li>jellyfish can form swarms which are also known as jellyfish blooms, which can damage fishing apparatus or clog the cooling systems of power stations.</li> <li>ocean eutrophication (\u5bcc\u8425\u517b\u5316)</li> </ul>"},{"location":"English/#202007","title":"2020.07","text":"<ul> <li>Malthusian (\u9a6c\u5c14\u8428\u65af\u7684\uff0c\u9a6c\u5c14\u8428\u65af\u4eba\u53e3\u8bba\u7684) catastrophe</li> <li> <p>Fertility was procyclical but declined and delayed with long-run growth.</p> </li> <li> <p>little flyer</p> </li> <li>magic pixie (\u5c0f\u7cbe\u7075)</li> <li>I tried to call deep on my courage.</li> <li>data with a soul</li> <li>expanding perception (\u8ba4\u8bc6\uff0c\u89c2\u5ff5\uff0c\u770b\u6cd5)</li> <li>he was just sweet-talking me.</li> <li>put it into a bento (\u76d2\u996d\uff0c\u5404\u5f0f\u4fbf\u5f53) box</li> <li>lean (\u503e\u659c\uff0c\u501a\u9760) into the discomfort of the work</li> <li>that was my mantra (\u5492\u8bed\uff0c\u771f\u8a00)</li> <li>lay something out: to detail or explain something explicitly, see also </li> <li>it is neurobiologically that\u2019s how we\u2019re wired.</li> <li>most excruciating (\u6781\u4e3a\u75bc\u75db\u7684) experiences of being excluded.</li> <li>unraveled connection</li> <li>The thing that underpinned this</li> <li>I am not promoted enough.</li> <li>outsmart (\u667a\u80dc\uff0c\u6bd4\u2026\u2026\u7cbe\u660e) it.</li> <li>turn out well: \u6210\u529f</li> <li>it boils down to</li> <li>office supply addiction, so I had a manila folder, and I had a Sharpie (\u7f8e\u56fd\u4e09\u798f\u8bb0\u53f7\u7b14)</li> <li>separate courage and bravery (\u52c7\u6562\uff0c\u534e\u4e3d\uff0c\u76db\u88c5)</li> <li>courage is from the Latin word \u201ccor\u201d, meaning \u201cheart\u201d</li> <li>had the compassion to be kind to themselves first</li> <li>as a result of authenticity (\u771f\u5b9e\u6027)</li> <li>the willingness to breathe through waiting for the doctor to call after your mammogram.</li> <li>it was betrayal (\u80cc\u53db)</li> <li>I had pledged allegiance (\u6548\u5fe0) to research.</li> <li>my therapist calls it a spiritual awakening</li> <li>this is going to suck</li> <li>they surrender (\u6295\u964d\uff0c\u5c48\u670d) and walk into it.</li> <li>It was a slugfest (\u4e89\u5435\uff0c\u5bf9\u9a82)</li> <li>numb (v. \u4f7f\u5931\u53bb\u77e5\u89c9\uff1badj. \u9ebb\u6728\u7684) vulnerability (\u8106\u5f31\u6027\uff0c\u5f31\u70b9)</li> <li>initiating sex with my wife</li> <li>being turned down</li> <li>getting laid off</li> <li>banana nut muffin (\u676f\u72b6\u5c0f\u677e\u7cd5)</li> <li>a way to discharge pain and discomfort</li> <li>take fat from out butts and put it in our cheeks</li> <li>They\u2019re hardwired for struggle. You\u2019re wired for struggle.</li> <li>it\u2019s a bailout (\u7d27\u6025\u6551\u52a9)<ul> <li>\u7ebe\u56f0\uff1a\u53e3\u8bed\u5316\u7684\u975e\u6b63\u5f0f\u7ecf\u6d4e\u5b66\u672f\u8bed\uff0c\u6307\u51fa\u9762\u62ef\u6551\u4e00\u4e2a\u4f01\u4e1a\u6216\u56fd\u5bb6\u514d\u4e8e\u7834\u4ea7\uff0c\u6216\u9632\u6b62\u91d1\u878d\u5371\u673a\u8513\u5ef6\u7684\u624b\u6bb5\u6216\u8ba1\u5212</li> </ul> </li> <li>oil spill: \u77f3\u6cb9\u6cc4\u9732<ul> <li>spill into: \u6d8c\u8fdb</li> <li>spill out: \u6ea2\u51fa</li> </ul> </li> <li>this is not our first rodeo (\u3010\u7f8e\u56fd\u7684\u3011\u725b\u4ed4\u7ade\u6280\u6bd4\u8d5b).</li> <li>be authentic and real</li> <li>be fierce (\u51f6\u731b\u7684\uff0c\u51f6\u72e0\u7684\uff0c\u72c2\u70ed\u7684) about</li> <li> <p>stop screaming and start listening</p> </li> <li> <p>fortune teller</p> </li> <li> <p>a Justin Bieber whack-a-mole</p> </li> <li> <p>millennial: \u4e00\u5343\u5e74\u7684</p> </li> <li>lean in to work</li> <li>hindsight is anything but 20/20.</li> <li>sometimes memory is downright creative.</li> <li>sophomore</li> <li>live in tenements</li> <li>bricklayers: \u780c\u7816\u5de5</li> <li>schizophrenia (\u7cbe\u795e\u5206\u88c2\u75c7)</li> <li>the experience of loneliness turns out to be toxic</li> <li>midst of conflict</li> <li>octogenarian (\u516b\u65ec\u8001\u4eba)</li> <li>securely attached relationship</li> <li>bicker with</li> <li>day in, day out</li> <li>this is wisdom that\u2019s as old as the hills</li> <li>take a toll (\u9020\u6210\u635f\u5931\uff0c\u4ea7\u751f\u8d1f\u9762\u5f71\u54cd) on their memories</li> <li>glamorous: \u5bcc\u6709\u9b45\u529b\u7684\uff0c\u72ec\u7279\u7684</li> <li>fare (v. \u6210\u529f\uff1bn. \u8f66\u8d39) the best: \u8868\u73b0\u6700\u597d\u7684</li> <li>livening up a stale relationship</li> <li> <p>those all-too-common family feuds take a terrible toll (\u6bc1\u574f\uff1b\u901a\u884c\u8d39\uff1b\u4f24\u4ea1\u4eba\u6570) on the people who hold the grudges (\u6028\u6068\uff0c\u79ef\u6028)</p> </li> <li> <p>Identity capital begets (\u5f15\u53d1\uff0c\u5bfc\u81f4) identity capital.</p> </li> <li>make it count: to make sth have as useful and positive an effect as possible, make something count</li> <li>procrastination</li> <li>the urban tribe is overrated</li> <li>twentysomethings who huddle together with like-minded peers limit who they know, what they know, how they think, how they speak, and where they work</li> <li>last but not least</li> <li>go/walk down the aisle: to get married</li> <li>being as intentional with love as you are with work</li> <li>consciously choosing, mindfully choose</li> <li> <p>airplanes just leaving LAX, bound for somewhere west. Right after takeoff, a slight change in course is the difference between landing in Alaska or Fiji.</p> </li> <li> <p>psychotherapy (\u5fc3\u7406\u6cbb\u7597\uff1b\u7cbe\u795e\u6cbb\u7597) client</p> </li> <li>wearing jeans and a big slouchy (\u61d2\u6563\u7684\uff0c\u5782\u80a9\u5f13\u80cc\u7684) top</li> <li>arsonist (\u7eb5\u706b\u72af\uff0c\u653e\u706b\u72af)</li> <li>Twentysomethings like Alex and I had nothing but time.</li> <li>sleeping with knucklehead (\u7b28\u86cb\uff0c\u50bb\u74dc)</li> <li>the brain caps off its second and last growth spurt (\u51b2\u523a\uff1b\u5192\u51fa\uff1b\uff08\u77ed\u6682\u5730\uff09\u52a0\u901f\u524d\u8fdb) in your 20s</li> <li>an inordinate impact</li> <li>extended adolescence</li> <li>twixter (a new generation of young adults) and kidult (\u5927\u5c0f\u5b69\uff0c\u8001\u987d\u7ae5)</li> <li>we have trivialized what is actually the defining decade of adulthood.</li> <li>you have robbed that person of his urgency and ambition</li> <li>that sounds a little flip</li> <li>the post-millennial (\u4e00\u5343\u5e74\u7684) midlife crisis isn\u2019t buying a red sports car.</li> <li>displayed his temper more than his ambition</li> <li>she hangs her head in her lap, and she sobbed for most of the hours.</li> <li>she was nearly hysterical</li> <li>if I get in a car wreck (\u6bc1\u574f\uff0c\u6bc1\u706d)</li> <li>Emma\u2019s defining decade went parading by (\u70ab\u8000).</li> <li>all I did was codify (v. organize into a code or system, such as a body of law) it. reference: \u201cdid was + v.\u201d structure</li> <li>it has leather (\u76ae\u9769\u7684) seats</li> <li>everything we do, we believe in challenging the status quo.</li> <li>They\u2019re eminently (\u975e\u5e38\uff0c\u7279\u522b) qualified to make flat-screen TVs.<ul> <li>eminence: \u9f0e\u9f0e\u5927\u540d\uff0c\u53d7\u5c0a\u656c\u7684\u4eba</li> </ul> </li> <li>It\u2019s all grounded in the tenets (\u539f\u5219\uff0c\u6559\u4e49\uff0c\u4fe1\u6761) of biology.</li> <li>Our newest brain, our Homo sapien brain, our neocortex (\u65b0\uff08\u5927\u8111\uff09\u76ae\u8d28\uff0c\u65b0\u76ae\u5c42), corresponds with the \u201cwhat\u201d level.<ul> <li>cortex: \uff08\u8111\u6216\u5176\u4ed6\u5668\u5b98\u7684\uff09\u76ae\u5c42</li> </ul> </li> <li>our limbic (\u8fb9\u7f18\u7684) brains are responsible for all of our feelings.<ul> <li>limbic system: \u5305\u542b \u6d77\u9a6c\u4f53 (Hippocampus) \u53ca \u674f\u4ec1\u4f53 (Amygdala) \u5728\u5185\uff0c\u652f\u63f4\u591a\u79cd\u529f\u80fd\u4f8b\u5982\u60c5\u7eea\u3001\u884c\u4e3a\u53ca\u957f\u671f\u8bb0\u5fc6\u7684\u5927\u8111\u7ed3\u6784\u3002</li> </ul> </li> <li>rationalize it with the tangible (\u6709\u5f62\u7684\uff0c\u53ef\u89e6\u6478\u7684\uff0c\u5207\u5b9e\u7684) things</li> <li>the pursuit of powered man flight was like the dot com of the day.</li> <li>under-capitalized</li> <li>And lo and behold, look what happened.</li> <li>They only reason these people buy touch-tone phone is because you can\u2019t buy rotary phones anymore.</li> <li>gut feeling</li> <li>Those steps can in turn increase economic dislocations (\u6df7\u4e71\uff0c\u4f4d\u79fb), including plummeting (\u66b4\u8dcc) stock prices.</li> <li>rewind live TV</li> <li> <p>a great orator</p> </li> <li> <p>there\u2019s an uncomfortable tension in the room.</p> </li> <li>if some of the women were really horrified (\u9707\u60ca\u7684\uff0c\u60ca\u9a87\u7684)</li> <li>I am quite privileged (\u6709\u7279\u6743\u7684) to be able to transform what you think of me in a very brief 10 seconds.</li> <li>Image is powerful, but also, image is superficial.</li> <li>fake tan (\u4eba\u5de5\u65e5\u6652\u80a4\u8272\uff1b\u5047\u5192\u53e4\u94dc\u8272\uff1b\u7f8e\u9ed1)</li> <li>I was scouted (\u4fa6\u5bdf\uff0c\u8ddf\u8e2a\uff0c\u76d1\u89c6\uff0c\u53d1\u73b0).</li> <li>I won a genetic lottery, and I am the recipient of a legacy.</li> <li>slender figures, and femininity</li> <li>there are some fashionistas (\u75af\u72c2\u8ffd\u6c42\u65f6\u9ae6\u4e0e\u6d41\u884c\u7684\u4eba) who are like</li> <li>they don\u2019t put me in charge of that.</li> <li>a ninja (\u65e5\u672c\u6b66\u58eb\uff0c\u5fcd\u8005) cardiothoracic (\u5fc3\u80f8\u5916\u79d1) surgeon (\u5916\u79d1\u533b\u751f) poet (\u8bd7\u4eba)</li> <li>saying that you want to be a model when you grow up is akin to saying you want to win the Powerball when you grow up.</li> <li>because unlike cardiothoracic surgeons (\u5fc3\u80f8\u5916\u79d1\u5916\u79d1\u533b\u751f), it can just be distilled right now.</li> <li>underwear model</li> <li>do they retouch all the photos?</li> <li>it\u2019s also the very first time that I had worn a bikini, and I didn\u2019t ever have my period yet.</li> <li>Here\u2019s me at a slumber party a few days before I shot French Vogue.</li> <li>They are constructions by a group of professionals, by hairstylists and makeup artists and photographers and stylists and all of their assistants and pre-production and post-production.</li> <li>were stopped and frisked.<ul> <li>stop-and-frisk: \u62e6\u622a\u76d8\u67e5\uff1b\u62e6\u622a\u641c\u8eab</li> </ul> </li> <li>you are so happy and fabulous.</li> <li>when we are backstage</li> <li>I am insecure.</li> <li>It was difficult to unpack a legacy of gender and racial oppression when I am one of the biggest beneficiaries.</li> <li> <p>If there\u2019s a takeaway to this talk,</p> </li> <li> <p>unfriend (\u89e3\u9664\u597d\u53cb\u5173\u7cfb) someone on Facebook</p> </li> <li>Henry Higgins in \u201cMy Fair Lady\u201d</li> <li>anti-vaxxing: shorted version of anti-vaccination</li> <li>Pew Research Center (\u76ae\u5c24\u7814\u7a76\u4e2d\u5fc3) is a nonpartisan American think tank (\u667a\u5e93\uff0c\u667a\u56ca\u56e2).</li> <li>we are more polarized than we ever have been in history</li> <li>plumber: \u6c34\u7ba1\u5de5\u4eba</li> <li>nod (\u70b9\u5934) and smile to show that you\u2019re paying attention.</li> <li>it\u2019s crap (\u5e9f\u8bdd\uff0c\u5e9f\u7269).</li> <li>don\u2019t pontificate (\u81ea\u4ee5\u4e3a\u662f\u5730\u8c08\u8bba\uff0c\u76ee\u7a7a\u4e00\u5207\u5730\u8bae\u8bba).</li> <li>I don\u2019t allow pundits on my show.</li> <li>The famed therapist M. Scott Peck said that true listening requires a setting aside of oneself.</li> <li>the speaker will become less and less vulnerable and more and more likely to open up the inner recesses of his or her mind to the listener.</li> <li>were you terrified (\u5bb3\u6015\uff0c\u6050\u60e7)?</li> <li>he was just bound and determined to say that.</li> <li>Err on the side of caution.</li> <li>People who brag about (\u5938\u8000\uff0c\u5439\u5618) their IQs are losers.</li> <li>Conversations are not a promotional opportunity.</li> <li>condescending</li> <li>stay out of the weeds</li> <li>I can bolster my own identity.</li> <li>A good conversation is like a miniskirt; short enough to retain interest, but long enough to cover the subject.</li> <li>She was the runner-up (\u4e9a\u519b\uff0c\u7b2c\u4e8c\u540d) to Miss America.</li> <li>He was the mayor of Sacramento.</li> <li> <p>She won a Pulitzer Prize.</p> </li> <li> <p>so we were up on top of our bunk beds (\u53cc\u5c42\u5e8a)</p> </li> <li>I had put out all of my G.I. Joe soldiers and weaponry (\u6b66\u5668\uff0c\u5175\u5668).</li> <li>And on the other side were all my sister\u2019s My Little Ponies ready for a cavalry (\u9a91\u5175\uff0c\u88c5\u7532\u5175) charge (\u51b2\u51fb\uff0c\u731b\u653b).</li> <li>on the clumsy (\u7b28\u62d9\u7684\uff0c\u7b28\u91cd\u7684) side.</li> <li>I nervously peered over the side of the bed to see what had be fallen my fallen sister.</li> <li>heroically (\u82f1\u52c7\u5730\uff1b\u52c7\u6562\u5730\uff1b\u5192\u9669\u5730) pushing her out of the way of an oncoming imaginary sniper (\u72d9\u51fb\u5175) bullet.</li> <li>this wail (\u6078\u54ed\uff0c\u54c0\u53f7) of pain and suffering and surprise threatening to erupt (\u7206\u53d1\uff0c\u7a81\u7136\u53d1\u751f) from her mouth and wake my parents from the long winter\u2019s nap for which they had settled.</li> <li>my frantic (\u72c2\u4e71\u7684\uff0c\u75af\u72c2\u7684) seven year-old brain could think to do to avert (\u9632\u6b62\uff0c\u907f\u514d) this tragedy.</li> <li>I thinks this means you\u2019re a unicorn (\u72ec\u89d2\u517d\uff0c\u9e92\u9e9f).</li> <li>contemplate (\u6c89\u601d\uff1b\u6ce8\u89c6\uff1b\u6df1\u601d\u719f\u8651) her new-found identity as a unicorn.</li> <li>scramble \uff08\u5feb\u901f\u722c\u884c\uff0c\u4e89\u593a\uff0c\u4e89\u62a2\uff09 back up to onto the bunk bed</li> <li>What we stumbled (\u7eca\u811a\uff1b\u51fa\u9519) across at this tender age of just five and seven was was going be at the vanguard (\u5148\u950b\uff0c\u524d\u9a71) of a scientific revolution occurring two decades later in the way that we look at the human brain.</li> <li>There is one weird dot above the curve, there\u2019s one weirdo (\u53e4\u602a\u7684\u4eba) in the room.</li> <li>we can glean information</li> <li>the medical school syndrome</li> <li>I have leprosy (\u9ebb\u75c5)</li> <li>I have no idea how to console (\u5b89\u6170) poor Bobo because he had just gotten over an entire week of menopause</li> <li>military scholarship</li> <li>I was an officer to counsel (\u5efa\u8bae; n. \u5f8b\u5e08\uff0c\u6cd5\u5f8b\u987e\u95ee) students through the difficult four years.</li> <li>on the competition, the workload, the hassles (\u6fc0\u70c8\u4e89\u8bba), stresses, complaints.</li> <li>adolescent depression, violence and bullying (\u6050\u5413\uff0c\u4f24\u5bb3), illicit drugs, risky sex</li> <li>dopamine</li> <li>not only create ripples of positivity, but a real revolution (\u9769\u547d\uff0c\u65cb\u8f6c)</li> <li>journaling about one positive experience you\u2019ve had over the past 24 hours allows your brain to relive it.</li> <li>we find that meditation allows your brain to get over the cultural ADHD that we\u2019ve creating by trying to do multiple tasks at once and allows our brains to focus on the task at hand.</li> <li>random acts of kindness are conscious (\u6709\u610f\u8bc6\u7684\uff0c\u795e\u667a\u6e05\u9192\u7684) acts of kindness.</li> <li>I was the quintessential (\u7cbe\u9ad3\u7684\uff0c\u6700\u5b8c\u7f8e\u7684) nerd (\u843d\u4f0d\u7684\u4eba\uff0c\u7535\u8111\u8ff7\uff0c\u611a\u8822\u7684\u4eba)</li> <li>I grew up in a small town in the dusty plains of north Texas, the son of a sheriff who was the son of a pastor</li> <li>That led me to building a laser and a computer and model rockets, and that led me to making rocket fuel in my bedroom.</li> <li>Stanley Kubrick\u2019s \u201c2001: A space Odyssey\u201d came to the theaters.</li> <li>Now, HAL was a sentient computer, designed to guide the Discovery spacecraft from the Earth to Jupiter.</li> <li>our fear of being subjugated by some unfeeling, artificial intelligence.</li> <li>I believe that such fears are unfounded</li> <li>we are building machines of exquisite, beautiful complexity and grace</li> <li>but without the homicidal tendencies</li> <li>another fascinating idea in the mission profile places humanoid (\u4eff\u771f\u673a\u5668\u4eba) robots on the surface of Mars</li> <li>To paraphrase Alan Turing, I am not interested in building a sentient machine.</li> <li>Can we build systems that converse with humans in natural language?</li> <li>Can we build systems that have an ethical and moral foundation?</li> <li>Now, every new technology brings with it some measure of trepidation.</li> <li>people lamented (\u54c0\u60bc\uff0c\u60cb\u60dc) that we would see the destruction of the family.</li> <li>how to discern (\u8bc6\u522b\uff0c\u8fa8\u522b) a good game from a bad game.</li> <li>what about rogue (\u6d41\u6c13\uff0c\u65e0\u8d56) agents?</li> <li>it could represent an existential (\u6709\u5173\u4eba\u7c7b\u5b58\u5728\u7684) threat to all of humanity.</li> <li>an insatiable (\u4e0d\u77e5\u8db3\u7684\uff0c\u8d2a\u5f97\u65e0\u538c\u7684) thirst for information</li> <li>only insofar as (\u5728\u2026\u8303\u56f4\u5185) HAL commanded all aspects of the Discovery.<ul> <li>I\u2019ll help you insofar as I can.</li> </ul> </li> <li>it ain\u2019t gonna happen</li> <li>command us capricious, chaotic (\u6df7\u4e71\u7684\uff0c\u6742\u4e71\u7684) humans.</li> </ul>"},{"location":"English/#202003","title":"2020.03","text":"<ol> <li>features that rot (\u8150\u70c2\uff0c\u5f62\u52bf\u6076\u5316) before they ripen (\u6210\u719f).</li> <li>the dog sprints off (\u5feb\u901f\u8dd1\u5f00)</li> <li>shy away from it: try to avoid because of nervousness, fear, dislike.</li> <li>swinging hard right on the pendulum.</li> <li>evade (\u9003\u907f\uff0c\u56de\u907f) bad data</li> </ol>"},{"location":"English/#202001","title":"2020.01","text":"<ol> <li>op-ed: opposite the editorial page. \u4e00\u79cd\u6e90\u4e8e\u6b27\u7f8e\u62a5\u7eb8\u51fa\u7248\u4e1a\u7684\u65b0\u95fb\u51fa\u7248\u7528\u8bed\uff0c\u610f\u6307\u4e00\u79cd\u7531\u5916\u4eba\u6240\u64b0\u5199\u3001\u520a\u767b\u5728\u62a5\u7eb8\u6216\u6742\u5fd7\u4e0a\u7684\u8bc4\u8ff0\u6027\u8d28\u6587\u7ae0\u3002</li> <li>fear of contracting the virus is rampant (\u6cdb\u6ee5\u7684\uff0c\u7316\u7357\u7684\uff0c\u75af\u957f\u7684)</li> <li>get people to be more deliberative (\u614e\u91cd\u7684\uff0c\u534f\u5546\u7684)</li> <li>I remain fearful that someone will nuke (\u7528\u6838\u6b66\u5668\u653b\u51fb) our city.</li> <li>fear can shake us out of complacency.</li> <li>cognitive illusion (\u9519\u89c9\uff0c\u5e7b\u60f3)</li> <li>the high-end</li> <li>Wasn\u2019t there something strange about the extreme disparity (\u4e0d\u540c\uff0c\u4e0d\u4e00\u81f4) in public reactions?</li> <li>a style that is so simple and open and guileless (\u539a\u9053\u7684\uff0c\u8001\u5b9e\u7684) that it approaches parody (\u62d9\u52a3\u7684\u6a21\u4eff\uff0c\u8352\u8c2c\u7684\u66ff\u4ee3\u7269).<ul> <li>The Remains of the Day (\u957f\u65e5\u5c06\u5c3d)  is clearly parodic (parody, \u620f\u4eff\uff0c\u8c10\u62df) , or at least a classic of the \u201cunreliable narrator\u201d genre.</li> </ul> </li> <li>I found that some labeled the book as satire (\u8bbd\u523a\uff0c\u8ba5\u8bbd) and others took it straight.</li> <li>with any parodic elements merely representing Levitt\u2019s recognition of life\u2019s absurdities.</li> <li>brash rather than decorous</li> <li>the men are viewed through the prism</li> <li>Leavitt is a bit more ruthless (\u6b8b\u9177\u65e0\u60c5\u7684), willing to let his characters hang in classic British style (e.g., Evelyn Waugh or George Orwell), in contrast to Wolitzer who likes her characters so much that she wants to give them a happy ending.</li> <li>disparage (\u8f7b\u89c6\uff0c\u8d2c\u4f4e\uff0c\u6279\u8bc4\uff0c\u975e\u96be) a number of journals</li> <li>Is it the number of articles that they publish that end up being bogus?</li> <li>Linguist and public intellectual Steven Pinker got into trouble recently when it turned out that he\u2019d been offering expert advice to the legal team of now-disgraced financier Jeffrey Epstein.</li> <li>taboo questions raise our blood pressure and threaten moral panic</li> <li>I thought A Fish Called Wanda was hilarious in 1988 and I happened to see it again last year, and I found it hilarious the second time as well. Not cringeworthy at all.</li> </ol> <p>from Steven Pinker on torture 1. An example is some preliminary data gathered at Stanford on revival of cardiac arrest patients by paramedics. 2. defibrillation 3. For diploid and tetraploid tumors, the flow cytometry (\u7ec6\u80de\u8ba1\u6570\u6cd5\uff0c\u6d4b\u91cf\u4e0d\u540c\u7ec6\u80de\u53c2\u6570\u7684\u751f\u7269\u65b9\u6cd5\u7684\u7edf\u79f0) method was also able to estimate the percent of tumor cells in a growth stage of their cell cycle, the percent of growth is systematically missing for most aneuploid tumors. 1. The knockoff filter operates by manufacturing knockoff variables that are cheap. 2. The knockoff filter can be seen as a versatile (\u591a\u7528\u9014\u7684\uff0c\u591a\u529f\u80fd\u7684) wrapper. 1. Traditionally, mpMRI examinations were used to manually delineate (\u52fe\u753b\uff0c\u63cf\u8ff0) the cancerous regions within the prostate. 2. Such methods tend to depend highly on radiologists\u2018 and urologists\u2018 expertise 1. gastric: \u80c3\u7684\uff0c\u80c3\u90e8\u7684</p>"},{"location":"English/#201912","title":"2019.12","text":"<ol> <li>High scorers are juvenile delinquents (\u5c11\u5e74\u7f6a\u72af) who then see the error of their ways and reform (\u6539\u9769\uff0c\u6539\u6b63) permanently.</li> <li>Children who fail in the entrance examination are deprived (\u5265\u593a\uff0c\u4f7f\u4e27\u5931) of the opportunities to receive a better and higher education. Accordingly (\u56e0\u6b64\uff1b\u76f8\u5e94\u5730), with an impressive educational background, it is difficult for them to find a proper job. As a result, they become full of resentment at a society, doing harm to strangers and disrupting social order, both of which inevitably increase juvenile (\u5c11\u5e74\u7684\uff0c\u672a\u6210\u5e74\u7684) delinquency (\u300c\u5e38\u6307\u9752\u5e74\u4eba\u7684\u300d\u72af\u7f6a).<ul> <li>both + nonus: both my children, both engines</li> <li>pronoun + both: we both prefer classical music. let\u2019s open them both now.</li> <li>both of + object pronoun: both of us/them/you</li> <li>both as pronoun: both are ok.</li> <li><code>be + both + ...</code> instead of both + be + \u2026</li> <li>more details refer to dictionary.cambridge.org/grammar/british-grammar/both</li> </ul> </li> <li>Ampoule (\u5b89\u74ff\u74f6\uff0c\u5982\u5229\u591a\u5361\u56e0)\uff0c vs \u897f\u6797\u74f6 (\u5982\u9752\u9709\u7d20)</li> <li>Intellectual property (IP) is an umbrella term that covers a group of separate intangible property rights of owners/creators.</li> <li>Provide legal protection in various types of monopolies.</li> <li>Defining offences (\u72af\u7f6a\uff0c\u7f6a\u884c\uff0c\u5192\u72af) (civil or criminal infringement (\u4fb5\u6743\u3001\u4fb5\u72af)) against intellectual property.</li> <li>Plant Varieties (Agricultural or horticultural (\u56ed\u827a\u7684) plant varieties)</li> <li>The IP laws protect your interpretation of ideas in the form of a book, an invention, etc.</li> <li>Registered designs protect the appearance of your toys. Only the look of your toys is protected, not the ways in which the toys operate. Patent law may protect the way in which a product works.</li> <li>The new visible shape, configuration, pattern or ornament (\u88c5\u9970\uff0c\u88c5\u9970\u54c1) applied to an article by an industrial process are features capable of protection by design registration.</li> <li>nephew: \u4f84\u5b50\uff0c\u5916\u7525</li> <li>Scientific discoveries as ideas are not protected.</li> <li>If a country is a member of international copyright convention, treaty or organization such as the World Trade Organization and others like the Berne Convention, the Universal Copyright Convention, the Geneva Convention for the protection of producers of phonograms, and the agreement on trade-ralated aspects of intellectual property rights, then Hong Kong\u2019s copyright applies and is valid in these countries.</li> <li>Hong Kong is a common law jurisdiction (\u53f8\u6cd5\u6743\uff0c\u88c1\u5224\u6743).</li> <li>Copyright Ordinance</li> <li>The goal was to combat (\u4e0e\u2026\u6218\u6597\uff0c\u53cd\u5bf9) copyright piracy (c.f. privacy) activities on computer software in the business sector.</li> <li>The criminal provisions (\u89c4\u5b9a\uff0c\u6761\u6b3e) in Intellectual Property (Miscellaneous Amendments) Ordinance 2001 caused the public concerns that the amendments might hinder the dissemination of information in the education sector and the society.<ul> <li>provision (\u4f9b\u5e94\u54c1) of Rapid Antigen Test (RAT) Kit</li> </ul> </li> <li>The copyright law is applicable to where the act in question occurs.</li> <li>compilation</li> <li>MIME: Multipurpose Internet Mail Extensions, \u591a\u7528\u9014\u4e92\u8054\u7f51\u90ae\u4ef6\u62d3\u5c55\u3002</li> <li>The most important rights of a performer are the right to prevent any person from making a video or sound recording of his performance and the right to prohibit any person exploiting a video or sound recording of his performance.</li> <li>civil remedies (\u6c11\u4e8b\u6551\u6d4e) vs. criminal sanction (\u5211\u4e8b\u5904\u5206)</li> <li>intranet</li> <li>Under the Copyright Ordinance, the fair dealing for showing or playing a movie will apply only if the purpose is for giving or receiving instruction in a specified course of student provided by an educational establishment. It is not allowed to use these materials outside the scope of fair dealing such as for the purpose of entertainment.</li> <li>Vincent van Gogh: \u68b5\u9ad8</li> <li>I recently was discussing/arguing about the value of charter schools lottery (\u5f69\u7968) studies.<ul> <li>The demand for seats in charter schools is so great that almost all charter schools must admit students by random lottery.</li> </ul> </li> <li>is admissions of a lack of external validity ameliorated (\u6539\u5584\uff1b\u6539\u8fdb) because of stronger internal validity?</li> <li>How do practitioners and patients discern the difference? - It had all been one of his repulsive (\u4ee4\u4eba\u538c\u6076\u7684\uff0c\u53ef\u618e\u7684) drunken jests (\u73a9\u7b11\uff0c\u7b11\u8bdd).</li> <li>I think that the author shouldn\u2019t have done the chapter gimmick (\u5671\u5934\uff0c\u9a97\u4eba\u7684\u73a9\u610f), and focused more on the more impactful awards.</li> <li>Because of all the uncertain and unknown assumptions that underpin statistical inferences, we should treat inferential statistics as highly unstable local descriptions of relations between assumptions and data, rather than as generalizable inferences about hypotheses or models.</li> <li>Acknowledging this uncertainty could help reduce the allure of selective reporting</li> <li>That paper is part of a much large literature in economics on Persistence or \u201cDeep Origins\u201d that shows how medieval pogroms prefigure Nazi support, adoption of the plough determines women\u2019s rights etc.</li> <li>The impact of history on the present appears indisputable but is, as the extreme Moran statistic for spatial autocorrelation indicates, spurious.</li> <li>a battery of questions: \u4e00\u8fde\u4e32\u7684\u8d28\u95ee</li> <li>a bunch of data</li> <li>My father was a scratch golfer in his heyday (\u5168\u76db\u671f) on local public courses, but he said he\u2019d never be able to sink a single putt (\u51fb\u7403\u5165\u6d1e) if the greens were maintained the way they were for PGA tournaments (\u9526\u6807\u8d5b\uff0c\u8054\u8d5b).</li> <li>he was obsessive \uff08\u7740\u8ff7\uff0c\u75f4\u8ff7\uff09 about his short game\u2014his own career was ended by knee and rotator cuff surgery\u2014hockey (\u51b0\u7403\uff0c\u66f2\u68cd\u7403) wasn\u2019t good to his body, either, despite playing in a \u201cnon-contact\u201d league as an adult.</li> <li>Are there things like field goals in rugby (\u6a44\u6984\u7403) or Australian-rules football? I love that the actual name of the sport has \u201crules\u201d in the title\u2014it\u2019s the kind of pedantry near and dear to this semanticist (\u8bed\u4e49\u5b66\u8005)\u2019s heart. - It is the kind of semantic nitpicking that has made progressive movements unappealing to many Americans. - I boycott (\u8054\u5408\u62b5\u5236\uff0c\u62d2\u7edd\u53c2\u52a0) contact sports like football and ice hockey due to their intentionally violent nature.</li> <li>I saw too many catchers and umpires (\u88c1\u5224\u5458\uff0c\u4ef2\u88c1\u4eba) rocked by foul tips (\u89e6\u51fb\u7403) to the face mask this season.</li> <li>see a catcher don (\u7a7f\u4e0a) the gear (\u88c5\u5907\uff0c\u8863\u670d) again after multiple concussions (\u51b2\u51fb\uff0c\u9707\u52a8).</li> <li>Education should be geared (\u4f7f\u642d\u914d\uff0c\u4f7f\u9002\u5408) to society\u2019s needs.</li> <li>With Thanksgiving around the corner, retailers are gearing up (\u51c6\u5907\u597d) for a battle.</li> <li>What really riled (\u6fc0\u6012) me was when the speaker said</li> <li>This seems to me to be a bizarre (\u79bb\u5947\u7684\uff0c\u53e4\u602a\u7684) sort of techno-mysticism.</li> <li>The nascent (\u521d\u671f\u7684\uff0c\u5f00\u59cb\u5b58\u5728\u7684\uff0c\u53d1\u751f\u4e2d\u7684) field of fair machine learning aims to ensure that decisions guided by algorithms are equitable.</li> <li>Over the last several years, three formal definitions of fairness have gained prominence</li> <li>classification parity, meaning that common measures of predictive performance</li> <li>One must carefully define and measure the targets of prediction to avoid retrenching biases in the data.</li> <li>A team of researchers inside Pfizer (\u8f89\u745e\uff0c\u7f8e\u56fd\u5236\u836f\u516c\u53f8) made a startling find in 2015: The company\u2019s blockbuster (\u91cd\u78c5\u70b8\u5f39\uff0c\u4e86\u4e0d\u8d77\u7684\u4eba\u6216\u4e8b) rheumatoid (\u98ce\u6e7f\u75c5\u7684\uff0c\u7c7b\u98ce\u6e7f\u75c5\u7684) arthritis (\u5173\u8282\u708e) therapy Enbrel (\u6069\u5229\uff0c\u6ce8\u5c04\u7528\u4f9d\u90a3\u897f\u666e\uff0cEtanercept), a powerful anti-inflammatory (\u6297\u708e\u7684) drug, appeared to reduce the risk of Alzheimer\u2019s disease by 64 percent.</li> <li>A synopsis (\u63d0\u8981) of its statistical findings prepared for outside publication, it says, did not meet its \u201crigorous scientific standards.\u201d</li> <li>Pfizer said it opted against publication of its data because of its doubts about the results.</li> <li>One reason for caution: another class of anti-inflammatory therapies, called non-steroidal (\u975e\u7c7b\u56fa\u9187\u7c7b\u5316\u5408\u7269) anti-inflammatory drugs (NSAIDS), showed no effect against mild-to-moderate Alzheimer\u2019s in several clinical trials a decade ago. - steroid: \u7c7b\u56fa\u9187\uff0c\u3010\u751f\u5316\u3011\u753e\u7c7b\u5316\u5408\u7269</li> <li>I bet this revelation (\u542f\u793a\uff0c\u88ab\u63ed\u9732\u7684\u771f\u76f8) leads to a slew of off-label prescriptions, just as happened with estrogen (\u96cc\u6027\u6fc0\u7d20) a couple of decades ago. My physician friends told me then that you could not recruit subjects for a clinical trial because doctors were just prescribing estrogen for all menopausal women, to prevent Alzheimer\u2019s.</li> <li>Novartis</li> <li>political ideology: \u653f\u6cbb\u610f\u8bc6\u5f62\u6001</li> <li>if you push hard you can find the weak points and magnify them until you get ridiculous (\u8352\u8c2c\u7684) inferences.</li> <li>but the way probability works is that you can always find some chink in the model and exploit it to result in a clearly bad prediction.</li> <li>I think the proclivity (\u300c\u5e38\u5bf9\u574f\u4e8b\u7684\u300d\u503e\u5411) of Bayesian inferences to tend toward the ridiculous is just fine</li> <li>But Bayesian inference can lead us astray, and we\u2019re better statisticians if we realize that.</li> <li>I\u2019m exhausted by the ideology of the Bayes-evangelists (\u798f\u97f3\u4f20\u6559\u58eb).</li> <li>Would Republicans pay a price if they vote to impeach (\u6000\u7591\uff0c\u63a7\u544a\uff0c\u5f39\u52be) the president?</li> <li>Nixon loyalists paid the price\u2014not Republicans who voted to impeach.</li> <li>So I goggled (\u3010\u5c24\u6307\u7531\u4e8e\u60ca\u5947\u800c\u3011\u77aa\u5927\u773c\u775b\u770b) a bit and asked a colleague in ML about the above.</li> <li>It\u2019s great if you\u2019ve got hair to comb (\u68b3\u5b50), but otherwise it leaves you looking a bit silly.</li> <li>Once my sister had the hiccups and my dad snuck up behind her and scared her. The hiccups went away but my sister made my dad promise never to scare her again like that.</li> <li>On the medical front, we now have things like nut allergy (\u575a\u679c\u7c7b\u98df\u7269\u8fc7\u654f) and autism (\u81ea\u95ed\u75c7) which nobody ever thought about and now are huge.</li> <li>Another tack is to develop alternative conduits (\u5bfc\u7ba1\uff0c\u6e20\u9053\uff0c\u6c9f\u6e20) and supplies.</li> <li>malignant (\u3010\u75be\u75c5\u3011\u6076\u6027\u7684\uff1b\u81f4\u547d\u7684) tumor<ul> <li>benign (\u826f\u6027\u7684) tumor:</li> </ul> </li> <li>Glioblastomas: \u80f6\u8d28\u6bcd\u7ec6\u80de\u7624</li> <li>chemotherapy\uff1a \u5316\u5b66\u7597\u6cd5</li> <li>The number of asthma (\u54ee\u5598) attacks across the United States has dropped dramatically during the pandemic, leading doctors to rethink some of their long-held assumptions about the chronic condition.</li> <li>allergen\uff1a\u8fc7\u654f\u539f</li> <li>roach: \u87d1\u8782</li> <li>penicillin: \u9752\u9709\u7d20\uff0c\u76d8\u5c3c\u897f\u6797</li> <li>Dermatology \u76ae\u80a4\u75c5\u5b66</li> <li>ointments \u8f6f\u818f</li> </ol>"},{"location":"English/#201911","title":"2019.11","text":"<ol> <li>You will have to throw away 3 months of your work while somehow keeping your mental health intact (\u5b8c\u6574\u7684\uff0c\u672a\u53d7\u635f\u4f24\u7684).</li> <li>the most conspicuous (\u663e\u773c\u7684\uff0c\u660e\u663e\u7684) trait of the American professoriate (\u6559\u6388\u4f1a) may be the prose (\u6563\u6587\uff1b\u5e73\u51e1\u7684\uff0c\u4e4f\u5473\u7684) style called academese (\u5b66\u672f\u884c\u8bdd\uff0c\u5b66\u672f\u4f53\uff0c\u5b66\u672f\u6587\u7ae0\u7684\u98ce\u683c):</li> <li>echo chamber: \u56de\u97f3\u5ba4\u6548\u5e94\uff0c\u5728\u5a92\u4f53\u4e0a\u662f\u6307\u5728\u4e00\u4e2a\u76f8\u5bf9\u5c01\u95ed\u7684\u73af\u5883\u4e2d\uff0c\u4e00\u4e9b\u610f\u89c1\u76f8\u8fd1\u7684\u58f0\u97f3\u4e0d\u65ad\u91cd\u590d\uff0c\u5e76\u4ee5\u5938\u5f20\u6216\u5176\u4ed6\u626d\u66f2\u5f62\u5f0f\u91cd\u590d\uff0c\u4ee4\u5904\u4e8e\u76f8\u5bf9\u5c01\u95ed\u73af\u5883\u4e2d\u7684\u5927\u591a\u6570\u4eba\u8ba4\u4e3a\u8fd9\u4e9b\u626d\u66f2\u7684\u6545\u4e8b\u5c31\u662f\u4e8b\u5b9e\u7684\u5168\u90e8\u3002</li> <li>The researchers who published impact estimates are from a small and close-knit (\u7d27\u5bc6\u7ed3\u5408\u5728\u4e00\u8d77\u7684\uff1b\u5fd7\u540c\u9053\u5408\u7684\uff1b\u610f\u6c14\u76f8\u6295\u7684) community who may be subject to (\u53d7\u2026\u652f\u914d\uff0c\u53d7\u2026\u5f71\u54cd) group-thinking, peer pressure and self-censoring (\u81ea\u6211\u5ba1\u67e5\uff0c\u81ea\u6211\u7d04\u675f, \u81ea\u5f8b).</li> <li>People might suppose the gremlins (\u5c0f\u9b54\u602a\uff1b\u5c0f\u7cbe\u7075\uff1b\u6363\u86cb\u9b3c) hubbub (\u55a7\u54d7\uff0c\u9a9a\u52a8) dinged (\u3010informal\u3011hit (someone), especially on the head.) his reputation, but no. \u8c37\u6b4c\u7ffb\u8bd1</li> <li>In 2016, when the gremlins paper had been discredited (\u4e0d\u8db3\u4fe1\u7684\uff0c\u4e0d\u540d\u8a89\u7684), he pivoted and conducted his own exercise, rooted in Tol\u2019s idea but more sophisticated, and with very similar results.</li> <li>Random forests are a very popular off-the-shelf (\u73b0\u6210\u7684\uff0c\u4e0d\u7528\u5b9a\u5236\u7684) machine learning model for this setting.</li> <li>Faithful friendship, unwavering aspiration (\u5f3a\u70c8\u7684\u613f\u671b\uff0c\u5fd7\u5411\uff0c\u62b1\u8d1f), nurture (\u6559\u517b\uff0c\u57f9\u80b2) of the younger, and passion for life\u2026\u2026, these are virtues that\u2026\u2026 \u5e38\u7528\u6210\u8bed\u8bb0\u5fc6\u5361\u7247\uff1a \u6210\u8bed\uff0dVCE 1+2 \u5e74\u5e95\u8003\u8bd5</li> </ol>"},{"location":"English/#201910","title":"2019.10","text":"<ol> <li>ore (\u77ff\u77f3\uff0c\u77ff) grades: \u77ff\u5c71\u54c1\u5473\u5206\u7ea7</li> <li>tiger prawn: \u8001\u864e\u867e</li> <li>saplings\uff1a\u5e7c\u6811\uff0c\u6811\u82d7</li> <li>\u201capparent magnitude scaling\u201d is an idea from cartography (\u5236\u56fe\u5b66)</li> <li>regime</li> <li>geoscientists and engineers in the petroleum (\u77f3\u6cb9) and geothermal (\u5730\u70ed\u7684\uff0c\u5730\u6e29\u7684) industries</li> <li>cardiovascular: \u5fc3\u8840\u7ba1\u7684</li> <li>hyperinsulinemia: \u8840\u80f0\u5c9b\u7d20\u589e\u591a</li> <li>ischemic\uff1a \u5c40\u90e8\u8d2b\u8840</li> <li>bilateral: \u53cc\u65b9\u7684\uff0c\u53cc\u8fb9\u7684</li> <li>subthalamic</li> <li>nucleus</li> <li>The most extreme, most sobering (\u4ee4\u4eba\u8b66\u9192\u7684\uff0c\u4f7f\u4eba\u51b7\u9759\u7684), and zaniest (zany. \u53e4\u602a\u7684\uff0c\u6ed1\u7a3d\u53ef\u7b11\u7684 strange or unusual in an amazing way) facts that The Atlantic\u2018s science, technology, and health reporters learned this year.</li> <li>gerrymandering (\u4e3a\u672c\u515a\u5229\u76ca\u6539\u5212\u9009\u533a\uff0c\u4e0d\u516c\u6b63\u64cd\u7eb5\uff0c\u6b3a\u9a97) only rearranges district lines and cannot manufacture more votes for a party.</li> <li>compare the number of contagions (\u4f20\u67d3\uff0c\u63a5\u89e6\u4f20\u67d3) and deaths by country and date.</li> <li>geodetic survey: \u5927\u5730\u6d4b\u91cf\uff0c\u6d4b\u5730\u5b66\u6d4b\u91cf</li> <li>what are some funny, nice, intelligent and mind-boggling (\u96be\u4ee5\u7406\u89e3\u7684\uff0c\u96be\u4ee5\u7f6e\u4fe1\u7684) tricky math questions to ask?<ul> <li>today we boggle at (\u5403\u60ca) the month\u2019s most spectacular (\u58ee\u89c2\u7684\uff0c\u60ca\u4eba\u7684) science images.</li> </ul> </li> <li>instrument: verb. such as, \u201cthey instrument military aid\u201d</li> <li>maddening</li> <li>ramp (\u531d\u9053\uff0c\u659c\u5761) up: \u4e0a\u5347\uff0c\u589e\u52a0\uff0c\u63d0\u9ad8</li> <li>crap</li> <li>Ray Kroc (\u96f7\u00b7\u514b\u7f57\u514b): \u9ea6\u5f53\u52b3\u4e3b\u8981\u521b\u529e\u4eba</li> <li>teaser (\u620f\u5f04\u8005) is a particularly baffling (\u4ee4\u4eba\u56f0\u60d1\u7684) problem that is said to have a correct solution<ul> <li>brain teaser (\u8111\u7b4b\u6025\u8f6c\u5f2f\u3010\u620f\u5f04\u5927\u8111\u3011).</li> <li>you can introduce XXX to your friends and family by sharing this 25 second teaser (an advertisement that offers something free in order to arouse customers\u2019 interest) video.</li> </ul> </li> <li>An unconvincing analysis claiming to debunk (\u63ed\u7a7f\u771f\u76f8\uff0c\u66b4\u9732) the health benefits of moderate drinking. - junk science is promoted by credulous (\u8f7b\u4fe1\u7684\uff0c\u6613\u53d7\u9a97\u7684) organizations - The commentary also outlines some hallmarks (\u7279\u70b9) of potentially dubious (\u53ef\u7591\u7684\uff0c\u4e0d\u53ef\u9760\u7684) science.</li> <li>\u201cWow, today\u2019s the school picnic!\u201d, exclaimed (\u547c\u558a\uff0c\u60ca\u53eb\uff0c\u5927\u58f0\u8bf4) Tom.</li> <li>That strikes me as (cause someone [me] to think about in a particular way) rather bold: \u8fd9\u8ba9\u6211\u89c9\u5f97\u76f8\u5f53\u5927\u80c6</li> <li>Public speaking is daunting (\u4f7f\u4eba\u754f\u7f29\u7684\uff0c\u4f7f\u4eba\u6c14\u9981\u7684) for most people.</li> <li>Panda experts in China are trying to demystify his unusual fur color.</li> <li>Think of the mundane (\u4e16\u4fd7\u7684\uff0c\u5e73\u51e1\u7684) tasks that you do everyday.<ul> <li>mundane world: \u7ea2\u5c18</li> </ul> </li> <li>sucker</li> <li>Theodore Roosevelt: \u897f\u5965\u591a\u00b7\u7f57\u65af\u798f</li> <li>David Brooks: \u4e13\u680f\u4f5c\u5bb6\u5e03\u9c81\u514b\u65af</li> <li>Freakonomics: \u9b54\u9b3c\u7ecf\u6d4e\u5b66</li> <li>lapped up</li> <li>Satoshi Kanazawa: \u91d1\u6cfd\u54f2</li> <li>essentialism: \u672c\u8d28\u4e3b\u4e49</li> <li>pseudoscientific</li> <li>discourse</li> <li>cardiologist: \u5fc3\u810f\u75c5\u533b\u751f</li> <li>foie: \u6cd5\u6587\uff0c\u809d\u4e4b\u610f</li> <li>spin a tale: \u7f16\u9020\u6545\u4e8b\uff0c spun a false tale</li> <li>Thomas Kuhn: \u6258\u9a6c\u65af\u2022\u5e93\u6069</li> <li>Lakatos: \u62c9\u5361\u591a\u65af</li> <li>Karl Popper</li> <li>portray</li> <li>exegesis</li> <li>Errol Morris: \u57c3\u6d1b\u83ab\u91cc\u65af</li> <li>stratosphere: \u5e73\u6d41\u5c42</li> <li>celebrity: \u540d\u671b</li> <li>mingle: \u4f7f\u6df7\u5408\uff0c\u4f7f\u8fde\u7ed3</li> <li>garbled: \u6df7\u4e71\u4e0d\u6e05\u7684</li> <li>credulity: \u8f7b\u4fe1</li> <li>hiatus: \u95f4\u65ad</li> <li>fallacy: \u8c2c\u8bef - disdain: \u9119\u89c6\u8511\u89c6</li> <li>as far as I can tell: \u636e\u6211\u6240\u77e5</li> <li>You really are a fabulous (\u6781\u597d\u7684\uff0c\u7edd\u5999\u7684) designer.</li> </ol>"},{"location":"English/#201901","title":"2019.01","text":"<ol> <li>If you have a slight edge it means you have a small advantage over someone.</li> <li>in silico: \u7535\u8111\u6a21\u62df</li> <li>in vivo: \u751f\u7269\u6d3b\u4f53\u5185</li> <li>in vitro: \u751f\u7269\u6d3b\u4f53\u5916</li> </ol>"},{"location":"English/#201812","title":"2018.12","text":"<ol> <li>constrain &amp; constraint</li> </ol>"},{"location":"English/#201810","title":"2018.10","text":"<ul> <li>The court said that the right to free expression was paramount (\u9996\u8981\u7684\uff0c\u4e3b\u8981\u7684\uff1b\u6700\u9ad8\u7684\uff0c\u81f3\u4e0a\u7684).</li> <li>Such parables may seem too contrived (\u4e0d\u81ea\u7136\u7684\uff0c\u52c9\u5f3a\u7684) to be illuminating (\u5bcc\u4e8e\u542f\u53d1\u7684). 1. He ended up in hospital due to a block in his artery (\u52a8\u8109\u3001\u5e72\u9053\u3001\u4e3b\u6d41). 2. myocardial (\u5fc3\u808c\u7684) infarction (\u6897\u585e)<ul> <li>myocardium: \u5fc3\u808c 3. adventitia (\u5916\u819c\uff0c\u52a8\u8109\u5916\u819c), media (\u8840\u7ba1\u4e2d\u5c42\uff0c\u4e2d\u8109), intima (\u5185\u819c) 4. Researchers used the CT images to learn if any of the subjects had atherosclerosis (\u3010\u533b\u3011\u52a8\u8109\u7ca5\u6837\u786c\u5316) before the study begun. 1. The rumors of his dismissal (\u89e3\u96c7\uff0c\u5f00\u9664) have been circulating for months. 2. You\u2019re pretty cavalier considering your carelessness almost killed my daughter.</li> </ul> </li> </ul>"},{"location":"English/#201809","title":"2018.09","text":"<ol> <li>The next homophone is which and witch (\u5deb\u5a46\u3001\u5973\u5deb).<ul> <li>witchcraft: \u5deb\u672f\uff0c\u9b54\u6cd5</li> </ul> </li> <li>Why are my eyes always brimming (vi. \u6ee1\u6ea2\uff1b n. \u6df1\u5bb9\u5668\u7684\u5185\u8fb9\u6216\u6cb3\u3001\u6e56\u7b49\u6c34\u57df\u7684\u6700\u9ad8\u7ebf) with tears?</li> <li>She runs the business in tandem with (\u540c\u2026\u5408\u4f5c\u3001\u4e32\u8054) her husband.</li> <li>Contrary to popular belief, they serve no salutary economic purpose.</li> <li>they found that the motion of the midges (\u868a\u5b50) is not random.</li> <li>concrete type</li> <li>Beside being eco-friendly, the fuel cell (\u71c3\u6599\u7535\u6c60) cars get excellent mileage (\u82f1\u91cc\u6570).</li> <li>Ecuador (\u5384\u74dc\u591a\u5c14) has over 4000 species of orchids (\u5170\u82b1), making it the orchid capital of the world.</li> <li>radix (\u57fa\u6570\uff0c\u6839) astragali (\u3010\u690d\u3011\u9ec4\u82aa\u5c5e): \u9ec4\u82aa</li> <li>Combine with mixed vegetables, and diced (\u5207\u6210\u65b9\u5757) turkey.<ul> <li>think of generating random numbers by rolling dice (\u9ab0\u5b50).</li> </ul> </li> <li>Women, especially beautiful ones, have long understood that there\u2019s nothing so tantalizing (\u8bf1\u4eba\u7684\uff0c\u5f15\u8d77\u597d\u5947\u5fc3\u7684) as something you can\u2019t understand.</li> <li>Theses species hailed from (\u3010\u8f66\u3001\u8239\u3011\u6765\u81ea\uff1b\u3010\u4eba\u3011\u51fa\u751f\u4e8e) three different evolutionary lineages (\u8840\u7edf\uff0c\u5bb6\u7cfb\uff0c\u4e16\u7cfb).</li> <li>vanilla: \u666e\u901a\u7684\uff0c\u5bfb\u5e38\u7684\uff0c\u9999\u8349\u5473\u7684</li> <li>haystack</li> <li>authentic act: \u300c\u6cd5\u300d\u516c\u8bc1\u4e66\uff0c\u516c\u8bc1\u8bc1\u4e66<ul> <li>authentic self: \u672c\u771f\u81ea\u6211</li> <li>authentic materials: \u771f\u5b9e\u6750\u6599</li> </ul> </li> <li>antithetical</li> <li>rule of thumb</li> <li>opt for: \u9009\u53d6\uff0c\u8d5e\u6210</li> <li>progeny</li> <li>haploid: \u5355\u500d\u4f53 - pairs of chains coalesce (\u5408\u5e76\uff0c\u8054\u5408) after a random number of iterations. - insidious - dismay: n. \u60ca\u6115\uff0c\u5dee\u5f02\uff1b v. \u4f7f\u8be7\u5f02 - blunder: \u611a\u8822\u6216\u7c97\u5fc3\u7684\u9519\u8bef</li> <li>indels</li> <li>at the expense of</li> <li>surfeit: \u8fc7\u91cf</li> <li>pertinent: \u6709\u5173\u7684\uff0c\u6070\u5f53\u7684\uff0c\u76f8\u5b9c\u7684</li> <li>mortal</li> <li>immortal</li> <li>outrage: \u6124\u6012\uff0c\u6124\u6168</li> <li>deduce: \u63a8\u65ad\uff0c\u63a8\u8bba\uff0c\u6f14\u7ece</li> <li>If both a pair of homologous (\u540c\u6e90\u7684) chromosomes are missing, nullisomy (\u7f3a\u4f53\u6027\uff0c\u7f3a\u5bf9\u67d3\u8272\u4f53) results.</li> <li>The stretch is also the only federally designated wildlife migration corridor (\u8d70\u5eca).</li> <li>I never worked at anything pertaining (\u4e0e\u2026\u6709\u5173\u7cfb\u7684\uff0c\u9644\u5c5e\u2026\u7684) to sports.</li> <li>The company allegedly used fake invoices (\u53d1\u7968) to obtain the loans.</li> </ol>"},{"location":"English/#201808","title":"2018.08","text":"<ol> <li>copse: \u77ee\u6811\u4e1b</li> <li>regimen: \u517b\u751f\u4e4b\u9053\uff0c\u751f\u6d3b\u89c4\u5219</li> <li>flat terrain (\u5730\u5e26\uff0c\u5730\u5f62)</li> <li>aerobics</li> <li>treadmill</li> <li>phylogeny</li> <li>bump up</li> <li>noob: \u83dc\u9e1f</li> <li>tangerine: \u6a58\uff0c\u6a58\u9ec4\u8272\uff0c\u6a58\u7ea2\u8272</li> <li>consanguineous: \u8840\u4eb2\u7684\uff0c\u8840\u7f18\u7684</li> <li>sibship</li> <li>autosomal</li> <li>facilitate</li> <li>passage</li> <li>leucocyte: \u767d\u7ec6\u80de</li> <li>delicate</li> <li>illusory</li> <li>He said that racism is endemic (\u98ce\u571f\u7684\uff0c\u5730\u65b9\u6027\u7684) in this country.</li> <li>emanating</li> <li>aggravate: \u4f7f\u4e25\u91cd\uff0c\u4f7f\u6076\u5316</li> <li>exclusively</li> <li>rigorous and concise (\u7b80\u660e\u7684\uff0c\u7b80\u7ec3\u7684)</li> <li>Prologue</li> <li>reminiscent</li> <li>promptitude: \u654f\u6377\uff0c\u679c\u65ad</li> <li>ergodic</li> <li>arduous</li> <li>aperiodic</li> <li>The KOMA-Script bundle provides replacements for the article, report and book classes with emphasis on typography and versatility (\u591a\u529f\u80fd\u6027\uff0c\u901a\u7528\u6027). <ul> <li>the document layout (scrartcl) layout of the class is less strident than that of article, and it offers much more flexibility than article via other elements of the koma-script collection.</li> </ul> </li> <li>pedagogical (\u6559\u80b2\u5b66\u7684\uff0c\u6559\u5b66\u7684) skill</li> <li>concrete types</li> <li>Populate</li> <li>percolation: \u6e17\u6ee4\uff0c\u6e17\u900f</li> <li>ascribe: \u628a\u2026\u2026\u5f52\u56e0\u4e8e - Loneliness causes high blood pressure, high cholesterol (\u80c6\u56fa\u9187).</li> <li>mnemonic: \u8bb0\u5fc6\u7684\uff0c\u589e\u8fdb\u8bb0\u5fc6\u7684</li> <li>acyclic: \u975e\u5468\u671f\u7684\uff1b\u975e\u5faa\u73af\u7684</li> <li>endow</li> <li>serum: \u8840\u6e05</li> <li>coronary: \u51a0\u72b6\u7684</li> <li>retrospective</li> <li>memo</li> <li>counter-example</li> <li>premiss: premise, </li> <li>enunciate: \u6e05\u695a\u5730\u53d1\u97f3\uff1b\u9610\u660e</li> <li>remuneration: \u62a5\u916c\uff0c\u85aa\u91d1\uff0c\u85aa\u6c34</li> <li>supposition: \u63a8\u8bba\uff0c\u63a8\u6d4b</li> <li>The representation of documents is a central issue in all of the approaches in document management, whether the management entails (\u9700\u8981\uff0c\u7275\u6d89) exploration, search, or filtering.</li> <li>monograph</li> <li>awash</li> <li>pare it down</li> <li>noose (\u7ef3\u5957\uff0c\u5957\u7d22)</li> <li>Homotopy</li> <li>miraculously: \u795e\u5947\u7684\uff0c\u975e\u51e1\u7684</li> <li>boilerplate code: \u6837\u677f\u4ee3\u7801</li> <li>coerce: \u5f3a\u8feb\uff0c\u8feb\u4f7f</li> <li>legitimate</li> <li>toggle</li> <li>elicitation</li> <li>Bristol (\u5e03\u91cc\u65af\u6258) is one of the most congested (\u62e5\u5835\u7684) cities in Britain.</li> <li>recurrent: \u5faa\u73af\u7684\uff0c\u53cd\u590d\u51fa\u73b0\u7684</li> <li>lethal</li> <li>incidence</li> <li>extant: \u5c1a\u5b58\u7684\uff0c\u73b0\u5b58\u7684</li> <li>pertain</li> <li>substrate</li> <li>kinetic</li> <li>prokaryote (\u539f\u6838\u751f\u7269\uff0c\u539f\u6838\u7ec6\u80de), eukaryote (\u771f\u6838\u7ec6\u80de\uff0c\u771f\u6838\u751f\u7269)</li> <li>unprecedented</li> <li>Escherichia coli</li> <li>yeast</li> <li>\u917f\u9152\u9175\u6bcd\uff08Saccharomyces cerevisiae\uff09</li> <li>stoichiometric: \u5316\u5b66\u8ba1\u7b97\u7684\uff0c\u7406\u60f3\u914d\u6bd4\u7684</li> <li>phishing</li> </ol>"},{"location":"English/#201807","title":"2018.07","text":"<ol> <li>whence: \u4ece\u54ea\u91cc\uff0c\u4ece\u4f55\u5904</li> <li>astutely</li> <li>omniscience: \u65e0\u6240\u4e0d\u77e5</li> <li>make the all discussion moot (\u65e0\u8ba8\u8bba\u610f\u4e49)</li> <li>plethysmography: \u5bb9\u79ef\u6807\u8bb0\u6cd5</li> <li>inductance: \u7535\u611f\uff0c\u611f\u5e94\u7cfb\u6570</li> <li>prescient</li> <li>envisage</li> </ol>"},{"location":"English/#201804","title":"2018.04","text":"<ul> <li>The U.S. has assimilated (\u5438\u6536\uff0c\u6d88\u5316\uff1b\u540c\u5316) people from European countries.</li> </ul>"},{"location":"English/#201803","title":"2018.03","text":"<ul> <li>And defusing (\u5e73\u606f\uff0c\u7f13\u548c\uff0c\u62c6\u9664\u3010\u70b8\u5f39\u7684\u3011\u5f15\u4fe1) the issue should pave the way for more nuanced (\u5fae\u5999\u7684\uff0c\u5177\u6709\u7ec6\u5fae\u5dee\u522b\u7684) and constructive politics.</li> <li>with a grain of salt (\u6301\u4fdd\u7559\u6001\u5ea6): an English language idiom (\u6210\u8bed\uff0c\u4e60\u8bed) that means to view something with skepticism or not to interpret something literally.</li> <li>Sediments (\u6c89\u79ef\u7269) between a glacier (\u51b0\u6cb3\uff0c\u51b0\u5ddd) and the ground may also facilitate (\u4f7f\u4fbf\u5229) slippage.</li> <li>collinearity</li> </ul>"},{"location":"English/#201802","title":"2018.02","text":"<ol> <li>Victoire, who\u2019s in the epilogue (\u7ed3\u8bed\uff0c\u5c3e\u58f0), she is so named because she was born on the anniversary of the battle that finished it all.</li> <li>I am greatly indebted (\u8d1f\u503a\u7684\uff0c\u611f\u6fc0\u7684\uff0c\u53d7\u60e0\u7684) to you for your help.</li> <li>So etymology (\u8bcd\u6e90\u5b66) is the history of a word and then its historical development over time of its meaning.</li> </ol>"},{"location":"English/#201801","title":"2018.01","text":"<ul> <li>To skewer (\u523a\u7a7f\uff0c\u4e32\u4f4f) a sacred (\u795e\u5723\u7684\uff0c\u5e84\u4e25\u7684\uff0c\u5b97\u6559\u7684) cow, means to defy (\u516c\u7136\u53cd\u6297\uff0c\u85d0\u89c6) what is generally held as indisputable (\u65e0\u53ef\u4e89\u8fa9\u7684\uff0c\u4e0d\u5bb9\u7f6e\u7591\u7684).</li> <li>Protestant (\u65b0\u6559\u5f92\uff0c\u65b0\u6559\u5f92\u7684), Catholic (\u5929\u4e3b\u6559\u7684)<ul> <li>\u5929\u4e3b\u6559\uff08\u62c9\u4e01\u8bed\uff1aCatholicismus\uff09\u662f\u57fa\u7763\u6559\u6574\u4f53\u4ee5\u4e0b\u7684\u5b97\u6d3e\u4e4b\u4e00\uff0c\u662f\u5bf9\u7f57\u9a6c\u516c\u6559\u4f1a\uff08\u5929\u4e3b\u6559\u4f1a\uff09\u53d1\u5c55\u800c\u6765\u7684\u4e00\u7cfb\u5217\u57fa\u7763\u6559\u4e4b\u795e\u5b66\u3001\u54f2\u5b66\u7406\u8bba\u3001\u793c\u4eea\u4f20\u7edf\u3001\u4f26\u7406\u7eb2\u5e38\u7b49\u4fe1\u4ef0\u4f53\u7cfb\u4e4b\u603b\u62ec\uff0c\u4e3a\u57fa\u7763\u6559\u6700\u5927\u5b97\u6d3e\u3002\u5929\u4e3b\u6559\u7684\u4e2d\u6587\u540d\u79f0\u6e90\u81ea\u660e\u671d\u4e07\u5386\u5e74\u95f4\u8036\u7a23\u4f1a\u5c06\u57fa\u7763\u4fe1\u4ef0\u4f20\u5165\u4e2d\u56fd\uff0c\u7ecf\u5f53\u671d\u793c\u90e8\u5c1a\u4e66\u4e4b\u5f90\u5149\u542f\u4e0e\u5229\u739b\u7aa6\u7b49\u8036\u7a23\u4f1a\u58eb\u8ba8\u8bba\uff0c\u53d6\u5112\u5bb6\u53e4\u8bdd\u201c\u81f3\u9ad8\u83ab\u82e5\u5929\uff0c\u81f3\u5c0a\u83ab\u82e5\u4e3b\u201d\uff0c\u79f0\u5176\u4fe1\u4ef0\u4e4b\u72ec\u4e00\u795e\u7075\u4e3a\u201c\u5929\u4e3b\u201d\uff0c\u6545\u79f0\u4e4b\u3002</li> <li>\u65b0\u6559\uff0c\u53c8\u79f0\u57fa\u7763\u65b0\u6559\uff0c\u662f\u897f\u65b9\u57fa\u7763\u6559\u4e2d\u4e0d\u5c5e\u4e8e\u5929\u4e3b\u6559\u4f53\u7cfb\u7684\u5b97\u6d3e\u4e4b\u7edf\u79f0\uff0c\u4e2d\u6587\u201c\u65b0\u6559\u201d\u4e00\u8bcd\u662f\u4e3b\u8981\u5bf9\u5e94\u548c\u533a\u522b\u4e8e\u5b97\u6559\u6539\u9769\u4e4b\u524d\u7684\u201c\u65e7\u6559\u201d\u3002\u65b0\u6559\u6e90\u4e8e16\u4e16\u7eaa\u795e\u5b66\u5bb6\u9a6c\u4e01\u00b7\u8def\u5fb7\u3001\u52a0\u5c14\u6587\u3001\u6148\u8fd0\u7406\u7b49\u4eba\u6240\u9886\u5bfc\u7684\u5b97\u6559\u6539\u9769\u8fd0\u52a8\uff0c\u4e0e\u5929\u4e3b\u6559\u3001\u4e1c\u6b63\u6559\u5e76\u5217\u4e3a\u57fa\u7763\u5b97\u6559\u4e09\u5927\u5206\u652f\u3002 1. If we had tens of thousands of skeletons distributed at regular intervals through the historical record, there would be appreciably (\u53ef\u5bdf\u89c9\u5730\uff0c\u660e\u663e\u5730) more degrees of shading. 2. So they reanalyzed their data in light of (\u6839\u636e\uff0c\u9274\u4e8e) the new maps. 3. We\u2019ve seen the economy moving forward, albeit (\u5c3d\u7ba1\uff0c\u867d\u7136) a little too slowly, he said. 4. It did, however, have another weapon at its disposal (\u4efb\u5176\u652f\u914d\uff0c\u4efb\u5176\u5904\u7f6e). 1. These tensions are exacerbated (\u4f7f\u6076\u5316\uff0c\u4f7f\u52a0\u91cd) between the wars. 2. They glossed over (\u63a9\u9970) some key issues on that front. 3. The athlete\u2019s success was attributed to systematic training. 4. lower/upper extremity (\u4e0a/\u4e0b\u80a2)</li> </ul> </li> </ul>"},{"location":"English/#201712","title":"2017.12","text":"<ol> <li>The model can be used to match any subsequent image, or part thereof (\u5728\u5176\u4e2d).<ul> <li>It plumbs (\u63a2\u6d4b\uff0c\u63a2\u7d22\uff0cexamine thoroughly and in great depth) the depths of its protagonist (\u4e3b\u4eba\u516c)\u2018s indecisiveness (\u4f18\u67d4\u5be1\u65ad), and the tragic (\u60b2\u75db\u7684\uff0c\u60b2\u5267\u7684) consequences thereof (\u7531\u6b64).</li> </ul> </li> <li>I don\u2019t think I have finesse (n. subtly skillful handling of  a situation) for the job. I\u2019m like a round peg (\u6869) in a square hole.</li> <li>The university encourages applications from academically strong students irrespective (\u4e0d\u8003\u8651\u7684\uff0c\u4e0d\u987e\u7684) of their nationality.</li> <li>Maybe some coffee will perk you up (\u6d3b\u8dc3\u8d77\u6765\uff0c\u632f\u4f5c\u7cbe\u795e).</li> <li>They found that papers with terse[r] (\u7b80\u6d01\u7684\uff0c\u627c\u8981\u7684) titles top the citation count.</li> <li>state of the art: the latest and most sophisticated (\u7cbe\u5bc6\u7684\uff0c\u5c16\u7aef\u7684\uff1b\u8001\u7ec3\u7684\uff0c\u89c1\u591a\u8bc6\u5e7f\u7684\uff1b\u590d\u6742\u7684) or advanced stage of a technology, art, or science.<ul> <li>complex: \u4fa7\u91cd\u5185\u5728\u5173\u7cfb\u7684\u590d\u6742\uff0c\u9700\u901a\u8fc7\u4ed4\u7ec6\u7814\u7a76\u4e0e\u4e86\u89e3\u624d\u80fd\u638c\u63e1\u548c\u8fd0\u7528</li> <li>complicated: \u8fd1\u4f3c complex\uff0c\u4f46\u8bed\u6c14\u66f4\u5f3a\uff0c\u7740\u91cd\u6781\u5176\u590d\u6742\uff0c\u5f88\u96be\u5206\u6790\u3001\u5206\u8fa8\u6216\u89e3\u91ca</li> <li>sophisticated: \u4fa7\u91cd\u4e8b\u7269\u53d1\u5c55\u6216\u8fbe\u5230\u9ad8\u7ea7\u7684\u7a0b\u5ea6\u6240\u4f53\u73b0\u51fa\u7684\u590d\u6742</li> <li>intricate: \u7740\u91cd\u6307\u9519\u7efc\u590d\u6742\uff0c\u4ee4\u4eba\u8ff7\u7cca\u7406\u89e3\u3002intricacy: \u9519\u7efc\u590d\u6742</li> </ul> </li> </ol>"},{"location":"English/#201711","title":"2017.11","text":"<ol> <li>motif</li> <li>the moss-draped (\u62ab\uff0c\u88c5\u9970) bald (\u79c3\u9876\u7684\uff0c\u79c3\u5934\u7684) cypress (\u67cf\u6811) trees: \u957f\u6ee1\u9752\u82d4\u7684\u79c3\u67cf\u6811</li> <li>monopoly</li> <li>monolithic</li> <li>metropolis</li> <li>metallurgy: \u51b6\u91d1\u5b66</li> <li>till: \u8015\u4f5c\uff0c\u7281\u5730\uff1b\u6536\u94f6\u53f0</li> <li>dweller</li> <li>wriggle</li> <li>manure: \u80a5\u6599\uff0c\u7caa\u80a5</li> <li>molten</li> <li>mantle (\u5730\u5e54)</li> <li>rest on</li> <li>conceivably: \u60f3\u8c61\u4e0a</li> <li>A feeling of drowsiness (drowsy, \u660f\u660f\u6b32\u7761\u7684) crept (creep \u7684\u8fc7\u53bb\u5f0f\uff0c\u530d\u5310\u722c\u884c) over him.</li> <li>Atlantic (\u5927\u897f\u6d0b)\uff0c Pacific (\u592a\u5e73\u6d0b)\uff0c Arctic (\u5317\u6781\u7684\uff0c\u5317\u6781\u5708) Ocean (\u5317\u51b0\u6d0b), Indian Ocean (\u5370\u5ea6\u6d0b)\uff0c Antarctica: \u5357\u6781\u6d32</li> <li>Kids blink (\u7728\u773c) about 5 million times a year.</li> <li>Pangaea (\u76d8\u53e4\u5927\u9646\uff0c\u6cdb\u5927\u9646) Ultima: \u7ec8\u6781\u76d8\u53e4\u5927\u9646</li> <li>Clothes will not make us more or less clever, better or worse, more or less honest.</li> <li>A lot of subduction zone (\u4fef\u51b2\u5e26) earthquakes are 200 miles deep, and there\u2019s a lot of padding between the shaking part and the earth surface where we live.</li> <li>slab</li> <li>rampage: v. \u6a2a\u51b2\u76f4\u649e\uff1bn. \u72c2\u66b4\u884c\u4e3a</li> <li>rally: v. \u53ec\u96c6\uff0c\u96c6\u5408\uff1bn. \u7fa4\u4f17\u5927\u4f1a</li> <li>degradation</li> <li>dozens of: \u8bb8\u591a</li> <li>tap into: \u5229\u7528\uff0c\u6316\u6398\uff0c\u6253\u5165</li> <li>LEDs use only a quarter the energy of incandescent bulbs (\u767d\u70bd\u706f).</li> <li>fluorescent</li> <li>pebble (\u9e45\u5375\u77f3)</li> <li>Hydrogen (\u6c22\uff0c\u6c22\u6c14), Helium (\u6c26\uff0c\u6c26\u6c14)</li> <li>faint: \u660f\u53a5\uff0c\u660f\u7729\uff1b\u6a21\u7cca\u7684</li> <li>foundationalism (\u57fa\u7840\u4e3b\u4e49\uff0c\u57fa\u7840\u8bba)</li> <li>John Locke, Ren\u00e9 Descartes.</li> <li>mirage: \u6d77\u5e02\u8703\u697c\uff0c\u5984\u60f3\uff0c\u5e7b\u60f3</li> <li>shimmer</li> <li>conceive</li> <li>or so</li> <li>as to that: \u5c31\u6b64\u800c\u8a00</li> <li>red dwarf star</li> <li>bode</li> <li>prism</li> <li>spectrum</li> <li>He rejected an objective understanding of color, in favor of a more subjective understanding.</li> <li>through and through: \u5b8c\u5b8c\u5168\u5168\uff0c\u5f7b\u5f7b\u5e95\u5e95</li> <li>marvel: \u5947\u8ff9</li> <li>optics, chromatics</li> <li>that sort of thing</li> <li>The insulting (\u51fa\u8a00\u4e0d\u900a\u7684\uff0c\u4fae\u8fb1\u7684\uff0c\u65e0\u793c\u7684) remarks stung (sting, \u4fc3\u4f7f\uff0c\u523a\u6fc0) him to a rage (\u6124\u6012).</li> <li>backbone</li> <li>overthrow (\u63a8\u7ffb\uff0c\u6253\u5012) the government</li> <li>mount</li> <li>canvas: \u5e06\u5e03\uff0c\u753b\u5e03</li> <li>pull (someone or something) out of a hat: To select someone or something entirely at random.</li> <li>Zurich: \u82cf\u9ece\u4e16</li> <li>chanting, bang</li> <li>Cabaret Voltaire</li> <li>at the eleventh hour</li> <li>marble (n/adj/v \u5927\u7406\u77f3) statue (\u96d5\u50cf)</li> <li>polychrome</li> <li>disintegrated</li> <li>heroism, divinity</li> <li>armor (\u76d4\u7532\uff0c\u62a4\u7532), cloak (\u6597\u7bf7\uff0c\u906e\u76d6\u7269)</li> <li>It really gets them enamored (\u8ff7\u604b\uff0c\u7231\u4e0a) with riding and get to make something part of their daily lives.</li> <li>The venue is the school.</li> <li>He had three forty-fathom (\u82f1\u5bfb\uff0c\u7b49\u4e8e 6 \u82f1\u5c3a\uff0c\u7ea6\u54081.8288\u7c73) coils of line in reserve now, as well as the coil he was using.</li> <li>The vibe in the office is amazing.</li> <li>choreography:\uff08\u5c24\u6307\u82ad\u857e\u821e\u7684\uff09\u7f16\u821e\u827a\u672f</li> <li>Renaissance, the 16th, 17th centuries.</li> <li>artisan, artist</li> <li>Raphael, frescos</li> <li>apprentices: \u5b66\u5f92\uff0c\u5f92\u5f1f</li> <li>quarry: \u91c7\u77f3\u573a\uff1b\u82e6\u5fc3\u5bfb\u627e</li> <li>to and fro</li> <li>carpenter (\u6728\u5320), mason (\u77f3\u5320\uff0c\u6ce5\u74e6\u5320)</li> <li>portraiture, portrait artist</li> <li>crucial</li> <li>make headway (\u8fdb\u5c55\uff0c\u524d\u8fdb)</li> <li>contemplative: \u6df1\u601d\u719f\u8651\u7684\uff0c\u6c89\u601d\u7684\uff0c\u51a5\u60f3\u8005</li> <li>vague</li> <li>close-up: \u5f71\u89c6\u7279\u5199\uff1b\u8be6\u7ec6\u68c0\u67e5\uff1b\u8be6\u56fe</li> <li>petal</li> <li>juxtapose (\u5e76\u5217) these two perspectives, each of which connect statistical graphics to literature, but in a different way.</li> <li>archaeology</li> <li>oversee</li> <li>pharaoh Khufu, Great Pyramid</li> <li>sturdy: \u7ed3\u5b9e\u7684\uff0c\u575a\u56fa\u7684</li> <li>Herodotus: \u5e0c\u814a\u5386\u53f2\u5b66\u5bb6\u5e0c\u7f57\u591a\u5fb7</li> <li>plateau: \u9ad8\u539f\uff0c\u5e73\u53f0\u671f</li> <li>spiral: \u87ba\u65cb\u5f0f\uff0c\u87ba\u65cb\u5f62</li> <li>Chimpanzees, primates (\u7075\u957f\u7c7b), chimps, gorillas, orangutans</li> <li>bottlenose</li> <li>What sarcastic (\u8bbd\u523a\u7684\uff0c\u6316\u82e6\u7684) answer can I give her without aggressive (\u597d\u6597\u7684\uff0c\u6311\u8845\u7684\uff0c\u6709\u8fdb\u53d6\u5fc3\u7684)?</li> <li>trunk: \u6811\u5e72\uff0c\u8eaf\u5e72\uff0c\u540e\u5907\u7bb1\uff0c\u5927\u65c5\u884c\u7bb1</li> <li>stand alone, hierarchy</li> <li>corvid, corvidae, raven, jay, crow, magpie</li> <li>The eruption of a volcano is spontaneous (\u81ea\u53d1\u7684).</li> <li>It is important because it sets animals with a sense of self apart from those without a sense of self.</li> <li>empathy (\u540c\u60c5\uff0c\u5171\u9e23)</li> <li>afoot</li> <li>plating</li> <li>seigniorage: \u94f8\u5e01\u7a0e\uff1b\u541b\u6743</li> <li>nostalgia</li> <li>alloy: \u5408\u91d1\uff1b\u628a\u2026\u94f8\u6210\u5408\u91d1</li> <li>brass, trumpet, trombone (\u957f\u53f7)</li> <li>rust, patina</li> <li>halt</li> <li>Another 30 people died in the hull (\u8239\u4f53\uff0c\u8239\u8eab) where they are believed to have suffocated (\u547c\u5438\u56f0\u96be\uff0c\u7a92\u606f\u800c\u6b7b).</li> <li>barnacle\uff08\u85e4\u58f6\u3010\u5c0f\u7532\u58f3\u52a8\u7269\uff0c\u9644\u7740\u4e8e\u6c34\u4e0b\u5ca9\u77f3\u6216\u8239\u5e95\u7b49\u3011\uff09, shellfish\uff08\u8d1d\u7c7b\u52a8\u7269\uff0c\u7532\u58f3\u7c7b\u52a8\u7269\uff09</li> <li>Long-term solutions include conservation, recycling waste water and building desalination (\u6d77\u6c34\u6de1\u5316\u3001\u8131\u76d0) centers.</li> <li>a pinch of [salt]\uff1a\u4e00\u64ae\uff0c\u5c11\u8bb8 - Nirvana (\u6d85\u69c3\u3010\u8d85\u8131\u4e00\u5207\u70e6\u607c\u7684\u5883\u754c\u3011) in Fire: \u7405\u740a\u699c - the disguiser: \u4f2a\u88c5\u8005 - empresses in the palace\uff1a\u7504\u5b1b\u4f20 - the glory of Tang dynasty: \u5927\u5510\u8363\u8000 - Beijing Municipality (\u5317\u4eac\u5e02\u3010\u81ea\u6cbb\u5e02\uff1b\u81ea\u6cbb\u533a\uff1b\u81ea\u6cbb\u5e02\u6216\u533a\u7684\u653f\u5e9c\u5f53\u5c40\u3011)</li> </ol>"},{"location":"English/#201710","title":"2017.10","text":"<ol> <li>Despite having steeled (\u4f7f\u575a\u5f3a\uff0c\u4f7f\u575a\u5b9a) herself for the worst, the new band (\u4e50\u961f) director was disheartened to hear the cacophonous (\u53d1\u97f3\u4e0d\u548c\u8c10\u7684\uff0c\u7c97\u8154\u6a2a\u8c03\u7684)/discordant sounds emanating (\u653e\u5c04\uff0c\u8d77\u6e90) from the freshman orchestra (\u7ba1\u5f26\u4e50\u961f).<ul> <li>He orchestrated (\u7cbe\u5fc3\u5b89\u6392) that entire evening (\u665a\u4f1a).</li> </ul> </li> <li>Bede, the author of A History of the English Church and People, was so widely revered (\u5c0a\u656c\uff0c\u5d07\u656c)/esteemed (\u5c0a\u656c) that he has been almost universally known as \u201cThe Venerable (\u503c\u5f97\u5c0a\u91cd\u7684\uff0c\u53d7\u656c\u4f69\u7684) Bede\u201d since the ninth century.<ul> <li>vs in spelling: vulnerable</li> </ul> </li> <li>In addition to the detailed written regulations regarding play, a novice golfer must also learn the implicit/tacit (adj. indicated by necessary connotation (\u5185\u6db5\uff0c\u542b\u84c4\uff0c\u6697\u793a) though not expressed directly), but nonetheless important, rules of etiquette (\u793c\u8282\uff0c\u793c\u4eea).</li> <li>Based on the desire to restrict further water pollution, the Clean Water Act of 1972 began under auspicious (\u6709\u524d\u9014\u7684\uff0c\u6709\u5e0c\u671b\u7684\uff1b\u5409\u7965\u7684\uff0c\u5409\u5146\u7684)/promising terms, but opponents soon assailed (\u653b\u51fb\uff0c\u8d28\u95ee) the bill in the fought for its ratification (\u6b63\u5f0f\u6279\u51c6\uff0c\u8ba4\u53ef).</li> <li>Jane Austen\u2019s novel, Emma, paints a comedy of errors that results when its heroine (\u5973\u82f1\u96c4\uff0c\u5973\u4e3b\u89d2) tries her hand at creating love matches, an effort which she attributes to her own benevolence/magnanimity instead of a selfish need to meddle.</li> <li>While interviewing for a job as a computer consultant, Robert consciously provided a paucity (\u7f3a\u4e4f\uff0c\u5c11\u91cf)/dearth (\u7f3a\u4e4f\uff0c\u7a00\u5c11) of references, knowing full well that he had few former employers who would be laudatory (\u8d5e\u7f8e\u7684\uff0c\u8d5e\u8d4f\u7684) about his past projects.</li> <li>While most of the tasks undertaken by the interns were undemanding, a fact that led to the flood of applicants for the positions each year, there was one arduous/onerous duty: cleaning out the garbage bins in the laboratory.</li> <li>In an attempt to inveigle/entice (\u8bf1\u4f7f\uff0c\u5f15\u8bf1\uff0c\u6002\u607f) voters to support her, the incumbent (\u5728\u804c\u7684) politician beguilingly (\u6b3a\u9a97\u5730) greeted a room full of constituents (\u9009\u6c11) and pledged (\u4fdd\u8bc1) to lower taxes\u2013even though she had only ever done the opposite while in office.</li> <li>After a series of storms, the once arid landscape became verdant/bountiful for the first time in many months.</li> <li>Although he received many visitors, the misanthropic (\u538c\u6076\u4eba\u7c7b\u7684)/curmudgeonly (\u5c0f\u6c14\u7684\uff0c\u813e\u6c14\u574f\u7684) old man shooed (\u8f70\u8d70\uff0c\u9a71\u8d76) them away after only a few minutes. - Eileen used to be a picky eater, but since a new complex of fine dining and ethnic restaurants opened in her neighborhood, she has been quite epicurean (\u597d\u7f8e\u98df\u7684\uff0c\u3010\u901a\u8fc7\u7f8e\u98df\u3011\u4eab\u4e50\u4e3b\u4e49\u7684)/gourmandizing (gourmandize: n. \u5927\u5403\u5927\u559d v. \u72fc\u541e\u864e\u54bd). - The rise of the nascent middle class catalyzed (\u50ac\u5316\uff0c\u4fc3\u8fdb) a new economic boom (\u7ecf\u6d4e\u7e41\u8363\uff0c\u7ecf\u6d4e\u817e\u98de). - The malodor (\u6076\u81ed\uff0c\u81ed\u6c14) of the rotten (\u8150\u70c2\u7684) meat made us nauseate (\u4f5c\u5455\uff0c\u538c\u6076\uff0c\u4ea7\u751f\u6076\u611f). - As the nexus (\u5173\u7cfb\uff0c\u8fde\u7ed3\uff0c\u8fde\u7cfb) for three great religions, Jerusalem (\u8036\u8def\u6492\u51b7) has had a troubled as well as illustrious (\u8457\u540d\u7684\uff0c\u6770\u51fa\u7684\uff0c\u5353\u8d8a\u7684) history.</li> <li>His involvement was nominal (\u540d\u4e49\u4e0a\u7684\uff0c\u6709\u540d\u65e0\u5b9e\u7684).</li> <li>The two girls soon became fast (\u7d27\u7684\uff0c\u7a33\u56fa\u7684) and inseparable friends.</li> <li>Recent discoveries have generally vindicated the physicist\u2019s theories.</li> <li>a novel that presents a fairly veracious (\u8bf4\u771f\u8bdd\u7684\uff0c\u771f\u5b9e\u7684) and unvarnished (\u4e0d\u52a0\u63a9\u9970\u7684\uff0c\u8d28\u6734\u7684\uff0c\u5766\u7387\u7684) picture of the lives of affluent suburbanites.</li> <li>Inevitably (\u5fc5\u7136\uff0c\u5fc5\u5b9a), his remarkable success attracted the invidious attention of the other sales representatives.</li> <li>As loyalty unites lovers, so perfidy estranges friends.</li> <li>Every year I go to Kunming to enjoy its cool and salubrious (\u73af\u5883\u5b9c\u4eba\u7684) climate.</li> <li>only a diaphanous hope of success.</li> <li>Every time this guy visits me, one of my books disappears. I don\u2019t want to say he steals them, but I really smell a rat.</li> <li>As soon as the war ends, the government will start to repatriate (\u9063\u8fd4\uff0c\u9063\u9001\u56de\u56fd) war refugees (\u96be\u6c11).</li> <li>The moon waxes and the wanes.</li> <li>But the picture may not be as bleak as it seems.</li> <li>My ship was tossed (\u4f7f\u6447\u6446\uff0c\u6325\u52a8\uff0c\u98a0\u7c38) about many days in storms off Cape Horn.</li> <li>To perpetuate (\u4f7f\u6301\u4e45\u5316\uff0c\u4f7f\u6c38\u4e45\u5316) them it is our sacred duty to preserve it.</li> <li>The same lethargy, I am afraid, characterizes the use of our faculties and senses.</li> <li>It can also help perpetuate stereotypes, the inscrutable Japanese, bowing all the time, taking costs of pictures. Makes you wonder how the Japanese stereotype us.</li> <li>The children are apparently intrigued by the tale.</li> <li>The intrigue (\u9634\u8c0b\uff0c\u8be1\u8ba1) was quickly discovered, and the would-be assassins were arrested.</li> <li>The twins have an intuitive awareness of each other\u2019s feelings.</li> <li>The hardship (\u8270\u96be\uff0c\u56f0\u82e6) of army training inured (\u4f7f\u4e60\u60ef\uff1b\u4f7f\u9002\u5e94) her to the rigors (\u4e25\u9177\uff0c\u8270\u82e6) of desert warfare.</li> <li>The government is too effete (\u865a\u5f31\u65e0\u529b\u7684\uff0c\u8870\u843d\u7684) to take out the powerful special interests that really ruin (\u7834\u574f\uff0c\u6bc1\u6389) this state.</li> <li>Safety lessons dinned into (\u4e09\u756a\u4e94\u6b21\u5730\u544a\u8beb) us over and over.</li> <li>He was deeply impressed by the sprightly (adj. \u751f\u6c14\u52c3\u52c3\u7684\uff0c\u6d3b\u6cfc\u7684) Gypsy (\u5409\u666e\u8d5b\u4eba) dance.</li> <li>In statistics, a spurious relationship is a mathematical relationship in which two events or variables have no direct causal connection, but it may be wrongly inferred that they do, due to either coincidence or the presence of a certain third, unseen factor.</li> <li>Fiercely independent, the elderly couple spurned all offers of financial help.</li> <li>The kitten (\u5c0f\u732b) crept silently across the floor before suddenly pouncing on the mouse.</li> <li>Complaints about stifling (\u4ee4\u4eba\u7a92\u606f\u7684\uff0c\u6c89\u95f7\u7684) smog conditions reach crescendo.</li> <li>Climate change has exerted (\u65bd\u52a0) a ponderable influence on world politics.</li> <li>The committee will probably pore over (\u7ec6\u5fc3\u7814\u7a76) the results of the study for a long time before making their decision.<ul> <li>pore: \u6ce8\u89c6\uff1bn. \u5b54\u9699</li> </ul> </li> <li>He habitually transforms brief anecdotes into prolix sagas that exhaust his listeners.</li> <li>The burglary, which he committed while still a teen, was but a prologue (\u5e8f\u5e55\uff0c\u5e8f\u8a00\uff0c\u5f00\u573a\u767d) to a wasted life of crime.</li> <li>The law was promulagated in June 1988.</li> <li>The dams along the river are interfering with the salmon\u2019s ability to propagate.</li> <li>The temple was built to honor the gods in times of plenty and to propitiate them in times of trouble.</li> <li>I would be remiss (\u758f\u5ffd\uff0c\u61c8\u6020) if I didn\u2019t tell you how much I appreciated the lovely gift.</li> <li>He gave up smoking only after a prolonged (\u6301\u7eed\u5f88\u4e45\u7684\uff0c\u957f\u65f6\u95f4\u7684) inducement (\u9f13\u52b1\uff0c\u529d\u8bf1\uff0c\u523a\u6fc0) by all the other family members.</li> <li>He loved to show off his protean (\u591a\u53d8\u7684\uff0c\u6613\u53d8\u7684) talent.</li> <li>Beauty is as evanescent (\u8fc5\u901f\u6d88\u5931\u9057\u5fd8\u7684\uff0c\u77ed\u6682\u7684) as a rainbow.</li> <li>He was eulogized at his funeral as a caring husband and a good father.</li> <li>The Internet allows us to disseminate information faster.</li> <li>We managed to entangle the string of lights into a hopeless mess of wires.</li> <li>The history of Alexander the Great is entangled by variant accounts of his exploits.</li> <li>A string of inconsistent statements finally entrapped the witness.</li> <li>He entreated his boss for another chance.</li> <li>Thwarting centuries of would-be conquerors, the Aztec fortress of Chapultepec seemed impregnable, until U.S. forces under General Winfield Scott were able to take the fortress with surprisingly little effort.</li> <li>Her genteel behaviors at the ball make others conjecture that she must come from a distinguished noble family.</li> <li>It would be gauche to mention the subject.</li> <li>The presumptuous (\u653e\u8086\u7684\uff0c\u81ea\u4ee5\u4e3a\u662f\u7684) doctor didn\u2019t even bother to explain to me the treatment that I would be receiving.</li> <li>Under such a circumstance his demand for attention was utterly presumptuous (\u81ea\u4ee5\u4e3a\u662f\u7684\uff0c\u4e13\u6a2a\u7684\uff0c\u5192\u5931\u7684).</li> <li>We could hear the cook in the kitchen railing against his assistant and wondered if we\u2019d ever get our food.</li> <li>Vociferous opponents of the bill protested angrily outside the Congress.</li> <li>King Richard I of England was given the very laudatory epithet \u201cthe Lion-Hearted\u201d.</li> <li>His personal code of behavior on the playing field is epitomized (\u6210\u4e3a\u2026\u7684\u7f29\u5f71) by his favorite saying, Nice guys finish last.<ul> <li>consider the sample as an epitome (\u7f29\u5f71) of the underlying population.</li> </ul> </li> <li>He procrastinated (\u62d6\u5ef6\uff0c\u803d\u6401) and missed the submission deadline.</li> <li>The strike may prod (\u523a\u6fc0\uff0c\u4fc3\u4f7f) the government into action.</li> <li>A single blast (\u7206\u70b8\uff0c\u51b2\u51fb\u6ce2) of the shotgun (\u9730\u5f39\u730e\u67aa) squandered (\u9a71\u6563\uff1b\u6d6a\u8d39\uff0c\u6325\u970d) the herd (\u517d\u7fa4\u3001\u755c\u7fa4) of deer (\u9e7f).</li> <li>He veered (\u8f6c\u5411) the car abruptly (\u7a81\u7136\u5730\uff0c\u610f\u5916\u5730) to the right to avoid a collision (\u78b0\u649e\uff0c\u51b2\u7a81).</li> <li>She is venerated (\u5c0a\u656c\uff0c\u5d07\u656c) by the public as a saint (\u5723\u4eba\uff0c\u9053\u5fb7\u5d07\u9ad8\u7684\u4eba).</li> <li>He was vituperated (\u8c29\u9a82\uff0c\u8fb1\u9a82) for betraying his friends.</li> <li>We do not have even the faintest inkling of what the project was all about.</li> <li>A suspension without pay is condign punishment for breaking the company\u2019s code of business ethics.</li> <li>All people concurred (\u540c\u610f\uff0c\u8d5e\u540c) to pass the reform legislation.</li> <li>The administration had nothing but contempt for the ultimate Frisbee team and frequently spoke disdainfully (\u8f7b\u8511\u5730\uff0c\u4e0d\u5c51\u4e00\u987e\u5730) of it.</li> <li>We accepted his offer to pay for our dinners without demur.</li> <li>an impartial and perspicacious judge</li> <li>Her skill and talent ennoble (\u5c01\u4e3a\u8d35\u65cf\uff0c\u4f7f\u66f4\u5d07\u9ad8) her profession.</li> <li>The kind of ennui comes from having too much time on one\u2019s hands and too little will to find something productive to do.</li> <li>ensconce (\u5b89\u7f6e\uff0c\u9690\u85cf) the spare house key in a place where no thief would think to look.</li> <li>A brief but embarrassing silence ensued (\u63a5\u7740\u53d1\u751f\uff0c\u56e0\u800c\u53d1\u751f).</li> <li>their clandestine (\u6697\u4e2d\u4ece\u4e8b\u7684\uff0c\u4fdd\u5bc6\u7684\uff0c\u79d8\u5bc6\u7684) love affair (\u98ce\u6d41\u97f5\u4e8b)</li> <li>covert alliance (\u8054\u76df\uff0c\u7ed3\u76df\u56e2\u4f53)</li> <li>European missionaries converted thousands to Christianity.</li> <li>evidence that led to the suspect\u2019s conviction</li> <li>The meeting adjourned for a week.</li> <li>Massage therapy can be used as an adjunct (\u9644\u4ef6\uff0c\u9644\u5c5e\u7269) along with the medication.</li> <li>The transaction was totally aboveboard (\u5f00\u8bda\u5e03\u516c\u7684\uff0c\u5149\u660e\u78ca\u843d\u5730), so there was no reason to question it.</li> <li>He took a surreptitious (\u79d8\u5bc6\u7684\uff0c\u5077\u5077\u6478\u6478\u7684) glance at her knees.</li> <li>a furtive (\u5077\u5077\u6478\u6478\u7684) glance at her</li> <li>The SWAT team carried out a stealth (\u79d8\u5bc6\u884c\u52a8\uff0c\u9690\u5f62\u7684) raid (\u7a81\u7136\u641c\u67e5\uff0c\u7a81\u51fb\u641c\u6355) on the house, which was believed to be harboring a terrorist cell.</li> <li>The drive to create is indigenous to humanity.</li> <li>agonize over every decision</li> <li>Children were agog over new toys.</li> <li>impugn (\u8d23\u96be\uff0c\u9a73\u65a5) a political opponent\u2019s character</li> <li>Well-doer (\u5584\u4eba) never does chicanery (\u6b3a\u8bc8\uff0c\u8bc8\u9a97) and person who is good at chicanery does not belong well-doer.</li> <li>My wife chided me for forgetting to offer our guests some refreshments.</li> <li>I absolutely get choleric (\u6613\u6012\u7684\uff0c\u66b4\u8e81\u7684\uff0c\u80c6\u6c41\u8d28\u7684) when a salesman calls during the dinner hour.</li> <li>Men of choleric type take to kicking and smashing.</li> <li>The revised system chords (n. \u548c\u5f26; v. \u8c03\u5f26) perfectly with the original goals.<ul> <li>choral society: \u5408\u5531\u56e2</li> </ul> </li> <li>A representation of Cupid as a naked, cherubic boy usually is used as a symbol of love.</li> <li>The spy obtained the documents by subterfuge (\u79d8\u5bc6\u624b\u6bb5\uff0c\u8be1\u8ba1).</li> <li>The actor must have had some esoteric (\u53ea\u6709\u5185\u884c\u624d\u61c2\u7684\uff0c\u96be\u9886\u7565\u7684) motive (\u52a8\u673a\uff0c\u76ee\u7684) for leaving stage.</li> <li>In just a few pages the writer etched (\u8680\u523b\uff0c\u753b\u51fa\u2026\u7684\u8f6e\u5ed3) an unforgettable portrait of one of the more remarkable First Ladies.</li> <li>The minister eschews (\u907f\u514d) involvement in local politics, since he doesn\u2019t want to diminish his moral authority in the community.</li> <li>The exhibit was a hodgepodge (\u5927\u6742\u70e9\uff0c\u6df7\u6742\u7269) of mediocre (\u5e73\u5eb8\u7684\uff0c\u666e\u901a\u7684) art, bad art, and really bad art.</li> <li>His failure was brought on by his hubris (\u50b2\u6162\uff0c\u72c2\u5984).</li> <li>an expurgated (\u5220\u53bb\uff0c\u4f7f\u7eaf\u6d01) edition of the letters.</li> <li>exquisite (\u7cbe\u7f8e\u7684\uff0c\u7cbe\u81f4\u7684) pen-and-ink drawings of city scenes</li> <li>One of the immutable laws of television is that low ratings inevitably lead to cancellation.</li> <li>She remained impassive as the officers informed her of her son\u2019s death.</li> <li>economy, thriftiness, liberal</li> <li>meekness (\u6e29\u67d4\u8c26\u606d) (humbleness (\u8c26\u900a); timidity (\u80c6\u5c0f\uff0c\u7f9e\u602f))</li> <li>avalanche (\u96ea\u5d29)</li> <li>static (inert (\u65e0\u6d3b\u52a8\u80fd\u529b\u7684\uff0c\u60f0\u6027\u7684); motionless)</li> <li>Autonomous (self-governing; independent)</li> <li>Intrinsic (innate; essential)<ul> <li>innate immunity: \u5148\u5929\u514d\u75ab\uff0c\u81ea\u7136\u514d\u75ab</li> </ul> </li> <li>In both countries policy is being dictated by intransigents (\u4e0d\u59a5\u534f\uff0c\u4e0d\u8ba9\u6b65\u7684\u4eba), who risk stumbling into war.</li> <li>idiosyncratic</li> <li>auction (\u62cd\u5356\uff0c\u7ade\u62cd), auctioneer, bidding</li> <li>imperturbability</li> <li>A baby is god\u2019s most precious (\u5b9d\u8d35\u7684\uff0c\u73cd\u8d35\u7684) gift.</li> <li>composure: \u9547\u9759\uff0c\u9547\u5b9a\uff0c\u6c89\u7740</li> <li>frenzied (frantic; highly agitated)</li> <li>Magnanimous</li> <li>sporadic (intermittent or infrequent): \u96f6\u661f\u7684\uff0c\u5206\u6563\u7684\uff0c\u4e0d\u5b9a\u65f6\u53d1\u751f\u7684</li> <li>Denigrate (disparage; defame): \u8bcb\u6bc1\uff0c\u8bfd\u8c24\uff0c\u8d2c\u4f4e</li> <li>demonstrate (show; prove) &amp; warrant (justify, \u4f7f\u663e\u5f97\u5408\u7406\uff0c\u6210\u4e3a\u2026\u7684\u6839\u636e)</li> <li>reticence (reserve; tendency to keep silent \u6c89\u9ed8\u3001\u5be1\u8a00\u3001\u542b\u84c4\u3001\u4fdd\u7559) &amp; gregariousness or sociability.</li> <li>competence (capability; proficiency)</li> <li>homogeneous (all of the same kind; uniform)</li> <li>Reprobates are unprincipled, wicked people.</li> <li>Charlatans are quacks, persons who pretend to have more skill than they actually possess.</li> <li>Hypocrites (\u4f2a\u541b\u5b50\uff0c\u865a\u4f2a\u7684\u4eba) are people who pretend to possess some virtue or skill, but who are faking it.</li> <li>unruly (rowdy; disorderly)</li> <li>obsequious (fawning; servile)</li> <li>Elan means vivacity or liveliness of spirit</li> <li>trepidation (apprehension; fear)</li> <li>Exorbitant (\u8fc7\u9ad8\u7684\uff0c\u9ad8\u5f97\u79bb\u8c31\u7684) (excessive; overly expensive)</li> <li>affluent (wealthy)</li> <li>Destitute means needy or impoverished.</li> <li>A harangue is a sharp verbal attack, a bitter tirade or diatribe.</li> <li>Surreptitious means hidden or stealthy.</li> <li>Intransigence means stubbornness. a refusal of any compromise (\u59a5\u534f\uff0c\u5371\u53ca\uff0c\u8fde\u7d2f).</li> <li>Phlegmatic means not easily disturbed or excited.</li> <li>Autocratic (\u4e13\u5236\u7684\uff0c\u72ec\u88c1\u7684) means tyrannical (\u66b4\u541b\u7684\uff0c\u4e13\u6a2a\u7684) or domineering.</li> <li>Wistful means pensively sad or yearning</li> <li>indigenous (\u571f\u8457\u7684\uff0c\u539f\u4ea7\u7684\uff0c\u571f\u751f\u571f\u957f\u7684) &amp; ingenuous &amp; disingenuous</li> <li>dignity (formal bearing; nobility of character)</li> <li>insincerity (intentional deceitfulness)</li> <li>reverence (deep respect; awe)</li> <li>abiding (\u6301\u4e45\u7684\uff0c\u6c38\u4e45\u7684) attachment (devotion) or regard (esteem)</li> <li>relinquish (\u3010\u4e0d\u60c5\u613f\u5730\u3011\u653e\u5f03) (surrender; release)</li> <li>Instigate (provoke; incite)</li> <li>Waive (refrain from claiming; put aside)</li> <li>echoes or reiterates (repeats)</li> <li>invalidate (discredit or weaken)</li> <li>Impede (hinder; block)</li> <li>Dampen (depress; deaden)</li> <li>malfunction (failure to work properly).</li> <li>Condemnation means censure.</li> <li>Taxonomy (\u5206\u7c7b\u5b66\uff0c\u5206\u7c7b\u6cd5) is the science or technique of classification.</li> <li>Flagrant (\u9a87\u4eba\u542c\u95fb\u7684\uff0c\u516c\u7136\u7684) means blatant (\u660e\u76ee\u5f20\u80c6\u7684\uff0c\u516c\u7136\u7684) or outrageous (\u9a87\u4eba\u7684\uff0c\u65e0\u6cd5\u5f62\u5bb9\u7684\uff0c\u53cd\u5e38\u7684)</li> <li>Dilatory (\u62d6\u62c9\u7684\uff0c\u62d6\u5ef6\u7684) means tardy or tending to delay.</li> <li>Aloof means standoffish and remote.</li> <li>Terse means abrupt and to the point.</li> <li>Apathetic means indifferent and unconcerned.</li> <li>Bombastic means pompous and pretentious.</li> <li>A euphemism is a mild expression used in place of an unpleasant or offensive one.</li> <li>A reverie (\u767d\u65e5\u68a6\uff0c\u5e7b\u60f3\uff0c\u68a6\u60f3) is a daydream or state of dreamy meditation.</li> <li>A postulate (\u5047\u8bbe\uff0c\u57fa\u672c\u539f\u7406) is a basic principle or prerequisite.</li> <li>A dichotomy is a division or split into two branches.</li> <li>diffidence (modesty; insecurity): \u7f9e\u602f\uff0c\u8c26\u865a\uff0c\u7f3a\u4e4f\u81ea\u4fe1\uff0c\u731c\u7591</li> <li>hesitancy (uncertainty; lack of confidence).</li> <li>misanthropy (\u6124\u4e16\u5ac9\u4fd7) (hatred (\u4ec7\u6068\uff0c\u618e\u6076) or distrust of humankind).</li> <li>enthusiasm (eagerness; zest (\u70ed\u60c5\uff0c\u72c2\u70ed)).</li> <li>irascible (irritable): \u6613\u6012\u7684\uff0c\u66b4\u8e81\u7684</li> <li>oblivious, incognizant, insensible, unaware, unconscious, unwitting, mindful, vigilant (\u8b66\u89c9\u7684\uff0c\u8b66\u60d5\u7684), acquainted, cognizant, conscious, conversant, grounded, informed, knowing, witting</li> <li>The March snowstorm obliterated our hopes for an early spring.</li> <li>con artist: \u884c\u9a97\u9ad8\u624b</li> <li>He spent the remainder of his life in ignominy after being involved in a bribery (\u8d3f\u8d42\uff0c\u53d7\u8d3f\uff0c\u884c\u8d3f) scandal.</li> <li>stop short of</li> <li>as such: \u672c\u8eab\uff0c\u540d\u526f\u5176\u5b9e\u5730 - magma chamber: \u5ca9\u6d46\u623f\uff0c\u5ca9\u6d46\u5e93</li> <li>mainstay (\u652f\u67f1\uff0c\u9aa8\u5e72) industry</li> <li>caravan: \u8f66\u961f\uff0c\u5927\u7bf7\u8f66 - expedition: \u63a2\u9669\u3001\u8003\u5bdf - identifying patients with similar disease trajectory might expedite (\u52a0\u5feb\u8fdb\u5c55) the diagnosis and treatment and reduce patient suffering.</li> <li>merchant</li> <li>guild: \u540c\u4e1a\u516c\u4f1a\uff1b\uff08\u540c\u4e00\u884c\u4e1a\u3001\u5fd7\u8da3\u6216\u76ee\u7684\u7684\uff09\u534f\u4f1a - uphold: \u652f\u6301\uff0c\u7ef4\u6301\uff08\u539f\u5224\uff09\uff0c\u53d7\u7406\uff08\u7533\u8bc9\uff09</li> <li>The word is now an egalitarian society, but the reality is the existence of such discrimination.</li> <li>Here it would seem to be a wall hanging, or even a free standing object of worship.</li> <li>It involves a lot of aspects, among which ideological and political education really counts and is one of the most effective ways as well.</li> <li>In the research of technology ethic, the relationship between technology and ethic has always been a disputed question.</li> <li>There is nothing intrinsically improbable about this incident, which is stamped indeed, with all marks of literary truth.</li> <li>billboard</li> <li>Before that beauty, the years of chaos at the heart of American politics would recede (\u9010\u6e10\u8fdc\u53bb\uff0c\u9010\u6e10\u51cf\u5f31) like some extraordinary (\u610f\u60f3\u4e0d\u5230\u7684\uff0c\u5947\u602a\u7684) dream.</li> <li>Power is still out to many homes and business, and flood waters are just beginning to recede leaving behind massive damage and debris.</li> <li>And a river went out of Eden to water the garden, and from thence it was parted, and became into four heads.</li> <li>The sterile (\u8d2b\u7620\u7684\uff0c\u65e0\u83cc\u7684) soil would at least have been proof against a low-land degeneracy.<ul> <li>sterile water: \u65e0\u83cc\u6c34</li> </ul> </li> <li>orthocentre (orthocenter): \u5782\u5fc3</li> <li>Seen from a distance, the facade appears like a rigid volume, but dissolves into a network of structures and levels as you come closer.</li> <li>There is another absorbing aspect to this book: its recapitulation of the author\u2019s rise as an architecture critic.</li> <li>Up to this point, the legends and histories of the three races mostly agree.</li> <li>protractor</li> <li>trace metal</li> <li>diatom - a parabola with focus and directrix (\u51c6\u7ebf) - eccentricity: \u79bb\u5fc3\u7387\uff1b\u602a\u7656\uff0c\u53e4\u602a\u884c\u4e3a - A condition number of about 10^15, which is very nearly the reciprocal (\u5012\u6570) of double precision roundoff.</li> <li>cardioid: \u5fc3\u810f\u7ebf</li> <li>Last but not least \u6700\u540e\u4f46\u4e0d\u662f\u6700\u4e0d\u91cd\u8981\u7684\u4e00\u70b9</li> <li>calligrapher: \u4e66\u6cd5\u5bb6</li> <li>decorator:\uff08\u623f\u5c4b\u7684\uff09\u6cb9\u6f06\u5320\uff1b\u9002\u7528\u4e8e\u5ba4\u5185\u88c5\u9970\u7684</li> <li>Islamic</li> <li>parchment: \u7f8a\u76ae\u7eb8\uff0c\u7f8a\u76ae\u7eb8\u6587\u732e</li> <li>angular</li> <li>souk (\u9732\u5929\u5e02\u573a\uff0c\u96c6\u5e02)</li> <li>mosque</li> <li>Forming voting blocs (\u96c6\u56e2) and coalitions (\u8054\u76df) as a prisoner (\u56da\u5f92)\u2018s dilemma: a possible theoretical explanation for political instability.</li> <li>cellulose</li> <li>take the pulp (\u679c\u8089\uff0c\u6d46\uff0c\u9ad3) and mix it with jaggery (\u68d5\u6988\u7cd6\uff0c\u7c97\u7cd6) and eat</li> <li>But political gridlock should not be conflated with economic reality.</li> <li>In this sedate garrison town ringed by jagged peaks, the gentle thrum of the day is usually reduced to a whisper by night.</li> <li>The seed germination percentage had a small increase at the beginning of desiccation and then decreased rapidly.</li> <li>the account has been dormant (\u6682\u505c\u6d3b\u52a8\u7684\uff0c\u4f11\u7720\u7684) for a while</li> <li>hibernate (\u51ac\u7720\uff0c\u86f0\u4f0f) for the winter</li> <li>locomotive, train</li> <li>meadow (\u8349\u5730\uff0c\u7267\u573a), field</li> <li>Far from pretty, it oozes (\u6d0b\u6ea2\u7740\uff0c\u6563\u53d1\u51fa) fear and poverty, desperation and bigotry (\u504f\u6267), but also some form of social link, strongly separated between sexes.</li> <li>A large amount of lava began oozing (\u3010\u6d53\u6db2\u4f53\u3011\u6e17\u51fa) out of the volcano.</li> <li>geological, geography</li> <li>seep, seepage</li> <li>fad</li> <li>precession</li> <li>The biggest impediment (\u969c\u788d\uff0c\u963b\u788d) to research progress is not fraud (\u9a97\u5b50), it is all scientists reading about fraud.</li> <li>The Red Cross dispensed (\u5206\u53d1) food and clothing to the flood victims.</li> <li>Asthma attacks can be triggered by pollen (\u82b1\u7c89), dust, harsh (\u523a\u6fc0\u7684\uff0c\u4e25\u5389\u7684\uff0c\u6b8b\u9177\u7684) chemicals or scents (\u6c14\u5473).</li> <li>thrive (\u8301\u58ee\u6210\u957f\uff0c\u5174\u65fa\u53d1\u8fbe) after layoff (\u89e3\u96c7)</li> <li>excrete</li> <li>tidbit</li> <li>rhizome</li> <li>most people are extremely resilient (\uff08\u7269\u4f53\u6216\u6750\u6599\uff09\u80fd\u590d\u539f\u7684\uff1b\u6709\u5f39\u6027\u7684\uff1b\u3010\u4eba\u7684\u6027\u683c\u3011\u80fd\u8fc5\u901f\u6062\u590d\u6216\u91cd\u65b0\u632f\u4f5c\u7684\uff1b\u9002\u5e94\u6027\u5f3a\u7684) able to withstand trauma (\u5916\u4f24\uff0c\u5fc3\u7406\u521b\u4f24).</li> <li>resiliency in the face of challenge</li> <li>interlocking: \u4e92\u9501\uff0c\u8054\u52a8</li> <li>snap</li> <li>blowhole: \uff08\u9cb8\u5934\u9876\u7684\uff09\u547c\u5438\u5b54</li> <li>sacs: \u56ca\uff0c\u4e0a\u8863</li> <li>spoiled meat</li> <li>repercussion (\u53cd\u5c04\uff0c\u5f39\u56de)</li> <li>pepper (\u8fa3\u6912\uff0c\u80e1\u6912), aromatic (\u9999\u6599\uff0c\u82b3\u9999\u690d\u7269), bark (\u5486\u54ee\uff0c\u5420\u53eb), cinnamon (\u8089\u6842), ginger (\u751f\u59dc), clove (\u4e01\u9999), maize (\u7389\u7c73)<ul> <li>garlic clove: \u5927\u849c\u74e3</li> </ul> </li> <li>boil it down</li> <li>astronomical1</li> <li>diplomacy</li> <li>immerse yourself in exotic (\u5916\u6765\u7684\uff0c\u5f02\u56fd\u7684) languages, </li> <li>ConvNets went from obscure (\u8d39\u89e3\u7684) models that were shrouded (\u8986\u76d6\uff0c\u9690\u85cf) in skepticism to rockstars of Computer Vision, present as a core building block in almost every new Computer Vision paper.</li> <li>ward off: \u6321\u5f00\uff0c\u67b6\u5f00</li> <li>The source of indoor VOC (voltile organic compounds, \u6325\u53d1\u6027\u6709\u673a\u5316\u5408\u7269) could be multiple and it may be also be contributed by the use of detergents (\u6d17\u6da4\u5242\uff0c\u6d17\u8863\u7c89) and fragrance (\u9999\u6c14\uff0c\u9999\u6c34) (room fragrance and perfume (\u9999\u6c34\uff0c\u9999\u6599)) in indoor environment.</li> <li>octopus</li> <li>A large factory is supposed to built near the community according to the announcement issued by a company.</li> <li>There is a growing awareness of both the positive and negative influences that the construction plan brings to our community.</li> <li>Participating in community activities is a practical and effective approach for teenagers to enhance their social skills. For example, if a teenager, who is not a sociable person, seizes an opportunity to work in a community as a volunteer for hosting an English conversations group, he is capable of practicing his communication skills by conversing with people of different ages who he might not be acquainted with it. Such an experience enables him to overcome the fear of speaking in front of a group of strangers and master the skills of how to communicate with different kinds of people in an approximate way, both of which contribute to the improvement of his social skills, particularly his communication skills.</li> <li>Several staff members have checked the manuscript for accuracy and ease of use.</li> <li>anatomical</li> <li>Together they create a picture that hints towards cubism (\u7acb\u4f53\u4e3b\u4e49).</li> <li>be coordinated with, to harmonize with</li> <li>What is called resignation (\u987a\u4ece\uff0c\u542c\u4ece) is confirmed desperation. \u6240\u8c13\u542c\u5929\u7531\u547d\uff0c\u6b63\u662f\u80af\u5b9a\u7684\u7edd\u671b\u3002</li> <li>His obsession (\u56f0\u6270\uff0c\u6c89\u8ff7) could make him by turns hustling (\u6025\u8e81), mean and dejected (\u6cae\u4e27\u7684\uff0c\u7070\u5fc3\u7684).<ul> <li>hustle and bustle: \u7199\u7199\u6518\u6518\uff0c\u5fd9\u788c</li> </ul> </li> <li>dip, incise</li> <li>The farmer bemoaned (\u60cb\u60dc\uff0c\u4e3a\u2026\u6078\u54ed) his loss.</li> <li>moral, mortal<ul> <li>moral code: \u9053\u5fb7\u51c6\u5219</li> <li>all men are mortal: \u4eba\u7686\u6709\u4e00\u6b7b</li> </ul> </li> <li>blend of cultures\uff1a\u6587\u5316\u878d\u5408 - blaze (\u706b\u7130\uff1b\u5c55\u73b0) your trail</li> <li>bland: \u5e73\u6de1\u7684\uff0c\u4e4f\u5473\u7684</li> <li>diffident (\u7f3a\u4e4f\u81ea\u4fe1\u7684\uff0c\u80c6\u602f\u7684), different, indifferent</li> <li>pond</li> <li>boom, flourish</li> <li>bull (\u516c\u725b\uff0c\u5e9f\u8bdd\uff0c\u5f6a\u5f62\u5927\u6c49), bullet (\u5b50\u5f39\uff0c\u5f39\u4e38)</li> <li>buoyant, prosperous</li> <li>by and large</li> <li>surge: \u6d6a\u6d8c\uff0c\u6fc0\u589e</li> <li>The conflicts has escalated (\u9010\u6b65\u5347\u7ea7\uff0c\u9010\u6b65\u6269\u5927) into violence.</li> <li>conference</li> <li>linguist</li> <li>catastrophe</li> <li>They will live only in the songs and chronicles (\u7f16\u5e74\u53f2) of their exterminators (\u6251\u706d\u7684\u4eba\uff0c\u5bb3\u866b\u9a71\u9664\u5242).</li> <li>deduction</li> <li>aviculture</li> <li>postscript: \u3010\u4fe1\u672b\u7684\u3011\u9644\u8a00\uff1b\u8865\u5145\uff1b</li> <li>cavalry, soldier</li> <li>prairie</li> <li>perigee</li> <li>oral cavity (\u6d1e\uff0c\u51f9\u5904\uff1b\u8154): \u53e3\u8154</li> <li>cessation</li> <li>encompass</li> <li>champion, support</li> <li>artisan (\u5de5\u5320\uff0c\u624b\u827a\u4eba)</li> <li>symbiosis</li> <li>lukewarm</li> <li>circuitously</li> <li>credulously</li> <li>envision</li> <li>detoxify</li> <li>extract</li> <li>stake: \u80a1\u4efd\uff0c\u8d4c\u6ce8</li> <li>sequestered: \u50fb\u9759\u7684\uff0c\u9690\u853d\u7684\uff0c\u4e0e\u5916\u754c\u9694\u7edd\u7684</li> <li>recreation: \u5a31\u4e50\uff0c\u6d88\u9063</li> <li>reclaim: \u5f00\u57a6\uff0c\u6539\u9020</li> <li>silt</li> <li>land reclamation (\u5f00\u57a6\uff0c\u56de\u6536\uff0c\u518d\u751f) and sustainable development</li> <li>supplement</li> <li>spade</li> <li>deck</li> <li>nilpotent matrix: \u5e42\u96f6\u77e9\u9635</li> <li>caffeine (\u5496\u5561\u56e0)</li> <li>sip (\u5c0f\u53e3\u559d) nectar (\u82b1\u871c\uff0c\u7518\u9732\uff0c\u4efb\u4f55\u7f8e\u5473\u7684\u996e\u6599)</li> <li>bumblebee: \u5927\u9ec4\u8702\uff0c\u96c4\u8702</li> <li>Unnaturally high nicotine (\u5c3c\u53e4\u4e01) concentrations deterred (\u5236\u6b62\uff0c\u963b\u6b62\uff0c\u4f7f\u6253\u6d88\u5ff5\u5934) the bees.<ul> <li>deterrence effect: \u5a01\u6151\u6548\u679c</li> </ul> </li> <li>Bees are major pollinators (\u4f20\u7c89\u5a92\u4ecb) of fruits, vegetables and nuts.</li> <li>Does your pharmacy (\u836f\u623f) carry lice (\u8671\u5b50\uff0clouse \u7684\u590d\u6570) shampoo (\u6d17\u53d1\uff0c\u6d17\u53d1\u7cbe)</li> <li>Tanks cannot do anything in these craters (\u5f39\u5751\uff0c\u706b\u5c71\u53e3).</li> <li>plate tectonics (\u6784\u9020\u5b66): \u3010\u5730\u8d28\u3011\u677f\u5757\u6784\u9020\u8bba</li> <li>geochemist, geochemistry: \u5730\u7403\u5316\u5b66</li> <li>A bolide (\u3010\u5929\u6587\u5b66\u3011\u706b\u6d41\u661f\uff0c\u706b\u7403), or fireball, is an extremely bright meteor (\u6d41\u661f), and those can be about the size of a grapefruit (\u8461\u8404\u67da\uff0c\u897f\u67da).</li> <li>magma, mantle, lava (\u706b\u5c71\u55b7\u53d1\u7684\u7194\u5ca9)</li> <li>volcanism</li> <li>makeover (\u7ffb\u65b0\uff0c\u6539\u8fdb)</li> <li>pummel: \u8fde\u7eed\u731b\u51fb\uff0c\u53cd\u590d\u62f3\u6253</li> <li>wipe away</li> <li>Valentine\u2019s Day</li> <li>self-absorbed</li> <li>showcase</li> <li>poll, no-no</li> <li>wink</li> <li>vein: \u9759\u8109\uff0c\u7eb9\u7406\uff0c\u98ce\u683c</li> <li>agroecology: \u519c\u4e1a\u751f\u6001\u5b66</li> <li>cultivar (\u683d\u57f9\u79cd\uff0c\u683d\u57f9\u54c1\u79cd)</li> <li>contagion</li> <li>weed</li> <li>inoculation</li> <li>avirulent: \u65e0\u6bd2\u6027\u7684</li> <li>that\u2019s a philosophical pickle.</li> <li>coop: \u517b\u9e21\u5154\u7684\u7b3c\u5b50\uff1b\u628a\u5bb6\u79bd\u5173\u8fdb\u7b3c\u5b50</li> <li>conspecific: \u540c\u79cd\u7684</li> <li>archaeological</li> </ol>"},{"location":"English/#201709","title":"2017.09","text":"<ol> <li>She\u2019s tried every knack (\u8bc0\u7a8d\uff0c\u672c\u9886) in Cupid (\u3010\u7f57\u9a6c\u795e\u8bdd\u4e2d\u7684\u7231\u795e\u3011\u4e18\u6bd4\u7279)\u2018s book to get her guy to marry her.</li> <li>The team\u2019s limp performance has many people calling for the head coach\u2019s resignation (\u8f9e\u804c).</li> <li>the limpid outlook of a man who is at peace with himself as he awaits death.</li> <li>the lush (\u8302\u76db\u7684\uff0c\u8349\u6728\u7e41\u8302\u7684) fields were the envy of neighboring farmers.</li> <li>vagabonds (\u6d41\u6d6a\u8005\uff0c\u6e38\u624b\u597d\u95f2\u8005) meandering (\u6f2b\u6b65\uff0c\u873f\u8712\u7f13\u6162\u6d41\u52a8) through life</li> <li>Reading will fertilize (\u4f7f\u4e30\u9976\uff0c\u4f7f\u53d7\u7cbe) vocabulary.</li> <li>A blind patriotic fervor is called chauvinism.</li> <li>a convoluted thriller, the plot of which I was never able to actually decipher.</li> <li>a complex literary text difficult for many people to decode. - anything but (=not at all, by no means, never)\u9664\u2026\u4ee5\u5916\u4efb\u4f55\u4e8b\uff1b\u6839\u672c\u4e0d\uff0c\u7edd\u4e0d\u51b3\u4e0d\uff0c\u6839\u672c\u4e0d<ul> <li>Dick seldom talks of anything but music.</li> <li>Conceited (\u81ea\u8d1f\u7684\uff0c\u9a84\u50b2\u81ea\u6ee1\u7684) people never hear anything but praise. (\u51e1\u662f\u7231\u6155\u865a\u8363\u7684\u4eba\u542c\u5f97\u8fdb\u8d5e\u7f8e\u7684\u8bdd)</li> <li>The bridge is anything but safe.(\u90a3\u5ea7\u6865\u6839\u672c\u4e0d\u5b89\u5168)</li> <li>His behavior is anything but satisfactory. (\u4ed6\u7684\u884c\u4e3a\u6839\u672c\u4e0d\u80fd\u4ee4\u4eba\u6ee1\u610f)</li> <li>But those captured were anything but terrorists. (\u4f46\u90a3\u4e9b\u88ab\u902e\u6355\u7684\u4eba\u6839\u672c\u4e0d\u662f\u6050\u6016\u5206\u5b50)</li> <li>He didn\u2019t speak anything but Greek. (\u4ed6\u53ea\u4f1a\u8bf4\u5e0c\u814a\u8bed)</li> <li>He\u2019s anything but an abject (\u5351\u9119\u7684\uff0c\u5351\u52a3\u7684) coward. (\u4ed6\u51b3\u4e0d\u662f\u53ef\u9119\u7684\u61e6\u592b)<ul> <li>cowardice: \u61e6\u5f31\uff0c\u80c6\u602f</li> </ul> </li> <li>Do you ever do anything but yack (\u5e9f\u8bdd)? (\u4f60\u9664\u4e86\u53e8\u53e8\u8fd8\u4f1a\u5e72\u5565\uff1f)</li> <li>I will eat anything but carrot. (\u6211\u4ec0\u4e48\u90fd\u5403\uff0c\u5c31\u662f\u4e0d\u5403\u80e1\u841d\u535c)</li> <li>She is anything but a beauty. (\u5979\u4e00\u70b9\u4e5f\u4e0d\u6f02\u4eae\u3002)</li> <li>nothing but (=only)\u53ea\u4e0d\u8fc7\uff0c\u9664\u4e86\u2026\u4ee5\u5916\u4ec0\u4e48\u4e5f\u6ca1\u6709</li> <li>all but (=almost, nearly)\u51e0\u4e4e\uff0c\u5dee\u4e00\u70b9</li> <li>none but(=no one except)\u53ea\u6709\uff0c\u9664\u2026\u5916\u8c01\u4e0d</li> </ul> </li> <li>Numerous historical examples illustrate both the overriding influence that scientists\u2019 prejudices have on their interpretation of data and the consequent impairment of their intellectual objectivity.</li> <li>Jone was unable to recognize the contradictions in his attitudes that were obvious to everyone else; even the hint of an untruth was repugnant to him, but he courted serious trouble by always cheating on his taxes.</li> <li>She responded with such asperity that we knew she was offended by the question.</li> <li>He has encountered more than his share of asperities on the road to success.</li> <li>Envy can make oneself backward; self-confidence can tell oneself to be aspirant.</li> <li>He says face veils like the niqab (\u5c3c\u5361\u5e03\uff0c\u4e00\u4e9b\u7a46\u65af\u6797\u5987\u5973\u5728\u516c\u5171\u573a\u5408\u6234\u7684\u9762\u7eb1\uff0c\u901a\u5e38\u9732\u51fa\u773c\u775b) are not a religious requirement.</li> <li>To reduce fraud, an opaque network of government bank accounts has been replaced by a centralized system.</li> <li>as if he could pierce (\u7a7f\u900f\uff0c\u523a\u7834) those sheets (\u8584\u677f\uff1b\u5e8a\u5355\uff1b\u7eb8\u5f20) of water so opaque to our eyes and scan the deepest seas.</li> <li>Mr Zingales has written an elegy (\u633d\u6b4c) to the America he found when he moved there 24 years ago from an Italy that was rife with nepotism (\u88d9\u5e26\u5173\u7cfb).</li> <li>We keep records on every single hive, and that compendium of records goes back quite a long time.</li> <li>Jeremiad wreathes (\u73af\u7ed5\uff0c\u8986\u76d6) upon my feeling, while shadow of shiver covers my mind.</li> <li>He made speech of panegyric (\u9882\u8bcd\uff0c\u8d5e\u8f9e).</li> <li>In an hour-long philippic, the legislator denounced the lobbyists opposing his bill.</li> <li>Their profligate lifestyle resulted in bankruptcy.</li> <li>Improvident behavior is likely to imprint (\u5370\u8bb0) indelible marks on a person\u2019s life and personality.</li> <li>In times of economic woe (\u60b2\u54c0\uff0c\u75db\u82e6), when normal patterns of consumption and investment are frozen, prodigal government speeding can sometimes be the only way to break the vicious circle (\u6076\u6027\u5faa\u73af) of declining demand and shrinking employment.</li> <li>Jaw line contoured by the bristling red hair of the fighter, watchful, pugnacious.</li> <li>Things have come full circle since penurious (\u8d2b\u7a77\u7684\uff0c\u7a77\u56f0\u7684\uff0c\u8d64\u8d2b\u7684) sailors from the Far East first arrived two centuries ago.</li> <li>In May, to no one\u2019s surprise. he declared the city insolvent.</li> <li>I cannot feel it will make for a very restful (\u95f2\u9002\u5b81\u9759\u7684\uff0c\u4f7f\u4eba\u611f\u5230\u60a0\u95f2\u7684) retirement, can you?</li> <li>True to form (\u4e00\u5982\u65e2\u5f80\uff0c\u50cf\u5f80\u5e38\u4e00\u6837), Walter started asking him about his own retirement.</li> <li>These were very remarkable, but as eccentric as all his other accomplishments.</li> <li>She had known from the start that her philosophy teacher was eccentric.</li> <li>If true, that suggests a syllogism: that the love of time is a root of evil, too.</li> <li>Spencer\u2019s idiosyncratic drawing of a large fairy on a tiny water-lily leaf captures an imagination that strained against conventional rules of composition from the start.</li> <li>a fact that helps explain how it manages to be both profligate and stingy, and is forever in the red.</li> <li>The concert was rather an amateurish affair.</li> <li>Only when we deal with these problems successfully can we benefit the most from university amalgamation (\u5408\u5e76\uff0c\u6df7\u5408).</li> <li>It is not just about the president. It\u2019s a whole amalgam (\u6df7\u5408\u7269) of stuff, the scandals surrounding the president or people close to the president certainly, but also there are investigations of corruption in some of conglomerates (\u8054\u5408\u5927\u4f01\u4e1a\uff0c\u4f01\u4e1a\u96c6\u56e2) for example.</li> <li>the synergy (\u534f\u540c) between artist and record company.</li> <li>just as you may need a tonic (\u8865\u836f) when you have been ill.</li> <li>Throughout her book Ms Ahuja seems to be in a trance (\u604d\u60da\uff0c\u51fa\u795e\uff0c\u7740\u8ff7) herself, in thrall (\u53d7\u2026\u63a7\u5236\uff0c\u6df1\u53d7\u2026\u5f71\u54cd) to the glamour (\u9b45\u529b\uff0c\u9b54\u529b) of her subjects.</li> <li>The Palestinians (\u5df4\u57fa\u65af\u5766\u4eba) demanding a state are weak, divided and quiescent (\u6c89\u5bc2\u7684\uff0c\u9759\u6b62\u7684)); morose (\u5b64\u50fb\u7684\uff0c\u90c1\u95f7\u7684) as they are, few favour a return to suicide-bombing.</li> <li>And the campaign really got rancorous when Goldsmith tried to link Khan and extremists.</li> <li>Such counter-currents will prevent Kentish Town from gentrifying fully, suggests Gillian Tindall, a local historian.</li> <li>Interpreters are also skilled at keeping aplomb in the face of chaos.</li> <li>Right, and that suggests the qualities that are most germane (\u8d34\u5207\uff0c\u6070\u5f53) to the job.</li> <li>The fortress by King Philip Augustus was situated on the right bank of the Seine, overlooking\u2013 at that time\u2013 splendid bucolic scenery.</li> <li>But overall, Mr Agar has abstracted and made manageable a range of rich and informed analysis.</li> <li>He also emphasized what he called the main thing: \u201ca human-typable keyboard instead of a stupid, cryptic (\u542b\u4e49\u9690\u6666\u7684\uff0c\u6666\u6da9\u96be\u61c2\u7684) front panel with a bunch of lights and switches.\u201d</li> <li>In a few recalcitrant places, captial punishment is holding steady or picking up.</li> <li>The visitor also sees other evolving friendships and aesthetic kinships taking place.</li> <li>Manifest (\u8868\u660e\uff0c\u663e\u793a) an obliging (\u4e50\u4e8e\u52a9\u4eba\u7684) disposition (\u6c14\u8d28\uff0c\u5929\u6027\uff0c\u6027\u683c), and they can not but (\u4e0d\u5f97\u4e0d\uff0c) regard you with affection (\u611f\u60c5\uff0c\u559c\u7231).<ul> <li>much obliged: \u627f\u8499\u7f8e\u610f</li> </ul> </li> <li>It provides simpler and more perspicuous explanations than its rivals.</li> <li>This theory is too abstruse (\u96be\u89e3\u7684\uff0c\u6df1\u5965\u7684) to be taught in class.</li> </ol>"},{"location":"Git/","title":"Git Tips","text":""},{"location":"Git/#_1","title":"\u6559\u7a0b","text":"<ul> <li>\u8fd9\u624d\u662f\u771f\u6b63\u7684Git\u2014\u2014Git\u5185\u90e8\u539f\u7406\u63ed\u79d8\uff01</li> <li>\u962e\u4e00\u5cf0\u7684\u7f51\u7edc\u65e5\u5fd7</li> <li>\u8fd9\u4e9bGIT\u7ecf\u9a8c\u591f\u4f60\u7528\u4e00\u5e74\u4e86</li> <li>Cheatsheet</li> <li>Pro Git book (\u4e2d\u6587)</li> </ul>"},{"location":"Git/#qa","title":"Q&amp;A","text":"<ul> <li>don\u2019t commit generated files, like pdf from LaTeX sources, see  (pdf is not proper) and  (images are OK in git) for more discussions. (But I think if pdf is only for several commits, it would be totally OK.)</li> </ul>"},{"location":"Git/#github","title":"GitHub","text":"<ul> <li>\u6dfb\u52a0\u548c\u8bbe\u7f6e\u9879\u76ee\u5fbd\u7ae0: shields.io</li> <li>\u5f00\u901a Sponsor</li> <li>relase public from private repo<ul> <li>example: https://github.com/szcf-weiya/TriMatchMOT</li> </ul> </li> <li>issue \u4e2d\u5982\u679c\u5728\u7b2c\u4e00\u4e2a\u8bc4\u8bba\u91cc\u9762\u52a0 task\uff0c\u5219\u4f1a\u5728 issue \u5217\u8868\u4e2d\u663e\u73b0\u5904\u7406\uff0c\u5982 Issue 57</li> </ul>"},{"location":"Git/#actions","title":"Actions","text":"<ul> <li>use <code>setup-python</code> instead of <code>container: python</code>: fast and flexible<ul> <li>examples: </li> </ul> </li> <li>In YAML, if needed, use single quotes (instead of double quotes) for strings. see  for more details</li> </ul>"},{"location":"Git/#searching","title":"Searching","text":"<ul> <li>the symbol <code>:</code> in date in keywords in not proper (Query 1), instead <code>-</code> is OK (Query 2)</li> </ul>"},{"location":"Git/#setup-init-config","title":"SETUP &amp; INIT: <code>config</code>","text":""},{"location":"Git/#installation","title":"Installation","text":"<pre><code>sudo apt-get install git\n</code></pre>"},{"location":"Git/#setup-user-name-and-email","title":"Setup User Name and Email","text":"<pre><code>git config --global user.name \"test\"\ngit config --global user.email \"test@163.com\"\n</code></pre> <p>\u9664\u4e86\u8bbe\u7f6e\u5168\u5c40\u7684 <code>name</code> \u548c <code>email</code>\uff0c\u4e5f\u53ef\u4ee5\u6307\u5b9a <code>--local</code>\uff08\u56e0\u4e3a\u662f\u9ed8\u8ba4\u884c\u4e3a\uff0c\u56e0\u6b64\u4e5f\u53ef\u4ee5\u7701\u7565\uff09\u5bf9\u4e0d\u540c project \u6307\u5b9a\u4e0d\u540c\u7684 <code>name</code> \u53ca <code>email</code>, </p> <pre><code>git config [--local] user.name \"foo\"\ngit config [--local] user.email \"foo@gmail.com\"\n</code></pre> <p>\u53e6\u5916\u8fd8\u6709\u66f4\u9ad8\u7ea7\u7684\u914d\u7f6e <code>--system</code>\u3002\u663e\u7136\uff0clocal \u8986\u76d6 global, \u800c global \u8986\u76d6 system.</p> <p>\u5982\u679c\u60f3\u8981\u77e5\u9053\u5f53\u524d <code>name</code> \u548c <code>email</code>,\u53ef\u4ee5\u901a\u8fc7\u4e0b\u9762\u547d\u4ee4\u67e5\u770b</p> <pre><code>git config user.name\ngit config user.email\n</code></pre> <p>\u53c2\u8003 Is it possible to have different Git configuration for different projects?</p>"},{"location":"Git/#push-with-ssh-key","title":"push with ssh key","text":"<pre><code>ssh-keygen -t rsa -C \"test@163.com\"\n</code></pre> <p>\u590d\u5236 <code>~/.ssh/id_rsa.pub</code> \u5230 github \u4e0a\u3002</p>"},{"location":"Git/#sign-with-gpg-key","title":"sign with GPG key","text":"<p>Official documentation on Github: Managing commit signature verification</p> <p>Two nice Chinese tutorials on setting GPG keys</p> <ul> <li>\u9707\u60ca\uff01\u7adf\u7136\u6709\u4eba\u5728 GitHub \u4e0a\u5192\u5145\u6211\u7684\u8eab\u4efd\uff01</li> <li>\u5728 Github \u4e0a\u4f7f\u7528 GPG \u7684\u5168\u8fc7\u7a0b</li> </ul> <p>The steps are:</p> <pre><code># generate GPG key, 4096bits\ngpg --full-generate-key\n# get secret key id\ngpg --list-secret-keys --keyid-format LONG\n# configure git\ngit config --global user.signingkey &lt;SECRET_KEY_ID&gt;\ngit config --global commit.gpgsign true\n# tell github public GPG key\ngpg --armor --export &lt;SECRET_KEY_ID&gt;\n</code></pre>"},{"location":"Git/#clean-clean","title":"CLEAN: <code>clean</code>","text":""},{"location":"Git/#remove-untracked-files","title":"remove untracked files","text":"<pre><code>git clean -n\ngit clean -f\n</code></pre> <p>refer to How to remove local (untracked) files from the current Git working tree</p>"},{"location":"Git/#clone-clone","title":"CLONE: <code>clone</code>","text":"<ul> <li>\u63d0\u9ad8 <code>git clone</code> \u901f\u5ea6</li> </ul> <pre><code>git config --global http.postBuffer 524288000\n</code></pre> <ul> <li>clone \u5355\u4e2a\u5206\u652f</li> </ul> <pre><code>git clone -b BRANCH_NAME ...\n</code></pre> <ul> <li>clone \u591a\u4e2a\u5206\u652f</li> </ul> <pre><code>git clone ...\n# list the remote-tracking branches\ngit branch -r # OR: list both remote-tracking branches and local branches\ngit branch -a \ngit checkout -b BRANCH_NAME REMOTE_BRANCH\n# OR: the branch name is exactly in the remote branches\ngit checkout BRANCH_NAME\n</code></pre>"},{"location":"Git/#branch-branch","title":"BRANCH: <code>branch</code>","text":"<pre><code># list branch\n$ git branch\n# create a new branch\n$ git branch [branch_name]\n# switch branch\n$ git checkout [branch_name]\n</code></pre>"},{"location":"Git/#delete-branches","title":"delete branches","text":"<pre><code>## Delete a remote branch\n$ git push origin --delete &lt;branch&gt; # Git version 1.7.0 or newer\n$ git push origin :&lt;branch&gt; # Git versions older than 1.7.0\n\n## Delete a local branch\n$ git branch --delete &lt;branch&gt;\n$ git branch -d &lt;branch&gt; # Shorter version\n$ git branch -D &lt;branch&gt; # Force delete un-merged branches\n\n## Delete a local remote-tracking branch\n$ git branch --delete --remotes &lt;remote&gt;/&lt;branch&gt;\n$ git branch -dr &lt;remote&gt;/&lt;branch&gt; # Shorter\n$ git fetch &lt;remote&gt; --prune # Delete multiple obsolete tracking branches\n$ git fetch &lt;remote&gt; -p # Shorter\n</code></pre> <p>adapted from cmatskas/GitDeleteCommands.ps1</p> <p>see also: \u5220\u9664github\u7684master\u5206\u652f</p>"},{"location":"Git/#log-log","title":"LOG: <code>log</code>","text":"<ul> <li>extract the last revision time of a file, <code>git log --date=short --format=%ad file</code>, it has been used in the mkdocs-git-revision-date-plugin.</li> </ul>"},{"location":"Git/#push-push","title":"PUSH: <code>push</code>","text":""},{"location":"Git/#default-push","title":"default push","text":"<p>\u91c7\u7528\u4f4e\u7248\u672c\u7684 git\uff0c \u5982 <code>v1.8.3.1</code> \u5f53 push \u65f6\u4f1a\u62a5\u51fa\u4ee5\u4e0b\u63d0\u9192\u4fe1\u606f\uff0c</p> <pre><code>warning: push.default is unset; its implicit value is changing in\nGit 2.0 from 'matching' to 'simple'. To squelch this message\nand maintain the current behavior after the default changes, use:\n\n  git config --global push.default matching\n\nTo squelch this message and adopt the new behavior now, use:\n\n  git config --global push.default simple\n\nSee 'git help config' and search for 'push.default' for further information.\n(the 'simple' mode was introduced in Git 1.7.11. Use the similar mode\n'current' instead of 'simple' if you sometimes use older versions of Git)\n</code></pre> <p>\u800c\u81ea\u5df1\u672c\u673a\u7535\u8111\u4e00\u822c\u91c7\u7528 <code>v2.0+</code>\uff0c \u6bd4\u5982\u5f53\u524d <code>v2.17.1</code> \u7684 git\uff0c\u6240\u4ee5\u76f4\u63a5\u91c7\u7528 <code>simple</code> \u6a21\u5f0f\u4fbf\u597d\u4e86\u3002</p> <p>See also: Git push\u4e0epull\u7684\u9ed8\u8ba4\u884c\u4e3a</p>"},{"location":"Git/#require-username-and-password","title":"require username and password","text":"<p>possible reason: use the default HTTPS instead of SSH</p> <p>correct this by</p> <pre><code>git remote set-url origin git@github.com:username/repo.git\n</code></pre> <p>\u53c2\u8003 Git push requires username and password</p>"},{"location":"Git/#remote-remote","title":"REMOTE: <code>remote</code>","text":""},{"location":"Git/#change-remote-repo-name","title":"change remote repo name","text":"<p>\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u5982\u5c06\u4e00\u4e2a\u540d\u4e3a epi \u7684\u4ed3\u5e93\u6539\u540d\u4e3a depi\uff0c\u518d\u6b21\u5728\u672c\u5730\u63d0\u4ea4\u867d\u7136\u4e5f\u80fd\u6210\u529f\uff0c\u4f46\u662f\u4f1a\u63d0\u793a\u4f60\u539f\u59cb\u7684\u4ed3\u5e93\u5df2\u7ecf\u79fb\u52a8\uff0c\u8bf7\u4fee\u6539\u4e3a\u65b0\u7684\u4ed3\u5e93\u5730\u5740\uff0c\u4e8e\u662f\u6211\u4eec\u53ef\u4ee5\u5229\u7528\u4e0b\u9762\u7684\u547d\u4ee4\u8fdb\u884c\u4fee\u6539</p> <pre><code>git remote set-url origin git@github.com:szcf-weiya/depi.git\n</code></pre>"},{"location":"Git/#modify-origin","title":"modify origin","text":"<p>\u672c\u5730\u901a\u8fc7 <code>git clone</code> \u5f97\u5230\u4ed3\u5e93 CellProfiler/CellProfiler\uff0c\u540e\u6765\u9700\u8981\u5728\u6b64\u57fa\u7840\u4e0a\u505a\u4e9b\u66f4\u6539\u7528\u5230\u81ea\u5df1\u7684\u9879\u76ee\u4e2d\u53bb\uff0c\u4e8e\u662f\u5bf9\u539f\u4ed3\u5e93\u8fdb\u884c\u4e86 fork\uff0c\u4e0d\u8fc7\u5fd8\u8bb0\u4e86\u672c\u5730\u7684\u4ed3\u5e93\u5176\u5b9e\u662f\u4ece\u539f\u4ed3\u5e93 clone \u4e0b\u6765\u7684\uff0c\u800c\u975e\u6765\u81ea fork \u540e\u7684\u4ed3\u5e93\uff0c\u6240\u4ee5\u5f53\u5728 git push \u4f1a\u8bd5\u56fe\u50cf\u539f\u4ed3\u5e93\u8fdb\u884c push \u65f6\uff0c\u5f53\u7136\u662f\u4f1a\u88ab\u62d2\u7edd\u7684\u3002</p> <p>\u7b80\u5355\u7684\u65b9\u6cd5\u4fbf\u662f\u76f4\u63a5\u66f4\u6539\u672c\u5730\u4ed3\u5e93\u7684 origin\uff0c\u9996\u5148\u53ef\u4ee5\u901a\u8fc7</p> <pre><code>git remote show origin\n</code></pre> <p>\u6765\u67e5\u770b\u5f53\u524d origin\uff0c\u524d\u51e0\u884c\u663e\u793a\u5982\u4e0b</p> <pre><code>$ git remote show origin\n* remote origin\n  Fetch URL: git@github.com:CellProfiler/CellProfiler.git\n  Push  URL: git@github.com:CellProfiler/CellProfiler.git\n</code></pre> <p>\u66f4\u6539\u53ef\u4ee5\u4f7f\u7528</p> <pre><code>git remote rm origin\ngit remote add origin git@github.com:szcf-weiya/CellProfiler.git\n</code></pre> <p>\u6216\u8005\u76f4\u63a5\u4e00\u6b65\u8d70</p> <pre><code>git remote set-url origin git@github.com:szcf-weiya/CellProfiler.git\n</code></pre> <p>\u6ce8\u610f\u5230\u8fd9\u91cc url \u90fd\u662f\u76f4\u63a5\u53d6\u7684 <code>git@github.com</code>\uff0c\u5018\u82e5\u7528\u4e86 <code>https://github.com</code>\uff0c\u5219 push \u65f6\u4f1a\u8981\u6c42\u624b\u52a8\u8f93\u5165\u5bc6\u7801\u3002</p> <p>\u53c2\u8003 How to change the fork that a repository is linked to</p>"},{"location":"Git/#sync-forked-repo","title":"sync forked repo","text":"<ol> <li>\u6dfb\u52a0\u539f\u4ed3\u5e93\uff0c\u6bd4\u5982</li> </ol> <pre><code>git remote add upstream git@github.com:LCTT/TranslateProject.git\n</code></pre> <p>\u67e5\u770b\u5f53\u524d\u8fdc\u7a0b\u4ed3\u5e93</p> <pre><code>git remote -v\n</code></pre> <ol> <li>pull</li> </ol> <pre><code>git pull upstream master\n</code></pre> <p>\u53c2\u8003Quick Tip: Sync a GitHub Fork via the Command Line</p>"},{"location":"Git/#rewrite-history-rebase-reset","title":"Rewrite History: <code>rebase, reset</code>","text":""},{"location":"Git/#rebase-after-merge","title":"rebase after merge","text":"<p>Suppose I have done</p> <pre><code>git add .\ngit commit -m \"add local changes\"\ngit pull\n</code></pre> <p>then a merge will be invoked. </p> <p>But actually these two commits do not have conflicts, so we can use</p> <pre><code>$ git rebase\nFirst, rewinding head to replay your work on top of it...\n</code></pre> <p>to remove the merge commit.</p>"},{"location":"Git/#discard-local-changes","title":"discard local changes","text":"<p>Here are instructions when running <code>git status</code>.</p> <ul> <li>not added: just <code>git checkout .</code></li> <li>last added: <code>git reset HEAD</code>, or <code>git restore --staged &lt;file&gt;</code></li> <li>last committed: <ul> <li>\u4e22\u5f03\u4fee\u6539\u7684\u5185\u5bb9\uff1a<code>git reset --hard HEAD^</code></li> <li>\u4fdd\u7559\u4fee\u6539\u7684\u5185\u5bb9\uff1a<code>git reset --soft HEAD^</code></li> <li>\u8fd8\u6709\u4e00\u79cd <code>mixed</code>\uff0c\u4e5f\u662f\u9ed8\u8ba4\u4e0d\u5e26\u53c2\u6570\u7684</li> </ul> </li> <li>jump to historical commit: <code>git reset --hard &lt;commit&gt;</code></li> </ul> <p>\u5982\u679c\u4e5f\u8981\u66f4\u65b0\u8fdc\u7a0b\u4ed3\u5e93\uff0c\u5982 github\uff0c\u5219\u9700\u8981\u4f7f\u7528 <code>git push -f</code> \u5f3a\u5236\u66f4\u65b0\u3002</p> <p>\u53c2\u8003</p> <ul> <li>git \u653e\u5f03\u672c\u5730\u4fee\u6539</li> <li>github,\u9000\u56de\u4e4b\u524d\u7684commit</li> <li>github \u7248\u672c\u56de\u9000</li> </ul>"},{"location":"Git/#discard-reset","title":"discard reset","text":"<p>type</p> <pre><code>git reflog\n</code></pre> <p>to find the log of all ref updates, and then use</p> <pre><code>git reset 'HEAD@{1}'\n</code></pre> <p>to restore the corresponding state of <code>HEAD@{1}</code>, where <code>1</code> implies that last state, and it can be set as other refs.</p> <p>refer to How to undo \u2018git reset\u2019?</p>"},{"location":"Git/#case-study","title":"case study","text":"<p>\u67d0\u6b21\u5199\u535a\u5ba2\u65f6\uff0c\u6709\u4e00\u7bc7\u4ecd\u5904\u4e8e\u8349\u7a3f\u7bb1\u7684\u6587\u4ef6 A.md \u6682\u65f6\u4e0d\u60f3\u4e0a\u4f20\uff0c\u4f46\u662f\u66f4\u6539\u4e86\u5df2\u7ecf\u53d1\u8868\u7684\u6587\u7ae0 B.md \u4e2d\u7684 typo\uff0c\u7136\u540e\u63d0\u4ea4\u65f6\u4e00\u4e0d\u7559\u795e\u76f4\u63a5\u7528</p> <pre><code>$ g \"fix typo\"\n</code></pre> <p>\u63d0\u4ea4\u4e86\uff0c\u5176\u4e2d <code>g</code> \u662f\u5728 <code>.bashrc</code> \u4e2d\u81ea\u5b9a\u4e49\u7684\u4e00\u4e2a\u51fd\u6570\uff0c</p> <pre><code># file .bashrc\n# alias for git\nfunc_g(){\nrm -f core\n    git add .\n    git commit -a -m \"$1\"\ngit push\n}\nalias g=func_g\n</code></pre> <p>\u672c\u6765\u4f1a\u76f4\u63a5 push \u4e0a\u53bb\u7684\uff0c\u4f46\u662f\u53d1\u73b0\u53ca\u65f6\uff0cCtrl-C \u53d6\u6d88\u6389\u4e86\uff0c\u4e0d\u8fc7 commit \u9700\u8981\u56de\u9000\u3002\u6ce8\u610f\u5230\u8fd9\u65f6\u5e76\u4e0d\u60f3\u653e\u5f03\u4fee\u6539\u7684\u6587\u6863\uff0c\u6240\u4ee5 <code>--hard</code> \u9009\u9879\u4e0d\u53ef\u53d6\uff0c</p> <pre><code>$ git reset --soft HEAD^\n</code></pre> <p>\u8fd9\u53ea\u662f\u53d6\u6d88\u4e86 commit\uff0c\u4f46\u662f\u4ecd\u7136\u88ab add \u4e86\uff0c\u67e5\u770b git status\uff0c\u4f1a\u6709\u4e00\u884c\u63d0\u793a\u8bed\uff0c</p> <pre><code>  (use \"git reset HEAD &lt;file&gt;...\" to unstage)\n</code></pre> <p>\u6240\u4ee5\u4e0b\u4e00\u6b65\u81ea\u7136\u4e3a</p> <pre><code>$ git reset HEAD A.md\n</code></pre> <p>\u6709\u65f6\u53ef\u80fd\u5220\u6389\u5df2\u7ecf add \uff08\u751a\u81f3 commit\uff0c\u4f46\u8fd8\u6ca1 push\uff09 \u7684\u6587\u4ef6\uff08\u6bd4\u5982\u4e0b\u6587\u4e2d\u7684 <code>Peek 2020-08-20 10-06.mp4</code>\uff09\uff0c\u9996\u5148\u5982\u679c committed\uff0c\u5219\u91c7\u7528</p> <pre><code>$ git reset --soft HEAD^\n</code></pre> <p>\u53d6\u6d88 commit\uff0c\u7136\u540e <code>git add</code> \u5c31\u597d\u4e86\uff0c\u4f46\u662f\u7ee7\u7eed\u64a4\u9500 add \u7684\u72b6\u6001\uff0c\u5e76\u6ca1\u6709\u4f5c\u7528\uff0c\u800c\u662f\u63d0\u793a</p> <p>Unstaged changes after reset:</p> <pre><code>$ git status\nOn branch master\nYour branch is up to date with 'origin/master'.\n\nChanges to be committed:\n  (use \"git reset HEAD &lt;file&gt;...\" to unstage)\n\nnew file:   docs/Linux/Peek 2020-08-20 10-06.mp4\n\nChanges not staged for commit:\n  (use \"git add/rm &lt;file&gt;...\" to update what will be committed)\n(use \"git checkout -- &lt;file&gt;...\" to discard changes in working directory)\n\ndeleted:    docs/Linux/Peek 2020-08-20 10-06.mp4\n\n$ git reset HEAD docs/Linux/Peek 2020-08-20 10-06.mp4\nUnstaged changes after reset:\nD       docs/Linux/Peek 2020-08-20 10-06.mp4\n$ git add .\n$ git status\nOn branch master\nYour branch is up to date with 'origin/master'.\n</code></pre>"},{"location":"Git/#amend-commit-message","title":"amend commit message","text":"<p>If the latest commit\uff0c type</p> <pre><code>git commit --amend\n</code></pre> <p>to edit the commit message, and then</p> <pre><code>git push --force-with-lease\n</code></pre> <p>where <code>--force-with-lease</code> is a safer version than <code>--force</code>, in which the former will not overwrite any work on the remote branch while the latter would overwrites a remote branch with the local branch. More detailed comparisons refer to git push \u2013force-with-lease vs. \u2013force</p> <p>Refer to Changing git commit message after push (given that no one pulled from remote).</p>"},{"location":"Git/#discard-un-pushed-merges","title":"discard un-pushed merges","text":"<p>\u73b0\u6709\u672c\u5730\u3001\u670d\u52a1\u5668\u4ed3\u5e93\u5404\u4e00\u4e2a\uff0c\u901a\u8fc7 GitHub \u8fdb\u884c\u5171\u4eab\uff0c\u539f\u5219\u4e0a\u53ea\u901a\u8fc7\u672c\u5730\u7f16\u8f91\u4ee3\u7801\uff0c\u7136\u540e\u5728\u670d\u52a1\u5668\u4e2d\u501f\u52a9 <code>git pull</code> \u8fdb\u884c\u66f4\u65b0\u4ee3\u7801\u3002\u4f46\u662f\u6709\u4e00\u884c\u4ee3\u7801\u7531\u4e8e\u6587\u4ef6\u8def\u5f84\u539f\u56e0\uff0c\u4e0d\u5f97\u5df2\u5728\u670d\u52a1\u5668\u7aef\u66f4\u6539\uff0c\u5728 <code>git pull</code> \u4e4b\u524d\u8fdb\u884c\u4e86 <code>git add; git commit</code> \u64cd\u4f5c\uff0c\u6240\u4ee5 <code>pull</code> \u7684\u65f6\u5019\u4f1a\u4ea7\u751f merge\uff0c\u800c\u4e14\u8fd9\u6837\u4e0b\u53bb\u6bcf\u4e00\u6b21\u8fdb\u884c <code>pull</code> \u90fd\u4f1a\u8fdb\u884c merge\u3002\u8fd9\u6837\u5c31\u5f88\u96be\u770b\u51fa\u670d\u52a1\u5668\u7aef\u771f\u6b63\u66f4\u6539\u7684\u5185\u5bb9\u4e86\uff0c\u8fd9\u65f6\u53d1\u73b0\u4e86 <code>git rebase</code>\uff0c\u8fd9\u5f20\u56fe\u5f88\u597d\u5730\u5c55\u793a\u4e86\u5b83\u8981\u5e72\u7684\u4e8b\u60c5\uff0c</p> <p></p> <p>\u8fd9\u4e5f\u6b63\u662f\u6211\u60f3\u8981\u7684\uff0c\u7b80\u5355\u8bf4\u5c31\u662f\u628a\u57fa\u4e8e\u4ee5\u524d\u7684\u66f4\u6539\u8f6c\u6362\u6210\u57fa\u4e8e\u6700\u65b0\u7684\u66f4\u6539\u3002</p> <p>\u7136\u800c\u6211\u8fd9\u60c5\u51b5\u8fd8\u6ca1\u8fd9\u4e48\u76f4\u63a5\uff0c\u56e0\u4e3a\u6709\u8fc7\u5f88\u591a merges\uff0c\u8fd9\u4e9b merges \u90fd\u60f3\u653e\u5f03\u6389\u3002</p> <pre><code>$ git log --graph --format=%s\n</code></pre> <p></p> <p>\u540e\u6765\u53d1\u73b0\u4e86 \u2013rebase-merges \u9009\u9879\uff0c\u4f3c\u4e4e\u662f\u5728\u5904\u7406\u6211\u7684\u95ee\u9898\uff08\u6700\u540e\u8fd8\u662f\u7406\u89e3\u53cd\u4e86\uff09\uff0c\u4f46\u662f\u6ca1\u9ad8\u5174\u591a\u4e45\uff0c\u670d\u52a1\u5668\u7aef\u7684 git \u7248\u672c\u53ea\u6709 <code>1.8.3.1</code>\uff0c\u800c\u8fd9\u4e2a\u9009\u9879\u81f3\u5c11\u8981\u6c42 <code>2.x</code>\u3002\u4e0d\u8fc7\u6709\u6ce8\u610f\u5230\u4e86 <code>--preserve-merges</code> \u9009\u9879\uff0c\u65b0\u7248\u672c\u4e2d\u5df2\u7ecf deprecated\uff0c\u800c\u4e14\u6587\u6863\u4e2d\u6709\u8fd9\u4e48\u4e00\u53e5\uff0c</p> <pre><code>[DEPRECATED: use --rebase-merges instead]\n</code></pre> <p>\u4f3c\u4e4e\u4e5f\u53ef\u4ee5\u7528\uff0c\u4f46\u662f\u8fd9\u4e2a\u540d\u5b57\u600e\u4e48\u611f\u89c9\u8ddf\u6211\u7684\u76ee\u6807\u662f\u76f8\u53cd\u7684\u5462\uff01?\uff08\u6b64\u65f6\u8fd8\u672a\u610f\u8bc6\u5230\uff09\uff0c\u540e\u6765\u7b80\u5355\u8bd5\u4e86\u4e00\u4e0b</p> <pre><code>$ git rebase --preserve-merges\n</code></pre> <p>\u53d1\u73b0\u6ca1\u5565\u53d8\u5316\u3002\u8fd9\u624d\u610f\u8bc6\u5230\u81ea\u5df1\u7406\u89e3\u9519\u4e86\u8fd9\u4e24\u4e2a\u547d\u4ee4\u3002</p> <p>\u540e\u6765\u53c8\u6ce8\u610f\u5230\u4e86 <code>--root</code> \u9009\u9879\uff0c\u53d1\u73b0\u8fd9\u4e2a\u8ddf\u81ea\u5df1\u7684\u76ee\u6807\u633a\u50cf\u7684\uff0c\u800c\u4e14\u62b1\u7740\u641e\u574f\u4e86\u5927\u4e0d\u4e86\u91cd\u65b0 <code>git clone</code> \u4e00\u4e0b\uff0c\u6240\u4ee5\u679c\u65ad\u53bb\u8bd5\u4e86\uff0chistory \u786e\u5b9e\u90fd\u53d8\u6210\u7ebf\u6027\u4e86</p> <p></p> <p>\u4f46\u662f\u4f3c\u4e4e\u8fd8\u6ca1\u6210\u529f\uff0ccommits \u90fd\u53d8\u6210\u4e0d\u4e00\u6837\u4e86\uff0c</p> <p></p> <p>\u540e\u6765\u53c8\u778e\u8fd0\u884c\u4e86\u4e0b</p> <pre><code>$ git rebase\n</code></pre> <p>\u53d1\u73b0\u7adf\u7136\u6210\u529f\u4e86\uff0c</p> <p></p> <p>\u73b0\u5728\u6211\u751a\u81f3\u6000\u7591\u662f\u4e0d\u662f\u4e00\u5f00\u59cb\u76f4\u63a5 <code>git rebase</code> \u5c31\u597d\u4e86\uff0c\u4e5f\u4e0d\u9700\u8981 <code>--root</code>\uff0c\u4e0d\u8fc7 <code>root</code> \u662f\u8bf4\u53ef\u4ee5 rebase \u6240\u6709 reachable commits\uff0c\u6ca1\u6709\u4ec0\u4e48 upstream \u9650\u5236\uff0c\u4e0d\u77e5\u9053 merges \u7b97\u4e0d\u7b97 upstream \u9650\u5236\uff08\u4ee5\u540e\u518d\u73a9\u73a9\uff09. \u5982\u679c\u9700\u8981\u66f4\u65b0\u7684\u8bdd\uff0c\u4ecd\u91c7\u7528 <code>git pull</code>\uff0c\u4f46\u662f <code>git pull</code> \u4e0d\u662f\u76f8\u5f53\u4e8e <code>git fetch &amp; git merge</code> \u4e48\uff1f\uff01\u4e0d\u8fc7\u9700\u8981\u6ce8\u610f\u52a0\u4e0a <code>--rebase</code> \u9009\u9879</p> <p></p>"},{"location":"Git/#change-commit-time","title":"change commit time","text":"<p>TL;DR</p> <pre><code>GIT_AUTHOR_DATE=$(date -d \"-10 days - 8 hours\" -Iseconds) GIT_COMMITTER_DATE=$GIT_AUTHOR_DATE git commit -m \"\"\n</code></pre> <p>\u56e0\u4e3a\u4e60\u60ef\u5c06\u5f53\u5929\u7684\u5de5\u4f5c\u901a\u8fc7 commit \u8d21\u732e\u56fe\u53cd\u6620\u51fa\u6765\uff0c\u4f46\u6709\u65f6\u5019\u63d0\u4ea4\u65f6\u8d85\u4e86\u4e00\u70b9\u70b9\u65f6\u95f4\u5c31\u53d8\u6210\u7b2c\u4e8c\u5929\u4e86\uff0c\u6709\u65f6\u4f1a\u5f3a\u8feb\u6027\u5730\u60f3\u628a\u65f6\u95f4\u6539\u8fc7\u6765\u3002\u6b64\u524d\u4e00\u76f4\u5728\u7528\u4e00\u79cd\u6bd4\u8f83\u7b28\u4f46\u5f88\u6709\u6548\u7684\u65b9\u6cd5\uff0c\u5373\u4fee\u6539\u7cfb\u7edf\u65f6\u95f4\u2014\u2014\u5f80\u56de\u62e8\u51e0\u5206\u949f\uff0c\u518d\u8fdb\u884c commit\u3002\u4f46\u662f\u6628\u665a\u8fd9\u6837\u64cd\u4f5c\u65f6\u51fa\u73b0\u4e86\u5931\u8bef\uff0c\u53ea\u8c03\u6574\u4e86\u65f6\u95f4\uff0c\u65e5\u671f\u5e76\u6ca1\u6709\u56de\u9000\u4e00\u5929\uff0cpush \u4e4b\u540e\u624d\u610f\u8bc6\u5230\uff0c\u5c31\u8fd9\u6837\u591a\u4e86\u4e00\u6761\u672a\u6765\u7684 commit\u3002</p> <p>\u4e8e\u662f\u5c31\u9700\u8981\u50cf\u4fee\u6539 commit message \u4fee\u6539\u65f6\u95f4\u91cd\u65b0 commit\u3002\u9996\u5148\u5c1d\u8bd5\u7684\u662f\uff0c</p> <pre><code>git commit --amend --date=\"13/04/2021 @ 23:59\"\n</code></pre> <p>\u8fd9\u6837 <code>git log</code> \u786e\u5b9e\u663e\u793a\u65f6\u95f4\u66f4\u6539\u4e86\uff0c</p> <pre><code>$ git log\ncommit XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\nAuthor: XXX\nDate:   Tue Apr 13 23:59:49 2021 +0800\n</code></pre> <p>\u4f46\u662f force push \u5230 github \u4e0a\u65f6\u4ecd\u7136\u662f\u5f53\u524d\u7684\u65f6\u95f4\u3002\u8fd9\u65f6\u624d\u610f\u8bc6\u5230\u6709\u6240\u8c13\u7684 GIT_AUTHOR_DATE \u548c GIT_COMMITTER_DATE \u4e4b\u5206\uff0c\u901a\u8fc7\u52a0\u4e0a <code>--pretty=fuller</code> \u53ef\u4ee5\u770b\u5230 committer \u53ca\u5176 date (refer to How to configure \u2018git log\u2019 to show \u2018commit date\u2019)</p> <pre><code>$ git log --pretty=fuller\ncommit XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\nAuthor: XXX\nAuthorDate: Tue Apr 13 23:59:49 2021 +0800\nCommit: XXX\nCommitDate: Tue Apr 13 23:59:08 2021 +0800\n</code></pre> <p>\u6240\u4ee5\u4fee\u6539\u5b8c author date \u4e4b\u540e\uff0c\u4ecd\u7136\u91c7\u7528\u7b28\u529e\u6cd5\u56de\u62e8\u7cfb\u7edf\u65f6\u95f4\u518d\u63d0\u4ea4\uff0c\u8fd9\u6837\u5c31\u80fd\u4fee\u6539 commit date\uff0c\u4e8e\u662f\u4fbf\u51fa\u73b0\u4e86\u4e0a\u9762 commit date \u7adf\u7136\u6bd4 author date \u65e9\u7684\u7ed3\u679c\u3002\u5f53\u7136\u66f4\u76f4\u63a5\u7684\u505a\u6cd5\u662f\u76f4\u63a5\u5728\u547d\u4ee4\u884c commit \u65f6\u540c\u65f6\u6307\u5b9a\u8fd9\u4e24\u4e2a\u65f6\u95f4\uff0c</p> <pre><code>$ GIT_AUTHOR_DATE=$(date -d \"-10 days - 8 hours\") GIT_COMMITTER_DATE=$GIT_AUTHOR_DATE git commit -m \"XXXX\"\n</code></pre> <p>\u5728\u672c\u673a\u4e0a\uff0c <code>date</code> \u9ed8\u8ba4\u8f93\u51fa\u683c\u5f0f\u4e3a</p> <pre><code>$ date -d \"-10 days - 8 hours\"\nMon May 24 12:17:17 CST 2021\n</code></pre> <p>\u5176\u4e2d <code>CST</code> \u4e3a China Standard Time (UTC+0800)\uff0c\u7136\u800c\uff0cCentral Standard Time (UTC-06:00) \u7f29\u5199\u4e5f\u662f <code>CST</code>\uff0c\u53e6\u5916 Cuba Standard Time (UTC-05:00) \u4e5f\u4e3a\u540c\u4e00\u7f29\u5199\uff0c\u8be6\u89c1 \u3002 \u5927\u6982\u57fa\u4e8e\u6b64\uff0c\u4e0a\u8ff0\u65f6\u95f4\u88ab\u8bc6\u522b\u4e3a\u4e86 UTC-0600,</p> <pre><code>$ git log --pretty=fuller\nAuthor:     szcf-weiya &lt;your@email&gt;\nAuthorDate: Mon May 24 12:18:06 2021 -0600\nCommit:     szcf-weiya &lt;your@email&gt;\nCommitDate: Mon May 24 12:18:06 2021 -0600\n</code></pre> <p>\u4e3a\u4e86\u907f\u514d\u6b67\u4e49\uff0c\u52a0\u5165\u9009\u9879 <code>-Iseconds</code> \u6307\u5b9a\u4e3a ISO-8601 \u683c\u5f0f\uff0c\u5e76\u7cbe\u786e\u81f3 <code>seconds</code>.</p> <pre><code>$ GIT_AUTHOR_DATE=$(date -d \"- 8 hours\" -Iseconds) GIT_COMMITTER_DATE=$GIT_AUTHOR_DATE git commit -m \"XXX\"\n$ git log --pretty=fuller\nAuthor:     szcf-weiya &lt;your@email&gt;\nAuthorDate: Mon May 24 12:27:06 2021 +0800\nCommit:     szcf-weiya &lt;your@email&gt;\nCommitDate: Mon May 24 12:27:06 2021 +0800\n</code></pre> <p>\u53e6\u5916\uff0c<code>GIT_**_DATE</code> \u652f\u6301\u7684\u65e5\u671f\u683c\u5f0f\u8be6\u89c1 <code>man git-commit</code>.</p> <ul> <li>How can one change the timestamp of an old commit in Git?</li> <li>How do I make a Git commit in the past?</li> </ul>"},{"location":"Git/#change-date-of-an-older-commit","title":"change date of an older commit","text":"<p>TL; DR</p> <p>Avoid to use, let it go.</p> <p>Warning</p> <p>Try to test <pre><code>$ git filter-branch --env-filter 'if [ $GIT_COMMIT == 4fae3c78eac6230ee53082654aaf58ab79fbddc5 ]; then echo $GIT_AUTHOR_DATE; fi'\nRewrite 4f479f96d4672aaf11f800306b10bb95e83071fd (1/21) (0 seconds passed, remaining 0 predicted)    /usr/lib/git-core/git-filter-branch: 1: [: 4f479f96d4672aaf11f800306b10bb95e83071fd: unexpected operator\n...\n</code></pre> which overwrites all commit hashes.</p> <p>I want to update the commit date of an historical commit, where there are 3 more recent commits. Following How can one change the timestamp of an old commit in Git?,</p> <pre><code>$ git rebase -i e5c9f\n</code></pre> <p>the mark the commit to be edited, not that <code>e5c9f</code> is the one before the commit to be edited,</p> <p>after saving, </p> <pre><code>$ git rebase -i e5c9f\nStopped at 4fae3c7...  XXXXXXXXXXXXXXXXXXXXXXXXXXX\nYou can amend the commit now, with\n\n  git commit --amend '-S'\n\nOnce you are satisfied with your changes, run\n\n  git rebase --continue\n</code></pre> <p>then change the date via</p> <pre><code>$ GIT_AUTHOR_DATE=$(date -d \"2021-07-11T23:58:48+0800\" -Iseconds) GIT_COMMITTER_DATE=$GIT_AUTHOR_DATE git commit --amend --no-edit --reset-author [detached HEAD e1e1cec] XXXXXXXXXXXXXXXXXXXXXXXXXXX\n</code></pre> <p>note that the hash has been updated, then run</p> <pre><code>$ git rebase --continue\nSuccessfully rebased and updated refs/heads/master.\n</code></pre> <p>Now the status is</p> <pre><code>$ git status\nOn branch master\nYour branch and 'origin/master' have diverged,\nand have 4 and 4 different commits each, respectively.\n  (use \"git pull\" to merge the remote branch into yours)\n</code></pre> <p>Then just type <code>git pull</code>, but I immediately realized that do not use <code>git pull</code> since it will introduce 4 more commits, together with the merge one. Note that</p> <pre><code>$ git reflog \n1f4ff92 (HEAD -&gt; master) HEAD@{0}: pull: Merge made by the 'recursive' strategy.\nf8ea37c HEAD@{1}: rebase -i (finish): returning to refs/heads/master\nf8ea37c HEAD@{2}: rebase -i (pick): XXXXXXXX\n59b6935 HEAD@{3}: rebase -i (pick): XXXXXXXX\nb849915 HEAD@{4}: rebase -i (pick): XXXXXXXX\n</code></pre> <p>then go back to </p> <pre><code>$ git reset HEAD@{1}\n$ git status\nOn branch master\nYour branch and 'origin/master' have diverged,\nand have 4 and 4 different commits each, respectively.\n  (use \"git pull\" to merge the remote branch into yours)\n</code></pre> <p>then run</p> <pre><code>$ git push --force-with-lease\n</code></pre> <p>However, although the author date indeed has updated, the commit date points to the current date. </p>"},{"location":"Git/#temporary-commits-stash","title":"TEMPORARY COMMITS: <code>stash</code>","text":"<p>Temporarily store modified, tracked files in order to change branches.</p> <pre><code>git stash # Save modified and staged changes\ngit stash list # list stack-order of stashed file changes\ngit stash pop # write working from top of stash stack\ngit stash drop # discard the changes from top of stash stack\n</code></pre> <ul> <li>git pull without git add them: </li> </ul> <pre><code>git stash\ngit pull\ngit stash apply\n</code></pre> <ul> <li>an application</li> </ul>"},{"location":"Git/#merge-merge","title":"MERGE: <code>merge</code>","text":""},{"location":"Git/#manually-resolve-merge-conflicts","title":"manually resolve merge conflicts","text":"<ol> <li>open the file and edit</li> <li>git add</li> <li>git commit</li> </ol> <p>refer to How do I finish the merge after resolving my merge conflicts?</p>"},{"location":"Git/#gitignore","title":"<code>.gitignore</code>","text":""},{"location":"Git/#track","title":"\u5ffd\u7565\u5df2 track \u7684\u6587\u4ef6","text":"<p><code>.gitignore</code> \u53ea\u80fd\u5ffd\u7565\u90a3\u4e9b\u539f\u6765\u6ca1\u6709\u88ab track \u7684\u6587\u4ef6\uff0c\u5982\u679c\u67d0\u4e9b\u6587\u4ef6\u5df2\u7ecf\u88ab\u7eb3\u5165\u4e86\u7248\u672c\u7ba1\u7406\u4e2d\uff0c\u5219\u4fee\u6539 <code>.gitignore</code> \u662f\u65e0\u6548\u7684\u3002\u90a3\u4e48\u89e3\u51b3\u65b9\u6cd5\u5c31\u662f\u5148\u628a\u672c\u5730\u7f13\u5b58\u5220\u9664\uff08\u6539\u53d8\u6210\u672atrack\u72b6\u6001\uff09\uff0c\u7136\u540e\u518d\u63d0\u4ea4\uff1a</p> <pre><code>git rm -r --cached foo.txt\ngit add .\ngit commit -m 'update .gitignore'\n</code></pre> <p>see also: apply <code>.gitignore</code> to committed files</p>"},{"location":"Git/#pull-pull","title":"PULL: <code>pull</code>","text":""},{"location":"Git/#in-rstudio","title":"in rstudio","text":"<p>\u5728\u4f7f\u7528rstudio\u7684git\u529f\u80fd\u65f6\uff0c\u67d0\u6b21commit\u7684\u65f6\u5019\uff0c\u52fe\u9009\u4e86amend previous commit\uff0c\u7136\u540epush\u7684\u65f6\u5019\u5c31\u51fa\u9519\u4e86</p> <p></p> <p>\u540e\u6765\u76f4\u63a5\u8fd0\u884c<code>git pull</code>\u540e\uff0c\u91cd\u65b0push\uff0c\u4fbf\u89e3\u51b3\u4e86\u95ee\u9898\u3002</p> <p>\u9644\u4e0agit pull\u7684\u67d0\u7bc7\u535a\u5ba2git pull\u547d\u4ee4</p>"},{"location":"Git/#webhook","title":"Webhook\u914d\u7f6e","text":"<p>\u53c2\u8003Webhook \u5b9e\u8df5 \u2014\u2014 \u81ea\u52a8\u90e8\u7f72</p> <p>\u9700\u8981\u5728\u817e\u8baf\u4e91\u670d\u52a1\u5668\u4e0a\u81ea\u52a8\u66f4\u65b0github pages\u7684\u5185\u5bb9\uff0c\u4e8e\u662f\u91c7\u7528webhook\u6765\u5b9e\u73b0\u3002</p> <pre><code>npm install -g forever\nforever start server.js\n</code></pre>"},{"location":"Git/#webhooks-push","title":"webhooks \u54cd\u5e94\u7279\u5b9a\u5206\u652f\u7684 push","text":"<p>\u53c2\u8003Web Hooks - execute only for specified branches #1176@rtripault</p> <p>\u63d0\u53d6 json \u4e2d\u7684 <code>ref</code>\uff0c\u5728 <code>do_POST()</code> \u4e2d\u8fdb\u884c\u8bbe\u7f6e\u54cd\u5e94\u52a8\u4f5c\u3002</p>"},{"location":"Git/#checkout-checkout","title":"CHECKOUT: <code>checkout</code>","text":"<ul> <li>\u64a4\u9500\u672a\u88ab add \u7684\u6587\u4ef6</li> </ul> <pre><code>git checkout -- file\n</code></pre> <ul> <li>\u64a4\u9500\u6240\u6709\u66f4\u6539</li> </ul> <pre><code>git checkout -- .\n</code></pre> <p>\u53c2\u8003git checkout all the files</p> <ul> <li>\u4ece\u5176\u4ed6\u5206\u652f\u66f4\u65b0\u6587\u4ef6</li> </ul> <pre><code>git checkout master -- SOMEFILE\n</code></pre> <p>\u53c2\u8003 Quick tip: git-checkout specific files from another branch</p>"},{"location":"Git/#rewrite","title":"rewrite \u65f6\u767e\u5206\u6bd4\u7684\u542b\u4e49","text":"<p>\u8868\u793a\u76f8\u4f3c\u6027\u3002</p> <p>\u53c2\u8003What does the message \u201crewrite \u2026 (90%)\u201d after a git commit mean? [duplicate]</p>"},{"location":"Git/#travis-ci","title":"Travis CI","text":"<p>\u4e2d\u6587\u6298\u817e\u4e3a\u4ec0\u4e48 Travis CI \u4e2d\u7528 \u2018*\u2019 \u53f7\u4e0d\u4f1a\u4e0a\u4f20\u6587\u4ef6\uff0c\u6700\u540e\u8fd8\u662f\u6307\u5b9a\u4e86\u6587\u4ef6\u540d\u3002</p> <p>\u521a\u521a\u627e\u5230\u89e3\u51b3\u65b9\u6848 How to deploy to github with file pattern on travis?</p> <p>\u7b80\u5355\u8bf4\u8981\u52a0\u4e0a</p> <pre><code>file_glob: true\n</code></pre>"},{"location":"Git/#_2","title":"\u5217\u51fa\u53e6\u4e00\u5206\u652f\u7684\u76ee\u5f55","text":"<pre><code>git ls-tree master:dirname\n</code></pre>"},{"location":"Git/#cannot-lock-ref","title":"cannot lock ref","text":"<p>\u53c2\u8003 git pull\u65f6\u9047\u5230error: cannot lock ref \u2018xxx\u2019: ref xxx is at \uff08\u4e00\u4e2acommitID\uff09 but expected\u7684\u89e3\u51b3\u529e\u6cd5</p> <p>\u53e6\u5916\u8bd5\u8bd5 <code>git gc</code></p> <p>\u53c2\u8003</p> <ol> <li>Git and nasty \u201cerror: cannot lock existing info/refs fatal</li> </ol>"},{"location":"Git/#crlf-lf","title":"<code>CRLF</code> &amp; <code>LF</code>","text":"<p>\u53cc\u7cfb\u7edf\u5207\u6362\u65f6\uff0c\u539f\u5148\u5728 Win \u5904\u7406\uff0c\u540e\u6765\u6362\u5230 Linux \u5904\u7406\uff0c\u62a5\u51fa</p> <pre><code>CRLF will be replaced by LF.\n</code></pre> <p>\u8bbe\u7f6e <code>autocrlf</code> \u914d\u7f6e\u9879\uff1a</p> <ul> <li>false \u8868\u793a\u53d6\u6d88\u81ea\u52a8\u8f6c\u6362\u529f\u80fd\u3002\u9002\u5408\u7eaf Windows</li> <li>true \u8868\u793a\u63d0\u4ea4\u4ee3\u7801\u65f6\u628a CRLF \u8f6c\u6362\u6210 LF\uff0c\u7b7e\u51fa\u65f6 LF \u8f6c\u6362\u6210 CRLF\u3002\u9002\u5408\u591a\u5e73\u53f0\u534f\u4f5c</li> <li>input \u8868\u793a\u63d0\u4ea4\u65f6\u628a CRLF \u8f6c\u6362\u6210 LF\uff0c\u68c0\u51fa\u65f6\u4e0d\u8f6c\u6362\u3002\u9002\u5408\u7eaf Linux \u6216 Mac</li> </ul> <p>\u53c2\u8003 Git \u591a\u5e73\u53f0\u6362\u884c\u7b26\u95ee\u9898(LF or CRLF)</p>"},{"location":"Git/#alias","title":"alias","text":"<p>\u672c\u6765\u60f3\u540c\u65f6\u5728\u4e00\u884c\u547d\u4ee4\u4e2d\u8fd0\u884c <code>git add .</code> \u548c <code>git commit -m</code>\uff0c\u4f46\u662f\u5982\u679c\u91c7\u7528 <code>;</code> \u6216\u8005 <code>&amp;&amp;</code> \u8fde\u63a5\u65f6\u90fd\u62a5\u9519\uff0c</p> <p>error: unknown switch `m\u2019</p> <p>\u987a\u5e26\u53d1\u73b0\u4e86 <code>;</code> \u548c <code>&amp;&amp;</code> \u4ee5\u53ca <code>||</code> \u7684\u533a\u522b\uff0c\u8be6\u89c1 Run multiple commands in one line with <code>;</code>, <code>&amp;&amp;</code> and <code>||</code> - Linux Tips</p> <ul> <li><code>;</code>: \u65e0\u8bba\u7b2c\u4e00\u4e2a\u547d\u4ee4\u6210\u529f\u4e0e\u5426\uff0c\u90fd\u4f1a\u8fd0\u884c\u7b2c\u4e8c\u4e2a\u547d\u4ee4</li> <li><code>&amp;&amp;</code>: \u53ea\u6709\u5f53\u7b2c\u4e00\u4e2a\u547d\u4ee4\u6210\u529f\u8fd0\u884c\uff0c\u624d\u4f1a\u8fd0\u884c\u7b2c\u4e8c\u4e2a\u547d\u4ee4</li> <li><code>||</code>: \u53ea\u6709\u5f53\u7b2c\u4e00\u4e2a\u547d\u4ee4\u5931\u8d25\u540e\uff0c\u624d\u4f1a\u8fd0\u884c\u7b2c\u4e8c\u4e2a\u547d\u4ee4</li> </ul> <p>\u540e\u6765\u53d1\u73b0\u8fd9\u4e2a\uff0cGit add and commit in one command\uff0c\u53ef\u4ee5\u901a\u8fc7 <code>git config</code> \u6765\u914d\u7f6e alias\uff0c</p> <p>git config \u2013global alias.add-commit \u2018!git add -A &amp;&amp; git commit\u2019</p> <p>\u5219\u4ee5\u540e\u53ea\u9700\u8981\u8c03\u7528</p> <p>git add-commit -m \u2018My commit message\u2019</p> <p>\u8fd9\u8ddf\u5728 <code>.bashrc</code> \u4e2d\u914d\u7f6e\u6709\u5f02\u66f2\u540c\u5de5\u4e4b\u5999\uff01</p>"},{"location":"Git/#_3","title":"\u6807\u7b7e","text":"<ul> <li>\u6253\u6807\u7b7e</li> </ul> <pre><code># annotated\ngit tag -a v1.0 -m \"version 1\"\n# lightweight\ngit tag v1.0\n# push to github\ngit push origin v1.0\n# or\ngit push origin --tags\n</code></pre> <p>\u8be6\u89c1 2.6 Git \u57fa\u7840 - \u6253\u6807\u7b7e</p> <ul> <li>\u5220\u9664\u6807\u7b7e</li> </ul> <pre><code># local\ngit tag -d v1.0\n# github\ngit push origin :refs/tags/v1.0\n</code></pre> <p>\u8be6\u89c1 mobilemind/git-tag-delete-local-and-remote.sh</p>"},{"location":"Git/#diff-diff","title":"DIFF: <code>diff</code>","text":""},{"location":"Git/#color-in-git-diff","title":"color in git diff","text":"<p>\u5728\u670d\u52a1\u5668\u4e0a\u4f7f\u7528 <code>git diff</code>\uff0c\u6ca1\u6709\u50cf\u5728\u672c\u5730 Ubuntu \u90a3\u6837\u7528\u989c\u8272\u9ad8\u4eae\u51fa\u4e0d\u540c\u7684\u5730\u65b9\uff0c\u8fd9\u4e2a\u53ef\u4ee5\u901a\u8fc7\u5728 <code>~/.gitconfig</code> \u4e2d\u8fdb\u884c\u914d\u7f6e\uff0c</p> <pre><code>[color]\ndiff = auto\n  status = auto\n  branch = auto\n  interactive = auto\n  ui = true\npager = true\n</code></pre> <p>\u53c2\u8003 How to colorize output of git?</p> <p>\u987a\u5e26\u53d1\u73b0\uff0c\u5982\u679c\u5728 markdown \u4e2d\u590d\u5236 git diff \u7684 output\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>diff</code> \u7684\u4ee3\u7801\u5757\uff0c\u4f1a\u5c06\u66f4\u6539\u7684\u90e8\u5206\u9ad8\u4eae\u51fa\u6765\u3002</p>"},{"location":"Git/#color-different-words","title":"color different words","text":"<p>by default, the differences are shown per sentences, add option <code>--color-words</code> would only highlight the modified words</p>"},{"location":"Git/#compare-two-files-not-indexed-by-git","title":"compare two files not indexed by git","text":"<p>use option <code>--no-index</code></p>"},{"location":"Git/#show-line-ending-changes","title":"show line ending changes","text":"<pre><code>git diff --color --word-diff-regex=.\n</code></pre> <p>which highlights all whitespace changes everywhere in lines.</p> <p>see also: </p>"},{"location":"Git/#_4","title":"\u516c\u5f00\u79c1\u6709\u4ed3\u5e93\u7684\u90e8\u5206\u4ee3\u7801","text":"<p>\u53ef\u80fd\u7684\u89e3\u51b3\u65b9\u6848\uff1a</p> <ul> <li>\u65b0\u5efa\u4e00\u4e2a branch\uff0c\u4ee5\u5907\u516c\u5f00<ul> <li>public branch on private repo? a discussion</li> <li>\u624b\u52a8\u79fb\u52a8</li> <li>\u5982\u679c\u53ea\u6709\u5c0f\u90e8\u5206\u7684\u4ee3\u7801\u9700\u8981\u516c\u5f00\uff0c\u5219\u8fd9\u6837\u5728\u65b0 branch \u4e0a\u9762\u9700\u8981\u5220\u6389\u8fc7\u591a\u65e0\u5173\u7684\u6587\u4ef6\u5939\u3002</li> </ul> </li> <li>\u4ee5 release \u5f62\u5f0f\u53d1\u5e03\uff0c\u5e76\u4e0d\u521b\u5efa\u65b0\u4ed3\u5e93<ul> <li>\u901a\u8fc7\u811a\u672c\u6253\u5305\u9700\u8981\u516c\u5f00\u7684\u4ee3\u7801</li> </ul> </li> </ul>"},{"location":"Git/#submodule","title":"Submodule","text":"<pre><code>~/github/techNotes/docs$ git submodule add git@github.com:szcf-weiya/TFnotes.git\n</code></pre>"},{"location":"Internet/","title":"\u7f51\u7edc\u8fde\u63a5\u76f8\u5173\u95ee\u9898","text":""},{"location":"Internet/#tcp-vs-udp","title":"TCP vs UDP","text":"<ul> <li>TCP/IP \u662f\u4e92\u8054\u7f51\u76f8\u5173\u7684\u5404\u7c7b\u534f\u8bae\u65cf\u7684\u603b\u79f0\uff0c\u6bd4\u5982\uff1aTCP\uff0cUDP\uff0cIP\uff0cFTP\uff0cHTTP\uff0cICMP\uff0cSMTP \u7b49\u90fd\u5c5e\u4e8e TCP/IP \u65cf\u5185\u7684\u534f\u8bae\u3002</li> <li>TCP/IP\u6a21\u578b\u662f\u4e92\u8054\u7f51\u7684\u57fa\u7840\uff0c\u5b83\u662f\u4e00\u7cfb\u5217\u7f51\u7edc\u534f\u8bae\u7684\u603b\u79f0\u3002\u8fd9\u4e9b\u534f\u8bae\u53ef\u4ee5\u5212\u5206\u4e3a\u56db\u5c42\uff0c\u5206\u522b\u4e3a\u94fe\u8def\u5c42\u3001\u7f51\u7edc\u5c42\u3001\u4f20\u8f93\u5c42\u548c\u5e94\u7528\u5c42\u3002</li> </ul> <p>refer to \u4e00\u6587\u641e\u61c2TCP\u4e0eUDP\u7684\u533a\u522b</p>"},{"location":"Internet/#cache","title":"Cache","text":""},{"location":"Internet/#http-cache","title":"HTTP Cache","text":"<p>source: \u7f13\u5b58\uff08\u4e00\uff09\u2014\u2014\u7f13\u5b58\u603b\u89c8\uff1a\u4ece\u6027\u80fd\u4f18\u5316\u7684\u89d2\u5ea6\u770b\u7f13\u5b58</p> <p></p> <p>source: \u7f13\u5b58\uff08\u4e8c\uff09\u2014\u2014\u6d4f\u89c8\u5668\u7f13\u5b58\u673a\u5236\uff1a\u5f3a\u7f13\u5b58\u3001\u534f\u5546\u7f13\u5b58</p> <p>a simpler version refer to \u52a8\u753b\uff1a\u6df1\u5165\u6d45\u51fa\u4ece\u6839\u4e0a\u7406\u89e3 HTTP \u7f13\u5b58\u673a\u5236\u53ca\u539f\u7406</p>"},{"location":"Internet/#cdn-cache","title":"CDN Cache","text":"<p>source: \u77e5\u4e4e\uff1ahttp\u7f13\u5b58\u4e0ecdn\u7f13\u5b58\u914d\u7f6e\u6307\u5357</p>"},{"location":"Internet/#_2","title":"\u6709\u7ebf\u8fde\u4e0d\u4e0a","text":"<p>\u624b\u52a8\u8bbe\u7f6eip IPv4 settings</p> <p>Address: 10.71.115.59 Netmask: 24 Gateway: 10.71.115.254 DNS server: 10.10.0.21</p> <pre><code>sudo su\nifconfig enp0s31f6 up\nifconfig enp0s31f6 10.71.115.59 netmask 255.255.255.0 up\nping 10.71.115.254\nroute add default gw 10.71.115.254 enp0s31f6\nping 10.71.45.100\n</code></pre> <p>see also </p>"},{"location":"Internet/#ifconfig","title":"ifconfig","text":"<p><code>ifconfig</code> is a command line tool for diagnosing and configuring network interfaces (software interfaces to networking hardware). </p> <p>Two types of network interfaces:</p> <ul> <li>physical: represent an actual network hardware device such as network interface controller (NIC), e.g., <code>eth0</code> represents Ethernet network card (Note:  the current names follow the predictable network interface naming, such as <code>enp0s1f6</code>, which consists of the physical position in the pic system, refer to Why is my network interface named enp0s25 instead of eth0?)</li> <li>virtual:<ul> <li>loopback</li> <li>bridges</li> <li>VLANs</li> <li>tunnel interfaces</li> <li>\u2026</li> </ul> </li> </ul> <p>Here is the output of <code>ifconfig</code> on my T460p,</p> <pre><code>$ ifconfig\ndocker0: flags=4099&lt;UP,BROADCAST,MULTICAST&gt;  mtu 1500\ninet 172.17.0.1  netmask 255.255.0.0  broadcast 172.17.255.255\n        ether 02:42:22:d9:b6:b0  txqueuelen 0  (Ethernet)\nRX packets 0  bytes 0 (0.0 B)\nRX errors 0  dropped 0  overruns 0  frame 0\nTX packets 0  bytes 0 (0.0 B)\nTX errors 0  dropped 0 overruns 0  carrier 0  collisions 0\n\nenp0s31f6: flags=4099&lt;UP,BROADCAST,MULTICAST&gt;  mtu 1500\nether 50:7b:9d:bd:4a:3b  txqueuelen 1000  (Ethernet)\nRX packets 0  bytes 0 (0.0 B)\nRX errors 0  dropped 0  overruns 0  frame 0\nTX packets 0  bytes 0 (0.0 B)\nTX errors 0  dropped 0 overruns 0  carrier 0  collisions 0\ndevice interrupt 16  memory 0xf2200000-f2220000  \n\nlo: flags=73&lt;UP,LOOPBACK,RUNNING&gt;  mtu 65536\ninet 127.0.0.1  netmask 255.0.0.0\n        inet6 ::1  prefixlen 128  scopeid 0x10&lt;host&gt;\n        loop  txqueuelen 1000  (Local Loopback)\nRX packets 1525364  bytes 4323602450 (4.3 GB)\nRX errors 0  dropped 0  overruns 0  frame 0\nTX packets 1525364  bytes 4323602450 (4.3 GB)\nTX errors 0  dropped 0 overruns 0  carrier 0  collisions 0\n\nwlp3s0: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500\ninet 10.13.59.193  netmask 255.255.128.0  broadcast 10.13.127.255\n        inet6 fe80::def:d34:a2c:da88  prefixlen 64  scopeid 0x20&lt;link&gt;\n        ether a4:34:d9:e8:9a:bd  txqueuelen 1000  (Ethernet)\nRX packets 19688705  bytes 18661301186 (18.6 GB)\nRX errors 0  dropped 0  overruns 0  frame 0\nTX packets 17848834  bytes 23268449705 (23.2 GB)\nTX errors 0  dropped 0 overruns 0  carrier 0  collisions 0\n</code></pre> <p>where</p> <ul> <li><code>lo</code> is a special virtual network interface called loopback device. Loopback is used mainly for diagnostics and trobuleshooting, and to connect to services running on local host</li> <li><code>docker0</code> is a virtual bridge interface created by Docker. This bridge creates a separate network for docker containers and allows them to communicate with each other.</li> <li>flag<ul> <li><code>UP</code>: kernel modules related to the interface have been loaded and interface is activated.</li> <li><code>BROADCAST</code>: interface is configured to handle broadcast packets, which is required for obtaining IP address via DHCP</li> <li><code>RUNNING</code>: the interface is ready to accept data</li> <li><code>MULTICAST</code>: the interface supports multicasting</li> </ul> </li> <li><code>MTU</code>: maximum transmission unit. see also WIKI</li> <li><code>RX packets</code>: total number of packets received</li> <li><code>TX packets</code>: total number of packets transmitted</li> </ul> <p>Refer to Demystifying ifconfig and network interfaces in Linux, note that some field names are different, such as MAC address, <code>ether</code> vs <code>HWaddr</code>, see also the discussion CentOS 7 - Networking Support: Changing ether to hwaddr</p> <p>Reboot with</p> <pre><code>sudo ifconfig enp0s31f6 down\nsudo ifconfig enp0s31f6 up\n</code></pre> <p>and if necessary, re-install the wifi kernel with</p> <pre><code>sudo apt-get install bcmwl-kernel-source\n</code></pre> <p>see also .</p>"},{"location":"Internet/#cdn","title":"CDN\u6298\u817e\u8bb0\u5f55","text":"<p>\u7a81\u7136\u60f3\u5230\u8981\u600e\u4e48\u8bbe\u7f6e\u5b50\u57df\u540d\uff0c\u4e00\u5f00\u59cb\u8fd8\u4ee5\u4e3a\u9700\u8981\u518d\u6b21\u8d2d\u4e70\uff0c\u539f\u6765\u5e76\u975e\u5982\u6b64\uff0c\u53ea\u9700\u8981\u6dfb\u52a0\u89e3\u6790\u5373\u53ef\u3002\u5177\u4f53\u8bbe\u7f6e\u5b50\u57df\u540d\u548c\u6dfb\u52a0\u89e3\u6790\u7684\u65b9\u6cd5\u53ef\u4ee5\u53c2\u8003github\u63d0\u4f9b\u7684\u5e2e\u52a9\u6587\u6863\u3002</p> <p>\u82b1\u4e86\u51e0\u4e2a\u5c0f\u65f6\u6298\u817e\u5b8c\u8fd9\u4e2a\uff0c\u7a81\u7136\u53c8\u60f3\u5b9e\u73b0https \u8bbf\u95ee\uff0c\u76f4\u63a5\u767e\u5ea6\u201cgithub pages https\u201d\u4fbf\u6709\u51e0\u7bc7\u6587\u6863\uff0c\u90fd\u8c08\u5230\u4e86cloudflare\uff0c\u6ce8\u518c\u4e4b\u540e\u53ef\u4ee5\u4eab\u53d7\u514d\u8d39\u7248\u672c\u7684CDN\u670d\u52a1\u3002\u4e00\u5f00\u59cb\u6211\u4e5f\u4e0d\u6e05\u695aCDN\u5230\u5e95\u662f\u4ec0\u4e48\uff0c\u5c31\u76f4\u63a5\u6309\u7167\u7f51\u4e0a\u7684\u6559\u7a0b\u8d70</p> <pre><code>1. \u6ce8\u518ccloudflare\n2. \u6dfb\u52a0\u81ea\u5df1\u7684\u7f51\u7ad9\n3. \u5c06DNS\u670d\u52a1\u5668\u6539\u4e3acloudflare\u4e0a\u8981\u6c42\u7684\uff0c\u6bd4\u5982\u5728\u963f\u91cc\u4e91\u7684\u57df\u540d\u7ba1\u7406\u754c\u9762\uff0c\u5c06\u4e07\u7f51\u670d\u52a1\u5668\u6362\u6389\u3002\n</code></pre> <p>\u8bbe\u7f6e\u5b8c\u8fd9\u4e9b\u4e4b\u540e\uff0c\u6211\u4e5f\u6e05\u695a\u53ef\u80fd\u4e0d\u4f1a\u7406\u89e3\u751f\u6548\uff0c\u4f46\u4e5f\u60f3\u5c3d\u5feb\u770b\u770b\u6548\u679c\u600e\u4e48\u6837\uff0c\u4e8e\u662f\u641c\u7d22\u201c\u66f4\u65b0dns\u7f13\u5b58\u201d\u7684\u8d44\u6599\uff0c\u5c3d\u7ba1\u6309\u7167\u6559\u7a0b\u8d70\u4e86\u4e00\u904d\uff0c\u4f46\u662fdns\u8fd8\u662f\u6ca1\u6709\u66f4\u65b0\u8fc7\u6765\uff0c\u901a\u8fc7 <pre><code>dig hohoweiya.xyz +noall +answer\n</code></pre> \u8fd4\u56de\u7684\u7ed3\u679c\u4ecd\u7136\u4e3a\u672a\u6dfb\u52a0cloudflare\u65f6\u7684\u4fe1\u606f\u3002\u540c\u65f6\u8bbf\u95eehohoweiya.xyz\u5e76\u6ca1\u6709\u4f20\u8bf4\u4e2d\u7684https\u51fa\u73b0\uff0c\u53c8\u90c1\u95f7\u4e86\u5f88\u4e45\u3002</p> <p>\u5728\u67d0\u4e00\u523b\uff0c\u7a81\u7136\u53d1\u73b0\u5728firefox\u6d4f\u89c8\u5668\u4e2d\u8bbf\u95ee\u65f6\u81ea\u52a8\u8df3\u8f6c\u5230\u4e86https\uff0c\u7136\u800c\u5728chrome\u4e2d\u4f9d\u7136\u4e3ahttp\uff0c\u7136\u540e\u6211\u5f3a\u5236\u5728\u5730\u5740\u680f\u4e2d\u52a0\u5165https\uff0c\u6253\u5f00\u5f00\u53d1\u8005\u6a21\u5f0f\uff0c\u8bf4\u6709\u6df7\u5408\u7684\u9519\u8bef\uff0c\u8c03\u7528\u4e86http\u7684\u8d44\u6e90\uff0c\u4e8e\u662f\u6211\u53c8\u4fbf\u53bb\u6539\u4e86\u7f51\u7ad9\u7684\u8d44\u6e90\u5730\u5740\uff0c\u5c06http\u7684\u8d44\u6e90\u6539\u4e3ahttps\u7684\u3002\u76f4\u5230\u67d0\u4e00\u523b\u624d\u6e05\u9192\u8fc7\u6765\uff0c\u539f\u6765\u6211\u7684firefox\u5f00\u4e86\u81ea\u52a8\u4ee3\u7406\uff0c\u4e4b\u6240\u4ee5\u80fd\u591f\u7528https\u8bbf\u95ee\u662f\u56e0\u4e3a\u6211\u662f\u901a\u8fc7\u4ee3\u7406\u8bbf\u95ee\u7684\uff0c\u53bb\u6389\u4ee3\u7406\u540e\uff0c\u5728Firefox\u4e2d\u4e5f\u662fhttp\uff0c\u5373\u4f7f\u5f3a\u884c\u6dfb\u52a0https\u4e5f\u4f1a\u62a5warning\u3002</p> <p>\u540e\u6765\uff0c\u89c9\u5f97\u53ef\u80fd\u662f\u6821\u56ed\u7f51\u7684\u539f\u56e0\uff0c\u5bfc\u81f4dns\u8fd8\u6ca1\u6709\u66f4\u65b0\u8fc7\u6765\uff0c\u4e8e\u662f\u5728\u670d\u52a1\u5668\u4e0aping\u4e86\u57df\u540d\u5730\u5740\uff0c\u5df2\u7ecf\u663e\u793a\u4e3acloudflare\u63d0\u4f9b\u7684ip\u4e86\u3002\u6b64\u65f6\uff0c\u4e5f\u901a\u8fc7\u4e86www.ping.chinaz.com \u8fdb\u884c\u4e86\u6d4b\u8bd5\uff0c\u8868\u660ecloudflare\u5df2\u7ecf\u6dfb\u52a0\u6210\u529f\u4e86\uff0c\u53ea\u662f\u672c\u5730\u8fdf\u8fdf\u4e0d\u80fd\u591f\u8bbf\u95ee\u3002</p> <p>\u5e76\u4e14\uff0c\u901a\u8fc7\u624b\u673a\u4e5f\u662f\u80fd\u591f\u901a\u8fc7https\u8bbf\u95ee\u7684\uff0c\u4e8e\u662f\u6211\u505a\u4e86\u4e00\u4e2a\u8bd5\u9a8c\uff0c\u5f00\u542f\u624b\u673a\u7684\u70ed\u70b9\uff0c\u8ba9\u7535\u8111\u901a\u8fc7\u624b\u673a\u4e0a\u7f51\uff0c\u8fd9\u65f6\u5019\u65e0\u8bba\u662fping\u8fd8\u662fdig\u90fd\u8fd4\u56de\u51fa\u4e86cloudflare\u7684ip\uff0c\u800c\u4e14\u6b64\u65f6\u8bbf\u95eehohoweiya.xyz\u5df2\u7ecf\u81ea\u52a8\u4e3ahttps\u4e86\u3002</p> <p>\u5230\u73b0\u5728\uff0c\u539f\u56e0\u5df2\u7ecf\u5f88\u663e\u7136\u4e86\uff0c\u56e0\u4e3a\u6821\u56ed\u7f51\u662f\u901a\u8fc7\u7535\u4fe1\u7684\uff0c\u4e0d\u540c\u8fd0\u8425\u5546\u66f4\u65b0dns\u7684\u65f6\u95f4\u53ef\u80fd\u5b58\u5728\u5dee\u5f02\uff0c\u5bfc\u81f4\u4e00\u5f00\u59cb\u5728\u6821\u56ed\u7f51\u4e0a\u8bbf\u95ee\u7f51\u5740\u4e0d\u80fd\u901a\u8fc7https\uff0c\u4ee5\u53caping\u548cdig\u7684\u7ed3\u679c\u6ca1\u6709\u53d1\u751f\u53d8\u5316\u3002</p> <p>\u6298\u817e\u4e86\u4e00\u665a\u4e0a\uff0c\u4e5f\u7b97\u662f\u4e86\u89e3\u4e86\u4e00\u70b9\u70b9cdn\u548cdns\u7684\u77e5\u8bc6\u5427\uff0c\u77e5\u8bc6\u6709\u65f6\u5019\u4e0d\u8981\u592a\u56fa\u6267\uff0c\u8be5\u7b49\u5f85\u7684\u65f6\u5019\u8fd8\u662f\u8981\u8010\u5fc3\u4e00\u70b9\u3002</p>"},{"location":"Internet/#ubuntuuwseduroam","title":"Ubuntu\u8fde\u63a5UWS\u548ceduroam","text":"<p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u4e00\u76f4\u8fde\u63a5\u4e0d\u662f\uff0c\u6ce8\u610f\u9009\u5bf9security\uff0cAuthentication\u5e94\u5f53\u9009\u62e9PEAP\uff0c\u5982\u56fe\u3002</p> <p></p>"},{"location":"Internet/#ads","title":"\u963f\u91cc\u516c\u5171ADS\u5dee\u8bc4","text":"<p>\u4e4b\u524d\u8f7b\u4fe1\u4e86\u963f\u91cc\u516c\u5171ADS\uff0c\u5728Ubuntu\u4e0a\u88c5\u4e86\uff0c\u94fe\u63a5\u5728\u6b64\uff0c\u7136\u800c\u5374\u65e0\u6cd5\u53d6\u6d88\u8bbe\u7f6e\uff0crestore\u9009\u9879\u6beb\u65e0\u4f5c\u7528\u3002\u4e5f\u4e00\u76f4\u4e0d\u7ba1\u5b83\uff0c\u5728\u67ab\u53f6\u56fd\uff0c\u7adf\u7136\u8fdegoogle\u90fdping\u4e0d\u901a\uff0c\u8fd9\u5c31\u5f88\u5947\u602a\u4e86\uff0c\u4e8e\u662f\u4fbf\u6000\u7591\u662f\u5b83\u641e\u7684\u9b3c\u3002</p> <p>\u4e3a\u4e86\u5f7b\u5e95\u6839\u9664\u8fd9\u4e2a\u6bd2\u7624\uff0c <pre><code>cd /etc/resolvconf/resolv.conf.d/\nsudo vim head\n## \u5220\u9664\u6587\u4ef6\u4e2d\u7684\u6240\u6709\u4fe1\u606f\uff0c\u5176\u5b9e\u53ea\u6709\u963f\u91cc\u516c\u5171ads\u7684\u914d\u7f6e\u4fe1\u606f\nsudo vim head.save\n## \u5220\u9664\u6587\u4ef6\u4e2d\u7684\u6240\u6709\u4fe1\u606f\uff0c\u5176\u5b9e\u53ea\u6709\u963f\u91cc\u516c\u5171ads\u7684\u914d\u7f6e\u4fe1\u606f\n</code></pre></p> <p>\u7ec8\u4e8e\u597d\u4e86\uff01</p>"},{"location":"Internet/#rvpn","title":"rvpn","text":"<p>Ubuntu\u4e0b\u914d\u7f6ervpn\uff0c\u9700\u8981\u6d4f\u89c8\u5668\u542f\u7528JAVA\u63d2\u4ef6\uff0c\u4f46\u65b0\u7248\u672c\u7684chrome\u548cfirefox\u90fd\u4e0d\u652f\u6301\uff08firefox 52\u4ee5\u540e\u90fd\u4e0d\u884c\u4e86\uff09\uff0c\u89e3\u51b3\u529e\u6cd5\u662f\u5b89\u88c5\u4e00\u4e2a\u65e7\u7248\u672c\u7684firefox\uff0c\u7136\u540e\u6309\u7167\u767b\u5f55rvpn\u65f6\u7684\u8bf4\u660e\u8fdb\u884c\u914d\u7f6e\u5c31ok\u4e86\u3002</p>"},{"location":"Internet/#proxychains","title":"proxychains \u5b9e\u73b0\u547d\u4ee4\u884c\u4ee3\u7406","text":"<p>\u53c2\u8003How to use SOCKS 5 proxy in Ubuntu command line</p> <pre><code>proxychains curl ifconfig.me\n</code></pre> <p>Get Public IP via curl</p> <p>Available websites:</p> <ul> <li><code>ifconfig.me</code></li> <li><code>ipinfo.io/ip</code></li> </ul>"},{"location":"Internet/#ld_preload-cannot-be-preloaded","title":"<code>LD_PRELOAD cannot be preloaded</code>","text":"<p>\u5728 Ubuntu 16.04 \u4e0a\u7528\u5f97\u597d\u597d\u7684\uff0c\u4f46\u662f\u5728\u66f4\u65b0\u540e\u7684 Ubuntu 18.04 \u4e0a\u4f7f\u7528\u65f6\uff0c\u62a5\u51fa</p> <pre><code>~$ proxychains ping www.google.com\nProxyChains-3.1 (http://proxychains.sf.net)\nERROR: ld.so: object 'libproxychains.so.3' from LD_PRELOAD cannot be preloaded (cannot open shared object file): ignored.\nPING www.google.com (199.16.156.7) 56(84) bytes of data.\n</code></pre> <p>\u53c2\u8003 proxychains LD_PRELOAD cannot be preloaded\uff0c\u5c06 <code>/usr/bin/proxychains</code> \u4e2d\u7684</p> <pre><code>export LD_PRELOAD=libproxychains.so.3\n</code></pre> <p>\u6539\u5230\u5b9e\u9645 <code>libproxychains.so.3</code> \u7684\u4f4d\u7f6e\uff0c\u8fd9\u53ef\u4ee5\u901a\u8fc7 locate \u6765\u786e\u5b9a\u3002</p> <p>\u53e6\u5916\u6ce8\u610f\u5230</p> <pre><code>~$ proxychains ping www.google.com\nProxyChains-3.1 (http://proxychains.sf.net)\nPING www.google.com (199.59.149.244) 56(84) bytes of data.\n^C\n--- www.google.com ping statistics ---\n2 packets transmitted, 0 received, 100% packet loss, time 1019ms\n</code></pre> <p>\u5e76\u4e0d\u4f1a\u51fa\u73b0\u7c7b\u4f3c <code>curl</code> \u65f6\u7684 chain</p> <pre><code>~$ proxychains curl ipinfo.io/ip\nProxyChains-3.1 (http://proxychains.sf.net)\n|DNS-request| ipinfo.io |S-chain|-&lt;&gt;-127.0.0.1:30002-&lt;&gt;&lt;&gt;-4.2.2.2:53-&lt;&gt;&lt;&gt;-OK\n|DNS-response| ipinfo.io is 216.239.38.21\n|S-chain|-&lt;&gt;-127.0.0.1:30002-&lt;&gt;&lt;&gt;-216.239.38.21:80-&lt;&gt;&lt;&gt;-OK\n</code></pre>"},{"location":"Internet/#hosts","title":"hosts\u6587\u4ef6\u539f\u7406","text":"<p>\u6709\u6bb5\u65f6\u95f4\u662f\u91c7\u7528\u66f4\u6539hosts\u6587\u4ef6\u6765\u8bbf\u95ee\u8c37\u6b4c\uff0c\u4f46\u5176\u80cc\u540e\u7684\u539f\u7406\u4e00\u76f4\u4e0d\u751a\u6e05\u695a\u3002\u7a81\u7136\u60f3\u5230\u8fd9\u4e2a\u95ee\u9898\uff0c\u770b\u4e86\u4e0b\u9762\u7684\u4e24\u4e2a\u535a\u5ba2\uff0c\u5927\u81f4\u660e\u767d\u4e86\u3002</p> <p>\u7b80\u5355\u6765\u8bf4\uff0c\u5176\u76ee\u7684\u8ddfdns\u89e3\u6790\u57df\u540d\u4e00\u6837\uff0c\u4f46\u662f\u4f18\u5148\u7ea7\u66f4\u9ad8\uff0c\u5982\u679c\u672c\u673ahosts\u6587\u4ef6\u4e2d\u5df2\u7ecf\u6709\u4e86\u67d0\u57df\u540d\u7684ip\u6620\u5c04\uff0c\u5219\u4e0d\u9700\u8981\u901a\u8fc7dns\u8fd4\u56de\u57df\u540dip\u3002</p> <p>\u66f4\u591a\u7ec6\u8282\u53ef\u4ee5\u53c2\u8003\u8fd9\u4e24\u4e2a\u535a\u5ba2</p> <ol> <li>host\u6587\u4ef6\u7684\u5de5\u4f5c\u539f\u7406\u53ca\u5e94\u7528</li> <li>\u7b80\u5355\u79d1\u666e\u4e0bhosts\u6587\u4ef6\u539f\u7406\u4e0e\u5236\u4f5c | \u8001D\u535a\u5ba2</li> </ol>"},{"location":"Internet/#unable-to-resolve-host","title":"unable to resolve host","text":"<p>\u53c2\u8003http://blog.csdn.net/ichuzhen/article/details/8241847</p> <p>Makesure the hostname defined in <code>/etc/hostname</code> also points to <code>127.0.0.1</code> in <code>/etc/hosts</code>.</p> <p>check my <code>/etc/hosts</code></p> <pre><code>~$ cat /etc/hosts\n127.0.0.1   localhost\n127.0.1.1   weiya-ThinkPad-T460p\n</code></pre> <p>and also the hostname</p> <pre><code>~$ cat /etc/hostname \nweiya-ThinkPad-T460p\n</code></pre>"},{"location":"Internet/#_3","title":"\u5e26\u5bbd\u3001\u7f51\u901f\u548c\u6d41\u91cf","text":"<p>\u5355\u4f4d\uff1a</p> <ul> <li>\u5e26\u5bbd\uff1a\u6bd4\u7279\u6bcf\u79d2 (bit/s, bps)</li> <li>\u7f51\u901f\uff1a\u5b57\u8282\u6bcf\u79d2 (B/s KB/s MB/s)</li> <li>\u6d41\u91cf\uff1a\u5b57\u8282 (Byte)</li> </ul> <p>\u5e26\u5bbd\u7ed9\u51fa\u4e86\u7406\u8bba\u4e0a\u4e0b\u8f7d\u7684\u6700\u5927\u901f\u5ea6\uff0c\u4f46\u5b9e\u9645\u4e0a\uff0c</p> <p>\u8fd8\u6709\u4e2a\u6807\u51c6\uff08\u7535\u4fe1\u90e8\u95e8\u7ed9\u7684\uff09\uff1a - 512k\u7528\u6237\u7684\u5230\u8fbe\u6d4b\u901f\u7f51\u7ad9\u7684\u901f\u5ea6\u5927\u4e8e 40KByte/s,\u5373320Kbps\u65f6\u662f\u5c5e\u4e8e\u6b63\u5e38\u7684\uff1b - 1M\u7528\u6237\u7684\u5230\u8fbe\u6d4b\u901f\u7f51\u7ad9\u7684\u901f\u5ea6\u5927\u4e8e 80KByte/s,\u5373640Kbps\u65f6\u662f\u5c5e\u4e8e\u6b63\u5e38\u7684\uff1b - 2M\u4ee5\u4e0a\u7528\u6237\u7684\u5230\u8fbe\u6d4b\u901f\u7f51\u7ad9\u7684\u901f\u5ea6\u5927\u4e8e 160KByte/s,\u53731280Kbps\u65f6\u662f\u5c5e\u4e8e\u6b63\u5e38\u7684\uff1b - 3M\u4ee5\u4e0a\u7528\u6237\u7684\u5230\u8fbe\u6d4b\u901f\u7f51\u7ad9\u7684\u901f\u5ea6\u5927\u4e8e 240KByte/s,\u53731920Kbps\u65f6\u662f\u5c5e\u4e8e\u6b63\u5e38\u7684\uff1b</p> <p>\u53c2\u8003 \u6d45\u8c08\u5e26\u5bbd\u3001\u7f51\u901f\u548c\u6d41\u91cf\u4e4b\u95f4\u7684\u5173\u7cfb</p>"},{"location":"Internet/#_4","title":"\u53cd\u5411\u4ee3\u7406","text":"<p>\u6d4f\u89c8\u535a\u5ba2\u4e2d\u770b\u5230\u53e6\u4e00\u79cd\u89e3\u51b3\u5185\u5730 Disqus \u88ab\u5899\u7684\u95ee\u9898\uff0c\u91c7\u7528 DisqusJS, \u5176\u4e2d\u4f7f\u7528\u5230\u4e86\u53cd\u5411\u4ee3\u7406\u6280\u672f\u3002</p> <p>\u6b63\u5411\u4ee3\u7406\u4ee3\u7406\u7684\u5bf9\u8c61\u662f\u5ba2\u6237\u7aef\uff0c</p> <p></p> <p>\u53cd\u5411\u4ee3\u7406\u4ee3\u7406\u7684\u5bf9\u8c61\u662f\u670d\u52a1\u7aef</p> <p></p> <p>\u53c2\u8003 \u77e5\u4e4e\uff1a\u53cd\u5411\u4ee3\u7406\u4e3a\u4f55\u53eb\u53cd\u5411\u4ee3\u7406\uff1f</p>"},{"location":"Internet/encrypt/","title":"Encryption","text":""},{"location":"Internet/encrypt/#rc4","title":"RC4","text":"<p>\u5728\u4f7f\u7528 <code>scp</code> \u53ca <code>rsync</code> \u4f20\u8f93\u6587\u4ef6\u65f6\uff0c\u6709\u7b56\u7565\u6307\u51fa\u4f7f\u7528\u5f31\u52a0\u5bc6\u7b97\u6cd5\u53ef\u4ee5\u63d0\u9ad8\u6587\u4ef6\u4f20\u8f93\u901f\u5ea6\uff0c\u5982</p> <p></p> <p>source: SQL and Admin: rsync, scp, sftp speed test</p> <p>\u53ca The fastest remote directory rsync over ssh archival I can muster (40MB/s over 1gb NICs)</p> <p>\u5176\u4e2d <code>arcfour</code> \u5373\u662f\u4e00\u79cd\u5f31\u52a0\u5bc6\u7b97\u6cd5\u3002</p> <p>\u5728\u5bc6\u7801\u5b66\u4e2d\uff0cRC4\uff08\u6765\u81eaRivest Cipher 4\u7684\u7f29\u5199\uff09\u662f\u4e00\u79cd\u4e32\u6d41\u52a0\u5bc6\u6cd5\uff0c\u5bc6\u94a5\u957f\u5ea6\u53ef\u53d8\u3002\u5b83\u52a0\u89e3\u5bc6\u4f7f\u7528\u76f8\u540c\u7684\u5bc6\u94a5\uff0c\u56e0\u6b64\u4e5f\u5c5e\u4e8e\u5bf9\u79f0\u52a0\u5bc6\u7b97\u6cd5\u3002RC4\u662f\u6709\u7ebf\u7b49\u6548\u52a0\u5bc6\uff08WEP\uff09\u4e2d\u91c7\u7528\u7684\u52a0\u5bc6\u7b97\u6cd5\uff0c\u4e5f\u66fe\u7ecf\u662fTLS\u53ef\u91c7\u7528\u7684\u7b97\u6cd5\u4e4b\u4e00\u3002</p> <p>RC4\u5df2\u7ecf\u6210\u4e3a\u4e00\u4e9b\u534f\u8bae\u548c\u6807\u51c6\u7684\u4e00\u90e8\u5206\uff0c\u59821997\u5e74\u7684WEP\u548c2003\u5e74\u7684WPA\uff1b\u548c1995\u5e74\u7684SSL\uff0c\u4ee5\u53ca1999\u5e74\u7684TLS\u30022015\u5e74\u7531 RFC 7465 \u7981\u6b62RC4\u5728\u6240\u6709\u7248\u672c\u7684TLS\u4e2d\u4f7f\u7528\u3002</p> <p>2015\u5e74\uff0c\u6bd4\u5229\u65f6\u9c81\u6c76\u5927\u5b66\u7684\u7814\u7a76\u4eba\u5458Mathy Vanhoef\u53caFrank Piessens\uff0c\u516c\u5e03\u4e86\u9488\u5bf9RC4\u52a0\u5bc6\u7b97\u6cd5\u7684\u65b0\u578b\u653b\u51fb\u7a0b\u5f0f\uff0c\u53ef\u572875\u5c0f\u65f6\u5185\u53d6\u5f97cookie\u7684\u5185\u5bb9\u3002[4]</p> <p>source: Wiki: RC4</p> <p>\u4f46\u662f\u5728 <code>stapc220</code> \u4e2d\u5e76\u4e0d\u652f\u6301 <code>arcfour</code></p> <pre><code>weiya@stapc220:~$ ssh -V\nOpenSSH_7.6p1 Ubuntu-4ubuntu0.3, OpenSSL 1.0.2n  7 Dec 2017\nweiya@stapc220:~$ ssh -Q cipher\n3des-cbc\naes128-cbc\naes192-cbc\naes256-cbc\nrijndael-cbc@lysator.liu.se\naes128-ctr\naes192-ctr\naes256-ctr\naes128-gcm@openssh.com\naes256-gcm@openssh.com\nchacha20-poly1305@openssh.com\n</code></pre> <p>\u4f46\u662f\u7a0d\u65e9\u4e00\u70b9\u7684\u7248\u672c\u4fbf\u652f\u6301 <code>arcfour</code>\uff0c</p> <pre><code>weiya@aliyun:~$ ssh -V\nOpenSSH_6.6.1p1 Ubuntu-2ubuntu2.13, OpenSSL 1.0.1f 6 Jan 2014\nweiya@aliyun:~$ ssh -Q cipher\n3des-cbc\nblowfish-cbc\ncast128-cbc\narcfour\narcfour128\narcfour256\naes128-cbc\naes192-cbc\naes256-cbc\nrijndael-cbc@lysator.liu.se\naes128-ctr\naes192-ctr\naes256-ctr\naes128-gcm@openssh.com\naes256-gcm@openssh.com\nchacha20-poly1305@openssh.com\n</code></pre> <p>\u8bd5\u56fe\u6dfb\u52a0\u672a\u652f\u6301\u7684\u52a0\u5bc6\u7b97\u6cd5\uff0c\u4e3b\u8981\u601d\u60f3\u5c31\u662f\u5728 <code>/etc/ssh/sshd_config</code> \u4e2d\u52a0\u5165</p> <pre><code>Ciphers cipher1,cipher2,cipher3\n</code></pre> <p>\u53c2\u8003</p> <ul> <li>Enable arcfour and Other Fast Ciphers on Recent Versions of OpenSSH</li> </ul> <p>\u4f46\u662f\u6700\u540e\u53d1\u73b0\u4f3c\u4e4e\u53ea\u80fd\u6dfb\u52a0\u652f\u6301\u7684\u7b97\u6cd5\uff08\u5373 <code>ssh -Q cipher</code> \u4e2d\u7684\u7b97\u6cd5\uff09</p> <p>\u5176\u5b9e\u8fd9\u4e2a\u8bbe\u7f6e\u66f4\u9002\u5408 disable \u5f31\u52a0\u5bc6\u7b97\u6cd5\uff0c\u4e5f\u5c31\u662f\u8bf4\u5728\u4e0a\u8ff0\u914d\u7f6e\u6587\u4ef6\u4e2d\uff0c\u5220\u6389\u5f31\u52a0\u5bc6\u7b97\u6cd5\uff0c\u8fd9\u4e5f\u662f\u8ba8\u8bba\u66f4\u591a\u7684\u65b9\u5411\uff0c\u5982 </p> <ul> <li>SSH: How to disable weak ciphers? - Unix &amp; Linux Stack Exchange</li> <li>\u670d\u52a1\u5668ssh\u5b89\u5168 - SegmentFault \u601d\u5426</li> </ul> <p>\u65e2\u7136\u4e0d\u80fd\u652f\u6301 arcfour\uff0c\u53e6\u4e00\u4e2a\u81ea\u7136\u7684\u601d\u8def\u4fbf\u662f\u9009\u62e9\u76f8\u5bf9\u8f83\u5f31\u7684\u52a0\u5bc6\u7b97\u6cd5\uff0c\u60f3\u627e\u51fa\u52a0\u5bc6\u7b97\u6cd5\u95f4\u5f3a\u5f31\u7684\u4e00\u4e2a\u6bd4\u8f83\uff0c</p> <p></p> <p>source: \u5404\u79cd\u52a0\u5bc6\u7b97\u6cd5\u6bd4\u8f83 - \u843d\u53f6\u7684\u77ac\u95f4; - \u535a\u5ba2\u56ed</p> <p>\u4f46\u4f3c\u4e4e\u5404\u6709\u4f18\u52a3\uff0c\u5e76\u6ca1\u6709\u660e\u663e\u7684\u5f3a\u5f31\u5173\u7cfb\uff0c\u800c\u4e14\u4e5f\u6682\u65f6\u6ca1\u627e\u5230\u9488\u5bf9 ssh \u4f7f\u7528\u7684\u52a0\u5bc6\u7b97\u6cd5\u7684\u8bc4\u6d4b\u3002</p>"},{"location":"Internet/encrypt/#md5","title":"MD5","text":"<pre><code>~$ printf \"hello\\n\" | md5sum\nb1946ac92492d2347c6235b4d2611184  -\n~$ printf \"hello\" | md5sum\n5d41402abc4b2a76b9719d911017c592  -\n~$ echo -n \"hello\" | md5sum\n5d41402abc4b2a76b9719d911017c592  -\n~$ echo \"hello\" | md5sum\nb1946ac92492d2347c6235b4d2611184  -\n</code></pre> <p>where <code>-n</code> does not output the trailing newline <code>\\n</code>, but </p> <pre><code>~$ echo -n \"hello\\n\" | md5sum\n20e2ad363e7486d9351ee2ea407e3200  -\n~$ echo -n \"hello\\n\"\nhello\\n~$\n</code></pre> <p>other materals releated to MD5</p> <ul> <li>\u4e09\u5206\u949f\u5b66\u4e60 MD5</li> <li>\u4e3a\u4ec0\u4e48\u73b0\u5728\u7f51\u4e0a\u6709\u5f88\u591a\u8f6f\u4ef6\u53ef\u4ee5\u7834\u89e3MD5\uff0c\u4f46MD5\u8fd8\u662f\u5f88\u6d41\u884c\uff1f</li> </ul>"},{"location":"Internet/ipv6/","title":"ipv6 on aws","text":"<p>\u5728 aws \u4e2d\u65b0\u5efa\u4e86\u4e00\u4e2a EC2\uff0c\u4f46\u662f\u9ed8\u8ba4\u6ca1\u6709 ipv6 address\uff0c\u800c\u770b\u5230\u5b98\u65b9\u6587\u6863\u8bf4\u5e94\u8be5\u5728\u521b\u5efa\u7684\u65f6\u5019\u989d\u5916\u914d\u7f6e\u4e00\u4e0b\uff0c\u4f46\u662f\u5e95\u4e0b\u53c8\u8bf4\u9053\u65b0\u5efa\u5b8c\u540e\u4f9d\u7136\u53ef\u4ee5\u6dfb\u52a0 ipv6\uff0c\u7136\u800c\u5728 \u201cActions, Networking, Manage IP Addresses\u201d \u5e76\u6ca1\u6709\u770b\u5230\u6240\u8bf4\u7684 \u201cIPv6 Addresses\u201d\u3002\u53e6\u5916\u6709\u5c1d\u8bd5\u8fc7\u6309\u7167\u6587\u6863\u91cd\u65b0\u521b\u5efa\u4e00\u4e2a EC2\uff0c\u7136\u800c\u5e76\u4e0d\u884c\u3002\u6240\u4ee5\u8fd8\u662f\u51b3\u5b9a\u5728\u5df2\u7ecf\u521b\u5efa\u597d\u7684\u90a3\u4e2a EC2 \u4e0a\u6298\u817e\u3002</p> <p>\u6211\u7684\u731c\u6d4b\u662f\u9700\u8981\u914d\u7f6e\u4ec0\u4e48\u4e1c\u897f\uff0c\u624d\u4f1a\u5728 \u201cActions, Networking, Manage IP Addresses\u201d \u4e2d\u51fa\u73b0 \u201cIPv6 Addresses\u201d\uff0c\u6240\u4ee5\u6478\u7d22\u8fc7\u7a0b\u4e2d\u6211\u4ee5\u8fd9\u4e2a\u4e3a\u76ee\u6807\u770b\u770b\u6211\u6709\u6ca1\u6709\u914d\u5bf9\u3002</p>"},{"location":"Internet/ipv6/#update-vpc","title":"Update VPC","text":"<p>\u9996\u5148\u5728 AWS IPv6 Update \u2013 Global Support Spanning 15 Regions &amp; Multiple AWS Services \u4e2d\u786e\u8ba4\u4e86\u6211\u7684\u6240\u5728\u533a\u57df\u662f\u652f\u6301 ipv6 \u7684\u3002\u7136\u540e\u770b\u5230 New \u2013 IPv6 Support for EC2 Instances in Virtual Private Clouds \u8fd9\u91cc\u4ecb\u7ecd\u5728 VPC \u4e2d\u8bbe\u7f6e\u3002\u4e8e\u662f\u901a\u8fc7 instance \u9875\u9762\u70b9\u51fb\u5176 VPC\uff0c\u8fdb\u5165 VPC \u8bbe\u7f6e\u9875\u9762\uff0c\u5728 CIDR BLOCKs \u4e2d\u6dfb\u52a0 IPv6 CIDR Blocks, \u50cf\u4e0b\u56fe\u4e00\u6837\u9009\u62e9 <code>Amazon provided IPv6 CIDR block</code></p> <p></p>"},{"location":"Internet/ipv6/#update-subnet","title":"Update subnet","text":"<p>\u4ec5\u4ec5\u8bbe\u7f6e\u4e86 VPC \u7684 CIDR blocks \u8fd8\u4e0d\u591f\uff0c\u9700\u8981\u8bbe\u7f6e\u5bf9\u5e94\u7684 subnet \u7684 IPv6 CIDR\uff0c\u6ce8\u610f\u8fd9\u91cc\u4f1a\u8ba9\u6211\u4eec\u586b\u5199ipv6 address\u672b\u5c3e\u51e0\u4f4d\uff0c\u6211\u4e00\u5f00\u59cb\u4ec0\u4e48\u90fd\u6ca1\u586b\u76f4\u63a5\u70b9\u786e\u8ba4\uff0c\u4f1a\u62a5\u9519\uff0c\u7136\u540e\u6211\u968f\u4fbf\u8bd5\u4e86 <code>00</code>\uff0c\u7adf\u7136\u6210\u529f\u4e86\u3002\u540e\u6765\u5728 Setup Amazon AWS EC2 with IPv6 Address \u770b\u5230\uff0c\u8fd9\u4e2a\u53ef\u4ee5\u586b 00, 01, 02 \u4e4b\u7c7b\u7684\u3002</p> <p>\u7ecf\u8fc7\u8fd9\u4e24\u90e8\u914d\u7f6e\uff0c\u53ef\u4ee5\u901a\u8fc7 \u201cActions, Networking, Manage IP Addresses\u201d \u6dfb\u52a0 IPv6 address \u4e86\uff0c\u672c\u4ee5\u4e3a\u5927\u529f\u544a\u6210\u3002\u4f46\u662f\u5f53\u6211\u901a\u8fc7 ping6 \u9a8c\u8bc1\u7684\u65f6\u5019\uff0c\u5e76\u6ca1\u6709\u6210\u529f\u3002</p> <pre><code># success\nping6 localhost\n# fail\nping6 ipv6.google.com\n</code></pre>"},{"location":"Internet/ipv6/#update-route","title":"Update route","text":"<p>\u8fd9\u65f6\u5019\u624d\u7ffb\u51fa Setup Amazon AWS EC2 with IPv6 Address\uff0c\u91cc\u9762\u8bf4\u8fd8\u6709\u8bbe\u7f6e route table\uff0c\u5728 \u201cRoutes &gt;&gt; Edit &gt;&gt; Add another rule &gt;&gt;\u201d \u4e2d\u6dfb\u52a0 <code>::/0</code>\uff0c\u800c target \u8bbe\u7f6e\u4e3a\u8ddf ipv4 \u76f8\u540c\uff0c\u5982\u4e0b\u56fe\u6240\u793a</p> <p></p> <p>\u914d\u7f6e\u5b8c\u6210\u540e\uff0cping6 \u4e5f\u6210\u529f\u4e86\uff01</p> <p>\u672c\u6765\u60f3\u5c1d\u8bd5 ipv6 over shadowsocks\uff0c\u4f46\u662f\u540e\u6765\u53d1\u73b0\u672c\u5730\u6ca1\u6709 ipv6 \u7f51\uff0c\u4e0d\u8fc7\u4f3c\u4e4e\u5ba3\u79f0\u8fd9\u6837\u53ef\u4ee5\u8bbf\u95ee ipv6 \u7f51\u7ad9\u3002</p>"},{"location":"Internet/sci-int/","title":"\u79d1\u5b66\u4e0a\u7f51","text":"<p>\u8fd9\u91cc\u603b\u7ed3\u4e86\u7b14\u8005\u4ece\u672c\u79d1\u5f00\u59cb (2014 \u5e74) \u81f3\u4eca\u5c1d\u8bd5\u7684\u82e5\u5e72\u79cd\u79d1\u5b66\u4e0a\u7f51\u65b9\u5f0f\uff0c\u4e0d\u4ec5\u4ec5\u662f\u72ed\u4e49\u7684\u7ffb\u5899\uff0c\u8fd8\u5305\u62ec\u4ece\u5185\u7f51\u8bbf\u95ee\u5b66\u6821\u5185\u7f51\u670d\u52a1\u5668\u3002\u7b80\u5355\u6765\u8bf4\uff0c\u6709\u4ee5\u4e0b\u51e0\u79cd\u65b9\u6848\uff1a</p> <ul> <li>\u5b66\u6821\u63d0\u4f9b\u7684 VPN\uff1a\u4e0d\u7a33\u5b9a</li> <li>SSH \u96a7\u9053\uff1a\u9700\u8981\u5916\u7f51\u670d\u52a1\u5668\uff0c\u76ee\u524d\u4e00\u76f4\u4f7f\u7528</li> <li>ngrok\uff1a\u5982\u65e0\u5916\u7f51\u670d\u52a1\u5668\uff0c\u53ef\u4ee5\u91c7\u7528\uff0c\u4f46\u901f\u5ea6\u53d6\u51b3\u4e8e\u670d\u52a1\u5668\u5730\u70b9</li> <li>shootback\uff1a\u7c7b\u4f3c SSH \u96a7\u9053\uff0c\u4f46\u4e0d\u591f\u5b89\u5168</li> <li>ShadowSocks: \u81ea\u642d\u5916\u7f51\u670d\u52a1\u5668\uff0c\u76ee\u524d\u4e0d\u5e38\u7528\uff0c\u4f46\u4ecd\u4fdd\u7559\u53cd\u5411\u722c\u5899\u3002</li> <li>XX-Net: \u672c\u79d1\u65f6\u4f7f\u7528\u8fc7</li> </ul>"},{"location":"Internet/sci-int/#ssh-tunnel","title":"SSH Tunnel","text":"<p>Info</p> <p>2022-08-04 \u4ece\u9999\u6e2f\u5230\u73e0\u6d77\u7684\u9694\u79bb\u9152\u5e97\uff0c\u91c7\u53d6\u6b64\u65b9\u6848\uff0c\u5176\u4e2d <code>InnerServer</code> \u4e3a <code>chpc-sandbox</code>\uff0c<code>OuterServer</code> \u4e3a\u963f\u91cc\u4e91 ECS\u3002 \u53e6\u5916\uff0c\u4e3a\u4e86\u4f7f\u5f97\u624b\u673a\u4e5f\u80fd\u4eab\u53d7\u5899\u5916\u670d\u52a1\uff0c\u540c\u65f6\u4f7f\u7528\u9152\u5e97 wifi\uff0c\u9996\u5148\u901a\u8fc7 <code>ifconfig</code> \u83b7\u5f97\u7535\u8111\u5185\u7f51 ip\uff08<code>wlpXXX:inet</code>\uff09\uff0c\u7136\u540e\u5728\u624b\u673a\u4ee3\u7406\u4e2d\u8f93\u5165 <code>192.168.1.3:8118</code>\uff0c\u8be6\u89c1 </p> <p>\u5047\u8bbe\u6709\u4e00\u53f0\u5916\u7f51\u670d\u52a1\u5668 OuterServer\uff0c\u4ee5\u53ca\u5185\u7f51\u670d\u52a1\u5668 InnerServer</p> <ul> <li>OutServer: \u5916\u7f51\u670d\u52a1\u5668\uff0c\u53ef\u4ee5\u4ece\u672c\u5730 <code>Laptop</code> \u53ca\u5185\u7f51\u670d\u52a1\u5668 <code>InnerServer</code> \u901a\u8fc7\u7ed9\u5b9a\u5916\u7f51 IP \u8bbf\u95ee</li> <li>InnerServer: \u5185\u7f51\u670d\u52a1\u5668\uff0c\u65e0\u6cd5\u4ece\u5916\u7f51\u8bbf\u95ee\uff0c\u4f46\u53ef\u4ee5\u8bbf\u95ee\u5916\u7f51</li> </ul> LaptopOuterServerInnerServer <pre><code>ssh -L 30002:localhost:30002 OuterServer\n</code></pre> <pre><code>ssh -D 30002 -p 30001 InnerServer\n</code></pre> <pre><code>ssh -R 30001:localhost:22 Server\n</code></pre> <p>\u8fd9\u6837\u53ea\u80fd\u5728 ssh \u8bbf\u95ee\u5185\u7f51\u8d44\u6e90\uff0c\u53ef\u4ee5\u901a\u8fc7 chrome \u7684 SwithyOmega \u63d2\u4ef6\u5b9e\u73b0\u5728\u6d4f\u89c8\u5668\u4e2d\u8bbf\u95ee\u5185\u7f51\uff0c\u6548\u679c\u548c\u767b\u5f55 VPN \u4e00\u6837\uff0c\u53ef\u4ee5\u6b63\u5e38\u4e0b\u6587\u732e\u3002</p> <p>\u5728 SwitchyOmega \u4e2d\u6dfb\u52a0 socks5://127.0.0.1:30002 \u5373\u53ef\u8bbf\u95ee\u5185\u7f51\u8d44\u6e90\u3002</p> <p>\u53e6\u5916\uff0c\u5982\u679c\u53ea\u60f3\u79d1\u5b66\u4e0a\u7f51\uff0c\u76f4\u63a5</p> <pre><code># Local Laptop\nssh -D 30002 Server\n</code></pre> <p>\u7136\u540e\u5728 SwitchyOmega \u4e2d\u6dfb\u52a0 socks5://127.0.0.1:30002\u3002</p> <p>\u5982\u679c\u5c06\u4e0a\u9762\u7684 <code>my server</code> \u90e8\u5206\u6539\u6210 <pre><code>ssh -gD 30002 -p 30001 my@inner-server\n</code></pre></p> <p>\u5176\u4e2d <code>-g</code> \u8868\u793a\u5141\u8bb8\u8fdc\u7a0b\u8fde\u63a5\uff0c\u5219\u5728 SwitchyOmega \u4e2d\u6dfb\u52a0 socks5://my-server:30002 \u4ea6\u53ef\u8bbf\u95ee\u5185\u7f51\u8d44\u6e90\uff0c\u4f46\u8fd9\u6837\u4e0d\u591f\u5b89\u5168\uff0c\u56e0\u4e3a\u4f3c\u4e4e\u6240\u6709\u77e5\u9053\u4f60 server address \u90fd\u53ef\u4ee5\u8bbf\u95ee\u5185\u7f51\u8d44\u6e90\uff0c\u9664\u975e\u7279\u522b\u914d\u7f6e my server \u7684\u5b89\u5168\u7ec4\uff0c\u4f46\u662f\u5e94\u8be5\u4e0d\u662f\u5f88\u597d\uff0c\u56e0\u4e3a\u4f60\u672c\u5730\u7684 public ip \u662f\u52a8\u6001\u5206\u914d\u7684\uff0c\u5b89\u5168\u7ec4\u7684\u4f5c\u7528\u4e0d\u5927\u3002</p> <p>\u53c2\u8003 \u73a9\u8f6cSSH\u7aef\u53e3\u8f6c\u53d1 \u548c \u4f7f\u7528SSH\u53cd\u5411\u96a7\u9053\u5b9e\u73b0\u5185\u7f51\u7a7f\u900f</p> <p>\u6709\u65f6\u5019\u53ef\u80fd\u9700\u8981\u91cd\u65b0\u8fde\u63a5\u4e00\u4e0b\uff0c\u4f46\u662f\u4f1a\u51fa\u73b0\u7aef\u53e3\u5360\u7528\u7684\u95ee\u9898\uff0c</p> <pre><code>lsof -i:30002\n</code></pre> <p>\u627e\u51fa\u7aef\u53e3\u5360\u7528\u7684 pid\uff0c\u7136\u540e</p> <pre><code>kill -s 9 pid\n</code></pre> <p>\u5728\u67d0\u4e9b\u673a\u5b50\u4e0a\u53d1\u73b0\u8fd0\u884c <code>ssh -D</code> \u4f1a\u62a5\u51fa\uff0c</p> <p>bind: Cannot assign requested address</p> <p>\u4f46\u662f\u8fd8\u662f\u53ef\u4ee5 ssh \u5230\u76ee\u6807\u670d\u52a1\u5668\u3002\u627e\u5230\u7c7b\u4f3c\u7684\u95ee\u9898\uff0c\u7136\u540e\u89e3\u51b3\u65b9\u6848\u662f\u52a0\u4e0a <code>-4</code> \u6765\u8868\u793a ipv4\uff0c\u4f46\u662f\u4e0d\u61c2\u539f\u56e0</p>"},{"location":"Internet/sci-int/#autossh","title":"autossh","text":"<p>\u4e3a\u4e86\u8ba9 ssh \u7a0b\u5e8f\u5728\u65ad\u5f00\u540e\u91cd\u8fde\uff0c\u91c7\u7528 autossh\u3002\u5728\u5185\u7f51\u670d\u52a1\u5668\u4e0a\u8fd0\u884c\uff0c</p> <pre><code>./autossh -M 30000 -o \"StrictHostKeyChecking=false\" -o \"ServerAliveInterval 10\" -o \"ServerAliveCountMax 3\" -NR 30003:localhost:22 xxx@xx.xx.xx.xx\n</code></pre> <p>\u901a\u8fc7 <code>ps -aef</code> \u53d1\u73b0\u5176\u8c03\u7528\u4e86\uff0c</p> <pre><code>/usr/bin/ssh -L 30000:127.0.0.1:30000 -R 30000:127.0.0.1:30001 -o StrictHostKeyChecking=false -o ServerAliveInterval 10 -o ServerAliveCountMax 3 -NR 30003:localhost:22 xxx@xx.xx.xx.xx\n</code></pre> <p>\u800c\u4e14\u5982\u679c kill \u6389\u8fd9\u4e2a\u8fdb\u7a0b\uff0c\u5219\u4f1a\u7acb\u5373\u91cd\u65b0\u8fd0\u884c\u4e00\u4e2a\u5b8c\u5168\u4e00\u6837\u7684\u3002\u5bf9\u4e8e\u591a\u51fa\u6765\u7684 <code>30001</code> \u7aef\u53e3\u5f88\u662f\u5947\u602a\uff0c\u56e0\u4e3a\u6211\u6ca1\u6709\u6307\u5b9a\u3002\u76f4\u5230\u5b66\u4e60\u4e86\u4e0b autossh \u7684\u539f\u7406\u4e4b\u540e\u624d\u604d\u7136\u5927\u609f. </p> <p>\u76d1\u89c6\u7aef\u53e3 <code>-M port[:echo_port]</code> \u7b97\u662f\u6700\u91cd\u8981\u7684\u53c2\u6570\u4e86\uff0c\u8fd9\u91cc\u53ea\u6307\u5b9a\u4e86 <code>port</code> \u4e3a 30000\uff0c\u5219</p> <ul> <li><code>-L 30000:127.0.0.1:30000</code> \u5c06\u53d1\u9001\u5230\u672c\u5730\u7aef\u53e3 30000 (\u7b2c\u4e00\u4e2a 30000)\u7684\u8bf7\u6c42\u8f6c\u53d1\u5230\u76ee\u6807\u5730\u5740\u7684\u76ee\u6807\u7aef\u53e3\uff08<code>127.0.0.1:30000</code>\uff0c \u5373 <code>xx.xx.xx.xx:30000</code>\uff09</li> <li><code>-R 30000:127.0.0.1:30001</code> \u5c06\u53d1\u9001\u5230\u8fdc\u7a0b\u7aef\u53e3 30000 (\u7b2c\u4e00\u4e2a 30000\uff0c\u5bf9\u5e94 <code>xx.xx.xx.xx:30000</code>\uff09\u7684\u8bf7\u6c42\u8f6c\u53d1\u5230\u76ee\u6807\u5730\u5740\u7684\u76ee\u6807\u7aef\u53e3\uff08<code>127.0.0.1:30001</code>\uff0c\u5373\u672c\u5730\u7684 30001 \u7aef\u53e3\uff09</li> <li>\u4e0a\u9762\u4e00\u6765\u4e00\u4f1a\u5c31\u5f62\u6210\u4e00\u4e2a\u95ed\u73af\u3002\u5185\u7f51\u670d\u52a1\u5668\u5b9a\u671f\u5f80 30000 \u7aef\u53e3\u53d1\u9001\u68c0\u6d4b\u6d88\u606f\uff0c\u5982\u679c\u94fe\u8def\u6b63\u5e38\uff0c\u5219 30000 \u7aef\u53e3\u7684\u6d88\u606f\u5148\u8f6c\u53d1\u5230 <code>xx.xx.xx.xx</code> \u7684 30000 \u7aef\u53e3\uff0c\u7136\u540e\u7acb\u5373\u8f6c\u9001\u5230\u5185\u7f51\u670d\u52a1\u5668\u7684 30001 \u7aef\u53e3\u3002</li> </ul> <p></p>"},{"location":"Internet/sci-int/#proxy-for-gmail-in-thunderbird","title":"Proxy for Gmail in Thunderbird","text":"<p>\u56e0\u4e3a\u5728 Thunderbird \u4e2d\u4e0d\u53ea\u6709 Gmail \u8d26\u6237\uff0c\u6240\u4ee5\u60f3\u53ea\u5bf9 Gmail \u8d26\u6237\u8fdb\u884c\u4ee3\u7406\u3002\u4e8e\u662f\u901a\u8fc7 SwitchyOmega \u5355\u72ec\u521b\u5efa\u4e00\u4e2a profile\uff0c\u7136\u540e\u5bfc\u51fa <code>.pac</code> \u6587\u4ef6\u3002</p> <p></p>"},{"location":"Internet/sci-int/#jupyter-notebook","title":"Jupyter Notebook","text":"<p>\u5f53\u642d\u5efa\u597d\u96a7\u9053\u540e\uff0c\u53ef\u4ee5\u501f\u7528\u8be5\u96a7\u9053\u4f7f\u7528\u5185\u7f51\u670d\u52a1\u5668\u4e0a\u7684 Jupyter Notebook\uff0c</p> <pre><code># open jupyter notebook as usual on innerserver\njupyter notebook\n# return url like, 127.0.0.1:8888/?token=xxxxxxxxxxx\n\n# on public server\nssh -L localhost:18888:localhost:8888 -p 30001 [Inner-Server's Username]@localhost\n\n# on my local laptop\nssh -L 18888:localhost:18888 [Server's Username]@[Server's Public IP]\n</code></pre> <p>\u4e8e\u662f\u5728\u672c\u5730\u53ef\u4ee5\u901a\u8fc7 </p> <pre><code>127.0.0.1:18888/?token=xxxxxxxxxxx\n</code></pre> <p>\u8bbf\u95ee\u5185\u7f51\u7684 Jupyter Notebook\u3002</p>"},{"location":"Internet/sci-int/#proxy-for-android-phone","title":"Proxy for Android Phone","text":"<p>Info</p> <p>2022-08-04 \u5728\u73e0\u6d77\u7684\u9694\u79bb\u9152\u5e97\uff0c\u91c7\u7528\u6b64\u65b9\u6848\u4f7f\u5f97\u624b\u673a\u7ffb\u5899\u3002\u53e6\u89c1 </p> <p>\u5b89\u5353\u624b\u673a\u81ea\u5e26\u7684\u53ea\u9ed8\u8ba4 http \u548c https \u4ee3\u7406\uff0c\u4f46\u50cf ssh \u96a7\u9053\u6216\u8005 shadowsocks \u5f97\u5230\u7684\u90fd\u662f socks5 \u4ee3\u7406\uff0c\u4e5f\u5c1d\u8bd5\u8fc7\u522b\u4eba\u63a8\u8350\u7684 ProxyDroid\uff0c\u4f46\u662f\u4f3c\u4e4e\u8fd8\u8981\u5bf9\u624b\u673a\u8fdb\u884c root\u3002\u9042\u653e\u5f03\u3002</p> <p>\u65e2\u7136 socks5 \u6709\u4e86\uff0c\u76f4\u63a5\u8f6c\u6362\u6210 http \u4e0d\u5c31\u884c\u4e86\u4e48\uff0c\u7136\u540e\u770b\u5230\u4e86 Privoxy\uff0c\u8fd9\u52fe\u8d77\u4e86\u6211\u7684\u56de\u5fc6\uff0c\u8bb0\u5f97\u66fe\u7ecf\u8ddf shadowsocks \u642d\u914d\u4f7f\u7528\u8fc7\uff0c\u4f46\u4e0d\u77e5\u9053\u4e3a\u5565\u8981\u7528\u5b83\u3002\u800c\u8fd9\u6b21\u6211\u7684\u76ee\u6807\u53ca\u52a8\u673a\u5f88\u660e\u786e\u4e86\uff0c\u5c06 socks5 \u8f6c\u6362\u6210 http\uff0c\u4f9b\u624b\u673a\u7aef\u8bbf\u95ee\uff0c\u56e0\u4e3a\u6211\u7684\u7535\u8111\u548c\u624b\u673a\u5728\u540c\u4e00\u4e2a\u5c40\u57df\u7f51\u5185\uff0c\u90a3\u8fd9\u6837\u624b\u673a\u7aef\u7684 http \u4ee3\u7406\u670d\u52a1\u5668\u5373\u4e3a\u6211\u7535\u8111\u7684\u5c40\u57df\u7f51 ip\uff0c\u901a\u8fc7 ifconfig \u53ef\u4ee5\u5f97\u5230\u3002</p> <pre><code># \u628a HTTP \u6d41\u91cf\u8f6c\u53d1\u5230\u672c\u673a 127.0.0.1:1080 \u7684 Shadowsocks (or SSH tunnel)\nforward-socks5 / 127.0.0.1:1080 .\n\n# \u53ef\u9009\uff0c\u9ed8\u8ba4\u53ea\u76d1\u542c\u672c\u5730\u8fde\u63a5 127.0.0.1:8118\n# \u53ef\u4ee5\u5141\u8bb8\u5c40\u57df\u7f51\u4e2d\u7684\u8fde\u63a5\nlisten-address 0.0.0.0:8118\n</code></pre> <p>\u6ce8\u610f\u8fd9\u91cc\u8981\u7528 <code>0.0.0.0</code>\uff0c\u8fd9\u6837\u624d\u80fd\u5141\u8bb8\u5c40\u57df\u7f51\u5185\u7684\u8fde\u63a5\u3002\u4f46\u8fd9\u6837\u8fd8\u4e0d\u591f\uff0c\u9632\u706b\u5899\u8fd8\u6ca1\u6253\u5f00\uff0c\u67e5\u770b\u9632\u706b\u5899\u5f53\u524d\u6253\u5f00\u7684 port</p> <pre><code>sudo ufw status\n</code></pre> <p>\u679c\u7136\u6ca1\u6709 8118 \u7aef\u53e3\uff0c\u4e8e\u662f\u6253\u5f00</p> <pre><code>sudo ufw allow 8118\n</code></pre> <p>\u5927\u529f\u544a\u6210\uff0c\u624b\u673a\u7aef\u80fd\u591f\u901a\u8fc7 http \u4ee3\u7406\u79d1\u5b66\u4e0a\u7f51\u5566\uff01</p>"},{"location":"Internet/sci-int/#ngrok","title":"ngrok","text":"<p>\u5728\u5185\u7f51\u670d\u52a1\u5668 Server (such as Fan\u2019s lab server, ln001 server, chpc\u2019s server)\u8fdb\u884c\u5982\u4e0b\u64cd\u4f5c\uff1a</p> <ol> <li>\u4e0b\u8f7d ngrok \u5e76\u89e3\u538b</li> <li>\u6ce8\u518c ngrok \u83b7\u5f97 authtoken\uff0c\u7136\u540e\u8fd0\u884c <code>./ngrok authtoken YOUR-AUTHTOKEN</code> \u6fc0\u6d3b\u8d26\u6237</li> <li>\u8fd0\u884c <code>./ngrok tcp 22 --region=jp</code> \u6765\u5f00\u542f ssh \u7684 22 \u7aef\u53e3\uff0c\u5176\u4e2d <code>-region jp</code> \u6307\u5b9a\u670d\u52a1\u5668\u4e3a\u65e5\u672c\u7684\uff0c\u9ed8\u8ba4\u4e3a <code>us</code>\uff0c\u4eb2\u6d4b\u901f\u5ea6\u5f88\u6162\u3002\u7136\u540e\u5f97\u5230\u4e0b\u9762\u7684\u8fd0\u884c\u7ed3\u679c</li> </ol> <p></p> <p>\u6ce8\u610f Forwarding \u4e00\u884c\u7684\u8bb0\u5f55\uff0c<code>tcp://SOME-IP-ADDRESS:PORT</code></p> <p>\u5728\u672c\u5730 Local Laptop \u4e0a\uff0c\u7ec8\u7aef\u4e2d\u8fd0\u884c</p> <pre><code>ssh -X usename-for-Server@SOME-IP-ADDRESS -p PORT\n</code></pre> <p>\u5373\u53ef\u767b\u5f55\u5185\u7f51\u670d\u52a1\u5668\u3002</p>"},{"location":"Internet/sci-int/#shootback","title":"shootback","text":"<p>\u987e\u540d\u601d\u4e49\uff0c\u8fd9\u5c31\u662f\u5185\u7f51\u7a7f\u900f\u3002</p> <p>\u540c SSH \u53cd\u5411\u96a7\u9053\uff0c\u9700\u8981\u81ea\u5df1\u51c6\u5907\u4e00\u53f0\u670d\u52a1\u5668\uff0c\u9879\u76ee\u4e3b\u9875\u6709\u8be6\u7ec6\u914d\u7f6e\u8fc7\u7a0b\u3002</p> <pre><code># ---- master ----\npython3 master.py -m 0.0.0.0:10000 -c 0.0.0.0:10022 --ssl\n\n# ---- slaver ----\n# ps: the `--ssl` option is for slaver-master encryption, not for SSH\npython(or python3) slaver.py -m 22.33.44.55:10000 -t 127.0.0.1:22 --ssl\n\n# ---- YOU ----\nssh [username@]22.33.44.55 -p 10022\n</code></pre> <p>\u6ce8\u610f\uff0c<code>YOU</code> \u7684 username \u662f slaver \u7684 username!!</p> <p>\u53e6\u5916\u4e00\u79cd\u66f4\u590d\u6742\u7684\u5de5\u5177\u662f frp</p> <p>\u4f46\u662f\u8fd9\u4f3c\u4e4e\u8ddf\u4e0d\u52a0 <code>-g</code> \u7248\u672c\u7684 ssh \u53cd\u5411\u96a7\u9053\u4e00\u6837\uff0c\u4f1a\u5b58\u5728\u5b89\u5168\u6027\u95ee\u9898\uff0c\u76f8\u5f53\u4e8e\u66b4\u9732\u4e86\u516c\u7f51 ip. </p>"},{"location":"Internet/sci-int/#shadowsocks","title":"ShadowSocks","text":"<p>Info</p> <p>\u9700\u8981\u5883\u5916\u670d\u52a1\u5668\uff0c\u53ef\u4ee5\u5728\u5404\u5927\u4e91\u670d\u52a1\u5546\u4e0a\u8d2d\u4e70\uff0c\u4e0a\u4e00\u6b21\u6298\u817e\u81f3\u5c11\u8ffd\u6eaf\u5230 2020 \u5e74\u3002\u76ee\u524d\uff082022-08-05 20:43:08\uff09\u4ecd\u4fdd\u7559\u4ece\u5899\u5916\u8fd4\u56de\u5899\u5185\u7684\u529f\u80fd\uff0c\u5373\u5728\u963f\u91cc\u4e91\u5185\u5730\u670d\u52a1\u5546\u4e0a\u8fd0\u884c\u8be5\u670d\u52a1\u3002</p> <p>Follow the instruction in the official repo, </p> <ul> <li>start on the server: <code>sudo ssserver -c ss.json -d start</code></li> <li>check the log file: <code>tail /var/log/shadowsocks.log -f</code></li> <li>stop on the server: <code>sudo ssserver -d stop</code></li> </ul>"},{"location":"Internet/sci-int/#_2","title":"\u4e8c\u7ef4\u7801\u53cd\u89e3","text":"<p>\u5bf9</p> <pre><code>ss://bWV0aG9kOnBhc3N3b3JkQGhvc3RuYW1lOnBvcnQ=\n</code></pre> <p>\u4e2d\u7684</p> <pre><code>bWV0aG9kOnBhc3N3b3JkQGhvc3RuYW1lOnBvcnQ=\n</code></pre> <p>base64 \u89e3\u5bc6\u5f97\u5230</p> <pre><code>method:password@hostname:port\n</code></pre> <p>Tip</p> <p>On Unix command line, the decode and encode can be done as follows, <pre><code>$ echo -n \"method:password@hostname:port\" | base64 bWV0aG9kOnBhc3N3b3JkQGhvc3RuYW1lOnBvcnQ=\n$ echo -n \"bWV0aG9kOnBhc3N3b3JkQGhvc3RuYW1lOnBvcnQ=\" | base64 --decode \nmethod:password@hostname:port\n</code></pre></p> <p>\u7136\u540e</p> <pre><code>sslocal -p port -k password -m method\n</code></pre>"},{"location":"Internet/sci-int/#_3","title":"\u7cfb\u7edf\u4ee3\u7406\u4e0e\u6d4f\u89c8\u5668\u4ee3\u7406","text":"<ul> <li>\u53ea\u4f5c\u7528\u5728\u6d4f\u89c8\u5668\u4e0a\uff1ashadowsocks + switchOmega</li> <li>\u5168\u5c40\u4ee3\u7406\uff1ashadowsocks + privoxy</li> </ul> <p>\u53c2\u8003 Ubuntu\u914d\u7f6eShadowsocks\u5168\u5c40\u4ee3\u7406</p> <p>\u65e0\u9700\u5355\u72ec\u8bbe\u7f6e\u7cfb\u7edf\u4ee3\u7406\uff0c\u6d4f\u89c8\u5668\u662f\u53ef\u4ee5\u901a\u8fc7\u63d2\u4ef6\u8bbe\u7f6e\u4ee3\u7406\u7684\u3002</p> <p>\u53e6\u5916\u4f7f\u7528\u5982curl\u9700\u8981\u4ee3\u7406\u65f6\uff0c\u53ef\u4ee5\u91c7\u7528</p> <pre><code>$ curl ip.cn --proxy socks5://127.0.0.1:1080\n</code></pre>"},{"location":"Internet/sci-int/#xx-net","title":"XX-Net","text":"<p>Warning</p> <p>\u5f88\u4e45\u672a\u66fe\u4f7f\u7528\uff0c\u4e0a\u4e00\u6b21\u81f3\u5c11\u662f 2018 \u5e74\u4ee5\u524d\u3002</p>"},{"location":"Internet/sci-int/#environment","title":"Environment","text":"<ol> <li>ubuntu 16.04</li> <li>XX-net</li> <li>privoxy</li> </ol>"},{"location":"Internet/sci-int/#install","title":"Install","text":"<ul> <li>\u5b89\u88c5privoxy</li> </ul> <pre><code>sudo apt-get install privoxy\n</code></pre> <ul> <li>\u5b89\u88c5XX-net</li> </ul> <p>\u76f4\u63a5\u8bbf\u95ee\u9879\u76ee\u4e3b\u9875XX-net\uff0c\u5185\u6709\u5b89\u88c5\u8bf4\u660e</p> <ul> <li>\u8bbe\u7f6eprivoxy \u5728/etc/privoxy/config\u6587\u4ef6\u4e2d\u52a0\u5165</li> </ul> <pre><code>forward / 127.0.0.1:8087\nlisten-address 0.0.0.0:8118\n</code></pre>"},{"location":"Internet/sci-int/#usages","title":"Usages","text":"<ul> <li>\u53ef\u4ee5\u5728\u8bbf\u95ee\u65f6\u8bbe\u7f6e\u4ee3\u7406</li> </ul> <pre><code>curl ipinfo.io/ip --proxy 127.0.0.1:8087\n</code></pre> <ul> <li>\u4e5f\u53ef\u4ee5\u5728.bashrc\u8bbe\u7f6e\uff0c\u8fd9\u6837\u6240\u6709\u7684\u7ec8\u7aef\u7684\u7f51\u7edc\u8bbf\u95ee\u90fd\u4f1a\u8d70\u7ec8\u7aef\uff0c\u5728~/.bashrc\u6587\u4ef6\u4e2d\u52a0\u5165</li> </ul> <pre><code>export https_proxy=127.0.0.1:8087\nexport http_proxy=127.0.0.1:8087\n</code></pre> <p>Warning</p> <p>2022-08-23 11:48:45</p> <p><code>apt</code> \u4e0d\u652f\u6301\u73af\u5883\u53d8\u91cf\uff0c\u4ea6\u4e0d\u652f\u6301 <code>proxychains</code>\uff0c\u9700\u8981\u5355\u72ec\u914d\u7f6e\uff0c <pre><code>$ cat /etc/apt/apt.conf\nAcquire::http::Proxy \"http://localhost:8118\";\nAcquire::https::Proxy \"https://localhost:8118\";\n</code></pre> \u53e6\u89c1 </p> <p>\u7136\u540e</p> <pre><code>source ~/.bashrc\ncurl ipinfo.io/ip #\u6d4b\u8bd5\u662f\u5426\u4ee3\u7406\u6210\u529f\n</code></pre> <p>Tip</p> <p>https://ipinfo.io/ can show more details about the ip, such as the ips for an organization, say, https://ipinfo.io/AS3661. </p>"},{"location":"Internet/sci-int/#cuhk-vpn","title":"CUHK VPN","text":"<p>Info</p> <p>\u4e0d\u7a33\u5b9a\uff0c\u800c\u4e14\u76ee\u524d (2022-08-05 20:58:04) \u5df2\u65e0\u5e10\u53f7\uff0c\u4e0a\u4e00\u6b21\u4f7f\u7528\u4e3a 2020 \u4e0a\u534a\u5e74\u3002</p>"},{"location":"Internet/sci-int/#ubuntu-1604","title":"Ubuntu 16.04","text":"<p>\u5728\u5b89\u88c5 <code>network-manager-l2tp-gnome</code> \u597d\u540e\uff08\u5982 Ubuntu 16.04 Connecting to L2TP over IPSEC via Network Manager\uff09\uff0c\u80fd\u591f\u8fde\u63a5\uff0c\u4f46\u662f\u5e76\u4e0d\u80fd\u8bbf\u95ee google\uff0c\u751a\u81f3 baidu \u4e5f\u4e0d\u884c\uff0c\u800c\u624b\u673a\u7aef vpn \u53ef\u4ee5\u6b63\u5e38\u4f7f\u7528\u3002\u5e76\u4e14\u5c1d\u8bd5\u8bbf\u95ee google \u5931\u8d25\u540e\uff0c\u4fbf\u5f39\u51fa vpn stop \u7684\u6d88\u606f\u3002</p>"},{"location":"Internet/sci-int/#ubuntu-1804","title":"Ubuntu 18.04","text":"<p>In mainland China, still failed. Firstly, I need to install <code>l2tp</code> following the instruction of Setup L2TP over IPsec VPN client on Ubuntu 18.04 using GNOME. Sometimes it can be connected, but quickly disconnected. Then I tried to figure out the reason, such as specifying the phase algorithm, and I known a little about the difference of <code>strongswan</code> between <code>libreswan</code> from L2TP VPN on Ubuntu 18.04 client</p> <pre><code>3DES, modp1024, modp1536 and SHA1 are considered weak by strongswan and newer versions of libreswan, so aren't in their default proposals (although some late versions of libreswan still allow modp1536 and SHA1 with IPsec IKEv1). You can explicitly specify the proposals for phase 1 and 2 in the IPsec config dialog box.\n\n\nYou could try the following with strongswan :\n\nPhase1: aes256-sha1-modp1024,aes128-sha1-modp2048,aes128-sha1-modp1536!\nPhase 2 : aes256-sha1,aes128-sha1!\nOr for libreswan try:\n\nPhase1: aes256-sha1-modp1024,aes128-sha1-modp2048,aes128-sha1-modp1536\nPhase 2 : aes256-sha1,aes128-sha1\nNote the exclamation mark (!) with strongswan that isn't used with libreswan. \n\nIf you are not sure if you are using libreswan or strongswan, run :\n\nipsec --version </code></pre> <p>And when I click the option of </p> <p>Use this connection only for resources on its network</p> <p>seems can visit the websites of school. But neither with nor without this option, I cannot visit Google.</p> <p>And I found a question has quite similar problem with me, then I tried to learn and edit the routing table. \u7b2c\u516b\u7ae0\u3001\u8def\u7531\u89c0\u5ff5\u8207\u8def\u7531\u5668\u8a2d\u5b9a helps me a lot on the understanding of routing. But it seems that I don\u2019t miss the rule pointed out by the question. And so it might be due to the routing table.</p> <p>As a result, I give up and continue to use the reverse SSH to visit google.</p>"},{"location":"Internet/sci-int/#vpn-jump","title":"VPN Jump","text":"<p>\u731c\u6d4b\u53ef\u80fd\u7531\u4e8e\u5899\u7684\u539f\u56e0\u4f7f\u5f97 VPN \u4e0d\u7a33\u5b9a\uff0c\u4e8e\u662f\u5c1d\u8bd5\u5728\u5883\u5916\u670d\u52a1\u5668\u8fde\u63a5 VPN</p> <p>\u9996\u5148\u5b89\u88c5 </p> <pre><code>sudo add-apt-repository ppa:nm-l2tp/network-manager-l2tp\nsudo apt-get install network-manager-l2tp\n</code></pre>"},{"location":"Internet/sci-int/#-x-gui","title":"\u5c1d\u8bd5\u4e00\uff1a\u901a\u8fc7 <code>-X</code> \u5728 GUI \u4e2d\u914d\u7f6e","text":"<p>\u53c2\u8003 setup L2TP IPsec VPN in archlinux using NetworkManager</p> <p>\u6253\u5f00\u914d\u7f6e\u7a97\u53e3\u7684\u547d\u4ee4\u4e3a <code>nm-connection-editor</code>\uff0c\u4f46\u7adf\u7136\u6ca1\u6709\uff0c\u539f\u6765\u6ca1\u6709\u88c5 </p> <pre><code>sudo apt-get install network-manager-gnome\n</code></pre>"},{"location":"Internet/sci-int/#_4","title":"\u5c1d\u8bd5\u4e8c\uff1a\u547d\u4ee4\u884c\u6dfb\u52a0","text":"<p>\u5728\u5c1d\u8bd5\u5bfb\u627e network manager \u7684 command line \u547d\u4ee4\u65f6\uff0c\u53d1\u73b0\u597d\u51e0\u4e2a <code>nmcli</code> \u76f8\u5173\u7684\u547d\u4ee4\uff0c\u4e8e\u662f\u731c\u60f3\u5e94\u8be5\u662f\u53ef\u4ee5\u76f4\u63a5\u5728 command line \u4e2d\u914d\u7f6e\u7684\uff0c\u6bd4\u5982 L2TP Connection Client on ubuntu 18.04 Server \u548c How to configure and Manage Network Connections using nmcli\uff0c\u4f46\u6211\u5148\u5728\u672c\u5730\u6d4b\u8bd5\u6709\u51e0\u4e2a\u95ee\u9898</p> <ul> <li>\u4f3c\u4e4e\u4e0d\u9700\u8981 <code>connection.id</code></li> <li>\u9700\u8981\u6307\u5b9a <code>ifname</code></li> </ul> <p>\u4fee\u6539\u597d\u4e4b\u540e\uff0c\u53ef\u4ee5\u6210\u529f\u6dfb\u52a0\uff0c\u4f46\u662f\u51c6\u5907\u8fde\u63a5\u65f6\uff0c\u62a5\u9519</p> <p>NetworkManager fails with \u201cCould not find source connection\u201d</p> <p>\u53c2\u8003 NetworkManager fails with \u201cCould not find source connection\u201d \u65e0\u679c\u3002\u540e\u6765\u5728 nmcli \u7684\u5b98\u65b9\u6587\u6863\u4e2d\u770b\u5230\uff0c\u4f3c\u4e4e\u8fde\u63a5\u65f6\u9700\u8981\u6307\u5b9a <code>ifname</code>\uff0c\u53ef\u7528\u7684 device \u4e3a</p> <pre><code>sudo nmcli device status </code></pre> <p>\u4f46\u662f\u518d\u6b21\u8fde\u63a5\u4f9d\u65e7\u62a5\u9519\uff0c\u4e0d\u8fc7\u9519\u8bef\u8ddf\u6211\u5728\u5899\u5185\u8bd5\u56fe\u8fde\u63a5 VPN \u65f6\u62a5\u9519\u4f3c\u4e4e\u4e00\u81f4\u3002</p> <p>Error: Connection activation failed: the VPN service stopped unexpectedly.</p>"},{"location":"Internet/sci-int/#windows","title":"\u5c1d\u8bd5\u4e09\uff1aWindows","text":"<p>\u8bd5\u7528 Azure\uff0c\u7533\u8bf7\u4e86\u4e2a Windows 10\uff0c\u6309\u7167 ITSC \u7684\u6307\u793a\u8fde\u63a5 VPN\uff0c\u786e\u5b9e\u80fd\u591f\u6210\u529f\uff0c\u4f46\u662f\u8fde\u63a5\u6210\u529f\u540e\uff0c\u6211\u8ddf\u8be5\u7535\u8111\u7684\u8fde\u63a5\u4e5f\u5c31\u65ad\u5f00\u4e86\uff0c\u518d\u6b21\u5c1d\u8bd5\u4e5f\u8fde\u4e0d\u4e0a\uff0c\u53ea\u597d\u91cd\u542f\u3002</p>"},{"location":"Internet/sci-int/#zju-vpn","title":"ZJU VPN","text":"<p>\u9ec4\u718a\u7684\u6d59\u5927\u7389\u6cc9ubuntu\u6709\u7ebf\u4e0a\u7f51\u8bb2\u5f97\u5f88\u8be6\u7ec6\u3002\u4e0d\u8fc7\u6211\u5374\u78b0\u5230\u4e2a\u5f88\u5947\u602a\u7684\u95ee\u9898\uff0c\u7533\u8bf7\u5b8c\u9759\u6001 IP\uff0c\u80fd\u591f ping \u901a\u5185\u7f51\uff0c\u4f46\u5f53\u6211\u5b89\u88c5\u5b8c <code>xl2tpd_zju</code> \u540e\uff0c\u5374\u603b\u662f\u4e00\u76f4\u8fde\u4e0d\u4e0a\u7f51\uff0c\u66f4\u5947\u602a\u7684\u662f\uff0c\u8fd8\u4e0d\u80fd\u8bbf\u95ee\u5185\u7f51\uff08\u6ca1\u6709\u8fd0\u884c <code>vpn-connect</code> \u524d\u81f3\u5c11\u53ef\u4ee5\u8bbf\u95ee\u5185\u7f51\uff09\u3002\u7136\u540e\u6211\u5c1d\u8bd5\u4e86\u5404\u79cd\u529e\u6cd5\uff0c\u5305\u62ec\u4f46\u4e0d\u9650\u4e8e\uff1a</p> <ol> <li>\u91cd\u88c5 <code>xl2tpd_zju</code>\uff1b</li> <li>\u6362\u4e2a <code>xl2tpd_zju</code> \u7684\u7248\u672c\uff0c\u5728 cc98 \u4e0a\u6709\u4e24\u4e2a\u7248\u672c\uff0c\u4e0b\u8f7d\u94fe\u63a5 xl2tpd_zju\uff1b</li> <li>\u4fee\u6539 <code>/etc/network/interfaces</code></li> <li>\u5404\u79cd\u7ec4\u5408\u5f0f\u64cd\u4f5c</li> </ol> <p>\u4f46\u90fd\u8ff7\u4e4b\u4e0d\u80fd\u8054\u7f51\u3002</p> <p>\u9042\u51c6\u5907\u6362\u79cd\u65b9\u5f0f\uff0c\u53c2\u8003Ubuntu16.04\u914d\u7f6eL2TP-VPN</p> <p>\u4f46\u8fd9\u79cd\u5b89\u88c5\u6700\u65b0\u7248\u672c\uff0c<code>libnma</code>\u7684\u7248\u672c\u8ddf\u4e0d\u4e0a\uff0c\u7136\u540e\u53c2\u8003L2tp IPSEC PSK VPN client on (x)ubuntu 16.04</p> <p>\u76f4\u63a5\u7528</p> <pre><code>sudo add-apt-repository ppa:nm-l2tp/network-manager-l2tp  \nsudo apt-get update  \nsudo apt-get install network-manager-l2tp\nsudo apt-get install network-manager-l2tp-gnome\n</code></pre> <p>\u5b89\u88c5\u3002</p> <p>\u8fd9\u79cd\u65b9\u5f0f\u76f8\u5f53\u4e8e\u589e\u52a0\u4e86 <code>L2TP</code> VPN \u7684\u8bbe\u7f6e\u754c\u9762\uff0c\u5230\u8fd9\u91cc\u6211\u4e5f\u6e10\u6e10\u660e\u767d <code>xl2tpd_zju</code> \u548c\u8fd9\u79cd\u65b9\u5f0f\u672c\u8d28\u4e0a\u5e94\u8be5\u662f\u4e00\u6837\u7684\u3002\u4e8e\u662f\u6211\u6309\u7167\u4e4b\u524d\u7684\u914d\u7f6e\u65b9\u5f0f\u65b0\u5efa\u4e86\u4e00\u4e2a VPN \u7684\u8fde\u63a5\uff0c\u4f46\u8fd8\u662f\u6ca1\u7528\u3002</p> <p>\u6700\u540e\u6211\u6362\u4e86 VPN \u7684 ip\uff08\u6709\u4e24\u4e2a ip\uff0c10.5.1.5 \u548c 10.5.1.9\uff09\uff0c\u4e4b\u524d <code>xl2tpd_zju</code> \u9ed8\u8ba4\u662f 10.5.1.5\uff0c\u8bef\u6253\u8bef\u649e\uff0c\u6539\u6210 10.5.1.9 \u540e\uff0c\u7adf\u7136\u6210\u529f\u4e86\uff01\uff01</p>"},{"location":"Linux/","title":"Linux Notes","text":""},{"location":"Linux/#systemhardware-info","title":"System/Hardware Info","text":"<ul> <li>check linux distribution (refer to How To Find Out My Linux Distribution Name and Version)<ul> <li><code>cat /etc/os-release</code> or <code>cat /ect/*-release</code></li> <li><code>lsb_release -a</code></li> <li><code>hostnamectl</code></li> </ul> </li> </ul> Linux Distributions <p>\u6839\u636e\u5305\u7ba1\u7406\u5668\u8fdb\u884c\u7684\u5206\u7c7b\uff0c\u4e3b\u6d41\u7684\u53d1\u884c\u7248\u6709</p> <ul> <li>apt: Debian, Ubuntu, Linux Mint</li> <li>yum: CentOS, Fedora</li> <li>dnf: Dandified Yum, RPM\u53d1\u884c\u7248\u7684\u8f6f\u4ef6\u5305\u7ba1\u7406\u5668Yellowdog Updater, Modified\uff08yum\uff09\u7684\u4e0b\u4e00\u4ee3\u7248\u672c</li> <li>YaST: openSUSE</li> <li>Pacman: Manjaro\u3001ArchLinux</li> </ul> <p>\u53e6\u5916\uff0c\u6839\u636e\u8fd9\u9053 Shell \u7ec3\u4e60\u9898\uff0c</p> <ul> <li>Redhat Series: Fedora, Gentoo, Redhat</li> <li>Suse Series: Suse, OpenSuse</li> <li>Debian Series: Ubuntu, Mint, Debian</li> </ul> <p>\u53c2\u8003 </p> <ul> <li>Major Distributions: An overview of major Linux distributions and FreeBSD</li> <li>\u77e5\u4e4e\uff1aLinux \u5404\u5927\u53d1\u884c\u7248\u6709\u4ec0\u4e48\u7279\u8272\uff1f</li> </ul> <p>\u76ee\u524d\u53ea\u63a5\u89e6 Ubuntu\uff08\u4e2a\u4eba\u7b14\u8bb0\u672c\uff09 \u548c CentOS, Rocky\uff08\u670d\u52a1\u5668\uff09\uff0c\u6240\u4ee5\u672c\u7b14\u8bb0\u4e3b\u8981\u9488\u5bf9\u8fd9\u4e24\u79cd\u3002</p> <ul> <li>check kernel version:<ul> <li><code>uname -a</code> or <code>uname -mrs</code></li> <li><code>cat /proc/version</code></li> </ul> </li> <li>how long has the system been running (refer to How long has my Linux system been running?):<ul> <li><code>last reboot</code></li> <li><code>uptime --since</code>, which is actually the first line of <code>top</code></li> </ul> </li> <li>obtain MAC address : <code>ifconfig | grep ether</code>, note that different MAC addresses for WIFI and Ethernet.</li> <li>check number of cores (refer to How to know number of cores of a system in Linux?):<ul> <li>quick way: <code>nproc --all</code></li> <li>more details: <code>lscpu | grep -E '^Thread|^Core|^Socket|^CPU\\('</code></li> </ul> </li> </ul> <p>CPU vs Thread vs Core vs Socket</p> <ul> <li>CPU: Central Processing Unit\u3002\u6982\u5ff5\u6bd4\u8f83\u5bbd\u6cdb\uff0c\u4e0d\u540c\u8bed\u5883\u6709\u4e0d\u540c\u542b\u4e49\uff0c\u5982 <code>lscpu</code> \u4fbf\u6307 thread \u4e2a\u6570\u3002<code>CPUs</code> = <code>Threads per core</code> * <code>cores per socket</code> * <code>sockets</code></li> <li>CPU Socket: CPU \u662f\u901a\u8fc7\u4e00\u4e2a\u63d2\u69fd\u5b89\u88c5\u5728\u4e3b\u677f\u4e0a\u7684\uff0c\u8fd9\u4e2a\u63d2\u69fd\u5c31\u662f Socket;</li> <li>Core: \u4e00\u4e2a CPU \u4e2d\u53ef\u4ee5\u6709\u591a\u4e2a core\uff0c\u5404\u4e2a core \u4e4b\u95f4\u76f8\u4e92\u72ec\u7acb\uff0c\u4e14\u53ef\u4ee5\u6267\u884c\u5e76\u884c\u903b\u8f91\uff0c\u6bcf\u4e2a core \u90fd\u6709\u5355\u72ec\u7684\u5bc4\u5b58\u5668\uff0cL1, L2 \u7f13\u5b58\u7b49\u7269\u7406\u786c\u4ef6\u3002</li> <li>Thread: \u5e76\u4e0d\u662f\u7269\u7406\u6982\u5ff5\uff0c\u800c\u662f\u8f6f\u4ef6\u6982\u5ff5\uff0c\u672c\u8d28\u4e0a\u662f\u5229\u7528 CPU \u7a7a\u95f2\u65f6\u95f4\u6765\u6267\u884c\u5176\u4ed6\u4ee3\u7801\uff0c\u6240\u4ee5\u5176\u53ea\u80fd\u7b97\u662f\u5e76\u53d1\uff0c\u800c\u4e0d\u662f\u5e76\u884c\u3002</li> <li>vCPU: \u5e38\u89c1\u4e8e\u865a\u62df\u6838\uff0c\u4e5f\u5c31\u662f Thread</li> </ul> <p><pre><code>G40 $ lscpu | grep -E '^Thread|^Core|^Socket|^CPU\\('\nCPU(s):                          4\nThread(s) per core:              2\nCore(s) per socket:              2\nSocket(s):                       1\n</code></pre> \u8868\u660e\u5176\u4e3a 2 \u6838 4 \u7ebf\u7a0b\u3002</p> <p><pre><code>T460P $ $ lscpu | grep -E '^Thread|^Core|^Socket|^CPU\\('\nCPU(s):              4\nThread(s) per core:  1\nCore(s) per socket:  4\nSocket(s):           1\n</code></pre> \u8868\u660e\u5176\u4e3a 4 \u6838 4 \u7ebf\u7a0b\u3002</p> <p>\u53c2\u8003 \u4e09\u5206\u949f\u901f\u89c8cpu,socket,core,thread\u7b49\u672f\u8bed\u4e4b\u95f4\u7684\u5173\u7cfb</p> <ul> <li>check last logged users: <code>last</code>, but the user field only shows 8 characters. To check the full name, use <code>last -w</code> instead. Refer to last loggedin users in linux showing 8 characters only - Server Fault</li> </ul>"},{"location":"Linux/#locale","title":"Locale","text":"<p>\u533a\u57df\u8bbe\u7f6e\uff08locale\uff09\uff0c\u4e5f\u79f0\u4f5c\u201c\u672c\u5730\u5316\u7b56\u7565\u96c6\u201d\u3001\u201c\u672c\u5730\u73af\u5883\u201d\uff0c\u662f\u8868\u8fbe\u7a0b\u5e8f\u7528\u6237\u5730\u533a\u65b9\u9762\u7684\u8f6f\u4ef6\u8bbe\u5b9a\u3002\u4e0d\u540c\u7cfb\u7edf\u3001\u5e73\u53f0\u3001\u4e0e\u8f6f\u4ef6\u6709\u4e0d\u540c\u7684\u533a\u57df\u8bbe\u7f6e\u5904\u7406\u65b9\u5f0f\u548c\u4e0d\u540c\u7684\u8bbe\u7f6e\u8303\u56f4\uff0c\u4f46\u662f\u4e00\u822c\u533a\u57df\u8bbe\u7f6e\u6700\u5c11\u4e5f\u4f1a\u5305\u62ec\u8bed\u8a00\u548c\u5730\u533a\u3002\u533a\u57df\u8bbe\u7f6e\u7684\u5185\u5bb9\u5305\u62ec\uff1a\u6570\u636e\u683c\u5f0f\u3001\u8d27\u5e01\u91d1\u989d\u683c\u5f0f\u3001\u5c0f\u6570\u70b9\u7b26\u53f7\u3001\u5343\u5206\u4f4d\u7b26\u53f7\u3001\u5ea6\u91cf\u8861\u5355\u4f4d\u3001\u901a\u8d27\u7b26\u53f7\u3001\u65e5\u671f\u5199\u6cd5\u3001\u65e5\u5386\u7c7b\u578b\u3001\u6587\u5b57\u6392\u5e8f\u3001\u59d3\u540d\u683c\u5f0f\u3001\u5730\u5740\u7b49\u7b49\u3002 source: \u7ef4\u57fa\u767e\u79d1</p> <p>locale \u751f\u6548\u7684\u987a\u5e8f\u4e3a</p> <ol> <li><code>LANGUAGE</code>\uff1a\u6307\u5b9a\u4e2a\u4eba\u5bf9\u8bed\u8a00\u73af\u5883\u503c\u7684\u4e3b\u6b21\u504f\u597d\uff0c\u5728 Ubuntu \u4e2d\u6709\u8fd9\u4e2a\u73af\u5883\u53d8\u91cf\uff0c\u4f46\u4f3c\u4e4e\u5728 CentOS7.4 \u670d\u52a1\u5668\u4e0a\u6ca1\u6709\u8fd9\u4e2a\u53d8\u91cf</li> <li><code>LC_ALL</code>: \u8fd9\u4e0d\u662f\u4e00\u4e2a\u73af\u5883\u53d8\u91cf\uff0c\u662f\u4e00\u4e2a\u53ef\u88abC\u8bed\u8a00\u5e93\u51fd\u6570setlocale\u8bbe\u7f6e\u7684\u5b8f\uff0c\u5176\u503c\u53ef\u8986\u76d6\u6240\u6709\u5176\u4ed6\u7684locale\u8bbe\u5b9a\u3002\u56e0\u6b64\u7f3a\u7701\u65f6\u6b64\u503c\u4e3a\u7a7a</li> <li><code>LC_xxx</code>: \u53ef\u8bbe\u5b9alocale\u5404\u65b9\u9762\uff08category\uff09\u7684\u503c\uff0c\u53ef\u4ee5\u8986\u76d6 <code>LANG</code> \u7684\u503c\u3002</li> <li><code>LANG</code>: \u6307\u5b9a\u9ed8\u8ba4\u4f7f\u7528\u7684locale\u503c</li> </ol> <p>\u5982\u82e5\u8bbe\u7f6e\u4e0d\u5f53\uff0c\u53ef\u80fd\u4f1a\u51fa\u73b0</p> <pre><code>$ locale\nlocale: Cannot set LC_CTYPE to default locale: No such file or directory\nlocale: Cannot set LC_MESSAGES to default locale: No such file or directory\nlocale: Cannot set LC_ALL to default locale: No such file or directory\nLANG=C.UTF-8\nLC_CTYPE=C.UTF-8\nLC_NUMERIC=en_US.UTF-8\nLC_TIME=en_US.UTF-8\nLC_COLLATE=\"C.UTF-8\"\nLC_MONETARY=en_US.UTF-8\nLC_MESSAGES=\"C.UTF-8\"\nLC_PAPER=en_US.UTF-8\nLC_NAME=en_US.UTF-8\nLC_ADDRESS=en_US.UTF-8\nLC_TELEPHONE=en_US.UTF-8\nLC_MEASUREMENT=en_US.UTF-8\nLC_IDENTIFICATION=en_US.UTF-8\nLC_ALL=\n</code></pre> <p>\u5219\u53ef\u4ee5\u901a\u8fc7</p> <pre><code>export LC_ALL=en_US.UTF-8\n</code></pre> <p>\u6765\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u8fd9\u4e2a\u53ef\u4ee5\u5199\u8fdb <code>.bashrc</code> \u6587\u4ef6\u4e2d\uff0c\u5e76\u4e14\u4e0d\u9700\u8981 sudo \u6743\u9650\uff0c\u800c How do I fix my locale issue? \u4e2d\u63d0\u5230\u7684\u51e0\u79cd\u65b9\u6cd5\u9700\u8981 sudo \u6743\u9650\u3002</p>"},{"location":"Linux/#shared-objects-so-dynamic-library","title":"shared objects <code>.so</code> (dynamic library)","text":""},{"location":"Linux/#ld_preload","title":"LD_PRELOAD","text":"<p>Note</p> <p>Used in </p> <p>If it is set on the same line before the command, it is only valid on the same line. For example, </p> <pre><code>(R4.1.0) /media/weiya/PSSD/Programs/anaconda3/envs/R4.1.0/lib/R/lib$ ldd libR.so libstdc++.so.6 =&gt; /media/weiya/PSSD/Programs/anaconda3/envs/R4.1.0/lib/R/lib/./../.././libstdc++.so.6 (0x00007f80f4d1e000)\n\n(R4.1.0) /media/weiya/PSSD/Programs/anaconda3/envs/R4.1.0/lib/R/lib$ LD_PRELOAD=/usr/lib/x86_64-linux-gnu/libstdc++.so.6 ldd libR.so /usr/lib/x86_64-linux-gnu/libstdc++.so.6 (0x00007fc70eb4c000)\n</code></pre> <p>Warning</p> <p>it is should be a particular file instead of a folder, otherwise it throws <pre><code>$ LD_PRELOAD=/usr/lib/x86_64-linux-gnu/ ldd libR.so \nERROR: ld.so: object '/usr/lib/x86_64-linux-gnu/' from LD_PRELOAD cannot be preloaded (cannot read file data): ignored.\n</code></pre></p> <p>In the words of , </p> <p>LD_PRELOAD is an environment variable, it affects only the current process</p> <p>Alternatively, we can use <code>export</code> and <code>unset</code>, </p> <pre><code>~/Programs/anaconda3/envs/R4.1.0/lib/R/lib$ export LD_PRELOAD=/usr/lib/x86_64-linux-gnu/libstdc++.so.6\n~/Programs/anaconda3/envs/R4.1.0/lib/R/lib$ ldd libR.so /usr/lib/x86_64-linux-gnu/libstdc++.so.6 (0x00007f601f456000)\n~/Programs/anaconda3/envs/R4.1.0/lib/R/lib$ conda activate R4.1.0\n(R4.1.0) ~/Programs/anaconda3/envs/R4.1.0/lib/R/lib$ echo $LD_PRELOAD \n/usr/lib/x86_64-linux-gnu/libstdc++.so.6\n(R4.1.0) ~/Programs/anaconda3/envs/R4.1.0/lib/R/lib$ ldd libR.so /usr/lib/x86_64-linux-gnu/libstdc++.so.6 (0x00007fb231b15000)\n</code></pre> <p>BTW, in the above, <code>conda activate</code> does not affect.</p> <p>Warning</p> <p><code>export LD_PRELOAD</code> did not work in GitHub Actions, such as . The proper way is to put it to <code>env</code>. </p> <p>Tip</p> <p>The documentation can be found in <code>man ld.so</code>, not <code>man ld</code>.    </p>"},{"location":"Linux/#search-order","title":"search order","text":"<p>An executable look for shared objects (<code>.so</code> files) in the following locations in order</p> <ul> <li><code>rpath</code></li> <li><code>LD_LIBRARY_PATH</code></li> <li><code>runpath</code></li> <li><code>/etc/ld.so.conf</code></li> <li><code>/lib</code></li> <li><code>/usr/lib</code></li> </ul> <p>refer to</p> <ul> <li>Shared Libraries: Understanding Dynamic Loading (Highly Recommended)</li> <li>Where do executables look for shared objects at runtime?</li> </ul> <p>So there are several ways to fix the NotFound error,</p> <pre><code># method 1\nsudo ln -s /where/your/lib/*.so /usr/lib\nsudo ldconfig\n# method 2\nexport LD_LIBRARY_PATH=/where/your/lib:$LD_LIBRARY_PATH`\nsudo ldconfig\n# method 3\nsudo echo \"where/your/lib\" &gt;&gt; /etc/ld.so.conf\nsudo ldconfig\n</code></pre>"},{"location":"Linux/#update-alternatives","title":"update-alternatives","text":"<p>\u53ef\u4ee5\u901a\u8fc7 <code>update-alternatives</code> \u8fdb\u884c\u5207\u6362\uff0c\u4f46\u6ce8\u610f\u8981\u63d0\u524d\u5b89\u88c5 <code>install</code> alternatives\uff0c\u8fd9\u91cc\u7684 install \u4e0d\u662f\u4e0b\u8f7d\u6e90\u7801\u5b89\u88c5\uff0c\u800c\u662f\u5c06\u7cfb\u7edf\u4e2d\u5df2\u6709\u7684\u4e0d\u540c\u7248\u672c\u7684 gcc \u5b89\u88c5\u5230 alternatives \u4e2d\u3002\u6bd4\u5982\u5f53\u524d\u6211\u7535\u8111\u7684 gcc \u2013version \u662f 7.5.0\uff0c\u4f46\u662f\u4ecd\u6709 <code>gcc-5</code>, <code>gcc-4.8</code> \u7b49\u547d\u4ee4\uff0c\u4e0d\u8fc7\u8fd9\u4e9b\u5e76\u4e0d\u5728 alternatives \u4e2d\uff0c\u56e0\u4e3a\u5982\u679c\u76f4\u63a5\u8fd0\u884c</p> <pre><code>$ sudo update-alternatives --config gcc\nupdate-alternatives: error: no alternatives for gcc\n</code></pre> <p>\u6240\u4ee5\u53ef\u4ee5\u6309\u7167 How to switch GCC version using update-alternatives \u5148</p> <pre><code>sudo update-alternatives --install ....\n</code></pre> <p>\u7136\u540e\u518d config.</p>"},{"location":"Linux/#kill-processes","title":"Kill Processes","text":"<p>\u53c2\u8003linux\u4e0b\u6740\u6b7b\u8fdb\u7a0b\uff08kill\uff09\u7684N\u79cd\u65b9\u6cd5</p> <pre><code>ps -ef | grep R\nkill -s 9 ...\n</code></pre> <p>\u5176\u4e2d <code>ps -ef</code> \u8f93\u51fa\u683c\u5f0f\u4e3a</p> <pre><code>$ ps -ef | head -2\nUID        PID  PPID  C STIME TTY          TIME CMD\nroot         1     0  0 09:15 ?        00:00:44 /sbin/init splash\n</code></pre> <p>\u6bcf\u4e00\u5217\u7684\u542b\u4e49\u53ef\u4ee5\u5728 <code>man ps</code> \u4e2d\u7684 <code>STANDARD FORMAT SPECIFIERS</code> \u5c0f\u8282\u4e2d\u627e\u5230\uff0c\u5177\u4f53\u5730\uff0c</p> <ul> <li><code>UID</code>: same with EUID, effective user ID (alias uid).</li> <li><code>PID</code>: a number representing the process ID (alias tgid).</li> <li><code>PPID</code>: parent process ID.</li> <li><code>C</code>: processor utilization. Currently, this is the integer value of the percent usage over the lifetime of the process.  (see %cpu).</li> <li><code>STIME</code>: same with <code>START</code>, starting time or date of the process.  Only the year will be displayed if the process was not started the same year ps was invoked, or \u201cMmmDD\u201d if it was not started the same day, or \u201cHH:MM\u201d otherwise.  See also bsdstart, start, lstart, and stime.</li> <li><code>TTY</code>: controlling tty (terminal).  (alias tt, tty).</li> <li><code>TIME</code>: cumulative CPU time, \u201c[DD-]HH:MM:SS\u201d format.  (alias cputime).</li> <li><code>CMD</code>: see args.  (alias args, command). when the arguments to that command cannot be located, \u4f1a\u88ab\u4e2d\u62ec\u53f7 <code>[]</code> \u5305\u8d77\u6765</li> </ul>"},{"location":"Linux/#user-vs-sys","title":"<code>user</code> vs. <code>sys</code>","text":"<ul> <li><code>time</code> commands return three times, named <code>real</code>, <code>user</code> and <code>sys</code>, the detailed explanation refers to What do \u2018real\u2019, \u2018user\u2019 and \u2018sys\u2019 mean in the output of time(1)?</li> <li><code>user space</code> vs <code>kernel space</code>: \u7ef4\u57fa\u767e\u79d1\u8bf4\uff0c\u5728\u64cd\u4f5c\u7cfb\u7edf\u4e2d\uff0c\u865a\u62df\u5185\u5b58\u901a\u5e38\u4f1a\u88ab\u5206\u6210\u7528\u6237\u7a7a\u95f4\uff08\u82f1\u8bed\uff1aUser space\uff0c\u53c8\u8bd1\u4e3a\u4f7f\u7528\u8005\u7a7a\u95f4\uff09\uff0c\u4e0e\u6838\u5fc3\u7a7a\u95f4\uff08\u82f1\u8bed\uff1aKernel space\uff0c\u53c8\u8bd1\u4e3a\u5185\u6838\u7a7a\u95f4\uff09\u8fd9\u4e24\u4e2a\u533a\u6bb5\u3002</li> </ul>"},{"location":"Linux/#control-android-phone-by-pcs-mouse-and-keyboard","title":"control android phone by PC\u2019s mouse and keyboard","text":"<p>How to Control Your Android Using Your Computer\u2019s Mouse and Keyboard</p>"},{"location":"Linux/#run-in-background","title":"Run in Background","text":"<ul> <li> <p>\u547d\u4ee4\u672b\u5c3e\u7684 <code>&amp;</code> \u8868\u793a\u5728\u540e\u53f0\u8fd0\u884c\u3002refer to What does \u201c&amp;\u201d at the end of a linux command mean?</p> </li> <li> <p><code>jobs -l</code> \u8fd4\u56de\u540e\u53f0\u8fd0\u884c\u7a0b\u5e8f\u7684 <code>PID</code>\uff0crefer to How to get PID of background process?</p> </li> </ul> <p>\u4f46\u662f <code>jobs</code> \u53ea\u663e\u793a\u5c5e\u4e8e\u5f53\u524d shell \u7684\u540e\u53f0\u7a0b\u5e8f, \u5982\u679c\u91cd\u65b0\u767b\u5f55\uff0c\u5219\u4e0d\u4f1a\u663e\u793a\u540e\u53f0\u7a0b\u5e8f\uff0c\u8be6\u89c1 <code>jobs</code> command doesn\u2019t show any background processes</p> <ul> <li><code>nohup command &amp;</code> vs <code>command &amp;</code>: \u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u524d\u8005\u5728\u5f53\u524d shell \u5173\u6389\u60c5\u51b5\u4e0b\u4ecd\u80fd\u8fd0\u884c\uff0c\u540e\u8005\u4e0d\u884c\uff1b\u4f46\u5176\u5b9e\u5982\u679c <code>shopt | grep hupon</code> \u7684\u9009\u9879\u4e3a off \uff08\u8be6\u7ec6\u89e3\u91ca\u53e6\u89c1 How bash handles the jobs when logout? - Stack Overflow\uff09\uff0c\u540e\u8005\u4e5f\u80fd\u7ee7\u7eed\u8fd0\u884c\uff08\u901a\u8fc7 <code>ps -ef | grep command</code> \u68c0\u67e5\u8fd0\u884c\u72b6\u6001\uff09\uff0c\u6240\u4ee5\u533a\u522b\u4e0d\u5927\uff0c\u4e0d\u8fc7\u5982\u679c\u6709\u8f93\u51fa\u524d\u8005\u4f1a\u8f93\u51fa\u5230\u6587\u4ef6 <code>nohup.txt</code>\u3002\u66f4\u591a\u7ec6\u8282\u8be6\u89c1 What\u2019s the difference between nohup and ampersand<ul> <li>\u5728 tmux session \u91cc\u9762\uff0c\u5f53\u5173\u95ed tmux session \u65f6\uff0c\u53ea\u6709 <code>nohup ./foo.sh &amp;</code> \u53ef\u4ee5\u7ee7\u7eed\u8fd0\u884c\uff0c\u800c <code>./foo.sh &amp;</code> \u5219\u4e0d\u884c\uff0c\u5176\u4e2d <code>foo.sh</code> \u4e2d\u4ee3\u7801\u4e3a <code>for i in {1..100}; do echo $i; sleep 1; done</code>\u3002\u53e6\u89c1\u6211\u63d0\u7684\u95ee\u9898 linux - Different behaviors of nuhup and ampersand (<code>&amp;</code>) in tmux - Stack Overflow</li> </ul> </li> </ul> <p>\u4f3c\u4e4e <code>docker run</code> \u4f7f\u7528 nohup \u4f1a\u76f4\u63a5\u9000\u51fa\uff0c\u5e76\u751f\u6210\u6587\u4ef6 <code>nohup.txt</code>\uff0c\u91cc\u9762\u5185\u5bb9\u4e3a\u201cthe input device is not a TTY\u201d.</p>"},{"location":"Linux/#crontab","title":"crontab\u5b9a\u65f6\u4efb\u52a1","text":"<p><code>* */1 * * * *</code> \u8868\u73b0\u4e3a\u6bcf\u5206\u949f\u6267\u884c\uff0c\u4f46\u662f\u672c\u6765\u7b2c 1 \u5217\u5e94\u5f53\u4e3a\u5206\u949f\uff0c\u800c\u7b2c 2 \u5217\u4e3a\u5c0f\u65f6\uff0c\u8fd9\u6837\u4f7f\u7528\u5bf9\u7528\u6cd5\u7406\u89e3\u9519\u8bef\uff0c\u800c\u4e14\u6539\u6210 <code>* * */1 * * *</code> \u4ecd\u7136\u8868\u73b0\u4e3a\u6bcf\u5206\u949f\u3002\u8bd5\u56fe</p> <pre><code>sudo service cron restart\n# or\nsudo service cron reload\n</code></pre> <p>\u90fd\u5931\u8d25\u4e86\u3002\u6240\u4ee5\u8fd8\u662f\u7406\u89e3\u51fa\u73b0\u4e86\u504f\u5dee\uff0c</p> <p>\u53c2\u8003Linux \u8bbe\u7f6e\u5b9a\u65f6\u4efb\u52a1crontab\u547d\u4ee4 \u548c \u5173\u4e8e\u5b9a\u65f6\u6267\u884c\u4efb\u52a1\uff1aCrontab\u768420\u4e2a\u4f8b\u5b50</p>"},{"location":"Linux/#gvim-fullscreen","title":"gvim fullscreen","text":"<p>refer to Is there a way to turn gvim into fullscreen mode?</p> <p>In short,</p> <ol> <li>install wmctrl</li> <li>map F11 via .vimrc</li> </ol>"},{"location":"Linux/#remove-broken-link","title":"remove broken link","text":"<pre><code>find -L . -name . -o -type d -prune -o -type l -exec rm {} +\n</code></pre> <p>Delete all broken symbolic links with a line?</p>"},{"location":"Linux/#hydrogen-specify-the-conda-environment","title":"hydrogen specify the conda environment","text":"<p>just need to run</p> <pre><code>source activate thisenv\npython -m ipykernel install --user --name thisenv\n</code></pre> <p>and only once, hydrogen will remember this!!</p> <p>ref to How to specify the conda environment in which hydrogen (jupyter) starts?</p>"},{"location":"Linux/#netrc","title":".netrc","text":"<p>\u4e3a\u4e86\u5b66\u4e60 RL\uff0c\u5728\u542c\u4e86\u5468\u535a\u78ca\u5728 B \u7ad9\u7684\u89c6\u9891\u540e\uff0c\u51c6\u5907\u73a9\u4e0b\u793a\u4f8b\u4ee3\u7801\uff0c\u4f46\u662f\u5728\u7ec8\u7aef\u4e2d\u521b\u5efa\u65b0 conda \u73af\u5883\u65f6\uff0c</p> <pre><code>conda create --name RL python=3\n</code></pre> <p>\u603b\u662f\u62a5\u9519\uff0c</p> <p>Collecting package metadata (current_repodata.json): failed</p> <p>ProxyError: Conda cannot proceed due to an error in your proxy configuration. Check for typos and other configuration errors in any \u2018.netrc\u2019 file in your home directory, any environment variables ending in \u2018_PROXY\u2019, and any other system-wide proxy configuration settings.</p> <p>\u5176\u4e2d\u63d0\u5230\u4e00\u4e2a <code>.netrc</code>\uff0c\u6ca1\u60f3\u5230\u81ea\u5df1\u7adf\u7136\u8fd8\u771f\u7684\u6709\u8fd9\u4e2a\u6587\u4ef6\uff0c\u770b\u4e86\u4e0b\u5185\u5bb9\uff0c\u53ea\u6709\u4e24\u6761\uff0c</p> <pre><code>machine api.heroku.com\n...\nmachine git.heroku.com\n...\n</code></pre> <p>\u8fd9\u624d\u610f\u8bc6\u5230\u5f88\u65e9\u65e0\u610f\u8bc6\u4e2d\u6298\u817e heroku \u65f6\u521b\u5efa\u7684\u3002\u90a3\u8fd9\u4e2a\u6587\u4ef6\u662f\u5e72\u561b\u7684\u5462\uff0c\u67e5\u4e86\u4e00\u4e0b\u53d1\u73b0</p> <p>This is a file that is often used by Unix programs to hold access details for remote sites. It was originally created for use with FTP.</p> <p>\u6700\u540e\u8fd9\u4e2a\u95ee\u9898\u662f\u76f4\u63a5\u628a .bashrc \u4e2d\u6240\u6709\u7684\u4ee3\u7406\u53bb\u6389\u4e86.</p>"},{"location":"Linux/#gpg-error","title":"GPG error","text":"<pre><code>$ sudo apt-get update\nW: An error occurred during the signature verification. The repository is not updated and the previous index files will be used. GPG error: https://cloud.r-project.org/bin/linux/ubuntu bionic-cran35/ InRelease: The following signatures were invalid: EXPKEYSIG 51716619E084DAB9 Michael Rutter &lt;marutter@gmail.com&gt;\nW: Failed to fetch https://cloud.r-project.org/bin/linux/ubuntu/bionic-cran35/InRelease  The following signatures were invalid: EXPKEYSIG 51716619E084DAB9 Michael Rutter &lt;marutter@gmail.com&gt;\nW: Some index files failed to download. They have been ignored, or old ones used instead.\n</code></pre> <p>and got the expired key via</p> <pre><code>$ apt-key list\npub   rsa2048 2010-10-19 [SCA] [expired: 2020-10-16]\n...\nuid           [ expired] Michael Rutter &lt;marutter@gmail.com&gt;\n</code></pre> <p>but it seems not work following How to solve an expired key (KEYEXPIRED) with apt</p> <pre><code>$ apt-key adv --keyserver keys.gnupg.net --recv-keys 51716619E084DAB9\nExecuting: /tmp/apt-key-gpghome.CYSI3C6heK/gpg.1.sh --keyserver keys.gnupg.net --recv-keys 51716619E084DAB9\ngpg: key 51716619E084DAB9: \"Michael Rutter &lt;marutter@gmail.com&gt;\" not changed\ngpg: Total number processed: 1\ngpg:              unchanged: 1\n</code></pre> <p>then I tried another keyserver mentioned in Installing R from CRAN Ubuntu repository: No Public Key Error</p> <pre><code>$ sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys 51716619E084DAB9\n[sudo] password for weiya:\nExecuting: /tmp/apt-key-gpghome.xUS3ZEg8N2/gpg.1.sh --keyserver keyserver.ubuntu.com --recv-keys 51716619E084DAB9\ngpg: key 51716619E084DAB9: \"Michael Rutter &lt;marutter@gmail.com&gt;\" 2 new signatures\ngpg: Total number processed: 1\ngpg:         new signatures: 2\n</code></pre> <p>Now, new signatures come, and no expired again.</p> <p>Another one,</p> <pre><code>W: An error occurred during the signature verification. The repository is not updated and the previous index files will be used. GPG error: https://download.opensuse.org/repositories/Emulators:/Wine:/Debian/xUbuntu_18.04 ./ InRelease: The following signatures were invalid: EXPKEYSIG DFA175A75104960E Emulators OBS Project &lt;Emulators@build.opensuse.org&gt;\nW: Failed to fetch https://download.opensuse.org/repositories/Emulators:/Wine:/Debian/xUbuntu_18.04/./InRelease  The following signatures were invalid: EXPKEYSIG DFA175A75104960E Emulators OBS Project &lt;Emulators@build.opensuse.org&gt;\nW: Some index files failed to download. They have been ignored, or old ones used instead.\n</code></pre> <p>according to the record on WeChat in Linux, it seems that this one is not important, and for simplest, I just untick this repository in the software setting.</p>"},{"location":"Linux/#sftp-via-file-manager","title":"sftp via File Manager","text":"<p>\u5728\u7528 <code>connect to server</code> \u65f6\uff0c\u7ecf\u5e38\u5f39\u51fa\u7a97\u53e3\u8981\u6c42\u8f93\u5165\u7528\u6237\u540d\u53ca\u5bc6\u7801\uff0c\u683c\u5f0f\u4e3a <code>sftp://xxx.xxx.xx.xx</code>\uff0c\u5982\u679c\u907f\u514d\u8f93\u5165\u5bc6\u7801\uff0c\u4e0d\u59a8\u91c7\u7528 <code>sftp://user@xxx.xxx.xx.xx</code>\u3002\u4e0d\u8fc7\u6709\u65f6\u5728\u767b\u5f55\u5176\u5b83\u670d\u52a1\u5668\u65f6\uff0c\u4e0d\u6307\u5b9a\u7528\u6237\u540d\u8fd8\u662f\u76f4\u63a5\u767b\u8fdb\u53bb\u4e86\uff0c\u4e0d\u592a\u6e05\u695a\u4e3a\u4ec0\u4e48\uff0c\u731c\u60f3\u4f1a\u4e0d\u4f1a\u662f\u8fd9\u51e0\u4e2a\u670d\u52a1\u5668\u7684\u7528\u6237\u540d\u521a\u597d\u8ddf\u672c\u5730\u76f8\u540c\u3002</p>"},{"location":"Linux/#you-have-new-mail","title":"You have new mail","text":"<p>Here is a message when I login in to the Office PC,</p> <pre><code>You have new mail.\nLast login: Thu May 20 13:29:14 2021 from 127.0.0.1\n</code></pre> <p>Refer to \u201cYou have mail\u201d \u2013 How to Read Mail in Linux Command Line, the message is stored in the spool file, which is located at <code>/var/mail/$(whoami)</code>. The I found that this is a failed email when I wrote the mail notification script when there are new error message in <code>/var/log/apache2/error.log</code>.</p>"},{"location":"Linux/#systemd","title":"systemd","text":"<p>systemd is a system and session manager for Linux, compatible with SysV and LSB init scripts. systemd </p> <ul> <li>provides aggressive parallelization capabilities, </li> <li>uses scoket and D-Bus activation for starting services, </li> <li>offers on-demand starting of daemons,</li> <li>keeps track of processes using Linux cgroups</li> <li>supports snapshotting and restoring of the system state</li> <li>maintains mount and automount points</li> <li>implements an elaborate transactional dependency-based service control logic.</li> </ul>"},{"location":"Linux/#control-systemd-once-booted","title":"control systemd once booted","text":"<p>The main command used to control systemd is <code>systemctl</code>. </p> <ul> <li><code>systemctl list-units</code>: list all units</li> <li><code>systemctl start/stop [NAME]</code>: start/stop (activate/deactivate) one or more units</li> <li><code>systemctl enable/disable [NAME]</code>: enable/disable one or more unit files</li> <li><code>systemctl reboot</code>: shut down and reboot the system</li> </ul> <p>Warning</p> <p>WSL does not support <code>systemd</code>, for example, it throws</p> <pre><code>$ systemctl list-units\nSystem has not been booted with systemd as init system (PID 1). Can't operate.\n</code></pre> <p>see also</p> <ul> <li>How to make WSL run services at startup - Super User</li> </ul> <p>See also: systemd/User - ArchWiki</p>"},{"location":"Linux/#locally-via-user","title":"locally via <code>--user</code>","text":"<p>the service can be also set up locally, such as <code>~/.local/share/systemd/user/ssh4lab.service</code> in </p> <p>we can check the status and manage it via</p> <pre><code>systemctl --user status/stop/start/disable/enable ssh4lab\n</code></pre> <p>see also: </p>"},{"location":"Linux/#system-monitor","title":"System Monitor","text":"<p>I am currently using the gnome-shell extension and Netdata: Web-based Real-time performance monitoring</p> <p>Info</p> <p>Other candidates:</p> <ul> <li><code>glances</code>: refer to What system monitoring tools are available?</li> </ul> <ul> <li><code>ram_available</code>: percentage of estimated amount of RAM available for userspace processes, without causing swapping <ul> <li>swap vs ram: see \u6df1\u5165\u7406\u89e3swap\u4ea4\u6362\u5206\u533a\u7406\u89e3\u53ca\u6269\u5b58 \u2013 \u77e5\u4e4e</li> <li>check with <code>free -m</code></li> </ul> </li> <li><code>ram_in_use</code>: system memory utilization</li> <li><code>30min_ram_swapped_out</code>: percentage of the system RAM swapped in the last 30 minutes  (???)</li> <li><code>system.load</code>: \u7cfb\u7edf\u8d1f\u8f7d\u5e73\u5747\u503c\uff08system load averages\uff09\uff0c\u5b83\u5c06\u6b63\u5728\u8fd0\u884c\u7684\u7ebf\u7a0b\uff08\u4efb\u52a1\uff09\u5bf9\u7cfb\u7edf\u7684\u9700\u6c42\u663e\u793a\u4e3a\u5e73\u5747\u8fd0\u884c\u6570\u548c\u7b49\u5f85\u7ebf\u7a0b\u6570\u3002Linux load averages \u53ef\u4ee5\u8861\u91cf\u4efb\u52a1\u5bf9\u7cfb\u7edf\u7684\u9700\u6c42\uff0c\u5e76\u4e14\u5b83\u53ef\u80fd\u5927\u4e8e\u7cfb\u7edf\u5f53\u524d\u6b63\u5728\u5904\u7406\u7684\u6570\u91cf\uff0c\u5927\u591a\u6570\u5de5\u5177\u5c06\u5176\u663e\u793a\u4e3a\u4e09\u4e2a\u5e73\u5747\u503c\uff0c\u5206\u522b\u4e3a 1\u30015 \u548c 15 \u5206\u949f\u503c\uff08\u53c2\u8003 Linux Load Averages\uff1a\u4ec0\u4e48\u662f\u5e73\u5747\u8d1f\u8f7d\uff1f - \u77e5\u4e4e\uff09\u3002<ul> <li><code>load_average_1</code>: system one-minute load average </li> <li><code>load_average_5</code>: system five-minute load average </li> <li><code>load_average_15</code>: system fifteen-minute load average</li> <li>\u5982\u679c\u5e73\u5747\u503c\u4e3a 0.0\uff0c\u610f\u5473\u7740\u7cfb\u7edf\u5904\u4e8e\u7a7a\u95f2\u72b6\u6001</li> <li>\u5982\u679c 1min \u5e73\u5747\u503c\u9ad8\u4e8e 5min \u6216 15min \u5e73\u5747\u503c\uff0c\u5219\u8d1f\u8f7d\u6b63\u5728\u589e\u52a0</li> <li>\u5982\u679c 1min \u5e73\u5747\u503c\u4f4e\u4e8e 5min \u6216 15min \u5e73\u5747\u503c\uff0c\u5219\u8d1f\u8f7d\u6b63\u5728\u51cf\u5c11</li> <li>\u5982\u679c\u5b83\u4eec\u9ad8\u4e8e\u7cfb\u7edf CPU \u7684\u6570\u91cf\uff0c\u90a3\u4e48\u7cfb\u7edf\u5f88\u53ef\u80fd\u4f1a\u9047\u5230\u6027\u80fd\u95ee\u9898</li> </ul> </li> <li><code>python.d_job_last_collected_secs</code>: number of seconds since the last successful data collection </li> <li><code>system.swap</code><ul> <li><code>used_swap</code>: swap memory utilization</li> </ul> </li> <li><code>system.cpu</code><ul> <li><code>10min_cpu_usage</code>: average CPU utilization over the last 10 minutes (excluding iowait, nice and steal) </li> <li><code>10min_cpu_iowait</code>: average CPU iowait time over the last 10 minutes </li> </ul> </li> <li><code>ipv4.udperrors</code><ul> <li><code>1m_ipv4_udp_receive_buffer_errors</code>\uff1a average number of UDP receive buffer errors over the last minute </li> </ul> </li> <li><code>disk_space_usage</code>: disk / space utilization</li> <li><code>linux_power_supply_capacity</code>: percentage of remaining power supply capacity</li> <li><code>10s_ipv4_tcp_resets_received</code>: average number of received TCP RESETS over the last 10 seconds. This can be an indication that a service this host needs has crashed. Netdata will not send a clear notification for this alarm.</li> <li><code>net.enp2s0</code><ul> <li><code>1m_received_traffic_overflow</code>: average inbound utilization for the network interface enp2s0 over the last minute: check if there are attempts to attack the server via <code>/var/log/secure</code>, refer to \u8be6\u89e3CentOS\u901a\u8fc7\u65e5\u5fd7\u53cd\u67e5\u5165\u4fb5</li> </ul> </li> <li><code>net_fifo.enp2s0.10min_fifo_errors</code>: number of FIFO errors for the network interface enp2s0 in the last 10 minutes possibly the indicator for much overflow to the disk</li> </ul>"},{"location":"Linux/#get-history-of-other-ttypts","title":"Get history of other tty/pts?","text":"<p>seems not.</p> <p>see also How to get complete history from different tty or pts - Stack Overflow</p>"},{"location":"Linux/16to18/","title":"16to18","text":""},{"location":"Linux/16to18/#1604-1804","title":"16.04 -&gt; 18.04","text":"<p>Info</p> <p>Date: 2020-04-12</p> <p>I want to install BaiduYunpan for Linux, but actually I have tried it before, which cannot work for my current version. However, I note that the version has been updated, although it is still for Ubuntu 18.04, not Ubuntu 16.04. </p> <p>Same results with the previous try, cannot start it after installing it, and no error thrown in the install procedure. But today I went further, I found that after I type</p> <pre><code>/opt/baidunetdisk/baidunetdisk </code></pre> <p>it throws an error,</p> <p>This program requires version 3.3.0 of the Protocol Buffer runtime library, but the installed version is 2.6.1.</p> <p>Try to install latest version from protocolbuffers/protobuf, first time the latest one, 3.14, but it doesn\u2019t work and it require <code>.so.9</code>, while v3.14 has a <code>.so.22</code>, I also tried copy <code>.so.22</code> to <code>.so.9</code>, or make a soft link, doesn\u2019t work. The second time I install <code>v3.3</code>, the <code>.so.[NUM]</code> still does not match, and hence doesn\u2019t work.</p> <p>The error is </p> <p>libmirprotobuf.so.3: undefined symbol: _ZNK6google8protobuf11MessageLite25InitializationErrorStringB5cxx11Ev</p> <p>and then I follow the instructions in Ubuntu: mir package</p> <pre><code>sudo apt-get purge libprotobuf-lite9v5\nsudo apt-get install libprotobuf-lite9v5\n</code></pre> <p>the first step throws the dependencies warnings, related to <code>libqt5</code>, then I uninstall <code>libqt5</code>. Unfortunately, many running programs then exit when the uninstalling procedure keeps going, and I found that I make a big mistake!!</p> <p>Now, maybe the best way is to update my system from Ubuntu 16.04 to Ubuntu 18.04 to recover the broken system. Actually I have updated my old PC from 16.04 to 18.04, seems quite fluent.</p> <p>However, for this PC, there are many disappointing problem.</p> <pre><code>sudo apt-get update\nsudo apt-get dist-upgrade\nsudo apt autoremove\n</code></pre> <p>it is necessary to modify <code>/etc/update-manager/release-upgrades</code> from <code>never</code> to <code>lts</code>, otherwise it cannot detect new release version. Then run</p> <pre><code>sudo do-release-upgrade\n</code></pre> <p>refer to \u5c06 Ubuntu 16.04 LTS \u5347\u7ea7\u5230 Ubuntu 18.04 LTS</p> <p>Due to previous HK Ubuntu mirror, the speed is quite slow, then the first thing I need to do is to replace the mirror in <code>/etc/apt/sources.list</code> with aliyun by <code>sed</code> operation via</p> <pre><code>sudo sed -i \"s#http://ftp.cuhk.edu.hk/pub/Linux/ubuntu/#http://mirrors.aliyun.com/ubuntu/#\" sources.list\n</code></pre> <p>\u540e\u6765\u66f4\u65b0\u81f3\uff0c</p> <pre><code>sudo sed -i \"s#ftp.cuhk.edu.hk/pub/Linux#archive.ubuntu.com#g\" sources.list\n</code></pre> <p>Then go on. However, I mistook enter something in the middle, and stop the installation procedure, that is might be part of the reason why I met so many problems.</p> <p>Try to run <code>do-release-upgrade</code> again, but it said no new release version, and told me to upgrade the software in the current version. Actually it is Ubuntu 18.04 now, checking by</p> <pre><code>lsb_release -a\n</code></pre> <p>then I run </p> <pre><code>sudo apt-get update\nsudo apt-get upgrade\n</code></pre> <p>after the first run, I think I am OK. But in the rebooting, I cannot enter into the system, the Ubuntu logo is twinkling, and sometimes I can switch to the command window, it holds with message</p> <p>a start job is running for hold until boot process finishes up\uff08X s/unlimit\uff09</p> <p>but do not want to try the re-install solution in \u95ee\u98981\uff1aa start job is running for hold until boot process finishes up\uff08X s/unlimit\uff09, because I guess my situation would be quite different, since I uninstall <code>libqt5</code>, and interrupt the normal release updating procedure, </p> <p>Then I found some other possible solutions,</p> <pre><code>sudo apt-get update\nsudo apt-get install --reinstall ubuntu-desktop\nsudo apt-get install unity\n</code></pre> <p>But the first thing I need to do is to stop it by power, and then choose to start an advanced session in the grub session, and I chose a <code>recovery mode</code>, then I entered into a command line. And I can continue to fix the problem.</p> <p>But before I can install the <code>desktop</code>, repeat to run <code>update</code> and <code>upgrade</code>, then updating texlive from 2015 to 2017 throws an error,</p> <p>dpkg: error processing archive /var/cache/apt/archives/texlive-fonts-extra-doc_2017.20180305-2_all.deb (\u2013unpack): trying to overwrite \u2018/usr/share/doc/texlive-doc/latex/mweights/README\u2019, which is also in package texlive-latex-extra-doc 2015.20160320-1 dpkg-deb: error: paste subprocess was killed by signal (Broken pipe)</p> <p>try <code>install -f</code>, but does not work, the solution is</p> <pre><code>sudo dpkg -i --force-all /var/cache/apt/archives/texlive-fonts-extra-doc_2017.20180305-2_all.deb\n</code></pre> <p>refer to \u5728apt\u66f4\u65b0texlive\u52302017\u7684\u95ee\u9898</p> <p>then I reboot to test, but the internet broken, <code>ifconfig</code> only returns <code>lo</code>, but <code>ifconfig -a</code> shows all possible cards, I have tried <code>service restart</code> like in UBUNTU ifconfig\u53ea\u6709lo, but it does not work, then I found the solution worked for me</p> <pre><code>sudo dhclient enp**\n</code></pre> <p>in Ubuntu\u8f93\u5165ifconfig\u627e\u4e0d\u5230IP\u5730\u5740\uff0c\u53ea\u6709lo\u95ee\u9898.</p> <p>Reboot after the <code>desktop</code> is successfully installed, I can enter into the graphical system!!</p>"},{"location":"Linux/18to20/","title":"18to20","text":""},{"location":"Linux/18to20/#1804-2004","title":"18.04 -&gt; 20.04","text":"<p>Info</p> <p>Date: 2021-09-12</p>"},{"location":"Linux/18to20/#_1","title":"\u5347\u7ea7\u524d","text":"<p>\u4eca\u5929\u4e0a\u5348\u6765\u5230\u529e\u516c\u5ba4\uff0c\u53d1\u73b0\u7535\u8111\u6b7b\u673a\u4e86\uff0c\u5c4f\u4fdd\u65f6\u95f4\u505c\u7559\u5728 7:45\uff0c\u4f46\u73b0\u5728\u5df2\u7ecf 9:29 \u4e86\uff0c\u8fd9\u5e94\u8be5\u662f\u6765\u54c8\u4f5b\u5341\u6765\u5929\u7684\u7b2c\u4e00\u6b21\u6b7b\u673a\u3002</p> <p>\u4e0d\u62b1\u5e0c\u671b\u5730\u76f4\u63a5\u5f3a\u5236\u91cd\u542f\uff0c\u4f46\u662f\u91cd\u542f\u540e\u660e\u663e\u611f\u89c9 Lenovo \u7684\u52a0\u8f7d\u901f\u5ea6\u53d8\u5f97\u5f88\u6162\uff0c\u4e00\u76f4\u505c\u7559\u5728 LENOVO \u7684 logo \u754c\u9762\uff0c\u5e95\u4e0b\u4e00\u884c\u5b57\u63d0\u793a\uff0c\u6309 Enter \u952e\u6253\u65ad\u6b63\u5e38\u91cd\u542f\uff0c\u6b63\u5e38\u60c5\u51b5\u4e0b\u8fd9\u4e2a\u754c\u9762\u53ea\u4f1a\u505c\u987f\u4e00\u4e24\u79d2\uff0c\u4f46\u8fd9\u6b21\u4f3c\u4e4e\u5f97\u6709 1 \u5206\u949f\u4e86\u3002\u672c\u4ee5\u4e3a\u53c8\u9700\u8981\u5f3a\u5236\u91cd\u542f\uff0c\u4f46\u662f\u8fc7\u4e86\u4e00\u4f1a\uff0c\u5e95\u4e0b\u90a3\u884c\u5b57\u6d88\u5931\u4e86\uff0c\u53ea\u5269\u4e0b LENOVO \u56fe\u6807\uff0c\u8fd9\u8bf4\u660e\u5b83\u8fd8\u5728\u52a0\u8f7d\uff0c\u53ea\u662f\u6bd4\u8f83\u6162\uff0c\u8fd9\u65f6\u5019\u89c9\u5f97\u53ef\u80fd\u662f\u521a\u521a\u5f3a\u5236\u91cd\u542f\u5b8c\uff0c\u52a0\u8f7d\u4f1a\u7a0d\u5fae\u6162\u4e00\u70b9\uff0c\u5e76\u6ca1\u6709\u592a\u5728\u610f\uff0c\u73b0\u5728\u590d\u76d8\u53d1\u73b0\uff0c\u8fd9\u4e2a\u5982\u679c\u5f97\u4ee5\u91cd\u89c6\uff0c\u53ef\u80fd\u4e0d\u9700\u8981\u540e\u9762\u7684\u64cd\u4f5c\u4e86\u3002</p> <p>\u7b49\u4e86\u597d\u4e00\u4f1a\uff0c\u7ec8\u4e8e\u8fd8\u662f\u8fdb\u5165\u4e86 grub \u9009\u9879\u754c\u9762\u3002\u7136\u540e\u81ea\u52a8\u9009\u62e9 4.15.0-147 \u7684\u7248\u672c\uff0c\u4f46\u662f\u767b\u5f55\u65f6\u76f4\u63a5\u5361\u5728\u4e86\u7b2c\u4e8c\u884c</p> <pre><code>Loading Linux 4.15.0-147-generic ...\nLoading initial ramdisk ...\n</code></pre> <p>\u7b49\u4e86\u597d\u4e45\u90fd\u6ca1\u6709\u8fdb\u5c55\uff0c\u6b64\u5904\u7a0d\u5fae google \u4e86\u4e00\u4e0b\uff0c\u53ef\u80fd\u7684\u539f\u56e0\u4e0d\u4e00\u800c\u8db3\uff0c\u6bd4\u5982\u6709\u4eba\u63d0\u5230\u6700\u8fd1\u7684\u66f4\u65b0\uff0c\u8fd9\u4e5f\u8ba9\u6211\u60f3\u5230\u6700\u8fd1\u4e5f\u6709\u66f4\u65b0\uff0c\u4e5f\u6709\u4eba\u8bf4\u4fee\u6539 grub \u8fdb\u4e00\u6b65\u770b\u770b\u8be6\u7ec6\u4fe1\u606f\u3002</p> <p>\u4e0d\u8fc7\u8fd9\u4e9b\u5f97\u9700\u8981\u5148\u80fd\u767b\u5f55\u8fdb\u53bb\uff0c\u5f3a\u5236\u91cd\u542f\u540e\uff0c\u9009\u62e9 Recovery mode \u8fdb\u5165\uff0c\u4e0d\u8fc7\u4f3c\u4e4e\u53ea\u80fd\u8fdb\u5165\u547d\u4ee4\u884c\u754c\u9762\u3002</p> <p></p> <p>\u9996\u5148\u67e5\u770b\u4e86\u6700\u8fd1\u7684\u66f4\u65b0\u8bb0\u5f55\uff0c\u4f46\u5e76\u6ca1\u6709\u5185\u6838\u76f8\u5173\u7684\uff0c\u800c\u4e14\u786e\u5b9e\u662f\u8fdb\u5165\u4e86\u4e4b\u524d\u76f8\u540c\u7684\u5185\u6838\u7248\u672c\uff0c\u8fd9\u4e2a\u53ef\u4ee5\u6392\u9664\u3002</p> <p>\u7136\u540e\u901a\u8fc7\u68c0\u67e5\u4e86 <code>df</code>\uff0c\u53d1\u73b0\u786c\u76d8\u90fd\u633a\u6b63\u5e38\u7684\uff0c\u4f46\u662f\u6b64\u5904\u6709\u7591\u70b9\u5e76\u672a\u5f15\u8d77\u5145\u5206\u91cd\u89c6\u2014\u2014\u6ca1\u6709\u663e\u793a\u79fb\u52a8\u786c\u76d8\u4ee5\u53ca\u5404\u79cd loop\u3002</p> <p>\u8bd5\u56fe\u770b\u4e86\u773c\u7cfb\u7edf\u65e5\u5fd7\uff0c\u4e00\u5207\u4e5f\u90fd\u633a\u6b63\u5e38\u7684\uff0c\u800c\u4e14\u662f\u505c\u7559\u5728\u6b7b\u673a\u524d\u6700\u540e\u4e00\u523b\uff0crecovery mode \u542f\u52a8\u65e5\u5fd7\u5e76\u6ca1\u6709\u8bb0\u5f55\u8fdb\u53bb</p> <p></p> <p>\u6700\u540e exit \u4f1a\u56de\u5230\u6b63\u5e38\u91cd\u542f\u8fc7\u7a0b\u4e2d\uff0c\u7136\u540e\u7ee7\u7eed\u5361\u4f4f\uff0c</p> <p></p>"},{"location":"Linux/18to20/#_2","title":"\u5347\u7ea7\u4e2d","text":"<p>\u6ca1\u6709\u5934\u7eea\uff0c\u4fbf\u60f3\u7740\u76f4\u63a5\u5347\u7ea7\u8bd5\u8bd5\u3002\u5176\u5b9e\u73b0\u5728\u60f3\u60f3\uff0c\u8fc7\u4e8e\u8349\u7387\u4e86\uff0c\u8fd8\u6ca1\u6709\u53bb\u5c1d\u8bd5 debug \u5c31\u653e\u5f03\u4e86\uff0c\u6bd4\u5982\u4fee\u6539 grub \u91cd\u65b0\u767b\u5f55\u770b\u770b\u6709\u6ca1\u6709\u66f4\u660e\u786e\u7684\u4fe1\u606f\u3002\u5177\u4f53\u5347\u7ea7\u6b65\u9aa4\u4e3a</p> <ol> <li>\u4fee\u6539 <code>/etc/update-manager/release-upgrades</code> </li> <li><code>sudo do-release-upgrade</code></li> </ol> <p>\u4f46\u662f\u5347\u7ea7\u6240\u9700\u786c\u76d8\u7a7a\u95f4\u4e0d\u591f\uff0c\u4e8e\u662f\u5378\u8f7d MATLAB\uff0c\u56e0\u4e3a\u73b0\u5728\u786e\u5b9e\u672c\u5730\u6ca1\u8dd1\u8fc7\u5b83\u4e86\uff0c\u6ca1\u6709\u627e\u5230\u5378\u8f7d\u7a0b\u5e8f\uff0c<code>apt purge</code> \u4e5f\u4e0d\u7ba1\u7528\uff0c\u4e8e\u662f\u76f4\u63a5</p> <pre><code>/usr/local/MATLAB$ sudo rm -rf R2019a\n</code></pre> <p>\u540e\u6765\u518d\u7ee7\u7eed\u8fd0\u884c <code>do-release-upgrade</code>\uff0c\u5dee\u4e0d\u591a 90min \u624d\u5b8c\u6210\uff0c\u8fd9\u4e2d\u95f4 90min \u4e0a\u7f51\u770b\u4e86\u770b\u6709\u6ca1\u6709\u5408\u9002\u7684\u7b14\u8bb0\u672c\uff0c\u4f46\u5176\u5b9e\u8fd8\u4e0d\u662f\u5f88\u60f3\u6362\u3002\u5feb\u7ed3\u675f\u7684\u65f6\u5019\uff0c\u9700\u8981\u786e\u8ba4\u662f\u5426\u4fdd\u7559\u539f\u59cb\u914d\u7f6e\u6587\u4ef6</p> <p>Tip</p> <p>\u5982\u679c \u201cdo-release-upgrade\u201d \u4e2d\u65ad\uff0c\u600e\u4e48\u5220\u9664\u6dd8\u6c70\u7684\u5305\uff0c\u76f4\u63a5 <code>autoremove</code> \u4f3c\u4e4e\u5e76\u4e0d\u80fd\u5220\u9664\u5e72\u51c0\uff0c\u8be6\u89c1 </p>"},{"location":"Linux/18to20/#_3","title":"\u5347\u7ea7\u540e","text":"<p>\u5b89\u88c5\u5b8c\u6210\u540e\u9009\u62e9\u91cd\u542f\uff0c\u7136\u540e\u53c8\u5230\u4e86\u7f13\u6162\u7684 LENOVO LOGO\uff0c\u6240\u4ee5\u624d\u6e10\u6e10\u610f\u8bc6\u5230\u53ef\u80fd\u95ee\u9898\u6839\u6e90\u4ecd\u5728\u3002\u7b49\u4e86\u597d\u4e45\u8fdb\u5165\u767b\u5f55\u9009\u9879\u65f6\uff0c\u6ce8\u610f\u73b0\u5728\u5185\u6838\u5df2\u7ecf\u5347\u7ea7\u81f3 <code>5.4.0-84</code>\uff0c\u539f\u5148\u7684\u7b2c\u4e00\u9879\u987a\u79fb\u5230\u4e86\u7b2c\u4e8c\u9879\uff0c\u6240\u4ee5\u4e00\u4e0d\u7559\u795e\u4fbf\u4ee5 4.15.0-153 \u542f\u52a8\u4e86\uff0c\u7136\u540e\u4fbf\u9ed1\u5c4f\u65e0\u54cd\u5e94\u4e86\u3002</p> <p>\u5f3a\u5236\u91cd\u542f\u540e\uff0c\u7a81\u53d1\u5947\u60f3\u51c6\u5907\u8bd5\u4e0b\u597d\u4e45\u6ca1\u9009\u62e9\u7684\u7b2c\u4e8c\u7cfb\u7edf\u2014\u2014Win10\uff0c\u867d\u7136\u4e5f\u662f\u9ed1\u5c4f\uff0c\u4f46\u662f\u53ea\u662f\u5c4f\u5e55\u4e0b\u65b9\u5728\u8f6c\uff0c\u8bf4\u660e\u8fd8\u5728\u52a8\uff0c\u8fd9\u65f6\u624d\u66f4\u52a0\u610f\u8bc6\u5230\u5e94\u8be5\u8ddf\u7cfb\u7edf\u65e0\u5173\u3002\u7136\u540e\u770b\u5230\u5206\u6790\u8bf4\u662f\u786c\u76d8\u6216\u5185\u5b58\u7b49\u63a5\u89e6\u4e0d\u826f\uff0c\u5982\u679c\u662f\u673a\u5668\u91cc\u9762\uff0c\u90a3\u6682\u65f6\u4e5f\u6ca1\u529e\u6cd5\u4e86\uff0c\u624b\u5934\u4e0a\u5e76\u6ca1\u6709\u5de5\u5177\uff0c\u4f46\u4f1a\u4e0d\u4f1a\u662f\u79fb\u52a8\u786c\u76d8\u5462\u3002\u4e8e\u662f\u6211\u76f4\u63a5\u62d4\u6389\u8fd9\u4e24\u5757\u79fb\u52a8\u786c\u76d8\uff0c\u6ca1\u60f3\u5230\u5f88\u5feb\u5c31\u8fdb\u5165\u4e86 Windows \u7cfb\u7edf\u3002\u4f1a\u4e0d\u4f1a\u53ea\u662f\u5de7\u5408\uff1f</p> <p>\u4e8e\u662f\u91cd\u542f\uff0c\u53d1\u73b0 LENOVO \u7684\u52a0\u8f7d\u754c\u9762\u4e0d\u505c\u6ede\u4e86\uff0c\u7136\u540e\u9009\u62e9 Ubuntu\uff0c\u4fbf\u5f88\u5feb\u5730\u8fdb\u5165\u4e86\u5347\u7ea7\u540e\u7684\u56fe\u8c61\u5316\u754c\u9762\uff01</p> <p>\u6240\u4ee5\u6781\u6709\u53ef\u80fd\u53ea\u662f\u5916\u63a5\u786c\u76d8\u63a5\u89e6\u4e0d\u4e86\uff0c\u56e0\u4e3a\u518d\u6b21\u63d2\u4e0a\u540e\uff0c\u786c\u76d8\u6570\u636e\u4ecd\u5728\u3002</p> <p>\u5728 20.04 \u4e0b\uff0c\u663e\u5361\u4e5f\u5de5\u4f5c\u6b63\u5e38\uff0c\u8fd9\u672c\u6765\u662f\u4e4b\u524d\u6000\u7591\u7684\u5bf9\u8c61\u3002</p> <p>\u4e00\u9879\u9700\u8981\u7d27\u6025\u66f4\u65b0\u7684\u4fbf\u662f\u4fee\u6539 <code>grub</code>\uff0c\u53d6\u6d88\u9009\u62e9\u7279\u5b9a\u5185\u6838\u7248\u672c\uff0c</p> <ol> <li>\u5c06 <code>GRUB_DEFAULT</code> \u4fee\u6539\u56de <code>0</code></li> <li><code>sudo update-grub</code></li> </ol> <p>\u7136\u540e\u53d1\u73b0 shutter \u5728 20.04 \u4e2d\u6ca1\u6709\u4e86\uff0c\u5176\u5b9e\u5728 G40 \u4e2d\u5df2\u7ecf\u53d1\u73b0\u4e86\uff0c\u53c2\u8003 How to Install Shutter Screenshot Tool in Ubuntu 20.04</p> <pre><code>sudo add-apt-repository -y ppa:linuxuprising/shutter\nsudo apt install shutter\n</code></pre>"},{"location":"Linux/asAserver/","title":"\u7b14\u8bb0\u672c\u4f5c\u4e3a\u670d\u52a1\u5668","text":"<p>\u6709\u4e00\u53f0\u65e7\u7684\u7b14\u8bb0\u672c\u7535\u8111\uff0cLenovo G40\uff0c\u5237\u4e86 Ubuntu 18.04\uff0c\u4e00\u76f4\u653e\u5728\u5bdd\u5ba4\u5403\u7070\uff0c\u4e4b\u524d\u6709\u6bb5\u65f6\u95f4\u8fd8\u8bd5\u7740\u5c06\u5176\u5f53\u505a\u5468\u65e5\u5728\u5bdd\u5ba4\u529e\u516c\u7684\u673a\u5668\uff0c\u4f46\u662f\u76f8\u8f83\u4e8e\u76ee\u524d\u7684 ThinkPad T460p\uff0c\u6027\u80fd\u8fd8\u662f\u8fdc\u4e0d\u53ca\u7684\uff0c\u6253\u5f00\u8f6f\u4ef6\u7684\u901f\u5ea6\u660e\u663e\u6162\u4e86\u5f88\u591a\u3002\u8fd9\u6b21\u75ab\u60c5\u5f85\u5728\u5bb6\u91cc\uff0c\u5728\u6478\u7d22\u79d1\u5b66\u4e0a\u7f51\u7684\u51e0\u79cd\u9014\u5f84\u540e\uff0c\u89c9\u5f97\u5b8c\u5168\u53ef\u4ee5\u5c06\u5176\u6539\u6210\u4e00\u53f0\u670d\u52a1\u5668\u3002\u5f53\u7136\u8fd9\u4e2a\u60f3\u6cd5\u4e4b\u524d\u4e0d\u662f\u6ca1\u6709\uff0c\u4f46\u662f\u56e0\u4e3a\u60f3\u5230\u6ca1\u6709 ip \u5730\u5740\uff0c\u600e\u4e48\u80fd\u8bbf\u95ee\u5462\u3002\u5f53\u719f\u6089\u4e86 ssh \u5185\u7f51\u7a7f\u900f\u4ee5\u53ca ngrok \u8fd9\u4e9b\u5de5\u5177\u4e4b\u540e\uff0c\u8fd9\u4e9b\u90fd\u53d8\u5f97\u4e0d\u662f\u4e8b\u513f\u3002</p> <p>\u53e6\u5916\uff0c\u529e\u516c\u5ba4\u7684 Windows \u7535\u8111\u4e5f\u5f88\u65e9\u5c31\u542f\u7528\u4e86 WSL\uff0c\u56e0\u800c\u4e5f\u53ef\u4ee5\u5c06\u5176\u4f5c\u4e3a\u670d\u52a1\u5668\uff0c\u800c\u4e14\u901a\u8fc7 SSH \u8bbf\u95ee\u4e5f\u6bd4\u5176\u5b83\u8fdc\u7a0b\u767b\u5f55\u8f6f\u4ef6\uff0c\u5982 anydesk \u6765\u5f97\u65b9\u4fbf\u4e9b\u3002</p>"},{"location":"Linux/asAserver/#ssh","title":"SSH \u8fdc\u7a0b\u767b\u5f55","text":"<p>\u5c06\u7cfb\u91cc\u670d\u52a1\u5668\u4f5c\u4e3a\u8df3\u677f\u673a</p> <pre><code>weiya@G40 $ autossh -M 33000 -o \"StrictHostKeyChecking=false\" -o \"ServerAliveInterval 10\" -o \"ServerAliveCountMax 3\" -NR 30003:localhost:22 SID@SERVER\nT460p $ ssh -L 30003:localhost:30003 SID@SERVER\nT460p $ ssh -p 30003 weiya@127.0.0.1\n</code></pre> <p>\u590d\u5236\u7684\u8bdd\u4e5f\u53d8\u5f97\u5f88\u7b80\u5355\u4e86\uff0c</p> <pre><code>T460p $ ssh -P 30003 file weiya@127.0.0.1:\n</code></pre> <p>\u5bf9\u4e8e WSL\uff0c\u4e00\u6ce2\u4e09\u6298\uff0c\u8be6\u89c1 Issue 22: ssh to WSL\uff0c\u989d\u5916\u7684\u6b65\u9aa4\uff08\u6309\u987a\u5e8f\uff0c\u6240\u4ee5\u5fc5\u8981\u6027\u5e76\u6ca1\u6709\u8fdb\u884c\u68c0\u9a8c\uff09\u4e3a</p> <ul> <li>\u5c06 22 \u7aef\u53e3\u6539\u6210 2222</li> <li>\u5728\u9632\u706b\u5899\u4e2d\u5141\u8bb8 2222 \u7aef\u53e3 inbound</li> <li>\u901a\u8fc7 <code>dpkg-reconfigure openssh-server</code> \u751f\u6210\u4e22\u5931\u6389\u7684 host key</li> </ul> <p>Tip</p> <p>Don\u2019t overlook any negative messages. \u5176\u5b9e\u5f88\u5feb\u5c31\u627e\u5230\u4e86\u7c7b\u4f3c\u7684\u95ee\u9898\uff0c\u4e5f\u968f\u5373\u5927\u81f4\u786e\u5b9a\u4e86\u524d\u4e24\u6b65\uff0c\u4f46\u4ecd\u7136\u5931\u8d25\u3002\u6b64\u65f6\u5982\u679c\u80fd\u5173\u6ce8\u5230\u5728\u91cd\u542f ssh \u65f6\u51fa\u73b0\u7684 \u201cCould not load host key\u201d \u4fe1\u606f\uff0c\u5174\u8bb8\u5f88\u5feb\u5c31\u80fd\u627e\u5230\u7b2c\u4e09\u6b65\u3002</p>"},{"location":"Linux/asAserver/#synergy","title":"\u901a\u8fc7 Synergy \u5171\u7528\u952e\u9f20","text":"<p>\u5728 Synergy \u7684\u56fe\u5f62\u754c\u9762\u4e0a\uff0c\u53ea\u80fd\u5728\u540c\u4e00\u5c40\u57df\u7f51\u5185\u624d\u80fd\u914d\u7f6e\u6210\u529f\u3002\u7136\u800c\u60f3\u5230\u65e2\u7136\u53ef\u4ee5\u901a\u8fc7 ssh \u6765\u4e92\u8054\u4e24\u53f0\u975e\u5c40\u57df\u7f51\u7684\u673a\u5668\uff0c\u7406\u8bba\u4e0a\u5e94\u8be5\u4e5f\u80fd\u5171\u4eab\u8fd9\u4e24\u53f0\u7535\u8111\u7684\u952e\u9f20\uff0c\u6240\u4ee5\u8bd5\u7740\u641c\u7d22\u4e00\u4e0b \u201csynergy over ssh\u201d\uff0c\u679c\u7136\u627e\u5230\u4e86\u89e3\u51b3\u65b9\u6848\u3002</p> <p>\u5c06 T460p \u4f5c\u4e3a server\uff0c\u5373\u63d0\u4f9b\u952e\u9f20\uff0c\u800c G40 \u4f5c\u4e3a client\u3002</p> <pre><code>G40 $ ssh -NL 30013:localhost:30013 -L 24800:localhost:24800 SID@SERVER\nG40 $ synergyc -1 localhost\nT460p $ ssh -NR 30013:localhost:22 -R 24800:localhost:24800 SID@SERVER\n# T460p \u6b63\u5e38\u5728 GUI \u754c\u9762\u4e0a\u542f\u52a8\u670d\u52a1\u5668\u7aef\n</code></pre> <p>\u5173\u952e\u70b9\u662f\u5c06\u4e24\u53f0\u673a\u5668\u7684 24800 \u7aef\u53e3\u8fde\u4e0a\uff0c\u57fa\u672c\u903b\u8f91\u662f\uff0c\u5728 G40 \u4e0a\u901a\u8fc7 <code>-L</code> \u8f6c\u53d1\u4f7f\u5f97 24800 \u7aef\u53e3\u8bbf\u95ee\u7684\u5b9e\u9645\u4e0a\u662f SERVER \u7684 24800 \u7aef\u53e3\uff0c\u800c\u5728 T460p \u4e0a\u901a\u8fc7 <code>-R</code> \u4f7f\u5f97 SERVER \u4e0a\u7684 24800 \u7aef\u53e3\u8f6c\u53d1\u5230\u672c\u5730\u7684 24800.</p> <p>\u53c2\u8003</p> <ul> <li>Tunnel synergy KVM sharing software through SSH</li> <li>How to tunnel Synergy over SSH?</li> </ul> <p>synergy-core</p> <p>synergy-core \u662f\u5f00\u6e90\u7684\uff0c\u6240\u4ee5\u4f3c\u4e4e\u5f53\u521d\u5e76\u4e0d\u9700\u8981\u82b1\u94b1\u4e70 license\u3002</p>"},{"location":"Linux/asAserver/#_2","title":"\u7981\u6b62\u5408\u76d6\u4f11\u7720","text":"<p>\u65e2\u7136\u4f5c\u4e3a\u670d\u52a1\u5668\u4e86\uff0c\u6ca1\u5fc5\u8981\u7ee7\u7eed\u76f4\u63a5\u64cd\u4f5c\u4e86\uff0c\u4e8e\u662f\u60f3\u5408\u4e0a\u76d6\u5b50\uff0c\u4f46\u662f\u4f1a\u81ea\u52a8\u8fdb\u5165\u4f11\u7720\u72b6\u6001\uff08\u51c6\u786e\u8bf4\u662f suspend\uff0c\u800c\u4e0d\u662f hibernate\uff09\uff0c\u8fd9\u65f6\u8fde\u63a5\u4fbf\u90fd\u65ad\u5f00\u4e86\u3002\u4f46\u662f\u5728\u8bbe\u7f6e\u754c\u9762\u4e5f\u6ca1\u627e\u5230\u76f4\u63a5\u5173\u95ed\u4f11\u7720\u7684\uff0c\u6700\u540e\u5728 How to Change Lid Close Action in Ubuntu 18.04 LTS \u4e2d\u627e\u5230\u89e3\u51b3\u65b9\u6848\uff0c</p> <pre><code>sudo vi /etc/systemd/logind.conf\n</code></pre> <p>commenting out <code>HandleLidSwitch=suspend</code> and changes it to <code>HandleLidSwitch=ignore</code></p> <p>\u6700\u540e\u9700\u8981</p> <pre><code>systemctl restart systemd-logind.service\n</code></pre> <p>\u6ca1\u60f3\u5230\u8fd9\u4e2a\u4e5f\u80fd\u4f7f\u8fde\u63a5\u65ad\u5f00\uff0c\u4e8e\u662f\u9700\u8981\u7ee7\u7eed\u8fde\u63a5\u4e00\u904d\u3002</p>"},{"location":"Linux/asAserver/#_3","title":"\u97f3\u4e50\u64ad\u653e\u5668","text":"<p>\u76ee\u6807\uff1a\u901a\u8fc7 ssh \u8fdc\u7a0b\u6253\u5f00\u97f3\u4e50\uff0c\u4f46\u662f\u4ecd\u5728 G40 \u4e0a\u64ad\u653e\uff0c\u800c\u4e0d\u662f\u50cf\u56fe\u8c61\u4e00\u6837 forward \u5230\u672c\u5730\u64ad\u653e\u3002</p> <p>\u672c\u6765\u4e00\u5f00\u59cb\u62c5\u5fc3\u4f1a\u50cf\u56fe\u8c61\u4e00\u6837\uff0c\u9700\u8981\u901a\u8fc7\u7c7b\u4f3c <code>-X</code> \u8fd9\u79cd\u9009\u9879\u6765\u652f\u6301\u8fd9\u79cd\u529f\u80fd\uff0c\u5982\u679c\u652f\u6301\u4e86\uff0c\u4e0b\u4e00\u6b65\u8fd8\u8981\u770b\u770b\u600e\u4e48\u76f4\u63a5\u5728\u670d\u52a1\u5668\u7aef\u76f4\u63a5\u64ad\u653e\uff0c\u800c\u4e0d\u662f\u989d\u5916\u5360\u7528\u672c\u5730\u7684\u8d44\u6e90\u6765\u64ad\u653e\uff0c\u8981\u4e0d\u7136\u6211\u5e72\u8106\u7528\u672c\u673a\u7684\u97f3\u4e50\u64ad\u653e\u5668\u5c31\u5b8c\u4e8b\u4e86\u3002</p> <p>\u5e78\u597d\uff0c\u56fe\u8c61\u548c\u97f3\u9891\u4e0d\u4e00\u6837\uff0c\u5982 Playing a remote movie on the remote computer \u6240\u8bf4\uff0c</p> <p>Linux manages sound and display differently. You normally only get access to the screen if you\u2019ve logged in locally, whereas sound is often available to all processes running on the system.</p> <p>\u6240\u4ee5\u6253\u6d88\u4e86\u6211\u7684\u987e\u8651\uff0c\u4e0b\u4e00\u6b65\u4fbf\u662f\u76f4\u63a5\u64ad\u653e\u4e86\u3002\u521a\u597d G40 \u6709\u4e00\u9996\u4e0b\u8f7d\u597d\u7684\u6b4c\u66f2\uff0c\u7136\u540e\u8bd5\u4e86\u4e00\u4e0b\u7528 <code>aplay</code> \u6253\u5f00\uff0c\u4f46\u662f\u975e\u5e38\u5608\u6742\uff0c\u6839\u672c\u4e0d\u662f\u97f3\u4e50\u3002</p> <p>\u7136\u540e\u4fbf\u4e0b\u4e86\u4e2a\u7f51\u6613\u4e91\u5ba2\u6237\u7aef\uff0c\u672c\u6765\u4ee5\u4e3a\u97f3\u4e50\u4f1a\u5728\u670d\u52a1\u5668\u7aef\u64ad\u653e\uff0c\u4f46\u662f\u6ca1\u6709\u4efb\u4f55\u58f0\u97f3\uff0c\u800c\u4e14\u62a5\u9519</p> <p>vlcpulse audio output error: PulseAudio server connection failure: Connection refused</p> <p>\u518d\u7ed3\u5408\u4e00\u4e0b <code>aplay</code> \u7684\u4e0d\u6b63\u5e38\u64ad\u653e\uff0c\u8bef\u4ee5\u4e3a <code>PulseAudio</code> \u51fa\u73b0\u4e86\u95ee\u9898\uff0c\u6240\u4ee5\u6309\u7167 PulseAudio server connection failure: Connection refused (debian stretch) \u64cd\u4f5c\u4e00\u904d\uff0c\u4f3c\u4e4e\u5e76\u6ca1\u6709\u4ec0\u4e48\u95ee\u9898\u3002\u4f46\u662f\u56e0\u4e3a\u8fd9\u4e2a\u6d89\u53ca\u5230\u91cd\u542f\uff0c\u6240\u4ee5\u63d0\u9192\u4e86\u6211\u4e00\u4e2a\u5f88\u91cd\u8981\u7684\u70b9\uff0c\u5373\u81ea\u767b\u9646\u81ea\u8fde\u63a5\u3002</p> <p>\u540e\u6765\u610f\u8bc6\u5230 <code>aplay</code> \u53ea\u80fd\u64ad\u653e <code>wav</code> \u6587\u4ef6\uff0c\u800c <code>.mp3</code>\u9700\u8981\u5176\u4ed6\u7684\u64ad\u653e\u547d\u4ee4\uff0c\u6bd4\u5982 <code>mpg123</code>\uff0c\u53c2\u8003 How to play mp3 files from the command line?</p> <p>\u540e\u6765\u8bd5\u4e86\u4e0b <code>sox</code>\uff0c\u58f0\u79f0\u53ef\u4ee5\u652f\u6301\u591a\u79cd\u683c\u5f0f\uff0c</p> <pre><code>$ sudo apt-get install sox\n$ sudo apt-get install libsox-fmt-all\n</code></pre> <p>\u64ad\u653e\u7684\u754c\u9762\u5f88\u6e05\u723d\u4f46\u4e0d\u7b80\u5355\uff0c</p> <p></p> <p>\u5176\u4e2d <code>-v 0.5</code> \u8c03\u8282\u97f3\u91cf\u3002</p> <p>\u5148\u6682\u65f6\u5199\u4e86\u4e2a\u7b80\u5355\u7684\u5217\u8868\u987a\u5e8f\u64ad\u653e\u7684\u811a\u672c</p> <pre><code>$ cat playmusic.sh\n#!/bin/bash\nfor music in ~/Music/*; do\nif [[ -f $music ]]; then\nplay -v 0.35 \"$music\"\nfi\ndone\n</code></pre> <p>\u4f46\u662f\u5982\u679c\u60f3\u5173\u6389\uff0c\u53ea\u80fd <code>Ctrl-C</code> \u4e86\uff0c\u800c\u4e14\u8981\u8fde\u7eed <code>Ctrl-C</code> \u4e86\u3002\u5176\u5b9e\u4e3b\u8981\u7684\u662f\u5e76\u4e0d\u652f\u6301\u6240\u6709\u683c\u5f0f\uff0c\u6bd4\u5982<code>.ape</code>\uff0c\u7136\u540e\u6211\u4fbf\u8bd5\u4e86\u8bd5 <code>nvlc</code>, Ubuntu documentation: PlayMusicFromCommandLine \u5217\u51fa\u4e86\u51e0\u79cd\u53ef\u80fd\u7684\u4ece\u7ec8\u7aef\u64ad\u653e\u97f3\u4e50\u7684\u65b9\u6cd5\u3002</p> <p>\u6ce8\u610f <code>nvlc</code> \u4e0d\u9700\u8981\u9884\u88c5 <code>vlc</code>\uff0c\u53ea\u9700\u8981</p> <pre><code>$ sudo apt-get install vlc-bin\n</code></pre> <p>\u56e0\u4e3a\u4e00\u5f00\u59cb\u8bef\u4ee5\u4e3a\u662f vlc \u81ea\u5e26\u7684\uff0c\u4f46\u662f\u88c5\u4e86 vlc \u4e4b\u540e\uff0c</p> <pre><code>$ sudo snap install vlc\n</code></pre> <p>\u5e76\u6ca1\u6709 <code>nvlc</code>\uff0c\u800c\u76f4\u63a5\u6572 <code>nvlc</code> \u5c31\u53ef\u4ee5\u62ff\u5230\u63d0\u793a\uff0c</p> <pre><code>$ nvlc\n\nCommand 'nvlc' not found, but can be installed with:\n\nsudo apt install vlc-bin\n</code></pre> <p>\u5b89\u88c5\u597d\u4e4b\u540e\uff0c\u76f4\u63a5 <code>nvlc *</code> \u4fbf\u53ef\u4ee5\u987a\u5e8f\u64ad\u653e\u6240\u6709\u6b4c\u66f2\uff0c</p> <p></p> <p>\u5173\u952e\u662f\u5176\u529f\u80fd\u8fdc\u4e0d\u5982\u6b64\uff0c\u5b8c\u5168\u5c31\u662f\u4e00\u4e2a\u97f3\u4e50\u64ad\u653e\u5668\u4e86\uff0c\u6bd4\u5982\u901a\u8fc7 <code>a, z</code> \u952e\u8c03\u8282\u97f3\u91cf\uff0c\u66f4\u591a\u529f\u80fd\u952e\u5165 <code>h</code> \u83b7\u53d6\u5e2e\u52a9\uff0c\u800c\u4e14\u652f\u6301 <code>.ape</code> \u683c\u5f0f\uff01</p>"},{"location":"Linux/asAserver/#_4","title":"\u81ea\u767b\u5f55\u81ea\u8fde\u63a5","text":"<p>\u56e0\u4e3a\u91cd\u542f\u540e\uff0c\u4e00\u822c\u4f1a\u51fa\u73b0\u767b\u5f55\u754c\u9762\uff0c\u9700\u8981\u8f93\u5165\u7528\u6237\u540d\u53ca\u5bc6\u7801\u3002\u5c06 <code>/etc/gdm3/custom.conf</code> \u4e2d\u7684\u8fd9\u4e24\u884c</p> <pre><code>#  AutomaticLoginEnable = true\n#  AutomaticLogin = user1\n</code></pre> <p>\u6539\u6210</p> <pre><code>AutomaticLoginEnable = true\nAutomaticLogin = weiya\n</code></pre> <p>\u4e0b\u4e00\u6b65\u8fd8\u9700\u8981\u81ea\u52a8\u53d1\u8d77 ssh \u8fde\u63a5\u81f3\u8df3\u677f\u670d\u52a1\u5668\uff0c\u8fd9\u4e2a\u53ef\u4ee5\u518d <code>.profile</code> \u4e2d\u6dfb\u52a0</p> <pre><code>$ echo \"./autossh2ln001.sh\" &gt;&gt; .profile\n</code></pre> <p>\u4e0d\u8fc7\u9700\u8981\u6ce8\u610f\u5230\u5982\u679c\u5b58\u5728 <code>.bash_profile</code> \u6216 <code>.bash_login</code>\uff0c\u5219\u9700\u8981\u66f4\u6539\u8fd9\u4e9b\u6587\u4ef6\uff0c\u56e0\u4e3a\u53ea\u6309\u987a\u5e8f\u8c03\u7528\u8fd9\u4e09\u4e2a\u7684\u7b2c\u4e00\u4e2a\u3002</p> <p>\u56e0\u4e3a\u97f3\u4e50\u6587\u4ef6\u662f\u901a\u8fc7\u672c\u5730\u767e\u5ea6\u4e91\u4e0b\u8f7d\u7684\uff0c\u6240\u4ee5\u9700\u8981\u590d\u5236\u8fc7\u53bb\uff0c\u4f46\u662f\u5982\u679c <code>scp</code> \u7684\u8bdd\uff0c\u4f3c\u4e4e\u6ca1\u6709\u9009\u9879\u652f\u6301 disable overwrite\uff0c\u7136\u540e\u770b\u5230 scp without replacing existing files in the destination\uff0c\u63a8\u8350 <code>rsync</code>\uff0c\u589e\u91cf\u66f4\u65b0\uff0c\u60f3\u8d77\u4e0a\u6b21\u5728 pluskid \u7684\u535a\u5ba2\u4e2d\u4e5f\u770b\u5230\u4e86\uff0c\u6240\u4ee5\u4fbf\u51c6\u5907\u7528\u5b83\uff0c\u4e0d\u8fc7 ssh \u7684\u7aef\u53e3\u9700\u8981\u989d\u5916\u6307\u5b9a\uff0cIs it possible to specify a different ssh port when using rsync?\uff0c\u6700\u540e\u7684\u547d\u4ee4\u4e3a</p> <pre><code>$ rsync -auv -e \"ssh -p 30003\" /home/weiya/OneDrive/CloudMusic/ weiya@127.0.0.1:~/Music/\n</code></pre>"},{"location":"Linux/asAserver/#mount-windows-from-terminal","title":"Mount Windows from Terminal","text":"<p>\u53c2\u8003 How to Mount Windows Partitions in Ubuntu</p> <pre><code>sudo mkdir /media/weiya/WIN\nsudo mount -t ntfs-3g -o ro /dev/sda4 /media/weiya/WIN\n</code></pre> <p>\u5176\u4e2d <code>/dev/sda4</code> \u662f\u901a\u8fc7 <code>sudo lsblk</code> \u786e\u5b9a\u7684\u3002</p>"},{"location":"Linux/asAserver/#boot-into-text-mode","title":"Boot into Text mode","text":"<p>\u53c2\u8003 Boot into Text Mode and Login Automatically</p> <p>\u867d\u7136\u4e4b\u524d\u901a\u8fc7\u8bbe\u5b9a <code>.profile</code> \u5b9e\u73b0\u4e86\u91cd\u542f\u540e\u81ea\u52a8\u8fde\u63a5\uff0c\u4f46\u662f\u540e\u6765\u67d0\u4e00\u6b21\u91cd\u542f\u540e\uff0c\u51c6\u786e\u8bf4\u662f\u65ad\u7535\u91cd\u542f\u540e\uff0c<code>autossh2ln001</code> \u7a0b\u5e8f\u5e76\u6ca1\u6709\u8fd0\u884c\u6210\u529f\uff0c\u800c\u662f\u62a5\u51fa <code>unknown host</code> \u4e4b\u7c7b\u7684\u9519\u8bef\uff0c\u4e5f\u5c31\u662f <code>ln001</code> \u670d\u52a1\u5668\u7684\u57df\u540d\u89e3\u6790\u51fa\u73b0\u95ee\u9898\uff0c\u4f46\u662f\u5f53\u8fdb\u5165\u684c\u9762\u540e\uff0c\u6536\u5230\u91cd\u65b0\u8fd0\u884c <code>autossh2ln001</code>\uff0c\u4e00\u5207\u6b63\u5e38\uff0c\u641e\u4e0d\u6e05\u54ea\u91cc\u51fa\u73b0\u4e86\u95ee\u9898\u3002</p> <p>\u800c\u4e14\u6ce8\u610f\u5230\u6bcf\u6b21\u91cd\u542f\u5e76\u6ca1\u6709\u76f4\u63a5\u8fdb\u5165\u684c\u9762\uff0c\u800c\u4e14\u4f3c\u4e4e\u662f\u9996\u5148\u8fd0\u884c <code>.profile</code> \u91cc\u9762\u7684\u547d\u4ee4\u624d\u8fdb\u5165\u684c\u9762\uff0c\u800c\u53ef\u80fd\u56e0\u4e3a\u6211\u6ca1\u52a0\u540e\u6765\u8fd0\u884c\u7684 <code>&amp;</code> \u7b26\u53f7\uff0c\u5bfc\u81f4\u8fd0\u884c\u6210\u529f\u540e\u4e00\u76f4\u6302\u8d77\uff0c\u6ca1\u6709\u8fdb\u5165\u684c\u9762\uff08\u5448\u73b0\u72b6\u6001\u662f Ubuntu \u7684 logo \u5e95\u4e0b\u7684\u51e0\u4e2a\u5c0f\u70b9\u7684\u660e\u6697\u5faa\u73af\u53d8\u5316\uff09\uff0c\u800c\u5018\u82e5\u5931\u8d25\uff08\u4e5f\u5c31\u662f\u62a5\u51fa <code>unknown host</code> \u7684\u9519\u8bef\uff09\uff0c\u5219\u53ef\u4ee5\u987a\u5229\u8fdb\u5165\u684c\u9762\u3002</p> <p>\u6240\u4ee5\u7d22\u6027\u4e0d\u8981\u4ee5\u56fe\u5f62\u754c\u9762\u542f\u52a8\u4e86\uff0c\u8fd9\u4e2a\u53ef\u4ee5\u901a\u8fc7\u4fee\u6539 <code>/etc/default/grub</code> \u5b9e\u73b0\uff0c</p> <pre><code># GRUB_CMDLINE_LINUX_DEFAULT=\"quiet splash\"\nGRUB_CMDLINE_LINUX_DEFAULT=\"text\"\n</code></pre> <p>\u4fee\u6539\u540e\u8fd0\u884c <code>sudo update-grub</code></p> <p>\u800c text \u6a21\u5f0f\u4e0b\u514d\u5bc6\u7801\u767b\u5f55\u76f4\u63a5\u4fee\u6539 <code>/etc/init/tty1.conf</code></p> <pre><code># exec /sbin/getty -8 38400 tty1\nexec /sbin/getty -8 38400 tty1 -a weiya\n</code></pre> <p>\u8fd9\u4e2a\u8ddf\u4e0a\u6587\u4fee\u6539 <code>/etc/gdm3/custom.conf</code> \u5b9e\u73b0\u81ea\u767b\u5f55\u5e94\u8be5\u4e0d\u4e00\u6837\uff0c\u56e0\u4e3a <code>gdm3</code> \u662f\u8ddf\u56fe\u5f62\u754c\u9762\u6709\u5173\u7684\u7a0b\u5e8f\u3002</p> <p>display managers</p> <p><code>gdm3</code>, <code>kdm</code>, <code>lightdm</code> \u90fd\u662f display managers., \u53c2\u8003 What is gdm3, kdm, lightdm? How to install and remove them?</p> <p>\u6700\u540e\uff0c <code>unknown host</code> \u7684\u95ee\u9898\u4e5f\u6ca1\u6709\u518d\u62a5\u51fa\u4e86\u3002</p> <p>\u5982\u679c\u8981\u4ece text mode \u56de\u5230\u56fe\u5f62\u754c\u9762</p> <pre><code>sudo lightdm\n</code></pre> <p>\u4f46\u662f\u5f88\u5947\u602a\u7684\u4e00\u70b9\u662f\uff0c\u4ee5\u540e\u6bcf\u6b21\u91cd\u542f\u540e\uff0c\u90fd\u4f1a\u8fdb\u5165\u5230\u56fe\u5f62\u754c\u9762\uff0c\u4e0d\u8fc7\u542f\u52a8\u8fc7\u7a0b\u786e\u5b9e\u662f text \u7684\u3002</p>"},{"location":"Linux/asAserver/#_5","title":"\u7535\u91cf\u67e5\u8be2","text":"<p>\u4e0a\u6587\u63d0\u5230\u7b14\u8bb0\u672c\u8017\u7535\u5b8c\u91cd\u542f\uff0c\u8fd9\u662f\u56e0\u4e3a\u5176\u914d\u5957\u7684\u5145\u7535\u5668\u5145\u4e0d\u8fdb\u7535\uff0c\u5f53\u6362\u6210\u5f53\u524d\u7b14\u8bb0\u672c\u7684\u9002\u914d\u5668\u540e\uff08\u529f\u7387\u7565\u9ad8\u4e00\u4e9b\uff09\uff0c\u867d\u7136\u4ecd\u5145\u4e0d\u8fdb\u7535\uff0c\u4f46\u662f\u80fd\u591f\u4e00\u76f4\u4fdd\u6301\u7535\u91cf\uff0c\u4e00\u76f4\u90fd\u662f 10% \u5de6\u53f3\uff0c\u5018\u82e5\u6362\u6210\u5176\u914d\u5957\u7684\u5145\u7535\u5668\uff0c\u5f88\u5feb\u5c31\u4f1a\u81ea\u52a8\u5173\u673a\u4e86\u3002\u6240\u4ee5\u60f3\u5230\u8981\u4e0d\u67e5\u770b\u4e00\u4e0b\u7535\u6c60\u72b6\u6001\uff0c\u4e00\u67e5\u5413\u4e00\u8df3\uff0c\u539f\u6765\u7535\u6c60\u5df2\u7ecf\u5feb\u88ab\u69a8\u5e72\u4e86\uff0c</p> <pre><code>$ upower -i `upower -e | grep 'BAT'`\nnative-path:          BAT0\n  vendor:               Lenovo IdeaPad\n  serial:               BAT20101001\n  power supply:         yes\n  updated:              2020\u5e7408\u670825\u65e5 \u661f\u671f\u4e8c 16\u65f621\u520610\u79d2 (0 seconds ago)\nhas history:          yes\n  has statistics:       yes\n  battery\n    present:             yes\n    rechargeable:        yes\n    state:               charging\n    warning-level:       none\n    energy:              0.97 Wh\n    energy-empty:        0 Wh\n    energy-full:         9.79 Wh\n    energy-full-design:  37.5 Wh\n    energy-rate:         0 W\n    voltage:             13.974 V\n    percentage:          9%\n    capacity:            26.1067%\n    icon-name:          'battery-caution-charging-symbolic'\n</code></pre> <p>\u8bd5\u7740\u89e3\u8bfb\u4e00\u4e0b\u4fe1\u606f\uff0c\u73b0\u5728\u7535\u6c60\u6700\u5927\u5bb9\u91cf\u5df2\u7ecf\u8017\u5230\u6700\u521d\u7684 26.1067%\uff0c\u800c\u5f53\u524d\u4e00\u76f4\u5145\u7535\u65f6\u8fd8\u53ea\u80fd\u8fbe\u5230\u8fd9\u4e2a\u7684 9%\uff0c\u4e5f\u5c31\u662f <code>0.261067*0.09 = 0.02349603</code>\u3002</p>"},{"location":"Linux/asAserver/#_6","title":"\u62d4\u6389\u7535\u6e90\u81ea\u52a8\u5173\u673a","text":"<p>\u53c2\u8003 https://askubuntu.com/questions/854570/how-to-shutdown-automatically-when-ac-power-is-not-available</p> <p>\u65b0\u5efa</p> <pre><code>sudo vi /etc/udev/rules.d/50-ac-unplugged.rules\n</code></pre> <p>\u7136\u540e\u5199\u5165</p> <pre><code>SUBSYSTEM==\"power_supply\", ENV{POWER_SUPPLY_ONLINE}==\"0\", RUN+=\"/sbin/shutdown now\"\n</code></pre> <p>\u4fdd\u5b58\u6587\u4ef6\u5e76\u8fd0\u884c</p> <pre><code>sudo udevadm control --reload-rules\n</code></pre> <p>\u62d4\u6389\u7535\u6e90\u540e\u786e\u5b9e\u81ea\u52a8\u5173\u673a\u4e86\uff01\uff01</p>"},{"location":"Linux/asAserver/#_7","title":"\u63d2\u4e0a\u7535\u6e90\u81ea\u52a8\u5f00\u673a","text":"<p>\u8fd9\u4e2a\u4f3c\u4e4e\u9700\u8981 BIOS \u8bbe\u7f6e\uff0c\u800c\u4e14\u662f\u5728 Power Management Setup \u4e2d\u8fdb\u884c\uff0c\u4f46\u662f\u901a\u8fc7 <code>Fn+F2</code> \u8fdb\u5165 BIOS \u540e\uff0c\u5e76\u6ca1\u6709\u8fd9\u4e2a\u83dc\u5355\uff0c\u53ef\u80fd\u8fd8\u662f\u4e0d\u652f\u6301\u5427\u3002\u4e0d\u8fc7\u8bdd\u8bf4\u56de\u6765\u8fd9\u4e2a\u529f\u80fd\u6ca1\u6709\u81ea\u52a8\u5173\u673a\u90a3\u4e48\u5fc5\u8981\u3002</p>"},{"location":"Linux/chpc/","title":"Notes on CHPC-Cluster","text":""},{"location":"Linux/chpc/#login","title":"Login","text":""},{"location":"Linux/chpc/#passwordless","title":"passwordless","text":"<p>It is annoying to enter your password when you login the server. Here is a strategy to automatically login.</p> Linux/MacWindows <p>In the command line, generate SSH key pair by running </p> <pre><code>$ ssh-keygen -t rsa\n</code></pre> <p>then copy the generated public key <code>~/.ssh/id_rsa.pub</code> to the file <code>~/.ssh/authorized_keys</code> on the server (if no such file and folder, just create them). See  for more details.</p> <p>If you use the Windows Subsystem for Linux (WSL), just follow the steps for \u201cLinux/Mac\u201d.</p> <p>Take the PuTTY client as an example, you can use PuTTYgen to generate the ssh key pair. Here is a tutorial.</p> <p>Now, we can directly access the server via</p> <pre><code>$ ssh USERNAME@chpc-login01.itsc.cuhk.edu.hk\n</code></pre> <p>Tip</p> <p>For clients such as PuTTY on Windows, just type the username and host in the specific blanks. Moreover, you can always re-express a SSH command by typing each filed in the respective blank.</p> <p>Since the login node is not suggested/allowed to run your test jobs, it would be more convenient to login in the test node, <code>sandbox</code>. This can be done with consecutive ssh,</p> <pre><code>$ ssh -t USERNAME@chpc-login01.itsc.cuhk.edu.hk ssh sandbox\n</code></pre> <p>where <code>-t</code> aims to avoid the following warning</p> <p>Warning</p> <p>Pseudo-terminal will not be allocated because stdin is not a terminal.</p>"},{"location":"Linux/chpc/#bypass-the-login-node","title":"bypass the login node","text":"<p>TL; DR</p> <p>If you cannot access the cluster due to the out-of-service login node or outside campus without VPN, you can still login the cluster with <pre><code>$ ssh -p PORT YOUR_USERNAME@MY_BRIDGE\n</code></pre> If you are interested, please contact me for <code>PORT</code> and <code>MY_BRIDGE</code>. Buy me a coffee if it is useful.</p> <p>Usually, only the login node is out of service, but the jobs on computing nodes would not be affected. So there is a way to bypass the unaccessible login node. It also works when you are outside campus without VPN. Briefly, we can construct a tunnel (bridge) from you laptop to the cluster server via a middle machine.</p> <p>If you want to use my established bridge (tunnel), the above \u201cTL; DR\u201d is enough, but you need to fulfill the following requirements.</p> <p>Requirements for Using My Bridge (Tunnel)</p> <p>You should have configured SSH key pair for passwordless login. And if you are using PuTTY, make sure your SSH key is in the standard OpenSSH format instead of PuTTY\u2019s style, otherwise it will throw the \u201cinvalid key\u201d error. You can convert PuTTY\u2019s format in PuTTYgen, see  for more details.</p> <p>If you want to establish a tunnel by yourself, here are the detailed mechanism.</p> <p>Requirements for Self-established Tunnel</p> <p>You can access another middle machine which has a public or campus IP. Otherwise, you can try to use free tools like <code>ngrok</code> to generate a public ip for your local machine, see my notes on how to access the intranet from outside.</p> <ul> <li>Step 1: ssh to the middle machine from nodes except the login node of ITSC cluster, say <code>sandbox</code>, with the remote port forwarding option <code>-R PORT:localhost:22</code></li> <li>Step 2: ssh back to <code>sandbox</code> by specifying the port <code>-p PORT</code></li> </ul> <p>Tip</p> <p>Sometimes ssh session might be disconnected if no further actions, so it would be necessary to replace <code>ssh</code> with <code>autossh</code> (see my notes)</p> <p>The sketch plot is as follows,</p> <p></p> <p>It is necessary to check the status of the tunnel. If the connection is broken, such as the sandbox has rebooted, pop a message window to remind to re-establish the tunnel in time.</p> <p>The command to pop message is <code>notify-send</code>, and note that a successful command exits with 0, use the script to check the status of ssh connection,</p> <pre><code>#!/bin/bash\nssh -t $2 ssh -q -o BatchMode=yes $1 exit\nif [ $? != '0' ]; then\n#echo \"broken connection\"\nnotify-send -i /home/weiya/.local/share/icons/unlink-solid.svg \"$1\" \"broken connection\"\nfi\n</code></pre> <p>Create a regular job as follows,</p> <pre><code>$ crontab -e\n0 * * * * export XDG_RUNTIME_DIR=/run/user/$(id -u); for host in sandbox STAPC ROCKY; do sh /home/weiya/github/techNotes/docs/Linux/check_ssh.sh $host; done\n</code></pre> <p>where <code>export XDG_RUNTIME_DIR=/run/user/$(id -u)</code> is necessary for <code>notify-send</code> to pop a window (refer to Notify-send doesn\u2019t work from crontab)</p>"},{"location":"Linux/chpc/#custom-commands","title":"Custom Commands","text":"<p>Some of the commands would be explained in the following sections.</p> <ul> <li>aliases</li> </ul> <pre><code># delete all jobs\nalias qdelall='qstat | while read -a ADDR; do if [[ ${ADDR[0]} == +([0-9]) ]]; then qdel ${ADDR[0]}; fi ; done'\n# list available cores\nalias sinfostat='sinfo -o \"%N %C\" -p stat -N'\n# list available gpu\nalias sinfogpu='sinfo -O PartitionName,NodeList,Gres:25,GresUsed:25 | sed -n \"1p;/gpu[^:]/p\"'\n# check disk quota\nalias myquota='for i in `whoami` Stat StatScratch; do lfs quota -gh $i /lustre; done'\n# list jobs sorted by priority\nalias sacctchpc='sacct -a -X --format=Priority,User%20,JobID,Account,AllocCPUS,AllocTRES,NNodes,NodeList,Submit,QOS | (sed -u 2q; sort -rn)'\n# list jobs sorted by priority (only involved stat)\nalias sacctstat='sacct -a -X --format=Priority,User%20,JobID,Account,AllocCPUS,AllocTRES,NNodes,NodeList,Submit,QOS | (sed -u 2q; sort -rn) | sed -n \"1,2p;/stat/p\"'\n</code></pre> <ul> <li>functions </li> </ul> <pre><code>#request specified nodes in interactive mode\nrequest_cn() { srun -p stat -q stat -w chpc-cn1$1 --pty bash -i; }\nrequest_gpu() { srun -p stat -q stat --gres=gpu:1 -w chpc-gpu01$1 --pty bash -i; }\nrequest_gpu_chpc() { srun -p chpc --gres=gpu:1 -w chpc-gpu$1 --pty bash -i; }\nt() { tmux a -t $1 || tmux new -s $1; }\n</code></pre>"},{"location":"Linux/chpc/#interactive-mode","title":"Interactive Mode","text":"<p>Strongly recommend the interactive mode when you debug your program or want to check the outputs of each step.</p>"},{"location":"Linux/chpc/#qsub-i","title":"<code>qsub -I</code>","text":"<p>The simplest way is</p> <pre><code>[sXXXX@chpc-login01 ~] $ qsub -I\n</code></pre> <p>If there are idle nodes, then you would be allocated to a node, and pay attention to the prompt, which indicates where you are. For example, <code>sXXXX@chpc-login01</code> means you are on the <code>chpc-login01</code> node.</p> <p>Sometimes you can be automatically brought into the target node, then you are done. But sometimes it just displays the node you are allocated, such as</p> <pre><code>[sXXXX@chpc-login01 ~] $ qsub -I\n...\nsalloc: Nodes chpc-cn011 are ready for job\n[sXXXX@chpc-login01 ~] $\n</code></pre> <p>then you need to manually ssh into the target node</p> <pre><code>[sXXXX@chpc-login01 ~] $ ssh chpc-cn101\n[sXXXX@chpc-cn101 ~] $\n</code></pre>"},{"location":"Linux/chpc/#srun-w","title":"<code>srun -w</code>","text":"<p>Sometimes you might want to use a specified node, say you want to use GPU (DO NOT forget <code>--gres=gpu:1</code>), then you can specify your node via the option <code>-w</code>. Moreover, you\u2019d better specify the partition and QoS policy <code>-p stat -q stat</code>, which counts your quota of usage. The interactive command is specified via <code>--pty bash -i</code>.</p> <p>The complete command is</p> <pre><code>[sxxxxx@chpc-login01 ~]$ srun -p stat -q stat --gres=gpu:1 -w chpc-gpu010 --pty bash -i\nsrun: job XXXXXX queued and waiting for resources\nsrun: error: Lookup failed: Unknown host\nsrun: job XXXXXX has been allocated resources\n[sxxxxx@chpc-gpu010 ~]$ </code></pre> <p>Upon you are allocated a node, you can do what you want just like on your own laptop.</p>"},{"location":"Linux/chpc/#submitting-multiple-jobs","title":"Submitting Multiple Jobs","text":"<p>SLURM and PBS are two different cluster schedulers, and the common equivalent commands are as follows:</p> <p><pre><code># PBS\nqsub -l nodes=2:ppn=16 -l mem=8g -N jobname -m be -M notify@cuhk.edu.hk\n# Slurm\nsbatch -N 2 -c 16 --mem=8g -J jobname --mail-type=[BEGIN,END,FAIL,REQUEUE,ALL] --mail-user=notify@cuhk.edu.hk\n</code></pre> Sometimes, we want to submit multiple jobs quickly, or perform parallel computing by dividing a heavy task into multiple small tasks.</p>"},{"location":"Linux/chpc/#pbs","title":"PBS","text":"<p>Suppose there is a main program <code>toy.jl</code>, and I want to run it multiple times but with different parameters, which can be passed via the <code>-v</code> option.</p> submit.shtoy.jobtoy.jl <pre><code>#!/bin/bash\nfor number in 1 2 3 4 5; do\nfor letter in a b c d e; do\nqsub -v arg1=$number,arg2=$letter toy.job\n    done\ndone\n</code></pre> <pre><code>#!/bin/bash\ncd $HOME/PROJECT_FOLDER\njulia toy.jl ${arg1} ${arg2}\n</code></pre> <pre><code>a, b = AGRS\nprintln(\"a = $a, b = $b\")\n</code></pre> <p>The submitting command is</p> <pre><code>$ ./submit.sh\n</code></pre> <p>and here is an example in my private projects.</p>"},{"location":"Linux/chpc/#slurm","title":"SLURM","text":"<p>Suppose there is a main program <code>run.jl</code>, which runs in parallel with the number of cores <code>np</code>, and I also want to repeat the program for <code>N</code> times. To properly store the results, the index of repetition <code>nrep</code> for each job has been passed to the main program.</p> <p>The arguments for job file can be passed by the <code>--export</code> option.</p> submit.shtoy.jobrun.jl <pre><code>#!/bin/bash\nif [ $# == 0 ]; then\ncat &lt;&lt;HELP_USAGE\n    $0 param1 param2\n    param1 number of repetitions\n    param2 node label, can be stat or chpc\n    param3 number of cores\nHELP_USAGE\nexit 0\nfi\nresfolder=res_$(date -Iseconds)\nfor i in $(seq 1 1 $1); do\nsbatch -N 1 -c $3 -p $2 --export=resfolder=${resfolder},nrep=${i},np=$3 toy.job\ndone\n</code></pre> <pre><code>#!/bin/bash\ncd $HOME/PROJECT\njulia -p $np run.jl $nrep $resfolder\n</code></pre> <pre><code>using Distributed\nconst jobs = RemoteChannel(()-&gt;Channel{Tuple}(32))\nconst res = RemoteChannel(()-&gt;Channel{Tuple}(32))\n\nfunction make_jobs() end\nfunction do_work() end\n\nnrep, resfolder = ARGS\n@async make_jobs()\n</code></pre> <p>where</p> <ul> <li><code>HELP_USAGE</code> documents shell scripts\u2019 parameters.</li> <li><code>$1, $2, $3</code> denotes the 1st, 2nd, 3rd argument in the command line, and <code>$0</code> is the script name.</li> </ul> <p>The following command runs with <code>N = 100, np = 4</code> and on the <code>stat</code> partition,</p> <pre><code>$ ./submit.sh 100 stat 4\n</code></pre> <p>which is adopted from my private project.</p>"},{"location":"Linux/chpc/#specify-nodes","title":"Specify Nodes","text":"<p>The nodes can be excluded with <code>-x</code> or <code>--exclude</code>, and it can be specified with <code>-w</code>.</p> <p>TL; DR</p> <p>According to the following experiments, my observation is that</p> <p>the exclusion seems only to perform on the granted resources instead of all nodes. If you want to allocate specified nodes, <code>-w</code> option should be used.</p> <ul> <li><code>srun</code></li> </ul> <pre><code># cannot exclude\n$ srun -x chpc-cn050 hostname\nchpc-cn050.rc.cuhk.edu.hk\n</code></pre> <ul> <li><code>salloc</code></li> </ul> <pre><code># cannot exclude\n$ salloc -x chpc-cn050 -N1\nsalloc: Nodes chpc-cn050 are ready for job\n# cannot exclude\n$ salloc -x chpc-cn050 srun hostname\nsalloc: Nodes chpc-cn050 are ready for job\nchpc-cn050.rc.cuhk.edu.hk\n# NB: exclude successfully\n$ salloc -w chpc-cn050 srun -x chpc-cn050 hostname\nsalloc: Nodes chpc-cn050 are ready for job\nsrun: error: Hostlist is empty!  Can't run job.\n</code></pre> <ul> <li><code>sbatch</code></li> </ul> <pre><code># cannot exclude\n$ sbatch &lt;&lt; EOF\n&gt; #!/bin/sh\n&gt; #SBATCH -x chpc-cn050\n&gt; srun hostname\n&gt; EOF\nSubmitted batch job 246669\n$ cat slurm-246669.out\nchpc-cn050.rc.cuhk.edu.hk\n\n# NB: exclude successfully\n$ sbatch &lt;&lt; EOF\n&gt; #!/bin/sh\n&gt; #SBATCH -w chpc-cn050\n&gt; srun -x chpc-cn050 hostname\n&gt; EOF\nSubmitted batch job 246682\n$ cat slurm-246682.out\nsrun: error: Hostlist is empty!  Can't run job.\n</code></pre> <p>Observation:</p> <p><code>-x</code> seems not to work in the allocation step, but it can exclude nodes from the allocated nodes.</p> <p>Back to the manual of <code>-x</code> option:</p> <p>Explicitly exclude certain nodes from the resources granted to the job.</p> <p>So the exclusion seems only to perform on the granted resources instead of all nodes. If you want to allocate specified nodes, <code>-w</code> option should be used.</p>"},{"location":"Linux/chpc/#exit-code","title":"Exit Code","text":"<p>As the official documentation said, a job\u2019s exit code (aka exit status, return code and completion code) is captured by Slurm and saved as part of the job record. For sbatch jobs, the exit code that is captured is the output of the batch script.</p> <ul> <li>Any non-zero exit code will be assumed to be a job failure and will result in a Job State of FAILED with a Reason of \u201cNonZeroExitCode\u201d.</li> <li>The exit code is an 8 bit unsigned number ranging between 0 and 255.</li> <li>When a signal was responsible for a job or step\u2019s termination, the signal number will be displayed after the exit code, delineated by a colon(:)</li> </ul> <p>We can check the exit code of particular jobs,</p> <pre><code>sacct -a -X --format=Priority,User%20,JobID,Account,AllocCPUS,AllocTRES,NNodes,NodeList,Submit,QOS,STATE,ExitCode,DerivedExitCode\n</code></pre> <p>e.g.,</p> <p></p> <p>where </p> <ul> <li>the first one is a toy example and kill by myself with <code>kill -s 9 XX</code>, so the right of <code>:</code> is signal <code>9</code>, and it exits with zero code</li> <li>the second one is the one shared by @fangda. It is exactly reversed, and I suspect that it might be due to other reasons.</li> </ul> <p>see also: 3.7.6 Signals and </p> <pre><code># http://www.bu.edu/tech/files/text/batchcode.txt\nName     Number (SGI)   Number (IBM)\nSIGHUP      1              1\nSIGINT      2              2\nSIGQUIT     3              3\nSIGILL      4              4\nSIGTRAP     5              5\nSIGABRT     6              6\nSIGEMT      7              7\nSIGFPE      8              8\nSIGKILL     9              9\nSIGBUS      10             10\nSIGSEGV     11             11\nSIGSYS      12             12\nSIGPIPE     13             13\nSIGALRM     14             14\nSIGTERM     15             15\nSIGUSR1     16             30\nSIGUSR2     17             31\nSIGPOLL     22             23\nSIGIO       22             23\nSIGVTALRM   28             34\nSIGPROF     29             32\nSIGXCPU     30             24\nSIGXFSZ     31             25\nSIGRTMIN    49             888\nSIGRTMAX    64             999\n</code></pre>"},{"location":"Linux/chpc/#job-priority","title":"Job Priority","text":"<p>The submitted jobs are sorted by the calculated job priority in descending order. </p> <p>TL;DR</p> <p>You can check the priority of all submitted jobs (not only yours but also others), and then you can find where you are, and figure out when your job can start to run. <pre><code>$ sacct -a -X --format=Priority,User%20,JobID,Account,AllocCPUS,AllocTRES,NNodes,NodeList,Submit,QOS | (sed -u 2q; sort -rn)\n</code></pre></p> <p>The formula for job priority is given by</p> <pre><code>Job_priority =\nsite_factor +\n    (PriorityWeightAge) * (age_factor) +\n    (PriorityWeightAssoc) * (assoc_factor) +\n    (PriorityWeightFairshare) * (fair-share_factor) +\n    (PriorityWeightJobSize) * (job_size_factor) +\n    (PriorityWeightPartition) * (partition_factor) +\n    (PriorityWeightQOS) * (QOS_factor) +\n    SUM(TRES_weight_cpu * TRES_factor_cpu,\n        TRES_weight_&lt;type&gt; * TRES_factor_&lt;type&gt;,\n        ...)\n- nice_factor\n</code></pre> <p>we can find those weights</p> <pre><code>$ scontrol show config | grep ^Priority\nPriorityParameters      = (null)\nPrioritySiteFactorParameters = (null)\nPrioritySiteFactorPlugin = (null)\nPriorityDecayHalfLife   = 7-00:00:00\nPriorityCalcPeriod      = 00:05:00\nPriorityFavorSmall      = No\nPriorityFlags           = CALCULATE_RUNNING\nPriorityMaxAge          = 7-00:00:00\nPriorityUsageResetPeriod = NONE\nPriorityType            = priority/multifactor\nPriorityWeightAge       = 0\nPriorityWeightAssoc     = 0\nPriorityWeightFairShare = 100000\nPriorityWeightJobSize   = 0\nPriorityWeightPartition = 0\nPriorityWeightQOS       = 0\nPriorityWeightTRES      = (null)\n</code></pre> <p>only the <code>PriorityWeightFairShare</code> is nonzero, and this agrees with</p> <pre><code>$ sprio -w\n          JOBID PARTITION   PRIORITY       SITE  FAIRSHARE\n        Weights                               1     100000\n$ sprio -w -p stat\n          JOBID PARTITION   PRIORITY       SITE  FAIRSHARE\n        Weights                               1     100000\n$ sprio -w -p chpc\n          JOBID PARTITION   PRIORITY       SITE  FAIRSHARE\n        Weights                               1     100000\n</code></pre> <p>then the formula would be simplified as</p> <pre><code>Job_priority =\nsite_factor +\n    (PriorityWeightFairshare) * (fair-share_factor) +\n    SUM(TRES_weight_cpu * TRES_factor_cpu,\n        TRES_weight_&lt;type&gt; * TRES_factor_&lt;type&gt;,\n        ...)\n- nice_factor\n</code></pre> <p>where <code>TRES_weight_&lt;type&gt;</code> might be GPU, see the usage weight in the table, and a negative <code>nice_factor</code> can only be set by privileged users,</p> <p>Nice Factor</p> <p>Users can adjust the priority of their own jobs by setting the nice value on their jobs. Like the system nice, positive values negatively impact a job\u2019s priority and negative values increase a job\u2019s priority. Only privileged users can specify a negative value. The adjustment range is +/-2147483645.</p> <ul> <li>the fairshare can be obtained via <code>sshare</code>, and the calculated priority can be obtained via <code>sprio</code>.</li> </ul> <p>refer to</p> <ul> <li>Multifactor Priority Plugin</li> <li>Slurm priorities</li> </ul>"},{"location":"Linux/chpc/#qos","title":"QOS","text":"<p>In practice, we are always told that the maximum number of CPUs/cores and Jobs, which can be specified by QOS. Recall that we are suggested to specify <code>-q stat</code> when we submit jobs. Without such option, it uses the default one <code>-q normal</code>. Actually, they corresponds to two different Quality of Service (QOS), i.e., two different quotas.</p> <p>For example, in the below configuration, when we use <code>-p stat -q stat</code>, the maximum number of jobs and cpus are limited to be 30. But if we just specify <code>-p stat</code>, the submitted jobs would be counted into <code>-p normal</code> whose limitation is only 10. (see  for my exploration)</p> <pre><code>$ sacctmgr show qos format=name,MaxJobsPU,MaxSubmitPU,MaxTRESPU\n      Name MaxJobsPU MaxSubmitPU     MaxTRESPU \n---------- --------- ----------- ------------- normal                    10               stat                    30        cpu=30 20jobs                    20               p1                    10               p2                    10               p3                    10               hold         0          10               tfchan                    10               bull                    50               ligo                   100               demo                    10               \nyingyingw+                    30        cpu=30 bzhou                    10               geo                    10               cstat                              cpu=16 </code></pre> <p>Furthermore, the QOS configuration is defined in </p> <pre><code>$ cat /etc/slurm/slurm.conf \n...\n# Partition\nPartitionName=chpc Nodes=chpc-cn[002-029,033-040,042-050],chpc-gpu[001-003],chpc-k80gpu[001-002],chpc-large-mem01,chpc-m192a[001-010] Default=YES MaxTime=7-0 MaxNodes=16 State=UP DenyAccounts=public AllowQos=normal,cstat,tfchan,ligo #DenyQos=stat,bull,demo\nPartitionName=public Nodes=chpc-cn[005,015,025,035,045],chpc-gpu001 MaxTime=7-0 State=UP PartitionName=stat Nodes=chpc-cn[101-110],chpc-gpu[010-014] State=UP AllowAccounts=stat QOS=stat\nPartitionName=yingyingwei Nodes=chpc-cn111,chpc-gpu015 State=UP AllowGroups=yingyingwei QOS=yingyingwei\nPartitionName=bzhou Nodes=chpc-gpu[004-009] State=UP AllowAccounts=boleizhou QOS=bzhou\nPartitionName=tjonnie Nodes=chpc-cn[030-032,041] State=UP AllowGroups=s1155137381 QOS=ligo\n#PartitionName=ligo Nodes=chpc-cn050 State=UP AllowAccounts=tjonnieli QOS=ligo\n#PartitionName=demo Nodes=chpc-cn049 State=UP AllowAccounts=pione QOS=demo\n#PartitionName=geo Nodes=chpc-cn048 State=UP AllowGroups=s1155102420 QOS=geo\nPartitionName=itsc Nodes=ALL State=UP AllowAccounts=pione QOS=bull Hidden=yes </code></pre> <p>so to gain more quota, a possible (might not friendly if without notification) way is to try other policy <code>-q</code> on other partition <code>-p</code>. For example, the above <code>cstat</code> does not specify the limitation on the number of submit jobs (<code>MaxJobsPU</code>) and no <code>cstat</code> record (and hence no contraints like <code>AllowAccounts</code> and <code>AllowQos</code>) in the configuration file, so we can submit more than 30 jobs with <code>-q cstat</code>, althought might not be too much since it limits the resource <code>cpu=16</code> in <code>MaxTRESPU</code>. </p>"},{"location":"Linux/chpc/#cpumemory-usage","title":"CPU/Memory Usage","text":"<p>Check the CPU and memory usage of a specific job. The natural way is to use <code>top</code> on the node that run the job. After ssh into the corresponding node, get the map between job id and process id via</p> <pre><code>$ scontrol listpids YOUR_JOB_ID\n</code></pre> <p>Note that this only works with processes on the node on which <code>scontrol</code> is run, i.e., we cannot get the corresponding pid before ssh into the node.</p> <p>Then check the results of <code>top</code> and monitor the CPU/memory usage by the job given the pid. Or explicitly specify the pid via <code>top -p PID_OF_JOB</code></p> <p>Alternatively, a more direct way is to use <code>sstat</code> command, which reports various status information, including CPU and memory, for running jobs.</p> <pre><code>$ sstat --format=AveCPU,AvePages,AveRSS,AveVMSize,MaxRSS,MaxVMSize -j JOBID\n    AveCPU   AvePages     AveRSS  AveVMSize     MaxRSS  MaxVMSize \n---------- ---------- ---------- ---------- ---------- ---------- 00:02.000         30      1828K    119820K      1828K    276808K </code></pre> <p>Correspondingly, the result from <code>top</code> is</p> <pre><code>PID USER PR  NI    VIRT    RES    SHR S  %CPU %MEM     TIME COMMAND                                                                                                              213435 XXX 20   0  119820   2388   1772 S   0.0  0.0   0:00.27 bash </code></pre> <p>where <code>VIRT</code> == <code>AveVMSIZE</code>. The detailed meaning can be found via <code>man top</code>,</p> <ul> <li><code>VIRT</code>: Virtual Memory Size</li> <li><code>RES</code>: Resident Memory Size</li> <li><code>%MEM</code>: <code>RES</code> divided by total physical memory</li> </ul>"},{"location":"Linux/chpc/#disk-quota","title":"Disk Quota","text":"<p>Sometimes, you might find that your job cannot continue to write out results, and you also cannot create a new file. It might imply that your quota reaches the limit, and here is a tip to \u201cincrease\u201d your quota without cleaning your files.</p> <p>TL;DR</p> <p>Tip to \u201cincrease\u201d your personal quota is to count the files as the shared department quota, so just change the group membership of your files, <pre><code>$ chgrp -R Stat SomeFolder\n</code></pre></p> <p>Firstly, you can check your personal quota with</p> <pre><code>$ lfs quota -gh your_user_id /lustre\n# 20GB by default from ITSC in /users/your_user_id\n</code></pre> <p>and here is two shared quota\u2019s in the whole department,</p> <pre><code>$ lfs quota -gh Stat /lustre\n# 30TB shared by Statistics Department in /lustre/project/Stat\n$ lfs quota -gh StatScratch /lustre\n# 10TB by default from ITSC in /lustre/scratch/Stat\n</code></pre> <p>An interesting thing is that the quota is counted by the group membership of the file, so if your personal quota exceeds, you can change the group membership of some files, and then these files would count as the shared quota instead of your personal quota. To change the group membership recursively of a folder, </p> <pre><code>$ chgrp -R Stat SomeFolder\n</code></pre> <p>A partial Chinese description,</p> <p>\u5df2\u7ecf\u597d\u51e0\u6b21\u56e0\u4e3a disk quota \u8d85\u4e86\u4f7f\u5f97\u7a0b\u5e8f\u5d29\u6e83\uff0c\u4e8e\u662f\u8bd5\u56fe\u5c06 home \u6587\u4ef6\u5939\u4e2d\u7684\u90e8\u5206\u6587\u4ef6\u79fb\u52a8\u5230 <code>/lustre/project/Stat</code> \u4e2d\uff0c\u4f46\u4f3c\u4e4e quota \u5e76\u6ca1\u6709\u53d8\u5316\u3002</p> <p>\u540e\u6765\u624d\u53d1\u73b0\uff0c\u539f\u6765 quota \u662f\u901a\u8fc7 group \u6765\u63a7\u5236\u7684\uff0c\u5176\u4e2d\u4e0a\u8ff0\u547d\u4ee4\u4e2d <code>-g</code> \u9009\u9879\u5373\u8868\u793a group\uff0c\u4e5f\u5c31\u662f\u8bf4 <code>your_user_id</code>, <code>Stat</code> \u548c <code>StatScratch</code> \u90fd\u662f group \u540d\u5b57\u3002\u5982\u679c\u6587\u4ef6\u5939\u662f\u4ece\u522b\u5904\u79fb\u52a8\u6765\u7684\uff0cgroup\u5e76\u4e0d\u4f1a\u6539\u53d8\uff0c\u53ea\u6709\u76f4\u63a5\u5728 <code>/lustre/project/Stat</code> \u4e2d\u65b0\u5efa\u7684\u6587\u4ef6\u6216\u6587\u4ef6\u5939\u624d\u7ee7\u627f Stat \u7684 group\uff0c\u8fd9\u4e00\u70b9\u662f\u6700\u5f00\u59cb\u5728 <code>Stat</code> \u6587\u4ef6\u5939\u4e0b\u521b\u5efa\u81ea\u5df1\u76ee\u5f55 <code>MYFOLDER</code> \u65f6\u901a\u8fc7 <code>chmod g+s MYFOLDER</code> \u4fdd\u8bc1\u7684\u3002</p> <p>\u4e8e\u662f\u7b80\u5355\u7684\u65b9\u6cd5\u4fbf\u662f\u76f4\u63a5\u66f4\u6539 group\uff0c</p> <pre><code>chgrp -R Stat SomeFolder\n</code></pre> <p>\u5982\u679c\u60f3\u627e\u51fa\u54ea\u4e9b\u6587\u4ef6 group \u4e3a <code>sXXXX</code>, \u53ef\u4ee5\u91c7\u7528</p> <pre><code>find . -group `whoami`\n</code></pre>"},{"location":"Linux/chpc/#custom-module","title":"Custom Module","text":"<p>The cluster manages the software versions with module, and the default module file path is</p> <pre><code>$ echo $MODULEPATH\n/usr/share/Modules/modulefiles:/etc/modulefiles\n</code></pre> <p>which requires <code>sudo</code> privilege. A natural question is whether we can create custom (local) module file to switch the software which are installed by ourselves or have not been added into the modules.</p> <p>Here is an example. There is an installed R in <code>/opt/share/R</code> named <code>3.6.3-v2</code>, which does not have the modulefile, since the same version <code>3.6.3</code> is already used. But there are still differences between these two \u201csame\u201d versions, <code>3.6.3-v2</code> supports figures, such as \u201cjpeg\u201d, \u201cpng\u201d, \u201ctiff\u201d and \u201ccairo\u201d, while <code>3.6.3</code> not,</p> <pre><code>(3.6.3) &gt; capabilities()\njpeg         png        tiff       tcltk         X11        aqua\n      FALSE       FALSE       FALSE        TRUE       FALSE       FALSE\n   http/ftp     sockets      libxml        fifo      cledit       iconv\n       TRUE        TRUE        TRUE        TRUE        TRUE        TRUE\n        NLS     profmem       cairo         ICU long.double     libcurl\n       TRUE       FALSE       FALSE        TRUE        TRUE        TRUE\n\n(3.6.3-v2) &gt; capabilities()\njpeg         png        tiff       tcltk         X11        aqua\n       TRUE        TRUE        TRUE        TRUE       FALSE       FALSE\n   http/ftp     sockets      libxml        fifo      cledit       iconv\n       TRUE        TRUE        TRUE        TRUE        TRUE        TRUE\n        NLS     profmem       cairo         ICU long.double     libcurl\n       TRUE       FALSE        TRUE        TRUE        TRUE        TRUE\n</code></pre> <p>To use <code>3.6.3-v2</code>, we can create our custom modulefile (ref),</p> <pre><code># step 1: create a folder in your home directory\n~ $ mkdir modules\n# step 2: preappend your module path to the ~/.bashrc file\n~ $ echo \"export MODULEPATH=${MODULEPATH}:${HOME}/modules\" &gt;&gt; ~/.bashrc\n# step 3: copy the existing modulefile as a template\n# here I skip the directory, just use name `R3.6`, which can also differ from the existing `R/3.6`\n~ $ cp /usr/share/Modules/modulefiles/R/3.6 modules/R3.6\n# step 4: modify the path to the software (`modroot`) as follows\n</code></pre> /usr/share/Modules/modulefiles/R/3.6~/modules/R3.6diff -u <pre><code>#%Module1.0#####################################################################\n##\nproc ModulesHelp { } {\nglobal version modroot\n\nputs stderr \"R/3.6.3 - sets the Environment for\n         R scripts v3.6.3 (gcc verion)\n\nUse 'module whatis [module-info name]' for more information\"\n}\n\nmodule-whatis \"The R Project for Statistical Computing\nR is a free software environment for statistical computing and graphics.\n\nHere is the available versions:\n        R/3.6.3\"\n\n\nset     version         3.6.3\nset     app             R\nset     modroot         /opt/share/$app/$version\n\nmodule load pcre2\n\nconflict R\n\nsetenv R_HOME $modroot/lib64/R\n\nprepend-path PATH $modroot/bin\nprepend-path LD_LIBRARY_PATH $modroot/lib\nprepend-path INCLUDE $modroot/include\n</code></pre> <pre><code>#%Module1.0#####################################################################\n##\nproc ModulesHelp { } {\nglobal version modroot\n\nputs stderr \"R/3.6.3 - sets the Environment for\n         R scripts v3.6.3 (gcc verion)\n\nUse 'module whatis [module-info name]' for more information\"\n}\n\nmodule-whatis \"The R Project for Statistical Computing\nR is a free software environment for statistical computing and graphics.\n\nHere is the available versions:\n        R/3.6.3\"\n\n\nset     version         3.6.3\nset     app             R\nset     modroot         /opt/share/$app/${version}-v2\n\nmodule load pcre2\nmodule load intel\nconflict R\n\nsetenv R_HOME $modroot/lib64/R\n\nprepend-path PATH $modroot/bin\nprepend-path LD_LIBRARY_PATH $modroot/lib\nprepend-path INCLUDE $modroot/include\n</code></pre> <pre><code>@@ -18,10 +18,10 @@\n\nset     version         3.6.3\n set     app             R\n-set     modroot         /opt/share/$app/$version\n+set     modroot         /opt/share/$app/${version}-v2\n\nmodule load pcre2\n-\n+module load intel\nconflict R\n</code></pre> <p>Note that <code>module load intel</code> is also added, otherwise it will throws,</p> <pre><code>/opt/share/R/3.6.3-v2/lib64/R/bin/exec/R: error while loading shared libraries: libiomp5.so: cannot open shared object file: No such file or directory\n</code></pre> <p>since <code>libiomp5</code> is for <code>openmp</code> (ref).</p> <p>Now, you can use <code>3.6.3-v2</code> like other modules,</p> <pre><code># load `3.6.3-v2`\n$ module load R3.6\n# unload `3.6.3-v2`\n$ module unload R3.6\n# load original `3.6.3`\n$ module load R/3.6\n</code></pre>"},{"location":"Linux/chpc/#gpu-usage","title":"GPU Usage","text":"<p>Be cautious about the compatible versions between the deep learning framework (e.g., tensorflow), CUDA, and also the (CUDA) driver version of the node.</p> <p>The driver version of the node is fixed, but fortunately it is downward compatible, i.e., a higher driver version also supports a lower CUDA version. We can check the driver version by</p> <pre><code>$ nvidia-smi \nSat Jun 26 10:32:03 2021       \n+-----------------------------------------------------------------------------+\n| NVIDIA-SMI 450.36.06    Driver Version: 450.36.06    CUDA Version: 11.0     |\n...\n</code></pre> <p>which implies that the highest supported CUDA version is 11.0.</p> <p>The available CUDA versions can be found as follows</p> <pre><code>$ module avail cuda\n-------------- /usr/share/Modules/modulefiles ---------------\ncuda/10.1          cuda/10.2          cuda/11.0          cuda/11.3(default) cuda/9.2\n</code></pre> <p>For the above node whose highest supported CUDA version is 11.0, the latest <code>cuda/11.3</code> would be incompatible, but others are all OK.</p> <p>Now you can pick the proper tensorflow version according to the supported CUDA versions. Here is an official configuration table, which lists the compatible versions between tensorflow, python, CUDA, together with cuDNN.</p> <p>Finally, you can validate if the GPU is correctly supported by running</p> <pre><code>$ python\n&gt;&gt;&gt; import tensorflow as tf\n# 1.x\n&gt;&gt;&gt; tf.test.is_gpu_available()\n# 2.x\n&gt;&gt;&gt; tf.config.list_physical_devices('GPU')\n</code></pre> <p>What if you want to use the version that does not installed on the cluster, say <code>cuda/10.0</code>? We can install a local cuda and creat a custom module to call it. </p> <p>Following the instruction: Install Cuda without root</p> <pre><code>$ wget https://developer.nvidia.com/compute/cuda/10.0/Prod/local_installers/cuda_10.0.130_410.48_linux\n$ chmod +x cuda_10.0.130_410.48_linux\n$ ./cuda_10.0.130_410.48_linux\n</code></pre> <p>then download <code>cuDNN</code>, but it requires to login. After extraction, copy the <code>include</code> and <code>lib</code> to the CUDA installation folder.</p> <p>Next, create the custom module file, and finally I can use </p> <pre><code>$ cuda load cuda10.0\n</code></pre> <p>to use the local cuda.</p>"},{"location":"Linux/chpc/#inherited-environment","title":"Inherited Environment","text":"<p>By default, <code>sbatch</code> will inherit the environment variables, so</p> <pre><code>$ module load R/3.6\n$ sbatch -p stat -q stat &lt;&lt; EOF\n&gt; #!/bin/sh\n&gt; echo $PATH\n&gt; which R\n&gt; EOF\nSubmitted batch job 319113\n$ cat slurm-319113.out \n/opt/share/R/3.6.3/bin:...\n/opt/share/R/3.6.3/bin/R\n</code></pre> <p>we can disable the inheriting behavior via </p> <pre><code>$ sbatch -p stat -q stat --export=NONE &lt;&lt; EOF\n&gt; #!/bin/sh\n&gt; echo $PATH\n&gt; which R\n&gt; EOF\nSubmitted batch job 319110\n$ cat slurm-319110.out \n/opt/share/R/3.6.3/bin:\nwhich: no R in (...\n</code></pre> <p>But note that <code>$PATH</code> still has the path to <code>R/3.6</code>, the explanation would be that the substitution has been executed before submitting.</p> <p>The detailed explanation of <code>--export</code> can be found in <code>man sbatch</code></p> <pre><code>       --export=&lt;[ALL,]environment variables|ALL|NONE&gt;\n              Identify  which environment variables from the submission environment are propagated to the launched applica\u2010\n              tion. Note that SLURM_* variables are always propagated.\n\n              --export=ALL\n                        Default mode if --export is not specified. All of the users environment will be loaded (either from\n                        callers environment or clean environment if --get-user-env is specified).\n\n              --export=NONE\n                        Only  SLURM_*  variables  from the user environment will be defined. User must use absolute path to\n                        the binary to be executed that will define the environment.  User can not specify explicit environ\u2010\n                        ment variables with NONE.  --get-user-env will be ignored.\n                        This  option  is particularly important for jobs that are submitted on one cluster and execute on a\n                        different cluster (e.g. with different paths).  To avoid steps inheriting environment  export  set\u2010\n                        tings  (e.g.  NONE) from sbatch command, the environment variable SLURM_EXPORT_ENV should be set to\n                        ALL in the job script.\n</code></pre>"},{"location":"Linux/chpcuser/","title":"Chpcuser","text":"<pre><code>graph TD;\n    A0[\"~\"]--&gt;A1[\"/users/sXXXX (mount on storage)\"];\n    A1--&gt;A{Has migrated?};\n    A--&gt;|NO|D[\"/lustre/users/sXXXX\"];\n    A--&gt;|Yes|C[\"/storage01/users/sXXX\"];\n</code></pre> <pre><code>graph LR;\n    A0[\"~\"]--&gt;A1[\"/users/sXXXX\"];\n    subgraph mount on storage\n    A1--&gt;A2[\"/storage01/users/sXXX\"];\n    end\n    A2--&gt;A{Has migrated?};\n    A--&gt;|NO|D[\"/lustre/users/sXXXX\"];\n    A--&gt;|Yes|END;\n</code></pre> <pre><code>graph LR;\n    A[\"/lustre/users/sXXXX\"]--&gt;B{Has migrated?};\n    B--&gt;|Yes|C[\"/users/sXXXX\"];\n    subgraph mount on storage\n    C\n    end\n    B--&gt;|No|END;\n</code></pre>"},{"location":"Linux/ecs/","title":"AliCloud ECS","text":""},{"location":"Linux/ecs/#_1","title":"\u5b89\u5168\u7ec4\u8bbe\u7f6e","text":"<p>\u8bd5\u56fe\u4e3a ssh remote forward port \u6dfb\u52a0\u5b89\u5168\u7ec4\u3002\u9996\u5148\u9ed8\u8ba4 remote forward port \u4ec5\u5141\u8bb8\u901a\u8fc7 lo \u8bbf\u95ee\uff0c\u4f46\u662f\u53ef\u4ee5\u5728 <code>/etc/ssh/sshd_config</code> \u4e2d\u52a0\u5165</p> <pre><code># https://www.ssh.com/academy/ssh/tunneling/example\nGatewayPorts yes\n</code></pre> <p>\u6765\u5141\u8bb8\u5916\u6765 ip \u76f4\u63a5\u767b\u5f55 (see also: https://serverfault.com/questions/896784/ssh-remote-port-forwarding-gatewayports-yes-which-machine-to-specify-on)\u3002</p> <p>\u81ea\u7136\u5e26\u6765\u4e00\u4e2a\u5b89\u5168\u6027\u95ee\u9898\uff0c\u6240\u4ee5\u60f3\u5230\u6dfb\u52a0\u5b89\u5168\u7ec4\uff0c\u4f46\u662f\u6dfb\u52a0\u5b8c\u5b89\u5168\u7ec4\u540e\uff0c\u53d1\u73b0\u5b89\u5168\u7ec4\u5916\u7684 ip \u4ecd\u80fd\u6b63\u5e38\u8bbf\u95ee\u3002\u4e00\u5ea6\u6000\u7591 remote forward port \u4e0d\u53d7\u5b89\u5168\u7ec4\u7684\u63a7\u5236\uff0c\u4f46\u53c8\u8f6c\u5ff5\u4e00\u60f3\u4e0d\u592a\u53ef\u80fd\u554a\u3002</p> <p>\u6700\u7ec8\u53d1\u73b0\u81ea\u5df1\u6700\u521d\u7684\u4e00\u6761\u5b89\u5168\u7ec4\u8bb0\u5f55\u4e3a\uff0c</p> <p></p> <p>\u7adf\u7136\u5141\u8bb8\u4efb\u610f\u5730\u5740\u4ece\u4efb\u610f\u7aef\u53e3\u8fdb\u884c\u8bbf\u95ee\uff0c\u800c\u4e14\u8fd9\u6761\u8bb0\u5f55\u7684\u53e4\u602a\u4e4b\u5904\u5728\u4e8e\u4f18\u5148\u7ea7\u7adf\u7136\u4e3a 110\uff0c\u4f46\u503c\u5e94\u8be5\u4ecb\u4e8e 1 \u4e0e 100 \u95f4\uff0c\u4e14\u8d8a\u4f4e\u4f18\u5148\u7ea7\u8d8a\u9ad8\uff0c\u800c\u4e14\u6b64\u8bb0\u5f55\u201c\u4fee\u6539\u201d\u6309\u94ae\u4e0d\u53ef\u7528\u3002</p> <p>\u968f\u540e\u4fbf\u5220\u4e86\u8fd9\u6761\u89c4\u5219\uff0c\u7136\u540e\u7acb\u9a6c\u4e0d\u80fd\u8bbf\u95ee\u4e86\u3002\u4e8e\u662f\u518d\u6dfb\u52a0 22 \u7aef\u53e3\u7684\u89c4\u5219\uff0c\u6b64\u540e\u7ee7\u7eed\u6d4b\u8bd5\u53d1\u73b0 remote forwarding \u7684\u7aef\u53e3\u4e5f\u80fd\u4f7f\u7528\u4e86\u3002</p>"},{"location":"Linux/ecs/#_2","title":"\u5b50\u7f51\u63a9\u7801","text":"<p>\u60f3\u5728\u4e91\u670d\u52a1\u5668\u540e\u53f0\u8bbe\u7f6e\u5b89\u5168\u7ec4\u89c4\u5219\uff0c\u53ea\u5141\u8bb8 CUHK \u7684\u7f51\u8fdb\u5165\uff1b\u4f46\u662f\u586b\u5199\u65f6\uff0c\u9664\u4e86 IP\uff0c\u8fd8\u9700\u8981\u5b50\u7f51\u63a9\u7801\uff0c\u7ecf\u67e5\u4e3a CUHKNET</p> <p>137.189.0.0/16</p> <p>\u4e00\u76f4\u6ca1\u61c2\u5b50\u7f51\u63a9\u7801\u662f\u5565\uff0c\u6bd4\u5982\u7ecf\u5e38\u770b\u5230\u7684 <code>255.255.255.0</code>\uff0c\u4f46\u662f\u8fd9\u91cc\u53c8\u6709\u4e2a <code>/16</code>\uff0c\u6240\u4ee5\u5f88\u61f5\u3002\u8fd9\u7bc7\u77e5\u4e4e\u56de\u7b54\u89e3\u51b3\u4e86\u6211\u7684\u7591\u95ee\u3002\u7b80\u5355\u8bf4\uff0c\u5b50\u7f51\u63a9\u7801\u4e5f\u662f 4 \u7ec4\u957f\u5ea6\u4e3a 8 \u7684\u4e8c\u8fdb\u5236\u6570\u7ec4\u6210\uff0c\u4ece\u5de6\u5230\u53f3\u524d <code>n</code> \u4f4d\u4e3a 1\uff0c\u5176\u4f59\u4e3a 0\uff0c\u6b64\u65f6\u5b50\u7f51\u63a9\u7801\u8bb0\u4e3a <code>/n</code>\uff0c\u6216\u8005\u6362\u6210\u5341\u8fdb\u5236\u6570\u3002</p> <p>\u5b83\u53ef\u7528\u4e8e\u5224\u65ad\u4e24\u4e2a ip \u662f\u5426\u5c5e\u4e8e\u540c\u4e00\u7f51\u6bb5\uff0c\u4ee5\u53ca\u8be5\u7f51\u6bb5\u6709\u591a\u5c11\u4e2a ip\u3002\u53e6\u5916\u53ef\u4ee5\u5f97\u5230\u7f51\u7edc\u53f7\uff08ip\u4e2d\u5bf9\u5e94\u63a9\u7801\u4e3a1\u7684\u90e8\u5206\uff09\u548c\u4e3b\u673a\u53f7\uff08ip\u4e2d\u5bf9\u5e94\u63a9\u7801\u4e3a0\u7684\u90e8\u5206\uff09\u3002</p> <p>\u53cd\u8fc7\u6765\uff0c\u7ed9\u5b9a\u4e00\u4e2a IP\uff0c\u60f3\u786e\u5b9a\u51fa\u5176\u6240\u5728\u7684\u7f51\u6bb5\u3002\u53ef\u4ee5\u6309\u5982\u4e0b\u6b65\u9aa4\uff0c\u4ee5\u6dfb\u52a0 Harvard University WiFi \u4e3a\u4f8b\uff0c</p> <ol> <li>\u8bbf\u95ee https://ipinfo.io/ip \u786e\u5b9a ip\uff0c\u5982 <code>67.134.206.47</code></li> <li>\u901a\u8fc7 ASN API https://ipinfo.io/products/asn-api \u8f93\u5165\u4e0a\u8ff0 IP\uff0c\u5f97\u5230 ASN \u7f16\u53f7\uff0c<code>AS1742</code></li> <li>\u8bbf\u95ee https://ipinfo.io/AS1742 \u83b7\u53d6\u5168\u90e8 ip address range, \u5176\u4e2d\u6709\u4e00\u6761\u4fbf\u662f\uff0c<code>67.134.204.0/22</code></li> </ol> <p>\u4e0b\u9762\u9a8c\u8bc1 <code>67.134.206.47</code> \u662f\u5426\u5c5e\u4e8e <code>67.134.204.0/22</code></p> <pre><code>julia&gt; bitstring(204)[end-7:end]\n\"11001100\"\n\n# only consider the 3rd field, 22 - 8 - 8 = 6\njulia&gt; bitstring(204)[end-7:end][1:6]\n\"110011\"\n</code></pre> <p>\u90a3\u4e48\u7b2c\u4e09\u4f4d\u5141\u8bb8\u7684\u4fbf\u6709\u56db\u79cd\u53ef\u80fd\uff0c</p> <pre><code>julia&gt; parse(Int, \"11001100\", base = 2)\n204\n\njulia&gt; parse(Int, \"11001101\", base = 2)\n205\n\njulia&gt; parse(Int, \"11001110\", base = 2)\n206\n\njulia&gt; parse(Int, \"11001111\", base = 2)\n207\n</code></pre>"},{"location":"Linux/maximum-usage-of-ITSC-cluster-resource/","title":"MaxClusterUsage","text":""},{"location":"Linux/maximum-usage-of-ITSC-cluster-resource/#maximum-usage-of-itsc-cluster-resource","title":"Maximum Usage of ITSC Cluster Resource","text":"<p>Info</p> <p>Contributed by masterzhen119 on 2021-10-14.</p> <p>As PhD members in Statistics, we have two types of ITSC source.</p> <ol> <li>University level: Everyone owns 10 running jobs without limitation of cores simutanously.</li> <li>Division level: Members from Statistic division could run 30 cores (or 30 jobs) at most.</li> </ol> <p>Sometimes, when you have multiple tests in parallel like 100. Each one will take more than 1 hour. The wise thought is to use both resource of University  and Division level. Here comes the way: we want to use bash file to allocate first 10 jobs to University level and the rest for STAT. The bash file is:</p> <pre><code>#!/bin/bash\ndir=\"/lustre/project/Stat/path/of/names/of/genes\"\ncd /lustre/project/Stat/code/job/path/\nnum=1\nc=11\nfor i in $(ls $dir)\ndo\nif (($num &lt; $c))\nthen\nsbatch  --export=p=${i} try3.job\n             echo $num\nelse\nsbatch -p stat -q stat --export=p=${i} try3.job\n    fi\npwd\nnum=$[$num+1]\nsleep 1\ndone\n</code></pre> <p>In this way, we can pass the gene name to job file, and the corresponding job file is:</p> <pre><code>#!/bin/bash\n#SBATCH -J job_name\n#SBATCH -N 1 -c 1\n#SBATCH --output= job_name-%j-%a_out.log\n#SBATCH --error= job_name-%j-%a_err.log\n\ncd /lustre/project/Statcode/job/path/\npython3  example.py $p\n</code></pre> <p>We have pass the name to python. The rest thing you need to do :</p> <p><pre><code>import sys\ngene_name = sys.argv[1]\n</code></pre> In such way, we can run the same python script via system environment. Amazing!</p>"},{"location":"Linux/misc/","title":"\u6e90\u7801\u5b89\u88c5 RMySQL \u5168\u7eaa\u5f55","text":""},{"location":"Linux/misc/#_1","title":"\u670d\u52a1\u5668\u73af\u5883","text":"<p>centos 6.5 64\u4f4d </p> <p>\u5565\u90fd\u6ca1\u6709\uff0c\u8fd8\u4e0d\u80fd\u8bbf\u95ee\u5916\u7f51</p>"},{"location":"Linux/misc/#_2","title":"\u7b2c\u4e00\u6b21\u5c1d\u8bd5","text":"<p>\u5c06 RMySQL \u6e90\u6587\u4ef6\u590d\u5236\u5230\u670d\u52a1\u5668\u4e0a\uff0c</p> <pre><code>R CMD INSTALL RMySQL_0.10.14.tar.gz\n</code></pre>"},{"location":"Linux/misc/#centos-65-mysql-5173","title":"centos 6.5 \u4e0a\u6e90\u7801\u5b89\u88c5 mysql 5.1.73","text":"<p>\u53c2\u8003</p> <ol> <li>Install MySQL Server 5.0 and 5.1 from source code</li> </ol>"},{"location":"Linux/misc/#centos-65-mariadb-55","title":"centos 6.5 \u4e0a\u6e90\u7801\u5b89\u88c5 MariaDB 5.5","text":"<p>\u53c2\u8003 1. Generic Build Instructions</p>"},{"location":"Linux/misc/#step-1","title":"step 1","text":"<pre><code>mkdir build-mariadb\ncd build-mariadb\n</code></pre>"},{"location":"Linux/misc/#step-2","title":"step 2","text":"<p>\u6ce8\u610f\u8bbe\u7f6e prefix</p> <p>\u53c2\u8003 What is cmake equivalent of \u2018configure \u2013prefix=DIR &amp;&amp; make all install \u2018?</p> <pre><code>cmake ../mariadb-5.*.* -DCMAKE_INSTALL_PREFIX:PATH=~/mariadb\n</code></pre>"},{"location":"Linux/misc/#step-3","title":"step 3","text":"<pre><code>make \nmake install\n</code></pre>"},{"location":"Linux/myworkflow/","title":"Myworkflow","text":"<pre><code>graph LR\n    A[\"Fan's Server&lt;br/&gt; (CentOS 7)\"]; \n    B[\"Central Cluster&lt;br/&gt; (CentOS 7)\"];\n    subgraph   \n    C[\"T460p &lt;br/&gt; (Ubuntu 18.04)\"];\n    end\n    D[\"Office PC&lt;br/&gt; (WSL Ubuntu 18.04)\"];\n    E[\"G40&lt;br/&gt; (Ubuntu 20.04)\"];\n    F[\"Aliyun&lt;br/&gt; (Ubuntu 14.04)\"];\n    C --\"ssh -p 30004\"--&gt; D\n    C--\"30004L30004&lt;br/&gt;30003L30003&lt;br/&gt;30013R22\"--&gt;A----&gt;C;    \n    D--\"30004R2222\"--&gt;A;\n    E--\"30003R22\"--&gt;A;\n    C--\"ssh -p 30003\"--&gt;E;\n    C--&gt;F;\n    C--&gt;B;\n    E--&gt;F;\n    A---B;\n</code></pre>"},{"location":"Linux/rocky-server/","title":"Rocky Linux","text":"<p>Rocky Linux refers to the new server in Fan\u2019s Group</p> <pre><code>$ lsb_release -a\nLSB Version:    :core-4.1-amd64:core-4.1-noarch\nDistributor ID: Rocky\nDescription:    Rocky Linux release 8.4 (Green Obsidian)\nRelease:    8.4\nCodename:   GreenObsidian\n</code></pre> <p>where the distribution name <code>Rocky Linux</code> is new to me, although I might heard it before.</p> <p>Rocky Linux is a community enterprise Operating System designed to be 100% bug-for-bug compatible with Enterprise Linux, now that CentOS has shifted direction.</p> <p>Here is a Chinese discussion, \u5982\u4f55\u770b\u5f85CentOS \u521b\u59cb\u4eba\u65b0\u53d1\u8d77\u7684Rocky Linux\u9879\u76ee?</p>"},{"location":"Linux/rocky-server/#automatic-backup-rsnapshot","title":"Automatic Backup: rsnapshot","text":"<p>Follow the tutorial Automatic Backups on Ubuntu</p> <ol> <li>install <code>yum install rsnapshot</code></li> <li>configure <code>/etc/rsnapshot.conf</code>, see the reference for more details</li> <li>schedule backup via <code>cron</code> and <code>anacron</code></li> </ol> <pre><code># cat /etc/anacrontab #period in days   delay in minutes   job-identifier   command\n...\n1   10  daily-snapshot  /usr/bin/rsnapshot daily\n7   20  weekly-snapshot /usr/bin/rsnapshot weekly\n\n# cat /etc/cron.d/rsnapshot 0 */4 * * * root /usr/bin/rsnapshot hourly\n</code></pre> <p>Info</p> <p><code>cron</code> and <code>anacron</code> are two different utilities that can automatically run a program at scheduled times. - <code>cron</code> is older, and it will not run any scheduled task whose scheduled time occurs while the computer is powered off. - <code>anacron</code> will re-run the missed task the next time the computer turns on.    </p>"},{"location":"Linux/rocky-server/#install-slurm","title":"Install Slurm","text":"<p>Different from CHPC\u2019s cluster, the group server is just one node. So first of all, I search the possibility and necessity of slurm on single node, here are some references.</p> <ul> <li>SLURM single node install</li> <li>Setting up a single server SLURM cluster</li> </ul> <p>Comparing with the standard installation, it seems no much difference, so I follow the official Quick Start Administrator Guide to install.</p> <ul> <li>install munge: the first attempt is not enough, and its <code>devel</code> will be also installed</li> </ul> <pre><code>yum install munge\n</code></pre> <ul> <li>download source package</li> </ul> <pre><code>wget https://download.schedmd.com/slurm/slurm-20.11.7.tar.bz2\n</code></pre> <ul> <li>build it</li> </ul> <pre><code># rpmbuild -ta slurm*.tar.bz2\n</code></pre> <p>but it throws that</p> <pre><code>error: Failed build dependencies:\n    munge-devel is needed by slurm-20.11.7-1.el8.x86_64\n    pam-devel is needed by slurm-20.11.7-1.el8.x86_64\n    perl(ExtUtils::MakeMaker) is needed by slurm-20.11.7-1.el8.x86_64\n    readline-devel is needed by slurm-20.11.7-1.el8.x86_64\n</code></pre> <p>so I need to resolve these dependencies firstly.</p> <ul> <li>install <code>munge-devel</code></li> </ul> <p>firstly I tried </p> <pre><code># yum install munge-devel\nLast metadata expiration check: 1:10:07 ago on Sat 26 Jun 2021 06:42:42 PM HKT.\nNo match for argument: munge-devel\nError: Unable to find a match: munge-devel\n</code></pre> <p>use console for root\u2019s <code>#</code></p> <p>In bash code block, the symbol <code>#</code> would be treated as comments, but I want to indicate the operations are performed by root, so change <code>bash</code> to <code>console</code> refer to Markdown syntax for interactive shell commands</p> <p>Reminded by Slurm does not install from the epel repo, I tried to enable the <code>powertools</code> repo following the instruction, How to enable PowerTools repository in CentOS 8?</p> <pre><code># yum repolist repo id                                                                repo name\nappstream                                                              Rocky Linux 8 - AppStream\nbaseos                                                                 Rocky Linux 8 - BaseOS\nepel                                                                   Extra Packages for Enterprise Linux 8 - x86_64\nepel-modular                                                           Extra Packages for Enterprise Linux Modular 8 - x86_64\nextras                                                                 Rocky Linux 8 - Extras\n\n# yum install dnf-plugins-core\nLast metadata expiration check: 1:15:02 ago on Sat 26 Jun 2021 06:42:42 PM HKT.\nPackage dnf-plugins-core-4.0.18-4.el8.noarch is already installed.\nDependencies resolved.\nNothing to do.\nComplete!\n\n# yum config-manager --set-enabled powertools\n# yum repolist repo id                                                                repo name\nappstream                                                              Rocky Linux 8 - AppStream\nbaseos                                                                 Rocky Linux 8 - BaseOS\nepel                                                                   Extra Packages for Enterprise Linux 8 - x86_64\nepel-modular                                                           Extra Packages for Enterprise Linux Modular 8 - x86_64\nextras                                                                 Rocky Linux 8 - Extras\npowertools                                                             Rocky Linux 8 - PowerTools\n</code></pre> <p>then I can install <code>munge-devel</code>,</p> <pre><code># yum install munge-devel\nRocky Linux 8 - PowerTools                                                                                                                              2.6 MB/s | 2.1 MB     00:00    \nDependencies resolved.\n========================================================================================================================================================================================\n Package                                      Architecture                            Version                                         Repository                                   Size\n========================================================================================================================================================================================\nInstalling:\n munge-devel                                  x86_64                                  0.5.13-2.el8                                    powertools                                   27 k\n\nTransaction Summary\n========================================================================================================================================================================================\nInstall  1 Package\n\nTotal download size: 27 k\nInstalled size: 23 k\nIs this ok [y/N]: y\nDownloading Packages:\nmunge-devel-0.5.13-2.el8.x86_64.rpm                                                                                                                     716 kB/s |  27 kB     00:00    \n----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\nTotal                                                                                                                                                    95 kB/s |  27 kB     00:00     \nRunning transaction check\nTransaction check succeeded.\nRunning transaction test\nTransaction test succeeded.\nRunning transaction\n  Preparing        :                                                                                                                                                                1/1 \n  Installing       : munge-devel-0.5.13-2.el8.x86_64                                                                                                                                1/1 \n  Running scriptlet: munge-devel-0.5.13-2.el8.x86_64                                                                                                                                1/1 \n  Verifying        : munge-devel-0.5.13-2.el8.x86_64                                                                                                                                1/1 \nInstalled products updated.\n\nInstalled:\n  munge-devel-0.5.13-2.el8.x86_64                                                                                                                                                       \n\nComplete!\n</code></pre> <ul> <li>install other dependencies,</li> </ul> <pre><code># yum install pam-devel\n# yum install readline-devel\n# yum install perl-ExtUtils-MakeMaker.noarch\n</code></pre> <p>where the package name for the last one is determining by simply googling <code>perl(ExtUtils::MakeMaker)</code></p> <ul> <li>build again</li> </ul> <pre><code># rpmbuild -ta slurm-20.11.7.tar.bz2\nProcessing files: slurm-slurmdbd-20.11.7-1.el8.x86_64\nerror: File not found: /root/rpmbuild/BUILDROOT/slurm-20.11.7-1.el8.x86_64/usr/lib64/slurm/accounting_storage_mysql.so\n\n\nRPM build errors:\n    Macro expanded in comment on line 22: %_prefix path     install path for commands, libraries, etc.\n\n    Macro expanded in comment on line 170: %define _unpackaged_files_terminate_build      0\n\n    Empty %files file /root/rpmbuild/BUILD/slurm-20.11.7/slurm.files\n    File not found: /root/rpmbuild/BUILDROOT/slurm-20.11.7-1.el8.x86_64/usr/lib64/slurm/accounting_storage_mysql.so\n    File listed twice: /usr/lib/.build-id/13/1f6904421dbe39c72395ad1902cee51db6a0ec\n    File listed twice: /usr/lib/.build-id/28/be902644d9888579406edd90f00c5f9c9c2aa6\n    File listed twice: /usr/lib/.build-id/7c/791fea05f7db7b3de616553cd27fa82b3fc510\n    File listed twice: /usr/lib/.build-id/93/bbb15fe8897a7d4745fc56dcb3e5435f80bf4c\n    Deprecated external dependency generator is used!\n    Deprecated external dependency generator is used!\n    Deprecated external dependency generator is used!\n    Empty %files file /root/rpmbuild/BUILD/slurm-20.11.7/example.configs\n    Deprecated external dependency generator is used!\n    Deprecated external dependency generator is used!\n    Deprecated external dependency generator is used!\n    File not found: /root/rpmbuild/BUILDROOT/slurm-20.11.7-1.el8.x86_64/usr/lib64/slurm/accounting_storage_mysql.so\n</code></pre> <p>which means that <code>mysql</code> is needed. </p> <ul> <li>install <code>mariadb</code> and its <code>devel</code> following How to Install Slurm on CentOS 7 Cluster</li> </ul> <pre><code># yum install mariadb-server mariadb-devel\n</code></pre> <ul> <li>build again</li> </ul> <pre><code># rpmbuild -ta slurm-20.11.7.tar.bz2\nWrote: /root/rpmbuild/RPMS/x86_64/slurm-openlava-20.11.7-1.el8.x86_64.rpm\nWrote: /root/rpmbuild/RPMS/x86_64/slurm-contribs-20.11.7-1.el8.x86_64.rpm\nWrote: /root/rpmbuild/RPMS/x86_64/slurm-pam_slurm-20.11.7-1.el8.x86_64.rpm\nExecuting(%clean): /bin/sh -e /var/tmp/rpm-tmp.52rp8H\n+ umask 022\n+ cd /root/rpmbuild/BUILD\n+ cd slurm-20.11.7\n+ rm -rf /root/rpmbuild/BUILDROOT/slurm-20.11.7-1.el8.x86_64\n</code></pre> <p>it succeeds!</p> <ul> <li>install rpms</li> </ul> <p>all built rpms are</p> <pre><code># ls rpmbuild/RPMS/x86_64/\nslurm-20.11.7-1.el8.x86_64.rpm                  slurm-libpmi-20.11.7-1.el8.x86_64.rpm     slurm-slurmctld-20.11.7-1.el8.x86_64.rpm\nslurm-contribs-20.11.7-1.el8.x86_64.rpm         slurm-openlava-20.11.7-1.el8.x86_64.rpm   slurm-slurmd-20.11.7-1.el8.x86_64.rpm\nslurm-devel-20.11.7-1.el8.x86_64.rpm            slurm-pam_slurm-20.11.7-1.el8.x86_64.rpm  slurm-slurmdbd-20.11.7-1.el8.x86_64.rpm\nslurm-example-configs-20.11.7-1.el8.x86_64.rpm  slurm-perlapi-20.11.7-1.el8.x86_64.rpm    slurm-torque-20.11.7-1.el8.x86_64.rpm\n\n# yum --nogpgcheck localinstall slurm-20.11.7-1.el8.x86_64.rpm slurm-devel-20.11.7-1.el8.x86_64.rpm slurm-perlapi-20.11.7-1.el8.x86_64.rpm slurm-torque-20.11.7-1.el8.x86_64.rpm slurm-slurmctld-20.11.7-1.el8.x86_64.rpm slurm-slurmd-20.11.7-1.el8.x86_64.rpm\n</code></pre> <ul> <li>then configure from https://slurm.schedmd.com/configurator.easy.html</li> </ul> <p>change the hostname to <code>hostname -s</code></p> <ul> <li>be careful about the path to the logfile,</li> </ul> <pre><code>mkdir /var/spool/slurmctld\nchown slurm: /var/spool/slurmctld\nchmod 755 /var/spool/slurmctld\ntouch /var/log/slurmctld.log\nchown slurm: /var/log/slurmctld.log\ntouch /var/log/slurm_jobacct.log /var/log/slurm_jobcomp.log\nchown slurm: /var/log/slurm_jobacct.log /var/log/slurm_jobcomp.log\n</code></pre> <p>also</p> <pre><code>mkdir /var/spool/slurmd\nchown slurm: /var/spool/slurmd\nchmod 755 /var/spool/slurmd\ntouch /var/log/slurmd.log\nchown slurm: /var/log/slurmd.log\n</code></pre> <p>then check </p> <pre><code># slurmd -C\nNodeName=stapcXXX CPUs=96 Boards=1 SocketsPerBoard=2 CoresPerSocket=24 ThreadsPerCore=2 RealMemory=385333\nUpTime=1-04:02:46\n</code></pre> <ul> <li>check if <code>sinfo</code> OK,</li> </ul> <pre><code># sinfo slurm_load_partitions: Unable to contact slurm controller (connect failure)\n# scontrol show nodes\nslurm_load_node error: Unable to contact slurm controller (connect failure)\n</code></pre> <p>and the service <code>slurmd</code> and <code>slurmctld</code> fails to start,</p> <pre><code># systemctl status slurmd.service\n\u25cf slurmd.service - Slurm node daemon\n   Loaded: loaded (/usr/lib/systemd/system/slurmd.service; enabled; vendor preset: disabled)\n   Active: failed (Result: exit-code) since Sat 2021-06-26 20:51:09 HKT; 4s ago\n  Process: 126781 ExecStart=/usr/sbin/slurmd -D $SLURMD_OPTIONS (code=exited, status=1/FAILURE)\n Main PID: 126781 (code=exited, status=1/FAILURE)\n\nJun 26 20:51:09 stapcXXX.sta.cuhk.edu.hk systemd[1]: Started Slurm node daemon.\nJun 26 20:51:09 stapcXXX.sta.cuhk.edu.hk systemd[1]: slurmd.service: Main process exited, code=exited, status=1/FAILURE\nJun 26 20:51:09 stapcXXX.sta.cuhk.edu.hk systemd[1]: slurmd.service: Failed with result 'exit-code'.\n\n# systemctl status slurmctld.service\n\u25cf slurmctld.service - Slurm controller daemon\n   Loaded: loaded (/usr/lib/systemd/system/slurmctld.service; enabled; vendor preset: disabled)\n   Active: failed (Result: exit-code) since Sat 2021-06-26 20:52:26 HKT; 4s ago\n  Process: 126814 ExecStart=/usr/sbin/slurmctld -D $SLURMCTLD_OPTIONS (code=exited, status=1/FAILURE)\n Main PID: 126814 (code=exited, status=1/FAILURE)\n\nJun 26 20:52:26 stapcXXX.sta.cuhk.edu.hk systemd[1]: Started Slurm controller daemon.\nJun 26 20:52:26 stapcXXX.sta.cuhk.edu.hk systemd[1]: slurmctld.service: Main process exited, code=exited, status=1/FAILURE\nJun 26 20:52:26 stapcXXX.sta.cuhk.edu.hk systemd[1]: slurmctld.service: Failed with result 'exit-code'.\n</code></pre> <p>the error turns to be the incosistent path in the config file, <code>slurm.conf</code></p> <pre><code>StateSaveLocation: /var/spool/slurmctld\n</code></pre> <p>and then</p> <pre><code>mkdir /var/spool/slurmctld\nchown slurm: /var/spool/slurmctld\n</code></pre> <p>but the default path is <code>/var/spool</code>. </p> <ul> <li>run <code>slurmctld</code> service</li> </ul> <p>After correcting the path, the service begins to work,</p> <pre><code># systemctl status slurmctld.service \u25cf slurmctld.service - Slurm controller daemon\n   Loaded: loaded (/usr/lib/systemd/system/slurmctld.service; enabled; vendor preset: disabled)\n   Active: active (running) since Sat 2021-06-26 22:11:14 HKT; 2min 18s ago\n Main PID: 128214 (slurmctld)\n    Tasks: 7\n   Memory: 4.4M\n   CGroup: /system.slice/slurmctld.service\n           \u2514\u2500128214 /usr/sbin/slurmctld -D\n\nJun 26 22:11:14 stapcXXX.sta.cuhk.edu.hk systemd[1]: Started Slurm controller daemon.\n</code></pre> <ul> <li>run <code>slurmd</code> service</li> </ul> <p>However, <code>slurmd</code> still failed, but no informative message returned by the <code>systemctl</code> command. Try to directly run the command</p> <pre><code># slurmd -D\nslurmd: error: Node configuration differs from hardware: CPUs=1:96(hw) Boards=1:1(hw) SocketsPerBoard=1:2(hw) CoresPerSocket=1:24(hw) ThreadsPerCore=1:2(hw)\nslurmd: error: cgroup namespace 'freezer' not mounted. aborting\nslurmd: error: unable to create freezer cgroup namespace\nslurmd: error: Couldn't load specified plugin name for proctrack/cgroup: Plugin init() callback failed\nslurmd: error: cannot create proctrack context for proctrack/cgroup\nslurmd: error: slurmd initialization failed\n</code></pre> <p>then correct the corresponding configuration. And temporarly disable cgroup by setting</p> <pre><code>Process Tracking: LinuxProc\n</code></pre> <p>as suggested in SLURM single node install</p> <p>Also pay attention to <code>restart</code>, or <code>stop + start</code> the service, sometimes the configuration file might still be outdated. For example, I had set the hostname as <code>hostname -f</code> and <code>hostname -s</code>, but sometimes the hostname has not been updated after changing the hostname, so make sure the updated configuration file has been taken effects.</p> <p>After necessary correction and restart,</p> <pre><code># slurmd -D\nslurmd: slurmd version 20.11.7 started\nslurmd: slurmd started on Sat, 26 Jun 2021 22:28:01 +0800\nslurmd: CPUs=96 Boards=1 Sockets=2 Cores=24 Threads=2 Memory=385333 TmpDisk=1023500 Uptime=107065 CPUSpecList=(null) FeaturesAvail=(null) FeaturesActive=(null)\n^Cslurmd: Slurmd shutdown completing\n</code></pre> <p>which indiates that now slurmd works well, then</p> <pre><code># systemctl restart slurmd.service # systemctl status slurmd.service \u25cf slurmd.service - Slurm node daemon\n   Loaded: loaded (/usr/lib/systemd/system/slurmd.service; enabled; vendor preset: disabled)\n   Active: active (running) since Sat 2021-06-26 22:28:23 HKT; 1s ago\n Main PID: 129051 (slurmd)\n    Tasks: 2\n   Memory: 1.3M\n   CGroup: /system.slice/slurmd.service\n           \u2514\u2500129051 /usr/sbin/slurmd -D\n\nJun 26 22:28:23 stapcXXX.sta.cuhk.edu.hk systemd[1]: Started Slurm node daemon.\n</code></pre> <ul> <li>accounting system</li> </ul> <p>Try to start the accounting system,</p> <pre><code># sacctmgr -i add cluster stapcXXX\nYou are not running a supported accounting_storage plugin\nOnly 'accounting_storage/slurmdbd' is supported.\n</code></pre> <p>the reason is that the corresponding rpm has not been installed, and also <code>slurm.conf</code> should set</p> <pre><code>AccountingStorageType=accounting_storage/slurmdbd\n</code></pre> <p>and </p> <pre><code># yum --nogpgcheck localinstall slurm-slurmdbd-20.11.7-1.el8.x86_64.rpm\n</code></pre> <p>then check if it is ready,</p> <pre><code># systemctl start slurmdbd.service \n# systemctl status slurmdbd.service \n\u25cf slurmdbd.service - Slurm DBD accounting daemon\n   Loaded: loaded (/usr/lib/systemd/system/slurmdbd.service; enabled; vendor preset: disabled)\nActive: inactive (dead)\nCondition: start condition failed at Sun 2021-06-27 10:38:39 HKT; 2s ago\n           \u2514\u2500 ConditionPathExists=/etc/slurm/slurmdbd.conf was not met\n</code></pre> <p>which means that we also need <code>slurmdbd.conf</code>.</p> <ul> <li>config <code>slurmdbd.conf</code></li> </ul> <p>copy the sample from slurmdbd.conf</p> <ul> <li>config mysql</li> </ul> <p>following DaisukeMiyamoto/setup_slurm_accounting_parallelcluster.sh, set mariadb as follows,</p> <pre><code># mysql -u root -e \"create user 'slurm'@'localhost' identified by 'xxxxxxxxxx'; grant all on slurm_acct_db.* TO 'slurm'@'localhost'; create database slurm_acct_db;\"\n</code></pre> <p>then tried to run</p> <pre><code># slurmdbd -D\nslurmdbd: error: mysql_real_connect failed: 2002 Can't connect to local MySQL server through socket '/var/lib/mysql/mysql.sock' (2)\nslurmdbd: error: The database must be up when starting the MYSQL plugin.  Trying again in 5 seconds.\n^C\n</code></pre> <p>so mysql has not been started,</p> <pre><code># systemctl enable mariadb\nCreated symlink /etc/systemd/system/mysql.service \u2192 /usr/lib/systemd/system/mariadb.service.\nCreated symlink /etc/systemd/system/mysqld.service \u2192 /usr/lib/systemd/system/mariadb.service.\nCreated symlink /etc/systemd/system/multi-user.target.wants/mariadb.service \u2192 /usr/lib/systemd/system/mariadb.service.\n# systemctl start mariadb\n</code></pre> <p>then run again</p> <pre><code># slurmdbd -D\nslurmdbd: accounting_storage/as_mysql: _check_mysql_concat_is_sane: MySQL server version is: 10.3.28-MariaDB\nslurmdbd: error: Database settings not recommended values: innodb_buffer_pool_size innodb_lock_wait_timeout\nslurmdbd: slurmdbd version 20.11.7 started\n^Cslurmdbd: Terminate signal (SIGINT or SIGTERM) received\n</code></pre> <p>refer to Slurm database \u2013 MySQL configuration, write the following</p> <pre><code>[mysqld]\ninnodb_buffer_pool_size=1024M\ninnodb_log_file_size=64M\ninnodb_lock_wait_timeout=900\n</code></pre> <p>into file <code>/etc/my.cnf.d/innodb.cnf</code>, then restart </p> <pre><code># systemctl stop mariadb\n# systemctl start mariadb\n</code></pre> <p>now it is OK to run</p> <pre><code># slurmdbd -D\nslurmdbd: accounting_storage/as_mysql: _check_mysql_concat_is_sane: MySQL server version is: 10.3.28-MariaDB\nslurmdbd: slurmdbd version 20.11.7 started\n^Cslurmdbd: Terminate signal (SIGINT or SIGTERM) received\n</code></pre> <p>then satrt the service</p> <pre><code># systemctl enable slurmdbd\n# systemctl start slurmdbd\n# systemctl status slurmdbd\n\u25cf slurmdbd.service - Slurm DBD accounting daemon\n   Loaded: loaded (/usr/lib/systemd/system/slurmdbd.service; enabled; vendor preset: disabled)\nActive: active (running) since Sun 2021-06-27 10:58:27 HKT; 3s ago\n Main PID: 190603 (slurmdbd)\nTasks: 5\nMemory: 1.8M\n   CGroup: /system.slice/slurmdbd.service\n           \u2514\u2500190603 /usr/sbin/slurmdbd -D\n\nJun 27 10:58:27 stapcXXX.sta.cuhk.edu.hk systemd[1]: Started Slurm DBD accounting daemon.\n</code></pre> <ul> <li>set up qos</li> </ul> <p>need to add account and user, otherwise the users are outside the control,</p> <pre><code># sacctmgr add account project Description=\"Projects\" Organization=project\n# for i in {01..14}; do sacctmgr -i create user name=project$i DefaultAccount=project ; done\n</code></pre> <p>then set the maximum submit jobs per user,</p> <pre><code># sacctmgr modify qos normal set maxsubmitjobsperuser=90\n</code></pre> <p>remove the restriction via setting a larger number (how to directly remove the constraint)</p> <pre><code># sacctmgr modify qos normal set maxsubmitjobsperuser=10000\n</code></pre> <p>together with the number of cores,</p> <pre><code># sacctmgr modify qos normal set GrpTRES=cpu=90\n</code></pre> <pre><code>sacctmgr modify qos normal set MaxTRESPerUser=cpu=80\n</code></pre> <p>but then I found that the submitted jobs are out of control. Then I realized that the account and user associations only take effect after enabling</p> <pre><code>AccountingStorageEnforce=limits\n</code></pre> <p>according to Slurm accounting \u2013 Resource Limits. Then for sure, restart <code>slurmd</code>, <code>slurmctld</code>, and <code>slurmdbd</code>, then the policy starts to work.</p> <p>Then found that after changing the policy, no need to restart any service.</p>"},{"location":"Linux/rocky-server/#cgroup","title":"CGroup","text":"<p>Inspired by Setting up a single server SLURM cluster \u2013 Setting up Control Groups, I tried to add CGroup to control the process directly run from ssh session.</p> <ul> <li>install cgroup</li> </ul> <p>following Cgroups : Install</p> <pre><code># yum -y install libcgroup libcgroup-tools\n# systemctl enable cgconfig\n# systemctl start cgconfig\n# systemctl status cgconfig\n\u25cf cgconfig.service - Control Group configuration service\n   Loaded: loaded (/usr/lib/systemd/system/cgconfig.service; enabled; vendor preset: disabled)\n   Active: active (exited) since Sun 2021-06-27 11:10:27 HKT; 7s ago\n  Process: 191469 ExecStart=/usr/sbin/cgconfigparser -l /etc/cgconfig.conf -s 1664 (code=exited, status=0/SUCCESS)\n Main PID: 191469 (code=exited, status=0/SUCCESS)\n\nJun 27 11:10:27 stapcXXX.sta.cuhk.edu.hk systemd[1]: Starting Control Group configuration service...\nJun 27 11:10:27 stapcXXX.sta.cuhk.edu.hk systemd[1]: Started Control Group configuration service.\n</code></pre> <p>here is an interesting finding. Different from other services, <code>active (running)</code>, it shows <code>active (exited)</code>, more details refer to the discussion systemctl status active: exited vs running.</p> <p>then write <code>cgconfig.conf</code> and <code>cgrules.conf</code>, and then tried to restart <code>cgconfig</code>, but it seems no idea to judge if the setting takes effects.</p> <p>Then I got to know that there is another <code>cpuset</code> parameter which can specify a list of CPU cores to which a group has access. Then I tried to add such parameter to <code>cgconfig.conf</code>,</p> <pre><code>cpuset {\ncpuset.cpus = \"1\";\n}\n</code></pre> <p>and also update the corresponding <code>cgrules.conf</code>. Then I open an R session to run an expensive operation,</p> <pre><code>&gt; a = matrix(rnorm(100000000),nrow=10000)\n&gt; replicate(100, a%*%a)\n</code></pre> <p>and open another session with the same user. The target is to check if these two sessions are limited to a single core. However, each of them reach around 100% CPU.</p> <p>Tried to install PAM-cgroup as also mentioned in 4.3. PER-GROUP DIVISION OF CPU AND MEMORY RESOURCES \u2013 Procedure 4.4. Using a PAM module to move processes to cgroups</p> <p>but still not work.</p> <p>To validate if cpu and memory work, also run the same R script in the root session. According to <code>cgrules.conf</code>, the root session should be faster since it does not have additional restriction, but no differences.</p> <p>In the checking procedure, I learn to</p> <ul> <li>find the cgroup of a process, and no <code>interactive</code> shows, How to find out cgroup of a particular process?</li> </ul> <pre><code># systemctl status 3378 | grep CGroup\n# cat /proc/3378/cgroup </code></pre> <ul> <li>list cgroup in top: press <code>f</code>, then select <code>cgroup</code></li> <li>pure list cgroup as in top: <code>systemd-cgtop</code></li> <li>check parameter, <code>cgget -r cpuset.cpus</code> interactive: 10.8 Displaying and Setting Subsystem Parameters</li> </ul> <p>Maybe I need to change another way, and I saw <code>set-property</code> in \u6df1\u5165\u7406\u89e3 Linux Cgroup \u7cfb\u5217\uff08\u4e00\uff09\uff1a\u57fa\u672c\u6982\u5ff5</p> <p>Then I tried to set the CPUQuota for user via (refer to systemd, per-user cpu and/or memory limits)</p> <pre><code># mkdir -p /etc/systemd/system/user-.slice.d\n</code></pre> <p>then write</p> <pre><code>[Slice]\nCPUQuota=20%\n</code></pre> <p>into <code>cpu.conf</code>, which means that the executed processes never get more than 20% CPU time on a single CPU (refer to 2.3. MODIFYING CONTROL GROUPS), then </p> <pre><code># systemctl daemon-reload\n</code></pre> <p>Repeat the above R script, the CPU percentage would be limited to 20%, not only regular user, but also root, since root is <code>user-0</code>, such as </p> <pre><code># ls /sys/fs/cgroup/systemd/user.slice\ncgroup.clone_children  cgroup.procs  notify_on_release  tasks  user-0.slice  user-1002.slice\n</code></pre> <p>but it would not affected jobs submitted via slurm, which has been validated. So this way would be quite good.</p>"},{"location":"Linux/rocky-server/#selecttypeparameters","title":"SelectTypeParameters","text":"<p>The default setting is </p> <pre><code>SelectType=select/cons_tres\nSelectTypeParameters=CR_Core\n</code></pre> <p>the configuration of computing node is </p> <pre><code>NodeName=stapc051 CPUs=96 Sockets=2 CoresPerSocket=24 ThreadsPerCore=2 State=UNKNOWN\n</code></pre> <p>With this setting, each job would automatically count 2 virtually CPUs, although we only request one CPU.</p> <p>After changing <code>CR_Core</code> to <code>CR_CPU</code>, each job would count 1 virtually CPU.</p> <p>However, the number of running jobs is still only 48, while the limits are <code>GrpTRES=cpu=90</code> and <code>MaxTRESPerUser=cpu=90</code>. </p> <p>My first guess is the scheduling system does not update on time, since if I count the completed jobs in <code>sacct -a -X</code>, the total number of cores coincidently equals to 90, then I tried to set a larger limit but not work.</p> <p>Ocassionally, I found how to unset the limit, use <code>-1</code>, such as Resource Limits</p> <pre><code>sacctmgr modify user bob set GrpTRES=cpu=-1,mem=-1,gres/gpu=-1\n</code></pre> <p>Notice that 48 is a special number, <code>96 / 2 = 48</code>, so my second guess is that each running job is still occupying a core, even though it indeed only counts a virtual CPU.</p> <p>Check the potential related configurations,</p> <ul> <li>TaskPlugin: change the default <code>task/none</code> to <code>task/affinity</code>, since there are some related materials, Support for Multi-core/Multi-thread Architectures, mentioned it. But not work.</li> <li><code>--hint=nomultithread</code>: this is not a system configuration, but it can also cause only 48 jobs are running, then I have a better idea on the allocation on multi-thread machine, and here is an official example, EXAMPLE 9: CONSUMABLE RESOURCES ON MULTITHREADED NODE, ALLOCATING ONLY ONE THREAD PER CORE, and some examples in the mail list, Bug 4010 - Exploring Hyper-Threading CPU nodes</li> </ul> <p>Recheck the explanation of <code>CR_CPU</code>, here is one more sentence,</p> <p>The node\u2019s Boards, Sockets, CoresPerSocket and ThreadsPerCore may optionally be configured and result in job allocations which have improved locality; however doing so will prevent more than one job from being allocated on each core.</p> <p>I remembered the specification <code>Sockets=2 CoresPerSocket=24 ThreadsPerCore=2</code> is required under the default <code>CR_Core</code>, otherwise it would throw errors. But according to this warning, it would prevent twos job from being allocated on one core. Then I tried to remove this specification, and then the number of running jobs is not only 48!</p> <p>Tip</p> <p>get pid of slurm job <pre><code># scontrol listpids | grep 1261\n</code></pre> then check the allow cpu list as in Bug 4010 - Exploring Hyper-Threading CPU nodes, before removing the specification, it shows <pre><code># cat /proc/2636286/status | grep -i cpus_allowed_list\nCpus_allowed_list:  0-95\n</code></pre> but after working normally,  <pre><code># cat /proc/2636286/status | grep -i cpus_allowed_list\nCpus_allowed_list:  43\n</code></pre> so it can be an indicator to check whether the job is allocated normally.</p>"},{"location":"Linux/rocky-server/#privatedata","title":"PrivateData","text":"<p>Currently every user can view all users\u2019 job information via <code>squeue</code>. </p> <p>Set </p> <pre><code>PrivateData=jobs\n</code></pre> <p>in <code>slurm.conf</code>.</p> <p>And here are some other fields can be appended, such as <code>usage</code>, <code>users</code>, refer to slurm.conf - Slurm configuration file or <code>man slurm.conf</code> for more details.</p>"},{"location":"Linux/rocky-server/#diagnose-network-speed","title":"Diagnose Network Speed","text":"<p>On 6/30/21 3:16 PM, found that the network speed on the new machine seems abnormal.</p> <p>I am downloading a file via <code>wget</code>, but the speed is quite slow, just ~500kb/s, while it can achieve ~4MB/s when I try to download it from our old server</p> <p>Then for complete comparisons, use the script</p> <pre><code>curl -s https://raw.githubusercontent.com/sivel/speedtest-cli/master/speedtest.py | python -\n</code></pre> <p>to test the network speed (refer to How to check Internet Speed via Terminal? - Ask Ubuntu</p> <p>Also repeat the test on the new server to reduce random noise. The results show that both download and upload speed on the new server are much slower than the old group server and my personal laptop, ~90Mbit/s vs ~350Mbit/s.</p> <p></p> <p>Notice that</p> <pre><code>$ dmesg -T | grep enp\n[Mon Jun 28 14:30:59 2021] igb 0000:02:00.0 enp2s0: igb: enp2s0 NIC Link is Up 1000 Mbps Full Duplex, Flow Control: RX\n[Mon Jun 28 14:31:01 2021] igb 0000:02:00.0 enp2s0: igb: enp2s0 NIC Link is Down\n[Mon Jun 28 14:31:26 2021] igb 0000:02:00.0 enp2s0: igb: enp2s0 NIC Link is Up 100 Mbps Full Duplex, Flow Control: RX\n[Mon Jun 28 14:31:26 2021] igb 0000:02:00.0 enp2s0: Link Speed was downgraded by SmartSpeed\n[Mon Jun 28 15:34:48 2021] igb 0000:02:00.0 enp2s0: igb: enp2s0 NIC Link is Down\n[Mon Jun 28 15:35:13 2021] igb 0000:02:00.0 enp2s0: igb: enp2s0 NIC Link is Up 100 Mbps Full Duplex, Flow Control: RX\n[Mon Jun 28 15:35:13 2021] igb 0000:02:00.0 enp2s0: Link Speed was downgraded by SmartSpeed\n[Mon Jun 28 15:45:47 2021] igb 0000:02:00.0 enp2s0: igb: enp2s0 NIC Link is Down\n[Mon Jun 28 15:46:13 2021] igb 0000:02:00.0 enp2s0: igb: enp2s0 NIC Link is Up 100 Mbps Full Duplex, Flow Control: RX\n[Mon Jun 28 15:46:13 2021] igb 0000:02:00.0 enp2s0: Link Speed was downgraded by SmartSpeed\n</code></pre> <p>where it reports that NIC link is downgraded from 1000 Mbps to 100 Mbps by SmartSpeed, which might explain that previous the fastest speed is less than 100Mbit/s.</p> <p>Tip</p> <p><code>dmesg</code> \u7528\u4e8e\u663e\u793a\u5f00\u673a\u4fe1\u606f\u3002kernel \u4f1a\u5c06\u5f00\u673a\u4fe1\u606f\u50a8\u5b58\u5728 ring buffer \u4e2d\uff0c\u4e5f\u4fdd\u5b58\u5728 <code>/var/log/dmesg</code> \u6587\u4ef6\u4e2d\uff08\u53c2\u8003 Linux dmesg \u547d\u4ee4 | \u83dc\u9e1f\u6559\u7a0b\uff09\u3002</p> <p>\u800c <code>man dmesg</code> \u8bf4\u8be5\u547d\u4ee4\u7528\u4e8e <code>print or control the kernel ring buffer</code>\uff0c\u6240\u4ee5\u80fd\u591f\u4e92\u76f8\u5370\u8bc1\uff0c\u4f46\u662f ring buffer \u662f\u5426\u53ea\u5b58\u5f00\u673a\u4fe1\u606f\uff1f</p> <ul> <li><code>-T</code> \u8868\u793a\u4ee5\u53ef\u8bfb\u7684\u65f6\u95f4\u6233\u663e\u793a\u3002</li> </ul> <p>\u9ed8\u8ba4\u65f6\u95f4\u6233\u4e3a \u201ctime in seconds since the kernel started\u201d\uff0c\u8fd9\u4e5f\u662f <code>dmesg</code> \u6587\u4ef6\u4e2d\u7684\u9ed8\u8ba4\u683c\u5f0f\u3002\u5982\u679c\u652f\u6301 <code>-T</code>\uff0c\u81ea\u7136\u662f\u5f88\u65b9\u4fbf\u7684\uff0c\u5426\u5219\u53ef\u80fd\u9700\u8981\u5199\u811a\u672c\u8f6c\u6362\uff0c\u8be6\u89c1 How do I convert dmesg timestamp to custom date format? - Stack Overflow</p> <p>After moving to the new place, the speed seems much faster (8/16/21, 10:46 AM). The speed can achieve 500 Mbit/s (Upload) and 800 Mbit/s (Download), while previously just 90 Mbit/s. And</p> <pre><code>$ dmesg -T | grep enp\n[Mon Aug 16 10:14:58 2021] igb 0000:02:00.0 enp2s0: renamed from eth0\n[Mon Aug 16 10:14:58 2021] e1000e 0000:00:1f.6 enp0s31f6: renamed from eth0\n[Mon Aug 16 10:15:05 2021] IPv6: ADDRCONF(NETDEV_UP): enp0s31f6: link is not ready\n[Mon Aug 16 10:15:05 2021] IPv6: ADDRCONF(NETDEV_UP): enp0s31f6: link is not ready\n[Mon Aug 16 10:15:05 2021] IPv6: ADDRCONF(NETDEV_UP): enp2s0: link is not ready\n[Mon Aug 16 10:15:05 2021] IPv6: ADDRCONF(NETDEV_UP): enp2s0: link is not ready\n[Mon Aug 16 10:15:05 2021] IPv6: ADDRCONF(NETDEV_UP): enp0s31f6: link is not ready\n[Mon Aug 16 10:15:05 2021] IPv6: ADDRCONF(NETDEV_UP): enp2s0: link is not ready\n[Mon Aug 16 10:15:05 2021] IPv6: ADDRCONF(NETDEV_UP): enp2s0: link is not ready\n[Mon Aug 16 10:15:10 2021] e1000e 0000:00:1f.6 enp0s31f6: NIC Link is Up 1000 Mbps Full Duplex, Flow Control: None\n[Mon Aug 16 10:15:10 2021] IPv6: ADDRCONF(NETDEV_CHANGE): enp0s31f6: link becomes ready\n[Mon Aug 16 10:16:26 2021] e1000e 0000:00:1f.6 enp0s31f6: NIC Link is Down\n[Mon Aug 16 10:16:30 2021] igb 0000:02:00.0 enp2s0: igb: enp2s0 NIC Link is Up 1000 Mbps Full Duplex, Flow Control: RX\n[Mon Aug 16 10:16:31 2021] IPv6: ADDRCONF(NETDEV_CHANGE): enp2s0: link becomes ready\n</code></pre> <p>it stays at 1000 Mbps, which seems to support the testing results.</p> <p>Alternatively, we can use </p> <pre><code>$ ethtool enp2s0 | grep Speed\n    Speed: 1000Mb/s\n</code></pre> <p>or</p> <pre><code>$ cat /sys/class/net/enp2s0/speed\n1000\n</code></pre> <p>to obtain the speed of the NIC. It is -1 for unused interfaces. Refer to How do I verify the speed of my NIC? - Server Fault</p>"},{"location":"Linux/servers/","title":"Servers","text":""},{"location":"Linux/servers/#ssh","title":"SSH","text":""},{"location":"Linux/servers/#initial-start","title":"initial start","text":"<p>\u9996\u5148\u5728\u672c\u5730\u65b0\u5efa ssh key\uff0c</p> <pre><code>ssh-keygen -t [rsa | ed25519 | ecdsa | dsa]\n</code></pre> <p>ssh \u5e38\u89c1 key \u683c\u5f0f</p> <p>\u53c2\u8003 \u66f4\u65b0SSH key\u4e3aEd25519</p> <ul> <li>DSA: \u4e0d\u5b89\u5168</li> <li>RSA: \u5b89\u5168\u6027\u4f9d\u8d56\u4e8ekey\u7684\u5927\u5c0f\uff0c3072\u4f4d\u62164096\u4f4d\u7684key\u662f\u5b89\u5168\u7684\uff0c\u5c0f\u4e8e\u6b64\u5927\u5c0f\u7684key\u53ef\u80fd\u9700\u8981\u5347\u7ea7\u4e00\u4e0b\uff0c1024\u4f4d\u7684key\u5df2\u7ecf\u88ab\u8ba4\u4e3a\u4e0d\u5b89\u5168\u3002</li> <li>ECDSA:  \u5b89\u5168\u6027\u53d6\u51b3\u4e8e\u4f60\u7684\u8ba1\u7b97\u673a\u751f\u6210\u968f\u673a\u6570\u7684\u80fd\u529b\uff0c\u8be5\u968f\u673a\u6570\u5c06\u7528\u4e8e\u521b\u5efa\u7b7e\u540d\uff0cECDSA\u4f7f\u7528\u7684NIST\u66f2\u7ebf\u4e5f\u5b58\u5728\u53ef\u4fe1\u8d56\u6027\u95ee\u9898\u3002</li> <li>Ed25519: \u76ee\u524d\u6700\u63a8\u8350\u7684\u516c\u94a5\u7b97\u6cd5</li> </ul> <p>\u7136\u540e\u4f1a\u5728\u672c\u5730\u751f\u6210 <code>~/.ssh</code> \u6587\u4ef6\u5939\u3002</p> <ul> <li>\u79d8\u94a5(<code>~/.ssh/id_rsa</code>): sensitive and important!!</li> <li>\u516c\u94a5(<code>~/.ssh/id_rsa.pub</code>): contains the public key for authentication.  These files are not sensitive and can (but need not) be readable by anyone.</li> <li>\u516c\u94a5\u6388\u6743\u6587\u4ef6(<code>~/.ssh/authorized_keys</code>)</li> </ul> <p>\u5c06\u767b\u5f55\u7aef\u7684 <code>id_rsa.pub</code> \u5185\u5bb9\u590d\u5236\u5230\u670d\u52a1\u5668\u7aef\u7684 <code>authorized_keys</code> \u6587\u4ef6\u4e2d\u5373\u53ef\u3002\u9664\u4e86\u624b\u52a8\u590d\u5236\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u547d\u4ee4\u884c\uff0c\u5982</p> <pre><code>$ ssh-copy-id -p 30013 weiya@127.0.0.1\n/usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out any that are already installed\n/usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted now it is to install the new keys\nweiya@127.0.0.1's password: \n\nNumber of key(s) added: 1\n\nNow try logging into the machine, with:   \"ssh -p '30013' 'weiya@127.0.0.1'\"\nand check to make sure that only the key(s) you wanted were added.\n</code></pre> <p>\u6b63\u786e\u8f93\u5165\u767b\u5f55\u5bc6\u7801\u540e\uff0c\u4fbf\u590d\u5236\u6210\u529f\u4e86\uff0c\u6ce8\u610f\u6b64\u65f6\u5e76\u672a\u767b\u5f55\u81f3\u76ee\u6807\u670d\u52a1\u5668\u3002</p> <p>\u5bf9\u4e8e AWS\uff0c\u767b\u5f55\u9700\u8981\u4f7f\u7528 <code>.pem</code> \u6587\u4ef6\uff0c\u5373</p> <pre><code>$ ssh -i YourKey.pem user@host\n</code></pre> <p>\u800c\u590d\u5236\u6587\u4ef6\u5219\u4e3a</p> <pre><code>$ scp -i YourKey.pem YourFile user@host:~/YourFile\n</code></pre>"},{"location":"Linux/servers/#two-consecutive-ssh","title":"two consecutive ssh","text":"<pre><code>$ ssh -t user@A ssh user@B\n</code></pre> <p>where <code>-t</code> avoid the warning that </p> <p>Pseudo-terminal will not be allocated because stdin is not a terminal.</p> <p>which would freeze the session.</p> <p>If the usernames are the same, the second username can be omitted.</p> <p>The port forwarding would be more clear. For example, open a jupyter session on node <code>B</code>, whose login node is <code>A</code>, then access the jupyter in the local browser <code>http://127.0.0.1:28888</code> after running</p> <pre><code>$ ssh -t -L 28888:localhost:8888 user@A ssh -L 8888:localhost:8888 user@B\n</code></pre> <p><code>ProxyJump</code> might be an alternative, but it seems not work for host established via <code>-R</code>, such as <code>ssh -J public@host inner@localhost:pppp</code>.</p>"},{"location":"Linux/servers/#ssh-until-succeed","title":"ssh until succeed","text":"<pre><code>$ until ./login_lab.sh; do sleep 5; done\n</code></pre> <p>refer to How to run ssh command until succeeded?</p>"},{"location":"Linux/servers/#config-file","title":"config file","text":"<p>Although it would be convenient to write a simple script <code>login_xxx.sh</code> to avoid to type the account and hostname, it would be annoying when using <code>scp</code>. It is still possible to define custom functions such as <code>scp_to_xxx</code> or <code>scp_from_xxx</code>, but too many functions might be confusing and forget the detailed definitions. </p> <p>Maybe we can try to write a config file (refer to Configuring your favourite hosts in SSH), in which we can define an alias for a hostname, and also specify the username, e.g., after defining</p> <pre><code>Host XX\nHostname REAL.HOSTNAME\nUser weiya\n</code></pre> <p>then I can just type <code>ssh XX</code> to access this server, and <code>scp</code> would also be much simpler, <code>scp file XX:~/</code>. More importantly, we can use tab-complete when entering the path, which cannot be enabled by custom functions <code>scp_to_xx</code>. </p> <p>Warning</p> <p>On the rocky server, it throws, <pre><code>Bad owner or permissions on ~/.ssh/config\n</code></pre> although the personal PC works well with same permission <code>-rw-rw-r--</code>. Refer to ssh returns \u201cBad owner or permissions on ~/.ssh/config\u201d, change the permission <pre><code>$ chmod 600 ~/.ssh/config\n</code></pre> that is, <code>-rw-------</code>.</p>"},{"location":"Linux/servers/#run-gui-remotelylocally","title":"run GUI remotely/locally","text":"<pre><code>weiya@T460p:~$ ssh weiya@G40\nweiya@G40:~$ export DISPLAY=:0\nweiya@G40:~$ firefox\n</code></pre> <p>\u5982\u679c\u4e0d\u901a\u8fc7\u7b2c\u4e8c\u884c\u6765\u8bbe\u7f6e DISPLAY\uff0c\u5219\u4f1a\u62a5\u9519\uff0c</p> <p>Error: no DISPLAY environment variable specified</p> <p>\u53e6\u5916 <code>:0</code> \u53ef\u4ee5\u901a\u8fc7\u5728\u670d\u52a1\u5668\u7aef\u8fd0\u884c</p> <pre><code>weiya@G40:~$ w\n 20:29:30 up 10:01,  2 users,  load average: 1.53, 1.42, 1.40\nUSER     TTY      FROM             LOGIN@   IDLE   JCPU   PCPU WHAT\nweiya    :0       :0               10:28   ?xdm?  22:24   0.00s /usr/lib/gdm3/gdm-x-session --run-script env GNOME\n</code></pre> <p>\u8fdb\u884c\u67e5\u770b\uff0c\u5176\u4e2d <code>FROM</code> \u680f\u4e0b\u7684 <code>:0</code> \u5373\u4e3a\u5f53\u524d display \u53f7\u7801\u3002</p> <p>\u53c2\u8003 How to start a GUI software on a remote Linux PC via SSH</p> <p>\u5982\u679c\u60f3\u8981\u5728\u672c\u5730\u8fd0\u884c\u670d\u52a1\u5668\u7aef\u7684 GUI \u7a0b\u5e8f\uff0c\u5373\u5c06\u670d\u52a1\u5668\u7aef\u7684\u7a97\u53e3\u53d1\u9001\u5230\u672c\u5730\uff0c\u5219\u767b\u5f55\u65f6\u9700\u8981\u52a0\u4e0a <code>-X</code> \u9009\u9879\uff0c</p> <pre><code>ssh -X\n</code></pre> <p>To speed up the GUI loading if necessary, try to enable compression, <code>-C</code>, refer to Why is Firefox so slow over SSH? - Unix &amp; Linux Stack Exchange</p>"},{"location":"Linux/servers/#scp","title":"<code>scp</code>","text":"<ul> <li><code>scp</code> a file with name including colon</li> </ul> <p>add <code>./</code> before the file, since it will interpret colon <code>x:</code> as <code>[user@]host prefix</code> even if the filename has been wrapped with <code>\"</code>.</p> <p>refer to How can I scp a file with a colon in the file name?</p>"},{"location":"Linux/servers/#severaliveinterval-and-clientaliveinterval","title":"SeverAliveInterval and ClientAliveInterval","text":"<ul> <li><code>SeverAliveInterval</code> and <code>SeverAliveCountMax</code> are set on the client side, i.e., <code>~/.ssh/config</code></li> <li><code>ClientAliveInterval</code> and <code>ClientAliveCountMax</code> are set on the server side, i.e., <code>/etc/ssh/sshd_config</code></li> </ul> <p>refer to What do options <code>ServerAliveInterval</code> and <code>ClientAliveInterval</code> in sshd_config do exactly?</p>"},{"location":"Linux/servers/#add-user","title":"Add User","text":"<pre><code>$ useradd -m -s /bin/bash userName\n$ passwd userName\n</code></pre> <p>Or explicitly specify the password with</p> <pre><code>useradd -p $(openssl passwd -1 \"PASSWORD\") -m userName\n</code></pre> <p>where <code>-1</code> means to use the MD5 based BSD password algorithm 1, see <code>man openssl-passwd</code> for more details.</p> <p>Create users in batch mode,</p> <pre><code>for i in {01..14}; do useradd -p $(openssl passwd -1 \"PASSWORD\\$\") -m \"project$i\"; done\n</code></pre> <p>where symbol <code>$</code> (if any) needs to be escaped by <code>\\</code>.</p> <p>Warning</p> <p>As <code>man useradd</code> notes,</p> <p><code>-p</code> option is not recommended because the password (or encrypted password) will be visible by users listing the processes.</p> <p>\u589e\u52a0 sudo \u6743\u9650</p> <pre><code>$ sudoedit /etc/sudoers\n</code></pre> <pre><code># Allow members of group sudo to execute any command\n%sudo   ALL=(ALL:ALL) ALL\n+weiya ALL=(ALL) NOPASSWD:ALL\n+szcf715 ALL=(ALL) ALL\n</code></pre> <p>\u5176\u4e2d <code>NOPASSWD</code> \u8868\u793a\u7528\u6237 <code>weiya</code> \u5728\u4f7f\u7528 <code>sudo</code> \u65f6\u65e0\u9700\u8f93\u5165\u5bc6\u7801\uff0c\u800c <code>szcf715</code> \u5219\u9700\u8981\u8f93\u5165\u5bc6\u7801\u624d\u80fd\u4f7f\u7528 <code>sudo</code>.</p> <p><code>man sudoers</code> \u7ed9\u4e86\u4e00\u4e9b\u5177\u4f53\u7684\u8bbe\u7f6e\u4f8b\u5b50\uff0c\u641c\u7d22 <code>example sudoers</code>.</p> <p>\u53c2\u8003 https://www.digitalocean.com/community/tutorials/how-to-install-the-apache-web-server-on-ubuntu-16-04</p> <ul> <li>list users in a group: <code>lid -g GroupName</code>, see also  and Issue 5</li> </ul>"},{"location":"Linux/servers/#spark","title":"\u5b89\u88c5 spark","text":"<p>\u5728\u5185\u5730\u4e91\u4e3b\u673a\u4e0a\uff0c\u5b98\u7f51\u4e0b\u8f7d\u5730\u5740 \u8fd8\u6ca1 5 \u79d2\u5c31\u4e2d\u65ad\u4e86\uff0c\u7136\u540e\u627e\u5230\u4e86\u6e05\u534e\u7684\u955c\u50cf</p> <p>\u7b2c\u4e8c\u5929\u53d1\u73b0\uff0c\u5176\u5b9e\u4e0d\u662f\u4e2d\u65ad\u4e86\uff0c\u800c\u662f\u4e0b\u8f7d\u5b8c\u6210\u4e86\uff0c\u56e0\u4e3a\u90a3\u4e2a\u8fd8\u4e0d\u662f\u4e0b\u8f7d\u94fe\u63a5\uff0c\u70b9\u8fdb\u53bb\u624d\u6709\u63a8\u8350\u7684\u4e0b\u8f7d\u94fe\u63a5\uff0c\u800c\u8fd9\u4e9b\u94fe\u63a5\u4e5f\u662f\u63a8\u8350\u7684\u901f\u5ea6\u5feb\u7684\u955c\u50cf\u3002</p> <p>\u987a\u5e26\u5b66\u4e60\u4e86 <code>wget</code> \u91cd\u65b0\u4e0b\u8f7d <code>-c</code> \u548c\u91cd\u590d\u5c1d\u8bd5 <code>-t 0</code> \u7684\u9009\u9879\u3002</p> <p>upgrade Java 7 to Java 8:</p> <p>\u6700\u8fd1 oracle \u66f4\u6539\u4e86 license\uff0c\u5bfc\u81f4 ppa \u90fd\u7528\u4e0d\u4e86\u4e86</p> <p>\u6e90\u7801\u5b89\u88c5</p> <p>\u800c\u4e14\u7b2c\u4e00\u6b21\u542c\u8bf4 <code>update-alternatives</code> \u547d\u4ee4\uff0c\u6709\u70b9\u7c7b\u4f3c\u66f4\u6539\u9ed8\u8ba4\u7a0b\u5e8f\u7684\u611f\u89c9\u3002</p> <p>\u63a5\u7740\u6309\u7167 official documentation \u8fdb\u884c\u5b66\u4e60</p>"},{"location":"Linux/servers/#nginx-failed","title":"\u817e\u8baf\u4e91\u670d\u52a1\u5668nginx failed","text":"<p>\u539f\u56e0\uff1a80\u7aef\u53e3\u88ab\u5360\u7528 \u89e3\u51b3\u65b9\u6cd5\uff1akill\u6389\u5360\u752880\u7aef\u53e3\u7684</p> <pre><code>sudo fuser -k 80/tcp\n</code></pre> <p>\u91cd\u542f</p> <pre><code>sudo /etc/init.d/nginx restart\n</code></pre>"},{"location":"Linux/servers/#nginx","title":"\u91cd\u88c5nginx","text":"<p>\u60f3\u91cd\u88c5nginx\uff0c\u628a/etc/nginx\u4e5f\u4e00\u5e76\u5220\u9664\u4e86\uff0c\u4f46\u662f\u91cd\u65b0\u5b89\u88c5\u5374\u62a5\u9519\u627e\u4e0d\u5230conf\u6587\u4ef6\u3002</p> <p>\u53c2\u8003How to reinstall nginx if I deleted /etc/nginx folder (Ubuntu 14.04)?</p> <p>\u5e94\u5f53\u7528 <pre><code>apt-get purge nginx nginx-common nginx-full\napt-get install nginx\n</code></pre></p> <p>\u6ce8\u610f\u7528 purge \u4e0d\u4f1a\u4fdd\u5b58\u914d\u7f6e\u6587\u4ef6\uff0c\u800c remove \u4f1a\u4fdd\u5b58\u914d\u7f6e\u6587\u4ef6\u3002</p>"},{"location":"Linux/servers/#centos-7","title":"CentOS 7","text":"<p>\u60f3\u76f4\u63a5\u5728\u670d\u52a1\u5668\u4e0a\u7528 Julia \u7684 PGFPlotsX \u753b\u56fe\uff0c\u56e0\u4e3a\u9ed8\u8ba4\u4f1a\u5f39\u51fa\u753b\u597d\u7684 pdf \u56fe\u8c61\uff0c\u9664\u975e\u6309\u7167\u5b98\u65b9\u6559\u7a0b\u4e2d\u7684\u8bbe\u7f6e</p> <pre><code>PGFPlotsX.enable_interactive(false)\n</code></pre> <p>\u672c\u6765\u671f\u671b\u7740\u7528 evince \u6253\u5f00\uff0c\u4f46\u662f\u6700\u540e\u7adf\u7136\u7528 liberoffice \u5f00\u5f00\u4e86\uff0c\u7136\u540e\u5b57\u4f53\u7adf\u7136\u4e0d\u4e00\u81f4\u4e86\uff0c\u6240\u4ee5\u60f3\u7740\u66f4\u6539\u9ed8\u8ba4\u7684 pdf \u9605\u8bfb\u8f6f\u4ef6\uff0c\u53c2\u8003 How to set default browser for PDF reader Evince on Linux?</p> <p>\u53ef\u4ee5\u5728 <code>.local/share/applications/mimeapps.list</code> \u91cc\u9762\u6dfb\u52a0\u6216\u8005\u4fee\u6539</p> <p>\u867d\u7136\u6700\u540e\u8fd8\u662f\u611f\u89c9\u901a\u8fc7\u670d\u52a1\u5668\u6253\u5f00\u901f\u5ea6\u592a\u6162\u4e86\u3002</p>"},{"location":"Linux/servers/#install-software-without-root","title":"Install software without root","text":"<p><code>conda</code> can install many other programs, such as <code>tree</code>,</p> <pre><code>conda install -c eumetsat tree\n</code></pre> <p>The trick is to check whether the package is available via <code>https://anaconda.org/search?q=</code></p> <p>refer to How to install packages in Linux (CentOS) without root user with automatic dependency handling?</p>"},{"location":"Linux/servers/#tab-fails-to-complete","title":"tab fails to complete","text":"<p>\u670d\u52a1\u5668\u4e0a tab \u8865\u5168\u5931\u6548\uff0c\u5e76\u4e14\u62a5\u9519</p> <p>\u65e0\u6cd5\u4e3a\u7acb\u5373\u6587\u6863\u521b\u5efa\u4e34\u65f6\u6587\u4ef6\uff1a\u8bbe\u5907\u4e0a\u6ca1\u6709\u7a7a\u95f4</p> <p>\u56e0\u4e3a\u5728\u7b2c\u4e09\u65b9\u670d\u52a1\u5668\u4e0a\uff0c\u6ca1\u6709\u6743\u9650\u6e05\u7406 <code>/tmp</code> \u6587\u4ef6\u5939\uff0c\u4e8e\u662f\u53c2\u8003 \u89e3\u51b3cannot create temp file for here-document: No space left on device\u95ee\u9898</p> <p>\u5728 <code>.bashrc</code> \u4e2d\u52a0\u5165</p> <pre><code>export TMPDIR=$HOME/tmp\n</code></pre>"},{"location":"Linux/servers/#lets-encrypt","title":"Let\u2019s Encrypt","text":"<p>If it throws the following message,</p> <p>Client with the currently selected authenticator does not support any combination of challenges that will satisfy the CA.</p> <p>it is necessary to upgrade the Certbot.</p>"},{"location":"Linux/servers/#vultrshadowsocks","title":"Vultr\u914d\u7f6eshadowsocks","text":"<p>\u6309\u7167\u4e4b\u524d\u7684\u914d\u7f6e\u65b9\u6cd5\uff0c\u4e0d\u53ef\u7528\uff0c\u4e8e\u662f\u53c2\u8003\u8f7b\u677e\u5728 VPS \u642d\u5efa Shadowsocks \u7ffb\u5899\u8fdb\u884c\u914d\u7f6e\u3002</p>"},{"location":"Linux/servers/#centos7apache","title":"CentOS7\u642d\u5efaApache","text":"<p>\u53c2\u8003\u8d44\u6599</p> <ol> <li>How To Install Linux, Apache, MySQL, PHP (LAMP) stack On CentOS 7</li> <li>CentOS 7.2 \u5229\u7528yum\u5b89\u88c5\u914d\u7f6eApache2.4\u591a\u865a\u62df\u4e3b\u673a</li> </ol> <p>\u6309\u7167\u7b2c\u4e00\u4e2a\u94fe\u63a5\u7684\u6307\u793a\uff0c\u5e76\u4e0d\u80fd\u6210\u529f\u8bbf\u95ee\u3002\u4e8e\u662f\u5c1d\u8bd5\u53c2\u8003\u7b2c\u4e8c\u4e2a\u94fe\u63a5\u4fee\u6539\u914d\u7f6e\u6587\u4ef6\u3002</p> <p>\u672a\u679c\uff0c\u7ed3\u679c\u6309\u7167cy\u7684\u5efa\u8bae\uff0c\u91ca\u653e\u6389\u4e86\u8fd9\u4e2a\u670d\u52a1\u5668\u3002</p>"},{"location":"Linux/servers/#ftp","title":"FTP","text":"<p>Upload and download files from command line, see  for more details.</p> <pre><code>$ ftp xx.xx.xx.xx\nftp&gt; put XX\nftp&gt; get XX\n</code></pre>"},{"location":"Linux/software/","title":"Application Software on Linux","text":"<p>According to Wikipedia, computer software can be divided into</p> <ul> <li>Application Software</li> <li>System Software<ul> <li>Operating systems</li> <li>Device drivers</li> <li>Utilities</li> </ul> </li> </ul> <p>This section would contain comprehensive application software, and most of them have a GUI. </p> <p>Tip</p> <p>The window of a software can be always set on top. First minimize the desired window, and the right click around the top menu, then select \u201cAlways on Top\u201d.</p> make software searchable <p>If the software has <code>xx.destop</code> file, then</p> <pre><code>cp xx.destop ~/.local/share/applications\n</code></pre> <p>otherwise\uff0c create a <code>.desktop</code> file. More details refer to How to pin Eclipse to the Unity launcher? and How to add programs to the launcher (search)?</p> Set Default Software <p>\u7f51\u9875\u6587\u4ef6 <code>.html</code> \u9ed8\u8ba4\u7528\u767e\u5ea6\u7f51\u76d8\u6253\u5f00\uff0c\u4e4b\u524d\u901a\u8fc7 <code>KDE System Setting</code> \u4fee\u6539\u4e86\u9ed8\u8ba4\u8f6f\u4ef6\uff0c</p> <p></p> <p>\u4f46\u4f3c\u4e4e\u5e76\u6ca1\u6709\u89e3\u51b3\u95ee\u9898\u3002</p> <p>\u8bd5\u7740\u53c2\u8003 Open files with other applications \u7684\u6b65\u9aa4\u8fdb\u884c\u8bbe\u7f6e</p> <ul> <li>\u53f3\u952e\u9009\u62e9 <code>Properties</code></li> <li>\u7136\u540e\u9009\u62e9 <code>Open With</code></li> <li>\u9009\u62e9\u7279\u5b9a\u8f6f\u4ef6\uff0c<code>Set as default</code></li> </ul>"},{"location":"Linux/software/#atom","title":"Atom","text":"Uninstalled"},{"location":"Linux/software/#atom_1","title":"atom \u81ea\u52a8\u66f4\u65b0","text":"<p>atom</p> <pre><code>sudo add-apt-repository ppa:webupd8team/atom\nsudo apt-get update\n</code></pre>"},{"location":"Linux/software/#proxy","title":"proxy \u8bbe\u7f6e","text":"<p>Atom \u7684\u5305\u7ba1\u7406\u5668\u662f apm\uff0c\u5176\u4e2d\u6709\u4ecb\u7ecd\u600e\u4e48\u8bbe\u7f6e proxy\uff0c\u5373</p> <pre><code>apm config set strict-ssl false\napm config set http-proxy http://127.0.0.1:8118\n</code></pre>"},{"location":"Linux/software/#spell-check","title":"spell-check","text":"<p>By default, one of the core package spell-check does not check <code>.tex</code> file, although there is another package for checking the spelling in <code>.tex</code>, it does not work and not recently update, then I investigate the <code>spell-check</code> package to add the support for <code>.tex</code>. Actually, it is quite easy, just to add the scope of the <code>.tex</code> file, which can be found by <code>Editor: Log Cursor Scope</code>. So I add <code>text.tex.latex</code>, but it would be annoying to highlighter the native latex command, such as <code>\\newcommand</code>, then I found that there is a <code>Excluded Scopes</code> in the config page of <code>spell-check</code>, so we only need to add the scope name of such native latex command, which again can be found by <code>Editor: Log Cursor Scope</code> if we put the cursor on the line of the commands. Finally, I add</p> <pre><code>meta.preamble.latex, punctuation.definition.arguments.end.latex, support.function.general.tex, support.type.function.other.latex, storage.type.function.latex, markup.underline.link.https.hyperlink\n</code></pre> <p>to the whitelist, each of which is identified by tries, such as cannot continue to add <code>meta.group.braces.tex</code> since the original text would also cannot be checked.</p>"},{"location":"Linux/software/#soft-wrap","title":"Soft wrap","text":"<p>Soft wrap is proper for <code>.tex</code> file, or <code>.md</code> file, but not necessary for the programming file. We can turn off the soft wrap globally in <code>Setting &gt; Editor</code>, and actually we can reset it for each language, which can be toggled in <code>Setting &gt; Package &gt; language-&lt;language name&gt; &gt; Soft Wrap</code>.</p> <p>refer to Toggle Soft Wrap by Default?</p>"},{"location":"Linux/software/#minimap","title":"minimap","text":"<p>\u88c5\u597d\u7528\u4e86\u4e00\u665a\u4e0a\uff0c\u4f46\u662f\u7b2c\u4e8c\u5929\u7528\u7684\u65f6\u5019\u5374\u600e\u4e48\u4e5f\u6253\u4e0d\u5f00\u4e86\uff0c\u5c1d\u8bd5\u8bbe\u7f6e Key binding\uff0c\u5373\u4fbf\u5df2\u7ecf\u8bbe\u7f6e\u4e3a\u4e86\u81ea\u52a8\u542f\u52a8\uff0c\u6240\u4ee5\u539f\u56e0\u5e76\u4e0d\u662f\u8fd9\u4e2a\u3002</p> <p>\u540e\u6765\u901a\u8fc7 <code>apm</code> \u5b89\u88c5\u4f4e\u7248\u672c\u4fbf\u6210\u529f\u4e86\uff01</p> <p></p>"},{"location":"Linux/software/#terminal","title":"terminal","text":"<p>\u4e4b\u524d\u4e00\u76f4\u5728\u4f7f\u7528 <code>Platformio Ide Terminal v2.10.1</code>, \u4f46\u662f\u6700\u8fd1\u4e00\u6bb5\u65f6\u95f4\u7ecf\u5e38\u6253\u4e0d\u5f00 terminal\uff0c\u540e\u6765\u5728\u5176 repo issue \u4e2d\u770b\u5230\u7c7b\u4f3c\u7684\u95ee\u9898\uff0c\u7136\u540e\u6709\u4eba\u6307\u51fa\u8fd9\u4e2a package \u5176\u5b9e\u4e0d\u518d\u7ef4\u62a4\uff0c\u5e76\u4e14\u63a8\u8350\u4e86</p> <ul> <li>terminus: https://github.com/bus-stop/terminus</li> <li>x-terminal: https://github.com/bus-stop/x-terminal</li> </ul> <p>\u6253\u4e0d\u5f00 terminal \u7684\u539f\u56e0\u5e94\u8be5\u4e0e\u4e0b\u6587\u4e2d\u63d0\u5230\u7684 VS code \u7c7b\u4f3c\uff0c\u5728\u66ff\u6362\u81ea\u52a8\u542f\u52a8\u65b9\u5f0f\u4e4b\u524d\uff0c\u8bd5\u8fc7\u5728 x-terminal \u4e2d\u542f\u52a8\u7a0b\u5e8f <code>/bin/bash</code> \u6dfb\u52a0 <code>--noprofile</code> \u9009\u9879\uff0c\u4f46\u662f\u62a5\u9519\uff0c\u4e8e\u662f\u76f4\u63a5\u9009\u62e9\u4e86 terminus.</p>"},{"location":"Linux/software/#toggle-symbol","title":"Toggle Symbol","text":"<p>It is quite convenient to use the shortcut <code>Ctrl + R</code> to select the functions, particularly in Julia. Just want to find the equivalent behavior in VScode, the first thing is to find the official name of such a behavior. </p> <p>I found the Keybindings table in the Setting panel, and knew that this is called \u201cToggle file symbols\u201d.</p> <p>Based on this hint, I found the the corresponding shortcut in VScode, that is, <code>Ctrl + Shift + .</code>, refer to Go to next method shortcut in VSCode</p>"},{"location":"Linux/software/#baidu-netdisk","title":"Baidu NetDisk","text":"<p>Update 2022-11-10 21:09:28</p> <p>\u4e0b\u8f7d deb \u5305\u66f4\u65b0\u5230\u6700\u65b0\u7248\u672c 4.14.5\uff0c\u4f53\u9a8c\u8fd8\u884c\uff08\u867d\u7136\u4e0d\u5e38\u7528\uff09</p> <p>\u53d1\u73b0\u767e\u5ea6\u7f51\u76d8\u5b98\u65b9\u51fa\u4e86 Linux \u7248\uff0c\u4f46\u662f\u6b64\u65f6\u7684 Linux\u7248 V2.0.2\uff08\u66f4\u65b0\u65f6\u95f4\uff1a2019-07-25\uff09 \u5728 Ubuntu 16.04 \u4f3c\u4e4e\u8fd0\u884c\u4e0d\u4e86\u2014\u2014\u80fd\u4e0b\u8f7d\u5b89\u88c5\u4f46\u662f\u65e0\u6cd5\u6253\u5f00\u8fd0\u884c\u3002</p> <p>\u5728\u5b98\u65b9\u7684 Linux \u7248\u672c\u672a\u53d1\u5e03\u4e4b\u524d\uff0c\u66fe\u5c1d\u8bd5\u793e\u533a\u5f00\u53d1\u7684\u51e0\u79cd\u8bbf\u95ee\u767e\u5ea6\u4e91\u7684\u65b9\u6848\u3002</p> Other Alternatives (Discard)"},{"location":"Linux/software/#bcloud","title":"bcloud","text":"<p>\u9879\u76ee\u5730\u5740\uff1ahttps://github.com/XuShaohua/bcloud</p> <p>\u4f46\u662f\u56db\u4e94\u5e74\u6ca1\u6709\u66f4\u65b0\u4e86\u3002\u5b89\u88c5\u8bd5\u4e86\u4e00\u4e0b\uff0c\u767b\u5f55\u4e0d\u4e86\uff0c\u9042\u653e\u5f03\u3002</p>"},{"location":"Linux/software/#pandownload","title":"PanDownload","text":"<p>https://www.baiduwp.com</p> <p>\u4e0d\u9700\u8981\u5b89\u88c5\u5ba2\u6237\u7aef\uff0c\u53ea\u9700\u8981\u8f93\u5165\u7f51\u76d8\u5206\u4eab\u94fe\u63a5\u548c\u63d0\u53d6\u7801\uff0c\u4fbf\u53ef\u4ee5\u4e0b\u8f7d\u6587\u4ef6\uff08\u800c\u767e\u5ea6\u7f51\u76d8\u672c\u8eab\u4e0b\u8f7d\u6587\u4ef6\u9700\u8981\u6253\u5f00\u5ba2\u6237\u7aef\uff09\u3002\u4e0d\u8fc7\u901f\u5ea6\u4f3c\u4e4e\u4e0d\u548b\u5730</p>"},{"location":"Linux/software/#bypy","title":"bypy","text":"<p>\u901b\u5230\u4e86\u53e6\u5916\u4e00\u4e2a\u5ba2\u6237\u7aef\uff0c\u9879\u76ee\u5730\u5740\uff1ahttps://github.com/houtianze/bypy</p> <p>\u8fd8\u633a\u6d3b\u8dc3\uff0c\u4e94\u4e2a\u6708\u524d\u6709\u66f4\u65b0\u3002</p> <p>\u6d4b\u8bd5\u4e86\u4e00\u4e0b\uff0c\u76f8\u5f53\u4e8e\u5728\u7f51\u76d8\u5185\u65b0\u5efa\u4e86 <code>/apps/bypy</code> \u6587\u4ef6\u5939\uff0c\u7136\u540e\u53ef\u4ee5\u540c\u6b65\u8be5\u6587\u4ef6\u5939\u5185\u7684\u5185\u5bb9\uff0c\u4f3c\u4e4e\u4e0d\u80fd\u76f4\u63a5\u5bf9\u6587\u4ef6\u5939\u5916\u7684\u6587\u4ef6\u8fdb\u884c\u64cd\u4f5c\u3002\u5c3d\u7ba1\u8fd9\u6837\uff0c\u4e5f\u662f\u5f88\u597d\u7684\u4e86\uff0c\u4ee5\u540e\u6587\u4ef6\u53ef\u4ee5\u5b58\u653e\u5728\u8fd9\u4e2a\u6587\u4ef6\u5939\u4e0b\u3002</p> <p>\u5f53\u7136\uff0c\u8fd8\u662f\u671f\u5f85\u5b98\u7f51\u672c\u8eab\u652f\u6301\u3002</p> <p>\u5e38\u7528\u547d\u4ee4\uff1a</p> <pre><code>bypy syncup\nbypy syncdown\n</code></pre>"},{"location":"Linux/software/#chrome","title":"Chrome","text":"<p>Highly Recommended Extensions (\u5f3a\u70c8\u63a8\u8350\u7684\u63d2\u4ef6)</p> <ul> <li>Hypothesis: \u7f51\u9875\u6807\u6ce8</li> <li>GoFullPage - Full Page Screen Capture: \u6eda\u52a8\u622a\u56fe</li> <li>Text Blaze: \u81ea\u5b9a\u4e49\u5b57\u7b26\u4e32\u66ff\u6362<ul> <li>\u5e94\u7528\u573a\u666f\u4e4b\u4e00\uff1a\u5728 Markdown \u8f93\u5165\u6846\u4e2d\u6572\u51fb <code>/details</code> \u5373\u53ef\u66ff\u6362\u6210\u7e41\u7410\u7684 <code>&lt;details&gt;&lt;summary&gt;&lt;/summary&gt;&lt;/details&gt;</code>\uff08\u7701\u7565\u4e86\u5fc5\u8981\u7684\u6362\u884c\uff09</li> </ul> </li> </ul> not saving password <p>\u6709\u6bb5\u65f6\u95f4\uff0c\u4e0d\u80fd\u81ea\u52a8\u8f93\u5165 CUSIS \u7684\u767b\u5f55\u4fe1\u606f\uff0c\u76f4\u63a5\u5220\u6389 Login Data\uff0c</p> <pre><code>$ pwd\n/home/weiya/.config/google-chrome/Default\n~/.config/google-chrome/Default$ mv Login\\ Data \"Login-Data-backup20210410-issue16\"\n</code></pre> <p>\u8be6\u89c1 </p> disable running in background <p>To diagnose high memory usage, I found chrome is still running in background even if it has been closed,</p> <pre><code>~$ ps -e -o pid,cmd,%mem --sort=-%mem | grep google 13404 /opt/google/chrome/chrome -  1.9\n13622 /opt/google/chrome/chrome -  1.3\n632184 /opt/google/chrome/chrome -  0.7\n13448 /opt/google/chrome/chrome -  0.6\n13610 /opt/google/chrome/chrome -  0.6\n1601941 /opt/google/chrome/chrome -  0.4\n...\n</code></pre> <p>To disable it, click <code>Setting &gt; Advanced &gt; System</code>, and then turn off the option</p> <p>continue running background apps when Google Chrome is closed.</p> <p>Here is a \u5982\u4f55\u770b\u5f85 PC \u7248 Chrome \u5173\u95ed\u540e\u4ecd\u7136\u53ef\u4ee5\u5728\u540e\u53f0\u8fd0\u884c\uff1f - \u77e5\u4e4e.</p> disable reading list <p>the new version releases the <code>reading list</code>, then every time I press <code>star</code> requires to select to add to bookmarks or reading list, that make me annoyed. I found some guys have the same feeling, the solution is to enter</p> <pre><code>chrome://flags/#read-later\n</code></pre> <p>and then disable <code>reading list</code>.</p> \u89e3\u51b3\u9ed1\u5c4f\u95ee\u9898 <p>\u53c2\u8003 chrome\u9ed1\u5c4f\u89e3\u51b3 </p> <p>\u8fdb\u5165\u4f11\u7720\u72b6\u6001\u540e\uff0c\u7761\u4e86\u4e00\u665a\u4e0a\uff0c\u7b2c\u4e8c\u5929\u65e9\u4e0a\u6253\u5f00 chrome \u4fbf\u9ed1\u5c4f\u4e86\uff0c\u7136\u540e\u91c7\u7528</p> <pre><code>chrome -disable-gpu\n</code></pre> <p>\u518d\u8bbe\u5b9a</p> <p><pre><code>Use hardware acceleration when available\n</code></pre> false\uff0c\u518d\u70b9\u51fb relaunch\uff0c\u5219\u9ed1\u5c4f\u7684\u9875\u9762\u90fd\u56de\u6765\u4e86\uff0c\u4e0d\u9700\u8981\u91cd\u542f\u6574\u4e2a chrome\u3002</p> Monitor website for entertainment <p>\u7528\u4e0b\u9762\u811a\u672c\u76d1\u63a7\u5f53\u524d\u662f\u5426\u5904\u4e8e\u5a31\u4e50\u7f51\u7ad9\uff0c\u5982\u679c\u662f\uff0c\u5219\u5f39\u7a97\u63d0\u9192\u201c\u4e0d\u8981\u73a9\uff01\u201d <pre><code>n=`wmctrl -l | grep \"bilibili\\|\u4e2d\u570b\u4eba\u7dda\u4e0a\u770b\\|YouTube\\|\u77e5\u4e4e\" | wc -l`\nif [ $n -gt 0 ]; then\nnotify-send -i /home/weiya/.local/share/icons/warning-icon.svg -u critical \"\u4e0d\u8981\u73a9!!!\"\nfi\n</code></pre> \u5c06\u4e0a\u8ff0\u4ee3\u7801\u5199\u8fdb\u811a\u672c <code>check_video.sh</code>\uff0c\u5e76\u8bbe\u7f6e\u6bcf10min\u68c0\u6d4b\u4e00\u6b21\u3002</p> <p><pre><code>*/10 * * * * export XDG_RUNTIME_DIR=/run/user/$(id -u); export DISPLAY=:1; sh /home/weiya/github/techNotes/docs/Linux/check_video.sh\n</code></pre> </p>"},{"location":"Linux/software/#droidcam-phone-as-webcam","title":"DroidCam: Phone as Webcam","text":"<p>Homepage: DroidCam</p> <p>First of all, install Linux client following the official instruction</p> Mix2s <ul> <li>install the Android app on Mix2s</li> <li>\u56e0\u4e3a\u65e0\u6cd5\u8bbe\u7f6e\u5728\u4e00\u4e2a\u5c40\u57df\u7f51\u4e2d\uff0c\u6240\u4ee5\u6d4b\u8bd5 USB \u8fde\u63a5\u3002\u6839\u636e\u8fde\u63a5\u6307\u5357\uff0c\u9700\u8981\u6253\u5f00 USB debugging\uff0c\u7136\u800c\u4f3c\u4e4e\u4ecd\u7136\u65e0\u6cd5\u6210\u529f\u3002</li> <li>\u6839\u636e\u9519\u8bef\u63d0\u793a\u8fd0\u884c <code>adb devices</code>\uff0c\u5e76\u6ca1\u6709\u663e\u793a\u4efb\u4f55\u5b89\u5353\u8bbe\u5907\u7684\u8fde\u63a5\u3002\u53e6\u5916 <code>lsusb</code> \u5e76\u6ca1\u6709\u624b\u673a\u7684\u8bb0\u5f55\uff0c\u800c\u4e14\u63d2\u4e0a\u524d\u540e <code>lsusb</code> \u9879\u76ee\u4e2a\u6570\u4e0d\u53d8\u3002</li> <li>\u53ef\u80fd\u7535\u8111\u7aef\u7f3a\u5c11\u9a71\u52a8\uff0c\u8bd5\u56fe\u5bfb\u627e USB driver\uff0c\u5982www.xiaomidriversdownload.com\u4f46\u662f\u53ea\u627e\u5230 for windows \u7684\u7248\u672c\uff08\u540e\u6765\u8bc1\u660e\u5e76\u4e0d\u9700\u8981\uff0c\u53ea\u662f USB \u7ebf\u7684\u539f\u56e0\uff09\u3002</li> </ul> Mi4c <p>\u540c Mix2s\uff0c\u4e0d\u8fc7\u6362\u4e86\u957f\u7684\u90a3\u6839\u6570\u636e\u7ebf\u540e\uff0c<code>lsusb</code> \u591a\u4e86\u6761\u8bb0\u5f55</p> <pre><code>$ lsusb\nBus 001 Device 033: ID 2717:ff68\n</code></pre> <p>\u4e0d\u50cf\u5176\u5b83\u8bb0\u5f55\u90a3\u6837\u6709\u5177\u4f53\u7684\u540d\u5b57\uff0c\u627e\u5230\u540c\u6837\u7684\u95ee\u9898\uff0cadb devices not working for redmi note 3 on ubuntu\u3002\u7ecf\u67e5\uff0c\u8be5\u6587\u4ef6\u4f4d\u4e8e <code>/lib/udev/rules.d</code>\uff0c\u4e0b\u8f7d\u4ed3\u5e93\u4e2d\u6700\u65b0\u7684 51-android.rules</p> <pre><code>$ cat 51-android.rules | grep ff68\n$ sudo cp 51-android.rules 51-android.rules.old\n$ sudo cp ~/Downloads/51-android.rules .\n</code></pre> <p>\u4f46\u662f <code>lsusb</code> \u5e76\u6ca1\u6709\u7acb\u5373\u751f\u6548\uff0c\u53c8\u4e0d\u60f3\u91cd\u542f\uff0c\u4e8e\u662f\u8bd5\u4e86 How to reload udev rules without reboot?\uff0c</p> <pre><code>$ udevadm control --reload-rules\n</code></pre> <p>\u4ee5\u53ca</p> <pre><code>$ pkill -HUP udevd\n</code></pre> <p>\u4f46\u662f\u4ecd\u6ca1\u6709\u663e\u793a\u540d\u5b57\u3002</p> iPad <ul> <li>firstly, install the APP</li> <li>\u56e0\u4e3a\u63d2\u4e0a iPad \u540e\uff0c\u81ea\u52a8\u8df3\u51fa\u662f\u5426\u4fe1\u4efb\u672c\u8bbe\u5907\uff0c\u800c\u4e14\u5728 <code>lsusb</code> \u4e2d\u627e\u5230\u8bb0\u5f55 <code>Bus 001 Device 018: ID 05ac:12ab Apple, Inc. iPad 4/Mini1</code>\u3002</li> <li>\u7136\u540e\u5728\u7535\u8111\u7aef\u5f00\u542f\u8fde\u63a5\uff0c\u8fd9\u6837\u5c31\u80fd\u4f7f\u7528ipad\u7684\u6444\u50cf\u5934\u4e86\u3002\u5728zoom\u4e2d\uff0c\u5f00\u542f\u6444\u50cf\u5934\u90a3\u91cc\u6709\u5207\u6362\u81f3 Droidcam \u7684\u9009\u9879\u3002</li> </ul>"},{"location":"Linux/software/#geeqie","title":"Geeqie","text":"<p>Install with</p> <pre><code>sudo apt install geeqie\n</code></pre> <p>which can show the pixel info, and is first used when developing the script for the perspective transformation.</p> <p>Refer to Which image viewer is able to show coordinates?</p>"},{"location":"Linux/software/#google-drive","title":"Google Drive","text":"<p>refer to Ubuntu 16.04 set up with google online account but no drive folder in nautilus</p> <p>Note that you should run</p> <pre><code>gnome-control-center online-accounts\n</code></pre> <p>in the command line, not to open the GUI.</p>"},{"location":"Linux/software/#imagemagick","title":"ImageMagick","text":"Perspective Transformation <p>I usually take many photos when listening to the seminars, it is desirable to extract only the slides and discard the nuisance background. Direct cropping is not enough since the photos are not parallel to the screen. </p> <p>The solution is called perspective transformation, which can be done via <code>-distort method</code>, the usage is </p> <pre><code>$ magick input.jpg -distort perspective 'U1,V1,X1,Y1 U2,V2,X2,Y2 U3,V3,X3,Y3 ... Un,Vn,Xn,Yn' output.jpg\n</code></pre> <p>where <code>U,V</code> on the source image is mapped to <code>X,Y</code> on the destination image.</p> <p>The interesting area is the mapped sub region, and so we need to further crop them out, which can be done with <code>-crop geometry</code>, where the geometry is defined with <code>WxH+x+y</code>, which means the region of size <code>WxH</code> located at the xy-coordinates <code>(x, y)</code>, see more details in Anatomy of the Command-line</p> <p>Refer to the source code for more details.</p> <p>Tip</p> <p>The original record on the development is here.</p> <ul> <li>Demo One: processing a single file</li> </ul> <p></p> <ul> <li>Demo Two: processing multiple files in a folder</li> </ul> <p></p> <p>Some references:</p> <ul> <li>Displaying the coordinates of the points clicked on the image using Python-OpenCV</li> <li>4 Point OpenCV getPerspective Transform Example</li> </ul> <p>Todo</p> <p>Wrap it into a GUI program. Possible references:</p> <ul> <li>OpenCV with Tkinter</li> <li>Julia Package for UI development</li> <li>How to make a GUI in Julia? - Stack Overflow</li> </ul> Convert .heic to .jpg <p><pre><code>$ sudo apt install libheif-examples\n$ heif-convert A.heic A.jpg\n</code></pre> In batch mode, run <pre><code>$ find . -name '*.heic' -exec heif-convert {} {}.jpg \\;\n</code></pre></p> Add HEIC support in ImageMagick <p>failed.</p> <p>\u4e0a\u6b21\u4ece\u6e90\u7801\u6309\u5b89\u88c5\u4e86 ImageMagick 7.0.10-6\uff0c\u521a\u521a\u53c8\u770b\u5230\u53ef\u4ee5\u6dfb\u52a0\u5bf9 HEIC \u683c\u5f0f\u7684\u652f\u6301\uff0c\u4e8e\u662f\u51c6\u5907\u91cd\u65b0\u7f16\u8bd1\u5b89\u88c5</p> <pre><code>$ ./configure --with-modules --with-libheif\n...\n            Option                        Value\n------------------------------------------------------------------------------\n...\nDelegate library configuration:\n...\nHEIC              --with-heic=yes             no\n</code></pre> <p>\u8ddf HEIC \u4f3c\u4e4e\u53ea\u6709\u8fd9\u4e00\u6761\uff0c\u4f46\u5176\u5b9e\u5982\u679c\u53bb\u6389 <code>--with-libheif</code>\uff0c\u7ed3\u679c\u5e76\u4e0d\u4f1a\u6709\u53d8\u5316\uff0c\u540e\u6765\u53d1\u73b0\u8fd9\u4e2a\u9009\u9879\u5176\u5b9e\u5e76\u6ca1\u6709\u6b63\u786e\u8bc6\u522b\uff0c</p> <pre><code>configure: WARNING: unrecognized options: --with-libheif\nconfigure:\n</code></pre> <p>\u7136\u540e\u8bd5\u7740</p> <pre><code>sudo apt-get install libheif1\n</code></pre> <p>\u4f46\u6700\u540e\u4e00\u5217\u8fd8\u662f no\uff0c\u7136\u540e\u518d\u8bd5\u7740</p> <pre><code>sudo apt-get install libheif-dev\n</code></pre> <p>\u6700\u540e\u4e00\u5217\u7ec8\u4e8e\u53d8\u6210 yes \u4e86\u3002\u4e8e\u662f\u7ee7\u7eed <code>make</code>\uff0c\u7136\u800c\u5374\u62a5\u51fa\u4e86 bug</p> <pre><code>coders/heic.c: In function \u2018ReadHEICColorProfile\u2019:\ncoders/heic.c:143:5: warning: unused variable \u2018length\u2019 [-Wunused-variable]\nlength;\n^~~~~~\ncoders/heic.c: In function \u2018ReadHEICImage\u2019:\ncoders/heic.c:452:9: warning: implicit declaration of function \u2018heif_context_read_from_memory_without_copy\u2019; did you mean \u2018heif_context_read_from_memory\u2019? [-Wimplicit-function-declaration]\nerror=heif_context_read_from_memory_without_copy(heif_context,file_data,\n        ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n        heif_context_read_from_memory\ncoders/heic.c:452:8: error: incompatible types when assigning to type \u2018struct heif_error\u2019 from type \u2018int\u2019\nerror=heif_context_read_from_memory_without_copy(heif_context,file_data,\n        ^\nAt top level:\ncoders/heic.c:94:3: warning: \u2018xmp_namespace\u2019 defined but not used [-Wunused-const-variable=]\nxmp_namespace[] = \"http://ns.adobe.com/xap/1.0/ \";\n^~~~~~~~~~~~~\nMakefile:10388: recipe for target 'coders/heic_la-heic.lo' failed\nmake[1]: *** [coders/heic_la-heic.lo] Error 1\nmake[1]: Leaving directory '/home/weiya/src/ImageMagick-7.0.10-6'\nMakefile:5988: recipe for target 'all' failed\nmake: *** [all] Error 2\n</code></pre>"},{"location":"Linux/software/#image-viewer","title":"Image Viewer","text":"<p>The default software for viewing images. Start it from command line by <code>eog</code>.</p> <ul> <li>set transparent background for <code>png</code> image</li> </ul> default desired <p>In a word, change the default setting \u201cas check pattern\u201d to a white custom color.</p>"},{"location":"Linux/software/#input-methods-for-chinese","title":"Input Methods for Chinese","text":"fcitx-sougou <p>\u9700\u8981 fcitx\uff0c\u82e5\u6ca1\u6709\u88c5\uff0c</p> <pre><code>sudo apt-get install fcitx-bin\nsudo apt-get install fcitx-table\n</code></pre> <p>\u7136\u540e\u5c06\u8f93\u5165\u6cd5\u5207\u6362\u6210 fcitx\uff0c\u5728\u8bbe\u7f6e\u4e2d\u8bed\u8a00\u90a3\u91cc\uff0c</p> <p>\u6700\u540e\u4e0b\u8f7d\u6309\u7167\u641c\u72d7\u8f93\u5165\u6cd5\uff0c\u5b89\u88c5\u65f6\u6211\u51fa\u73b0\u8fd9\u6837\u7684\u95ee\u9898\u5bfc\u81f4\u5b89\u88c5\u5931\u8d25\uff0c</p> <p>No such key \u2018Gtk/IMModule\u2019 in schema \u2018org.gnome.settings-daemon.plugins.xsettings\u2019 as specified in override file \u2018/usr/share/glib-2.0/schemas/50_sogoupinyin.gschema.override\u2019; ignoring override for this key.</p> <p>\u53c2\u8003 Install sogoupinyin on ubuntu 16.04LTS, with error \u2018Gtk/IMModule\u2019\uff0c\u5c06 <code>/usr/share/glib-2.0/schemas/50_sogoupinyin.gschema.override</code> \u4e2d\u7684 <code>IMModule</code> \u4e00\u884c\u6539\u6210</p> <pre><code>overrides={'Gtk/IMModule':&lt;'fcitx'&gt;}\n</code></pre> <p>\u7136\u540e\u518d\u8fd0\u884c</p> <pre><code>sudo glib-compile-schemas /usr/share/glib-2.0/schemas/\n</code></pre> <p>\u518d\u6b21\u5b89\u88c5\u4fbf\u6210\u529f\u4e86\u3002</p> <p>\u6700\u540e\u5728\u8bed\u8a00\u680f\u4e2d\u6dfb\u52a0\u641c\u72d7\u62fc\u97f3\u7684\u8f93\u5165\u6cd5\u5373\u53ef\u3002</p> <p>\u53c2\u8003 \u89e3\u51b3Ubuntu 18.04\u4e2d\u6587\u8f93\u5165\u6cd5\u7684\u95ee\u9898\uff0c\u5b89\u88c5\u641c\u72d7\u62fc\u97f3</p> fcitx-googlepinyin <p>\u56e0\u4e3a\u6700\u8fd1\u53d1\u73b0 wechat \u5d29\u6e83\u65f6\u7ecf\u5e38\u662f\u65e0\u6cd5\u5207\u6362\u5230\u4e2d\u6587\u8f93\u5165\uff0c\u6240\u4ee5\u6000\u7591\u4f1a\u4e0d\u4f1a\u662f\u641c\u72d7\u8f93\u5165\u6cd5\u5f15\u8d77\u7684\uff0c\u4e8e\u662f\u60f3\u5c1d\u8bd5\u4e0d\u540c\u7684\u4e2d\u6587\u8f93\u5165\u6cd5\u3002\u5728\u77e5\u4e4e\u4e0a\u770b\u5230\u8fd9\u4e2a\u95ee\u9898\uff0cUbuntu \u4e0a\u6700\u597d\u7528\u7684\u4e2d\u6587\u8f93\u5165\u6cd5\u662f\u4ec0\u4e48\uff1f</p> <p>\u91cc\u9762\u4e5f\u6709\u4eba\u53cd\u6620\u641c\u72d7\u8f93\u5165\u6cd5\u4f1a\u5bfc\u81f4\u5176\u4ed6\u7a0b\u5e8f\u5d29\u6e83\uff0c</p> <p>\u641c\u72d7\u8f93\u5165\u6cd5\u5bfc\u81f4Jetbrains\u5168\u5bb6\u6876\u5d29\u6e83 @\u53e3\u888b\u91cc\u7684\u661f\u8fb0 ubuntu\u7528\u641c\u72d7\u8f93\u5165\u6cd5\uff0c\u4f1a\u51fa\u5404\u79cd\u95ee\u9898\uff0c\u6709\u5176\u5b9e\u548clinux\u7248\u5fae\u4fe1\u4e00\u8d77\u7528\uff0c\u5751\u5c31\u66f4\u591a\u4e86\u3002\u3002@\u5357\u74dc\u6d3e\u4e09\u852c</p> <p>\u4e8e\u662f\u66f4\u52a0\u575a\u5b9a\u5c1d\u8bd5\u5176\u4ed6\u8f93\u5165\u6cd5\uff0c\u56e0\u4e3a\u5f88\u591a\u4eba\u90fd\u63a8\u8350\u4e86\u8c37\u6b4c\u62fc\u97f3\uff0c\u4fbf\u9996\u5148\u5c1d\u8bd5\u4e86\u5b83\u3002\u56e0\u4e3a\u6b64\u524d\u5728\u88c5\u641c\u72d7\u7684\u65f6\u5019\u5df2\u7ecf\u5c06 ibus \u6362\u6210\u4e86 fcitx\uff0c\u6240\u4ee5\u540e\u9762\u53ea\u9700\u8981\u6dfb\u52a0\u65b0\u7684\u8f93\u5165\u6cd5\u5373\u53ef\uff0c</p> <pre><code>$ sudo apt install fcitx-googlepinyin\n</code></pre> <p>\u7136\u540e\u91cd\u542f\u8f93\u5165\u6cd5\uff08\u65e0\u9700\u91cd\u542f\u7535\u8111\uff09\uff0c\u518d\u6253\u5f00\u8f93\u5165\u6cd5\u914d\u7f6e\u754c\u9762\uff0c\u6b64\u65f6\u4e0d\u51fa\u610f\u5916\u5df2\u7ecf\u6709 google pinyin \u7684\u9009\u9879\u3002\u56e0\u4e3a\u4e00\u79cd\u8f93\u5165\u6cd5\u5c31\u8db3\u591f\u4e86\uff0c\u800c\u4e14\u907f\u514d\u540e\u53f0\u5f71\u54cd\uff0c\u53d6\u6d88\u4e86\u641c\u72d7\u8f93\u5165\u6cd5\uff08\u5e76\u6ca1\u6709\u5378\u8f7d\u7a0b\u5e8f\uff09\u3002</p> <p>\u8bd5\u7528\u4e86\u4e00\u4e0b\uff0c\u8fd8\u884c\uff0c\u53ea\u662f\u754c\u9762\u7565\u5fae\u6709\u70b9\u4e11\uff0c\u4e0d\u8fc7\u8fd9\u4e5f\u4e0d\u662f\u91cd\u70b9\u3002</p> fcitx-baidu <p>\u65e2\u7136\u6dfb\u52a0\u4e2a\u8f93\u5165\u6cd5\u8fd9\u4e48\u7b80\u5355\uff0c\u90a3\u7d22\u6027\u518d\u8bd5\u8bd5\u5176\u5b83\u7684\uff0c\u767e\u5ea6\u8f93\u5165\u6cd5\u53ef\u4ee5\u5728\u5176\u5b98\u7f51\u4e2d\u4e0b\u8f7d\u7684\u5230 <code>.deb</code> \u6587\u4ef6\uff0c\u7136\u540e\u5b89\u88c5\u5e76\u91cd\u542f\u8f93\u5165\u6cd5\u3002</p> <p>\u6b63\u5982\u4e0a\u8ff0\u77e5\u4e4e\u56de\u7b54\u63d0\u5230\u7684\uff0c\u5b83\u4e71\u7801\u4e86\uff01</p> fcitx-rime <p>\u8fd9\u4e3b\u8981\u662f\u7e41\u4f53\u4e2d\u6587\uff0c\u4e0d\u8fc7\u4f3c\u4e4e\u5e94\u8be5\u4e5f\u80fd\u5207\u6362\u7b80\u4f53\u3002\u672c\u8eab\u8fd9\u662f\u57fa\u4e8e ibus \u7684\uff0c\u4e0d\u8fc7 fcitx \u56e2\u961f\u6709\u5728\u7ef4\u62a4 fcitx \u7684\u7248\u672c\uff0c</p> <pre><code>$ sudo apt install fcitx-rime\n</code></pre> <p>\u56e0\u4e3a\u60f3\u540c\u65f6\u6bd4\u8f83\u5176\u4e0e\u8c37\u6b4c\u62fc\u97f3\u7684\u4f53\u9a8c\uff0c\u6240\u4ee5\u76ee\u524d\u540c\u65f6\u4fdd\u7559\u4e86\u8fd9\u4e24\u4e2a\u8f93\u5165\u6cd5\uff0c\u53ef\u4ee5\u901a\u8fc7 <code>SHIFT+CTRL</code> \u5feb\u901f\u5207\u6362\u8f93\u5165\u6cd5\u3002</p> <p>RIME \u9ed8\u8ba4\u662f\u7e41\u4f53\u7684\uff0c\u53ef\u4ee5\u901a\u8fc7 <code>CTRL+`</code> \u6765\u5207\u6362\u7b80\u7e41\u4f53\uff0c\u53e6\u5916\u4e5f\u6709\u5168\u534a\u89d2\u7b49\u8bbe\u7f6e\u3002</p> <p>Note</p> <p>\u9664\u4e86\u8fd9\u4e9b\u5728 fcitx4 \u4e0a\u7684\u65b9\u6848\uff0c\u4e5f\u8bb8\u8fc7\u6bb5\u65f6\u95f4\u4f1a\u5c1d\u8bd5\u66f4\u65b0\u7684\u8f93\u5165\u6cd5\u6846\u67b6 fcitx5</p> <p>\u867d\u7136\u8c37\u6b4c\u62fc\u97f3\u548cfcitx-rime\u90fd\u8868\u73b0\u5f97\u4e0d\u9519\uff0c\u4f46\u662f\u9ed8\u8ba4\u7684 UI \u5b9e\u5728\u6709\u70b9\u4e11\uff0c\u770b\u5230 kimpanel \u4f1a\u6bd4\u8f83\u597d\u770b\uff0c\u60f3\u8bd5\u4e00\u8bd5\uff0c\u91c7\u7528 gnome-shell \u5b89\u88c5\uff0c\u4f46\u662f\u7adf\u7136 no popup window\uff0c\u867d\u653e\u5f03\u3002</p> <p>ibus-rime (Currently using)</p> <p>\u867d\u7136 kimpanel \u884c\u4e0d\u901a\uff0c\u4f46\u662f wengxt \u7684\u56de\u7b54\u8ba9\u6211\u610f\u8bc6\u5230\u5174\u8bb8 ibus \u53ef\u4ee5\u8bd5\u4e00\u8bd5\u3002</p> <p>\u6700\u5f00\u59cb\u7528 ubuntu \u7684\u65f6\u5019\u7528\u8fc7\u4e00\u6bb5\u65f6\u95f4 ibus\uff0c\u90a3\u65f6\u5e94\u8be5\u8fd8\u662f\u5728 14.04 \u7684\u673a\u5b50\u4e0a\uff0c\u786e\u5b9e\u4e0d\u592a\u597d\u7528\uff0c\u540e\u6765\u4e00\u76f4\u6362\u6210\u4e86 fcitx\u3002\u4e0d\u8fc7\u73b0\u5728\u7248\u672c\u5df2\u7ecf 18.04 \u4e86\uff0c\u5174\u8bb8\u4f1a\u597d\u70b9\uff0c\u800c\u4e14\u6bd4\u8f83\u559c\u6b22\u8fd9\u79cd ui \u8ddf\u7cfb\u7edf\u5f88\u914d\u7684\u611f\u89c9\u3002</p> <p></p> <p>\u4f46\u662f\u660e\u663e\u611f\u89c9\u8fde\u7eed\u529f\u80fd\u786e\u5b9e\u8fd8\u4e0d\u8ddf\u591f\u597d\u3002\u53e6\u5916\u6709\u4e2a\u95ee\u9898\u662f\uff0c\u5728\u6d4f\u89c8\u5668\u6216\u8005 libreoffice \u4e2d\u8f93\u5165\u65f6\uff0c\u5907\u9009\u6846\u603b\u5728\u5de6\u4e0b\u89d2\uff0c\u89e3\u51b3\u65b9\u6848\u4e3a</p> <pre><code>$ sudo apt install ibus-gtk\n</code></pre> <p>\u56e0\u4e3a rime \u672c\u8eab\u5c31\u662f ibus \u7684\uff0c\u800c\u4e14\u5728 fcitx \u73af\u5883\u4e0b\u4f53\u9a8c\u6548\u679c\u786e\u5b9e\u4e0d\u9519\uff0c\u6240\u4ee5\u60f3\u8bd5\u8bd5 ibus-rime\u3002</p> <pre><code>$ sudo apt-get install ibus-rime\n</code></pre> <p>\u56e0\u4e3a ibus \u662f\u7cfb\u7edf\u9ed8\u8ba4\u7684\uff0c\u6240\u4ee5\u5176\u4e0d\u50cf fcitx \u6709\u5355\u72ec\u7684\u914d\u7f6e\u6846\uff0c\u800c\u662f\u76f4\u63a5\u5728\u7cfb\u7edf\u8bbe\u7f6e\u7684 \u201cRegion &amp; Language\u201d \u4e2d\u8fdb\u884c\u8bbe\u7f6e\uff0c\u6dfb\u52a0 \u201cInput Source\u201d \u5373\u53ef\u3002</p> <p>Tips:</p> <ul> <li>\u8f93\u5165\u5916\u56fd\u59d3\u540d\u4e2d\u7684\u70b9\uff1a\u4e2d\u6587\u8f93\u5165\u6cd5\u72b6\u6001\u4e0b <code>Shift + \\</code></li> <li>\u81ea\u5b9a\u4e49\u5feb\u6377\u952e\uff0c\u53d6\u6d88 <code>Ctrl + `` \u7684\u5feb\u6377\u952e\uff0c\u5728</code>~/.config/ibus/rime<code>\u65b0\u5efa\u6587\u4ef6</code>default.custom.yaml`\uff0c\u7136\u540e\u5199\u5165</li> </ul> <pre><code>patch:\n\"switcher/hotkeys\":  # \u9019\u500b\u5217\u8868\u88cf\u6bcf\u9805\u5b9a\u7fa9\u4e00\u500b\u5feb\u6377\u9375\uff0c\u4f7f\u54ea\u500b\u90fd\u4e2d\n- F4\n</code></pre> <p>\u5176\u5b9e\u4e5f\u5c31\u662f\u5220\u53bb <code>Control+grave</code>\uff0c\u8be6\u89c1 \u4e00\u4f8b\u3001\u5b9a\u88fd\u559a\u51fa\u65b9\u6848\u9078\u55ae\u7684\u5feb\u6377\u9375\u3002\u4fee\u6539\u5b8c\u6210\u540e\u9700\u8981\u70b9\u51fb\u53f3\u4e0a\u89d2\u8f93\u5165\u6cd5\u83dc\u5355\u4e2d\u7684 \u201c\u90e8\u7f72\u201d\u3002</p> <ul> <li>\u8f93\u5165\u7279\u6b8a\u5b57\u7b26\uff08\u6bd4\u5982\u5e26\u58f0\u8c03\u7684\u62fc\u97f3\u7b26\u53f7\uff09\uff1a\u901a\u8fc7 F4 \u5207\u6362\u81f3 \u201c\u6719\u6708\u62fc\u97f3\u201d\uff0c\u7136\u540e\u6309 \u201c/py\u201d \u4fbf\u51fa\u73b0\u5e26\u58f0\u8c03\u7684\u62fc\u97f3\u5b57\u7b26\u3002\u66f4\u4e00\u822c\u5730\uff0c\u5bf9\u4e8e\u5176\u5b83\u7279\u6b8a\u7b26\u53f7\uff0c\u6839\u636e\u914d\u7f6e\u6587\u4ef6 <code>~/.config/ibus/rime/symbols.yaml</code> \u7684\u5b9a\u4e49\u8fdb\u884c\u8f93\u5165\u3002</li> </ul>"},{"location":"Linux/software/#kazam","title":"Kazam","text":"<p>Ubuntu \u4e0b kazam \u5f55\u5c4f \u6ca1\u58f0\u97f3\u89e3\u51b3\u65b9\u6848</p> <p>http://www.cnblogs.com/xn\u2013gzr/p/6195317.html</p> video format: cannot open in Windows <p>solution</p> <pre><code>ffmpeg -i in.mp4 -pix_fmt yuv420p -c:a copy -movflags +faststart out.mp4\n</code></pre> <p>refer to convert KAZAM video file to a file, playable in windows media player</p>"},{"location":"Linux/software/#ksnip","title":"ksnip","text":"<p>Info</p> <p>Post: 2021-10-02 10:54:23</p> <p>Since <code>shutter</code> has stopped developing, and it seems not friendly on Ubuntu 20.04, find the alternative, Ksnip</p> <p>Install it via <code>snap</code>,</p> <pre><code>~$ sudo apt-get install ksnip\n[sudo] password for weiya: \nReading package lists... Done\nBuilding dependency tree       \nReading state information... Done\n\nNo apt package \"ksnip\", but there is a snap with that name.\nTry \"snap install ksnip\"\n\nE: Unable to locate package ksnip\n~$ snap install ksnip\nksnip 1.9.1 from Damir Porobic (dporobic) installed\n</code></pre> <p>But note that it cannot access the external disk drive as in Okular. Hopefully, use the following line</p> <pre><code>snap connect ksnip:removable-media\n</code></pre> <p>can enable the access to external disk.</p> <p>Generally, it requires the software shipped with <code>removable-media</code> plug, as mentioned in How to get access to USB-storage from an application installed as Snap? - Ask Ubuntu</p>"},{"location":"Linux/software/#nautilus","title":"nautilus","text":"<p>It is a file manager for GNOME.</p> Template: new document in right click menu <p>Surprisingly, no \u201cnew document\u201d in the right-click menu on Ubuntu 18.04, then I found the post which also mentioned this inconvenience, and it gives a wonderful solution. Use <code>Templates</code>!! Never use this folder before!</p> <p>Just create an empty file, say <code>README.md</code>, then there will be a <code>New Document</code> in the right-click menu.</p> <p>Also check the official documentation on <code>Templates</code></p> <p>A file template can be a document of any type with the formatting or content you would like to reuse. </p> Google Drive <p>\u77ed\u6682\u5c1d\u8bd5\u8fc7\uff0c\u4f46\u5df2\u5f03\u7528\u3002</p> <p>\u53ef\u4ee5\u6dfb\u52a0 Google Drive \u7684\u5e10\u53f7\uff0c\u4ece\u800c\u76f4\u63a5\u5728\u6587\u4ef6\u7ba1\u7406\u7cfb\u7edf\u4e2d\u8bbf\u95ee Google Drive \u7684\u5185\u5bb9\u3002\u53e6\u89c1 </p>"},{"location":"Linux/software/#octave","title":"Octave","text":"<p>\u53c2\u8003Octave for Debian systems</p> <p>\u53e6\u5916\u5e2e\u52a9\u6587\u6863\u89c1GNU Octave</p>"},{"location":"Linux/software/#okular","title":"Okular","text":"Installation via snap vs apt <p>\u5f53\u521d\u4f7f\u7528 Ubuntu 16.04 \u65f6\uff0cOkular \u662f\u901a\u8fc7 snap \u5b89\u88c5\u7684\uff0c\u53ef\u80fd\u53c2\u8003\u4e86\u8fd9\u4e2a?</p> <pre><code>sudo snap install okular\n</code></pre> <p>\u4f46\u662f\u66f4\u65b0\u5230 Ubuntu 18.04 \u540e\uff0c\u53d1\u73b0\u5728\u79fb\u52a8\u786c\u76d8\u7684\u6587\u6863\u6253\u4e0d\u5f00\uff0c\u800c\u4e4b\u524d\u6ca1\u78b0\u5230\u8fc7\u8fd9\u6837\u7684\u95ee\u9898\uff0c\u4e00\u5f00\u59cb\u8fd8\u4ee5\u4e3a\u662f\u79fb\u52a8\u786c\u76d8\u547d\u540d\u95ee\u9898\uff0c\u4e4b\u524d\u66fe\u7ecf\u78b0\u5230\u8fc7\u67d0\u4e2a\u7a0b\u5e8f\uff08\u5fd8\u8bb0\u4e86\uff09\u4e0d\u5141\u8bb8\u8def\u5f84\u5b58\u5728\u7a7a\u683c\uff0c\u800c\u79fb\u52a8\u786c\u76d8\u9ed8\u8ba4\u540d\u5b57\u6709\u7a7a\u683c\uff0c\u4e8e\u662f\u66fe\u7ecf\u66f4\u6539\u8fc7\u540d\u5b57\uff08\u5fd8\u8bb0\u4e86\u600e\u4e48\u66f4\u6539\uff09\u3002\u539f\u672c\u4ee5\u4e3a\u53ef\u80fd\u66f4\u65b0\u7cfb\u7edf\u4f7f\u5f97\u8fd9\u4e2a\u66f4\u6539\u5931\u6548\u4e86\uff0c\u8fd8\u60f3\u7740\u518d\u627e\u627e\u600e\u4e48\u66f4\u6539\uff0c\u4f46\u662f\u627e\u5230\u4e00\u5806\u600e\u4e48\u66f4\u6539\u5377\u6807\u540d\u7684\uff0c\u6700\u540e\u624d\u53d1\u73b0\u8def\u5f84\u4e2d\u540d\u5b57\u786e\u5b9e\u5e94\u8be5\u66f4\u6539\u6210\u529f\u4e86\u3002</p> <p>\u6240\u4ee5\u95ee\u9898\u8fd8\u662f\u56de\u5230 okular \u672c\u8eab\uff0c\u901a\u8fc7 snap \u548c apt \u5b89\u88c5\u662f\u4e24\u4e2a\u4e0d\u540c\u7684\u7248\u672c\uff0c\u56fe\u6807\u4e5f\u6709\u70b9\u5dee\u5f02\uff0c\u7136\u540e\u53d1\u73b0\u4e5f\u6709\u4eba\u8ddf\u6211\u6709\u540c\u6837\u7684\u95ee\u9898\uff0c\u6709\u4eba\u56de\u590d\u8bf4</p> <p>Okular does not support removable media while installed as Snap.</p> <p>\u4e8e\u662f\u5378\u6389 snap \u7248\u7684 okular\uff0c\u8f6c\u800c\u5b89\u88c5 apt \u7248\u672c\u7684\uff0c</p> <pre><code>sudo apt-get install okular\n</code></pre> <p>\u7c7b\u4f3c\u5730\uff0c\u901a\u8fc7 snap \u5b89\u88c5\u7684 <code>gimp</code> \u4e0d\u80fd\u6253\u5f00\u79fb\u52a8\u786c\u76d8\u4e2d\u7684\u6587\u4ef6\uff0c\u4f46\u662f\u5982\u679c\u6362\u6210 apt-get \u5b89\u88c5\u7684\uff0c\u5219\u53c8\u4e0d\u652f\u6301 <code>.heic</code> \u6587\u4ef6\u683c\u5f0f\u3002</p> <p>\u53d1\u73b0\u6709\u4e9b\u56fe\u6807\u4e0d\u80fd\u6b63\u5e38\u663e\u793a\uff0c\u7f51\u4e0a\u4e5f\u627e\u5230\u4e86\u7c7b\u4f3c\u7684\u95ee\u9898\uff0c</p> <ul> <li>KDE application icon not displayed in Ubuntu</li> <li>State of Okular in Ubuntu 17.10?</li> </ul> <p>\u5c1d\u8bd5\u4e86\u5176\u4e2d\u7684\u89e3\u51b3\u65b9\u6848\uff0c\u4f46\u5747\u672a\u6210\u529f\uff0c\u6700\u540e\u7684\u89e3\u51b3\u65b9\u6848\u662f navigation panel icons missing on standard install of 17.04</p> <pre><code>As a workaround, what worked for me was:\n\n$ sudo apt install systemsettings kde-config-gtk-style kde-config-gtk-style-preview oxygen-icon-theme\n\n* systemsettings for the app systemsettings5;\n\n* kde-config-gtk-style enables the Appearance module in systemsettings5;\n\n* kde-config-gtk-style-preview allows previewing the themes without restarting the GTK applications;\n\n* oxygen-icon-theme is an alternative theme to use in KDE applications.\n\nThen, run systemsettings5, click on Application Style, select Oxygen as a Fallback theme, click on Apply.\n</code></pre> <p>\u6700\u540e\u6211\u7684\u914d\u7f6e\u662f</p> <p></p> <p>\u53ef\u4ee5\u5c1d\u8bd5\u4e0d\u540c\u914d\u7f6e\uff0c\u56e0\u4e3a\u521a\u5f00\u59cb\u6253\u5f00\u7684\uff0c\u4f3c\u4e4e\u5e76\u4e0d\u662f\u4e4b\u524d\u7cfb\u7edf\u7684\u914d\u7f6e\u3002</p> latex in annotation <p>okular \u7684 note \u529f\u80fd\u652f\u6301 LaTeX\uff0c\u5f53\u8f93\u5165 <code>$$...$$</code> \u65f6\u4f1a\u63d0\u793a\u8981\u4e0d\u8981\u8f6c\u6362\u4e3a latex\uff0c\u70b9\u51fb\u540e\u4f46\u662f\u62a5\u9519\uff0c</p> <pre><code>latex is not executable\n</code></pre> <p>\u6ce8\u610f\u5230 <code>latex</code> \u7684 PATH \u662f\u5b9a\u4e49\u5728 <code>.bashrc</code> \u4e2d\uff0c\u800c\u901a\u8fc7 zotero \u8c03\u7528 okular \u65f6\u5e76\u4e0d\u4f1a source <code>.bashrc</code>\uff0c\u53ea\u6709\u901a\u8fc7 bash shell \u8c03\u7528\u7684\u7a0b\u5e8f\u91c7\u7528 source \u5230 <code>.bashrc</code>\uff0c\u4e5f\u5c31\u662f\u5728\u7ec8\u7aef\u4e2d\u8c03\u7528 okular \u65f6\uff0clatex \u663e\u793a\u6b63\u5e38\u3002</p> <p>\u7814\u7a76\u56fe\u5f62\u754c\u9762\u7a0b\u5e8f\u8c03\u7528 path \u7684\u673a\u5236\u4f3c\u4e4e\u662f\u4e00\u79cd\u89e3\u51b3\u65b9\u6848\uff0c\u4f46\u89c9\u5f97\u53ef\u80fd\u8fc7\u4e8e\u590d\u6742\uff0c\u5176\u5b9e\u4e4b\u524d\u5728 atom \u4e2d\u4e5f\u51fa\u73b0\u8fc7\u7c7b\u4f3c\u7684\u95ee\u9898\u3002\u53ef\u80fd\u7684\u65b9\u6848\u662f\u5728 <code>.profile</code> \u4e2d\u6dfb\u52a0 PATH\uff0c\u53ef\u80fd\u6709\u7528\u7684\u53c2\u8003\u535a\u5ba2\u3002</p> <p>\u4e8e\u662f\u6211\u91c7\u7528\u66f4\u7b80\u5355\u7684\u65b9\u6848\uff0c\u5728 <code>/usr/bin</code> \u4e2d\u6dfb\u52a0 <code>latex</code> \u7684 soft link\uff0c\u6dfb\u52a0\u540e\u62a5\u4e86\u65b0\u9519\uff0c</p> <pre><code>dvipng is not executable\n</code></pre> <p>\u4f46\u81f3\u5c11\u8bc1\u660e\u8fd9\u6761\u601d\u8def\u662f\u53ef\u884c\u7684\uff0c\u4e8e\u662f\u7ee7\u7eed\u6dfb\u52a0 <code>dvipng</code> \u7684 soft link\uff0c\u6700\u540e\u89e3\u51b3\u4e86\u95ee\u9898\uff01</p> \u81ea\u5b9a\u4e49\u7b7e\u540d customized signature <p>\u53ef\u4ee5\u901a\u8fc7 <code>stamp</code> \u529f\u80fd\u81ea\u5b9a\u4e49\u7b7e\u540d\uff0c\u9996\u5148\u51c6\u5907\u597d\u7b7e\u540d\u56fe\u7247\uff0c\u7136\u540e\u4fdd\u5b58\u5230\u67d0\u4e2a\u6587\u4ef6\u5939\uff0c\u6bd4\u5982 <code>~/.kde/share/icons/signature.png</code>\uff0c\u7136\u540e\u8fdb\u5165 stamp \u7684\u914d\u7f6e\u754c\u9762\uff0c\u4e0b\u62c9\u6846\u4e2d\u76f4\u63a5\u8f93\u5165\u7b7e\u540d\u56fe\u7247\u6240\u5728\u7684\u8def\u5f84\u3002\u53c2\u8003 How to add a Signature stamp to Okular</p> <p>\u4f46\u662f\u5e76\u4e0d\u80fd\u5b58\u4e3a pdf\uff0c\u6216\u8005\u88ab\u5176\u4ed6\u8f6f\u4ef6\u770b\u5230\uff0c\u7528 Acrobat \u6253\u5f00\u4f1a\u6709\u4e2a\u6253\u53c9\u7684\u90e8\u5206\uff0c\u4f46\u662f\u770b\u4e0d\u5230\u7b7e\u540d\uff0c\u5df2\u7ecf\u88ab\u6807\u8bb0\u4e3a bug\uff0c\u4f46\u4f3c\u4e4e\u8fd8\u672a\u89e3\u51b3\u3002</p> set background color <p>set background color for visible screenshots.</p> <p>refer to Is there a pdf reader allowing me to change background color of (arXiv) pdfs?</p> remove duplicate icons <p>When opening multiple pdf files, it results duplicate icons, such as </p> <p></p> <p>The solution is </p> <ul> <li>copy the desktop file</li> </ul> <pre><code>mv /usr/share/applications/okularApplication_pdf.desktop .local/share/applications/\n</code></pre> <ul> <li>add the following line to the end</li> </ul> <pre><code>StartupWMClass=okular\n</code></pre> <p>then close all pdf files opened by okular, and re-open them, then they will be grouped into a single icon.</p> <p>Refer to </p> <ul> <li>Okular instances does not group under single icon in desktop dock on Ubuntu 17.10</li> </ul> <p>or for other software,</p> <ul> <li>Duplicate application icons in Ubuntu dock upon launch</li> </ul> <p>A by-product tip learned from the above question,</p> <ul> <li>use <code>Alt + backstick</code> can switch the same application.</li> </ul>"},{"location":"Linux/software/#onedrive","title":"OneDrive","text":"<p>In fact, the following client on Ubuntu is also in the command-line form. But usually, we refer to OneDrive as the whole of the client and the host, which is visited via a browser. </p> first try <p>xybu/onedrive-d-old, but doesn\u2019t support exchange account.</p> second try <p>skilion/onedrive, perfect!</p> <p>note that the automatic monitor would occupy much CPU, the service can be disable or enable by the following command,</p> <pre><code>~$ systemctl --user disable onedrive\nRemoved /home/weiya/.config/systemd/user/default.target.wants/onedrive.service.\n~$ systemctl --user enable onedrive\nCreated symlink /home/weiya/.config/systemd/user/default.target.wants/onedrive.service \u2192 /usr/lib/systemd/user/onedrive.service.\n</code></pre> <p>but it seems that we also need</p> <pre><code>systemctl --user start onedrive\nsystemctl --user stop onedrive\n</code></pre> fuseblk <p>\u53d1\u73b0\u4f7f\u7528 onedrive \u540c\u6b65\u6587\u4ef6\u65f6\uff0c\u6709\u65f6\u5019\u5e76\u4e0d\u80fd\u591f\u540c\u6b65\u3002\u731c\u6d4b\u53ef\u80fd\u662f\u56e0\u4e3a\u6587\u4ef6\u592a\u5c0f\uff0c\u6bd4\u5982\u6587\u4ef6\u5939 <code>test</code> \u4e2d\u4ec5\u6709 <code>test.md</code> \u6587\u4ef6\uff08\u4ec570B\uff09\uff0c\u800c\u6b64\u65f6\u67e5\u770b <code>test</code> \u5927\u5c0f\uff0c\u7adf\u7136\u4e3a 0 B\uff0c\u56e0\u4e3a\u6839\u636e\u5e38\u8bc6\uff0c\u4e00\u822c\u6587\u4ef6\u5939\u90fd\u662f 4.0k\uff0c\u6216\u8005\u6709\u65f6 8.0k \u7b49\u7b49\uff0c\u5177\u4f53\u539f\u56e0\u53c2\u8003 Why does every directory have a size 4096 bytes (4 K)?</p> <p>\u4f46\u6211\u73b0\u5728\u95ee\u9898\u662f\u6587\u4ef6\u5939\u7adf\u7136\u662f 0B\uff0c\u731c\u6d4b\u8fd9\u662f\u65e0\u6cd5\u540c\u6b65\u7684\u539f\u56e0\u3002</p> <p>\u540e\u6765\u5728\u4e0a\u8ff0\u95ee\u9898\u7684\u56de\u7b54\u7684\u8bc4\u8bba\u4e2d @Ruslan \u63d0\u5230</p> <p>@phyloflash some filesystems (e.g. NTFS) store small files in the file entries themselves (for NTFS it\u2019s in the MFT entry). This way their contents occupy zero allocation blocks, and internal fragmentation is reduced. \u2013 Ruslan Nov 2 at 9:03</p> <p>\u731c\u6d4b\u8fd9\u662f\u6587\u4ef6\u7cfb\u7edf\u7684\u539f\u56e0\uff0c\u56e0\u4e3a\u6b64\u65f6\u6587\u4ef6\u5939\u521a\u597d\u4f4d\u4e8e\u79fb\u52a8\u786c\u76d8\u4e2d\uff0c\u6240\u4ee5\u53ef\u80fd\u521a\u597d\u53d1\u751f\u4e86\u6240\u8c13\u7684 \u201cinternal fragmentation is reduced\u201d\u3002</p> <p>\u4e8e\u662f\u51c6\u5907\u67e5\u770b\u79fb\u52a8\u786c\u76d8\u7684 file system \u6765\u9a8c\u8bc1\u6211\u7684\u60f3\u6cd5\uff0c\u8fd9\u53ef\u4ee5\u901a\u8fc7 <code>df -Th</code> \u5b9e\u73b0\uff0c\u5177\u4f53\u53c2\u8003 7 Ways to Determine the File System Type in Linux (Ext2, Ext3 or Ext4)</p> <p>\u7136\u540e\u7adf\u7136\u53d1\u73b0\u5e76\u4e0d\u662f\u671f\u671b\u4e2d\u7684 NTFS\uff0c\u800c\u662f fuseblk\uff0c\u6771\u6d77\u9673\u5149\u528d\u7684\u535a\u5ba2\u4e2d\u89e3\u91ca\u9053</p> <p>fuse\u662f\u4e00\u4e2a\u7528\u6237\u7a7a\u95f4\u5b9e\u73b0\u7684\u6587\u4ef6\u7cfb\u7edf\u3002\u5185\u6838\u4e0d\u8ba4\u8bc6\u3002fuseblk\u5e94\u8be5\u5c31\u662f\u4f7f\u7528fuse\u7684block\u8bbe\u5907\u5427\uff0c\u7cfb\u7edf\u4e2d\u4e34\u65f6\u7684\u975e\u8d85\u7ea7\u7528\u6237\u7684\u8bbe\u5907\u6302\u8f7d\u597d\u50cf\u7528\u7684\u5c31\u662f\u8fd9\u4e2a\u3002</p> <p>\u6700\u540e\u53d1\u73b0\uff0conedrive \u65e0\u6cd5\u540c\u6b65\u7684\u539f\u56e0\u53ef\u80fd\u5e76\u4e0d\u662f\u56e0\u4e3a 0 byte \u7684\u6587\u4ef6\u5939\uff0c\u800c\u662f\u56e0\u4e3a\u4e0b\u9762\u7684\u547d\u540d\u89c4\u8303\uff0c\u867d\u7136\u4e0d\u662f\u9700\u8981\u540c\u6b65\u7684\u6587\u4ef6\uff0c\u800c\u662f\u4e4b\u524d\u5f88\u4e45\u7684\u6587\u4ef6\uff0c\u4f46\u53ef\u80fdonedrive\u5c31\u5728\u4e4b\u524d\u8fd9\u4e2a\u4e0d\u89c4\u8303\u547d\u540d\u7684\u6587\u4ef6\u4e0a\u5d29\u6e83\u4e86\u3002</p> windows \u547d\u540d\u89c4\u8303 <p>\u5728\u4f7f\u7528 skilion/onedrive \u540c\u6b65\u65f6\uff0c\u4e00\u76f4\u4f1a\u51fa\u73b0\u78b0\u5230\u67d0\u4e2a\u6587\u4ef6\u5d29\u6e83\u3002\u67e5\u4e86\u4e00\u4e0b\u624d\u77e5\u9053\u662f\u9700\u8981\u9075\u5faa Windows \u547d\u540d\u89c4\u8303\uff0c\u5176\u4e2d\u6709\u4e24\u6761\u5f88\u91cd\u8981</p> <ul> <li>Do not assume case sensitivity. For example, consider the names OSCAR, Oscar, and oscar to be the same, even though some file systems (such as a POSIX-compliant file system) may consider them as different. Note that NTFS supports POSIX semantics for case sensitivity but this is not the default behavior.</li> <li>The following reserved characters:</li> <li>&lt; (less than)</li> <li><code>&gt;</code> (greater than)</li> <li>: (colon)</li> <li>\u201d (double quote)</li> <li>/ (forward slash)</li> <li> (backslash)</li> <li>| (vertical bar or pipe)</li> <li>? (question mark)</li> <li><code>*</code> (asterisk)</li> </ul> <p>Change to abraunegg/onedrive (Currently using)</p> <p>I found that it will automatically run after startup, actually with skilion/onedrive, sometimes it also starts automatically. Then I tried</p> <pre><code>$ sudo systemctl disable onedrive.service\nFailed to disable unit: Unit file onedrive.service does not exist.\n</code></pre> <p>and then I note that OneDrive service running as a non-root user via systemd (with notifications enabled) (Arch, Ubuntu, Debian, OpenSuSE, Fedora)</p> <p>then I tried</p> <pre><code>$ sudo systemctl disable onedrive@weiya.service\n</code></pre> <p>no error.</p> <p>Then I also tried</p> <pre><code>$ systemctl --user disable onedrive\nRemoved /home/weiya/.config/systemd/user/default.target.wants/onedrive.service.\n</code></pre> <p>It seems OK now, and pay attention to the difference of the above similar commands.</p> <p>sync shared folder</p> <p>refer to How to configure OneDrive Business Shared Folder Sync for full instruction.</p> <pre><code># list remote shared folder\n$ onedrive --list-shared-folders\n# configure folder to share\n$ vi ~/.config/onedrive/business_shared_folders\n# perform sync (--resync is needed when the config file has been updated)\n$ onedrive --synchronize --sync-shared-folders [--resync]\n</code></pre>"},{"location":"Linux/software/#openshot","title":"OpenShot","text":"<p>Info</p> <p>Post on: 2022-07-01 23:48:04</p> <p>Homepage: https://www.openshot.org/en/user-guide/</p> <p>Install with the official instruction:</p> <pre><code>sudo add-apt-repository ppa:openshot.developers/ppa\nsudo apt update\nsudo apt install openshot-qt python3-openshot\n</code></pre>"},{"location":"Linux/software/#peek","title":"Peek","text":"<p>homepage, easy to use, can convert to gif.</p>"},{"location":"Linux/software/#planner","title":"Planner","text":"<p>follow instruction in https://flathub.org/apps/details/com.github.alainm23.planner</p> <p>first of all, configure flatpak</p> <pre><code>sudo apt install flatpak\nflatpak remote-add --if-not-exists flathub https://flathub.org/repo/flathub.flatpakrepo\n</code></pre> <p>then install planner via</p> <pre><code>flatpak install flathub com.github.alainm23.planner\n</code></pre> <p>run it by</p> <pre><code>flatpak run com.github.alainm23.planner\n</code></pre>"},{"location":"Linux/software/#rhythmbox","title":"Rhythmbox","text":"<p>Tip</p> <ul> <li>2022-12-07 15:25:36\uff1a\u4e0d\u7528\u624b\u52a8 import\uff0c\u53ea\u8981\u5c06\u6b4c\u66f2\u90fd\u653e\u5728\u6307\u5b9a\u7684\u76ee\u5f55\uff0c\u5e76\u52fe\u9009\u81ea\u52a8\u6dfb\u52a0\u65b0\u6b4c\u66f2\u3002\u540c\u65f6\u53d1\u73b0\u4e00\u4e2a\u5c0f bug\uff0c\u5982\u679c\u91cd\u65b0\u7528\u540c\u4e00\u6587\u4ef6\u5939\u7684\u4e0d\u540c\u8def\u5f84\u540d\uff08ln -s\uff09\uff0c\u5219\u4f1a\u91cd\u590d\u6dfb\u52a0\u3002</li> </ul> \u4fee\u6539\u97f3\u4e50\u6587\u4ef6\u7684 Properties <p>\u53f3\u952e\u4f3c\u4e4e\u53ef\u4ee5\u4fee\u6539\u6b4c\u66f2\u7684 properties\uff0c\u5176\u4e2d\u5305\u62ec artist\uff0calbum\uff0c\u4f46\u662f\u5374\u4e0d\u80fd\u7f16\u8f91\uff0c\u7136\u540e\u67e5\u4e86\u4e00\u4e0b\uff0c\u662f\u6743\u9650\u95ee\u9898\uff0c</p> <pre><code>chmod u+w CloudMusic/ -R\n</code></pre> <p>where more details about <code>u+w</code> can be found in the manual.</p> <pre><code>$ man chmod\n\nThe format of a symbolic mode is [ugoa...][[-+=][perms...]...], where perms  is\neither  zero  or  more letters from the set rwxXst, or a single letter from the\nset ugo.  Multiple symbolic modes can be given, separated by commas.\n\nA combination of the letters ugoa controls which users' access to the file will\nbe  changed:  the  user  who  owns it (u), other users in the file's group (g),\nother users not in the file's group (o), or all users (a).  If  none  of  these\nare  given,  the  effect  is as if (a) were given, but bits that are set in the\numask are not affected.\n</code></pre> <p>Tip</p> <p><code>exiftool music.mp3</code> \u53ef\u4ee5\u67e5\u770b meta info\uff0c\u800c\u4e14\u53ef\u4ee5\u4fee\u6539\u3002</p> \u4fee\u6539 .wav \u6587\u4ef6\u7684 Properties <p>\u4f46\u662f\u5bf9 <code>.wav</code> \u6587\u4ef6\u4ecd\u4e0d\u80fd\u7f16\u8f91 properties\uff0c\u540e\u6765\u624d\u77e5\u9053\u5e94\u8be5\u662f wav \u4e0d\u652f\u6301 tag</p> <p>WAVs don\u2019t have tags. Trying to force them to have tags will cause them to not work as WAVs any more. Convert them to FLAC files first (which does support tags) and then tag them.</p> <p>\u4f46\u662f\u8fd8\u662f\u6709\u65b9\u6cd5\u6765\u4fee\u6539\u7684\uff0c\u6bd4\u5982 How do I edit a metadata in a WAV file?</p> <p>\u4e8e\u662f\u6211\u5c1d\u8bd5\u4e86 kid3</p> <pre><code>sudo add-apt-repository ppa:ufleisch/kid3\nsudo apt-get update\nsudo apt-get install kid3     # KDE users\n</code></pre> <p>\u4e00\u5f00\u59cb\u89c9\u5f97 <code>kid3-cli</code> \u8db3\u591f\u4e86\uff0c\u4f46\u662f\u8bd5\u4e86\u4e00\u4e0b\u611f\u89c9\u5b66\u4e60\u6210\u672c\u592a\u9ad8\uff0c\u7d22\u6027\u6362\u56de kde \u7248\u672c\u7684\u3002</p> <p>\u4f46\u662f\u4f3c\u4e4e\u5728 <code>kid3</code> \u4e2d\u4fee\u6539\u5b8c\u5e76\u6ca1\u6709\u4fe1\u606f\uff0c\u53ea\u662f\u4f1a\u628a\u5220\u53bb\u7684 genre \u4fe1\u606f\u53d8\u4e3a unknown\u3002</p>"},{"location":"Linux/software/#wav-mp3","title":"wav -&gt; mp3","text":"<p>\u53e6\u4e00\u4e2a\u65b9\u6cd5\u4fbf\u662f\u76f4\u63a5\u5c06 wav \u8f6c\u6362\u6210 mp3\uff0c\u6ce8\u610f\u5230\u5982\u679c\u76f4\u63a5\u7528 <code>ls</code> + <code>xargs</code> </p> <pre><code># keep old extension\nls -1 | grep wav | head -1 | xargs -I {} ffmpeg -i {} {}.mp3\n</code></pre> <p>\u5219\u6587\u4ef6\u540d\u540e\u7f00\u4e0d\u662f\u5f88\u597d\u76f4\u63a5\u6362\u6389\uff0c\u4e0d\u80fd\u76f4\u63a5\u5bf9 <code>{}</code> \u8fdb\u884c\u64cd\u4f5c\uff0c</p> <pre><code>find . -name \"*.wav\" -exec sh -c 'ffmpeg -i \"$1\" \"${1%.*}.mp3\"' sh {} \\;\n</code></pre> <p>\u53c2\u8003 , \u5176\u5b9e\u6709\u70b9\u76f8\u5f53\u4e8e\u628a <code>{}</code> \u5728\u4f20\u8fdb\u53bb\u7136\u540e\u5c31\u53ef\u4ee5\u7528 <code>$1</code> \u6765\u8868\u793a\u3002</p> <p>\u4f46\u662f\u91cd\u547d\u540d\u5b8c\u4e4b\u540e\uff0cRhythmbox \u5de6\u4fa7\u51fa\u73b0\u4e00\u4e2a Missing Files \u7684\u6587\u4ef6\u5939\uff0c\u91cc\u9762\u5373\u5220\u6389\u7684 <code>.wav</code> \u6587\u4ef6\u8def\u5f84\u3002\u9000\u51fa\u7136\u540e\u5220\u6389 <code>rhythmdb.xml</code> \u518d\u6253\u5f00\u5373\u53ef\uff0c\u53c2\u8003 </p> <pre><code>~/.local/share/rhythmbox$ mv rhythmdb.xml rhythmdb.xml.old\n</code></pre> <p>\u6240\u4ee5\u770b\u4e0a\u53bb\u8def\u5f84\u662f\u76f4\u63a5\u5199\u5165 <code>.xml</code> \u6587\u4ef6\u4e2d\uff0c\u6240\u4ee5\u5373\u4fbf\u4e24\u4e2a\u4e0d\u540c\u7684\u8def\u5f84\u6307\u5411\u540c\u4e00\u4e2a\u6587\u4ef6\u5939\uff0c\u4e5f\u4f1a\u88ab\u89c6\u4e3a\u4e0d\u540c\u6587\u4ef6\u5939\uff0c\u4e8e\u662f\u4fbf\u80fd\u89e3\u91ca\u4e3a\u4ec0\u4e48\u76f8\u540c\u97f3\u4e50\u6587\u4ef6\u88ab\u91cd\u590d\u5bfc\u5165\u3002</p>"},{"location":"Linux/software/#synergy","title":"Synergy","text":"hotkey for locking client\u2019s screen from host <p>With Host@t460p(Ubuntu 18.04) and Client@STAPC(Win 10), the hotkey <code>Win + L</code> for locking the screen does not work on the client, but the hotkey would work if I use its keyboard. </p> <p>An ideal solution would be simultaneously to lock the key via the same hotkey, as someone discussed in Synergy: Is there a way to push Win+L to all screens, not just the server?</p> <p>First of all, I become to use the custom behavior by defining some keystrokes via</p> <p><code>Configure Server</code> -&gt; <code>Hotkeys</code> -&gt; <code>New Hotkey</code> -&gt; <code>New its associated Actions</code></p> <p>A complete instruction can be found in Add a keyboard shortcut to change to different screens</p> <p>Since <code>Win+L</code> fails on the client, try to define a new shortcut. Following the 4th method in How to Quickly Lock Screen In Windows 10,</p> <p><code>Right Click</code> -&gt; <code>New Shortcut</code> -&gt; <code>C:\\Windows\\System32\\rundll32.exe user32.dll,LockWorkStation</code></p> <p>Then we can lock the screen after clicking this shortcut, but currently no associated hotkey. Right click to edit the properties, there is a shortcut key, which by default assumes the key starts with <code>Ctrl + Alt</code>, so just press the remaining key, say <code>L</code>. However, <code>Ctrl + Alt + L</code> does not work. </p> <p>Instead, <code>Ctrl + Alt + 2</code> works.</p> <p>Then back to the host configuration. Bind the follow two keys,</p> <pre><code>keystroke(Control+Alt+l) = keystroke(Alt+Control+2,stapc220)\n</code></pre> <p>then I can lock the screen of client via <code>Ctrl+Alt+l</code>. </p> <p>Since the above binding can specify the machine, I am thinking it might work if I bind <code>Ctrl+Alt+l</code> to <code>Meta+l</code> on the host. However, it failed, and it causes the screen of client cannot be locked.</p> <p>Anyway, the current solution seems already convinent.</p>"},{"location":"Linux/software/#terminator","title":"Terminator","text":"<p>Shortcuts</p> <p>the shortcut list can be found in <code>Right Click &gt;  Preferences &gt; Keybindings</code>, several more common</p> <ul> <li>resize: <code>Shift+Ctrl+Left/Right/Down/Up</code></li> </ul> Ctrl + Shift + E not work <ul> <li><code>Ctrl + Shift + E</code> not work in Ubuntu 20.04 + ibus. The reason is that ibus has define such shortcut for emoji annotation. So just type <code>ibus-setup</code>, then switch to Emoji tab and delete the shortcut. </li> </ul> <p></p> hostname \u7684\u989c\u8272 <ul> <li>hostname \u7684\u989c\u8272, \u53bb\u6389 <code>.bashrc</code> \u4e2d</li> </ul> <pre><code>##force_color_prompt=yes\n</code></pre> <p>\u7684\u6ce8\u91ca</p> hide hostname <ul> <li>hide hostname, <code>weiya@weiya-ThinkPad-T460p:</code></li> </ul> <p>edit the following line in the <code>.bashrc</code> as follows</p> <pre><code>if [ \"$color_prompt\" = yes ]; then\n#PS1='${debian_chroot:+($debian_chroot)}\\[\\033[01;32m\\]\\u@\\h\\[\\033[00m\\]:\\[\\033[01;34m\\]\\w\\[\\033[00m\\]\\$ '\nPS1='\\[\\033[01;34m\\]\\w\\[\\033[00m\\]\\$ '\nelse\nPS1='${debian_chroot:+($debian_chroot)}\\u@\\h:\\w\\$ '\nfi\n</code></pre> <p>before hide and after hide </p> <p></p> \u80cc\u666f\u8272 <ul> <li>\u5404\u79cd\u989c\u8272\uff0c\u5982\u80cc\u666f\u8272\uff0c\u76f4\u63a5\u53f3\u952e\u8bbe\u7f6e\uff0c\u53f3\u952e\u8bbe\u7f6e\u5b8c\u6210\u4e4b\u540e\u4fbf\u6709\u4e86\u4e00\u4e2a\u914d\u7f6e\u6587\u4ef6\uff0c<code>~/.config/terminator/config</code>.</li> </ul>"},{"location":"Linux/software/#thunderbird","title":"Thunderbird","text":"<ul> <li>\u6dfb\u52a0\u5b66\u6821\u90ae\u7bb1\u65f6\uff0c\u5fc5\u987b\u91c7\u7528\u5b66\u53f7\u5f62\u5f0f\u7684\u90ae\u7bb1\uff0c\u4e0d\u8981\u7528 alias \u5f62\u5f0f\u7684\uff0calias \u9a8c\u8bc1\u4f1a\u51fa\u95ee\u9898\u3002</li> </ul> Esther \u7684 To \u4e3a\u5565\u662f\u5979\u81ea\u5df1\uff1fBcc\uff1f <p>Post: 2022-04-02 18:12:48</p> <p>\u6700\u8fd1\u5c0f\u4f19\u4f34\u4eec\u5728\u8ba8\u8bba\u4e3a\u4ec0\u4e48 Esther \u7fa4\u53d1\u7684\u90ae\u4ef6\u7684 <code>To</code> \u662f\u5979\u81ea\u5df1\u7684\u90ae\u7bb1\u3002\u901a\u8fc7 <code>More &gt; View Source</code> \u67e5\u770b\u90ae\u4ef6\u6e90\u7801\u65f6\u53d1\u73b0\uff0c\u6709\u4e2a <code>Delivered-To</code> \u5b57\u6bb5\uff0c\u6070\u597d\u662f grad \u7684\u90ae\u7bb1\u3002\u4e8e\u662f\u731c\u60f3\u600e\u4e48\u5b9e\u73b0\u8fd9\u79cd\u6548\u679c\uff0cbcc\uff1f</p> <p>\u4e8e\u662f\u7b80\u5355\u505a\u4e86\u4e2a\u5b9e\u9a8c\uff0c\u4ece A \u90ae\u7bb1\u53d1\u7ed9 B \u5e76\u5bc6\u9001\u7ed9 C</p> <pre><code>From: A\nTO: B\nBcc: C\n</code></pre> <p>\u5728 B \u7aef\u67e5\u770b\u6e90\u7801\u53d1\u73b0\u53ea\u6709 <code>TO: B</code>\uff0c\u800c\u5728 C \u7aef\u65e2\u6709 <code>Delivered-To: C</code>\uff0c\u4e5f\u6709 <code>TO: B</code>\u3002</p> <p>\u6240\u4ee5 Esther \u4e00\u79cd\u53ef\u80fd\u7684\u539f\u56e0\u662f\u5728 bcc \u4e2d\u8f93\u5165 grad \u7684\u90ae\u7bb1\uff0c\u5e76\u53d1\u9001\u7ed9\u81ea\u5df1\u3002\u4f46\u611f\u89c9\u8fd9\u6837\u5f88\u5947\u602a\uff0c\u53ef\u80fd\u6709\u5176\u5b83\u81ea\u52a8\u8bbe\u7f6e\uff0c\u5177\u4f53\u4e0d\u5f97\u800c\u77e5\u3002\u5173\u4e8e <code>Delivered-To</code> \u7684\u8ba8\u8bba\u53ef\u53e6\u89c1 </p> Deactive Account without Deleting <p>Since the visiting Harvard email account has expired, it will always pop up the log-in window. But I do not want to delete the account, and just want to avoid the automatically log-in, so I try to set to never check new message as follows,</p> <p></p> <p>refer to deactivate email account without deleting | Thunderbird Support Forum</p> <p>Special Gmail</p> <p>\u4e0e\u5176\u5b83\u90ae\u7bb1\u5e10\u53f7\u4e0d\u540c\u7684\u662f\uff0c\u6dfb\u52a0 Gmail \u540e\u53ea\u6709 Inbox \u548c Trash\uff0c\u800c\u6ca1\u6709 Sent, Drafts \u7b49\uff0c\u4e0d\u8fc7\u6709\u4e2a <code>[Gmail]</code> \u6587\u4ef6\u5939\uff0c\u91cc\u9762\u7684\u5b50\u6587\u4ef6\u4fbf\u6709\u53d1\u4ef6\u7bb1\u7b49\u7b49\u3002\u8fd9\u79cd\u7279\u6b8a\u76ee\u5f55\u7ed3\u6784\u662f\u56e0\u4e3a\u5bf9 Gmail \u7684\u4e0d\u540c\u5904\u7406\u65b9\u5f0f\uff0c\u8be6\u89c1 Special Gmail</p> <p>Proxy for Gmail in Thunderbird</p> <p>Setting a proxy for the thunderbird is quite straigtforward, but not all mail accounts need the proxy, only gmail in my case. I am considering if it is possible to set up a proxy for gmail separately. Then I found that setting proxy by PAC file might work inspired by Gmail imap/smtp domains to connect via proxy, since PAC file can customize the visited url.</p> <p>Then I need to learn how to write a PAC file, although later I directly export the rules written in SwitchyOmega to a PAC file.</p> <p>Once PAC is done, I need to write its location url, seems impossible to directly write a local path. One easy way is to open port 80 to access my laptop, which maybe need apache or nginx, but both of them are overqualified. A simple way is</p> <pre><code>sudo python -m SimpleHTTPServer 80\n</code></pre> <p>found inOpen port 80 on Ubuntu server</p> <p>Upgrade 68 to 78</p> <p>\u6700\u8fd1\uff0c\u5b66\u6821\u5f3a\u5236\u8981\u6c42\u4f7f\u7528 2FA\uff0c\u4f46\u662f\u6839\u636e\u4e4b\u524d\u77ed\u6682\u7684\u4f7f\u7528\u7ecf\u9a8c\uff0c2FA \u5bf9\u90ae\u7bb1\u5ba2\u6237\u7aef\u7684\u652f\u6301\u5f88\u6709\u9650\uff0c\u6bd4\u5982\u5c31\u4e0d\u652f\u6301 Ubuntu \u7cfb\u7edf\u4e0a\u7684 thunderbird\uff0c\u6240\u4ee5\u90a3\u6b21\u7528\u5b8c\u4e4b\u540e\u7acb\u9a6c\u53d1\u90ae\u4ef6\u7533\u8bf7\u6ce8\u9500\uff08\u56e0\u4e3a 2FA \u4e00\u65e6\u8bbe\u5b9a\u81ea\u5df1\u65e0\u6cd5\u53d6\u6d88\uff09\u3002</p> <p>\u4e0d\u8fc7\u5e78\u8fd0\u7684\u662f\uff0c\u770b\u5230\u6700\u8fd1\u65b0\u7248\u672c\u7684 thunderbird \u652f\u6301 Oauth2\uff0c\u6bd4\u5982 Thunderbird 77 supports IMAP using OAuth2 on Office 365. See https://bugzilla.mozilla.org/show_bug.cgi?id=1528136 for more details. Office 365 (Thunderbird) - Configure Modern Authentication</p> <p>\u6240\u4ee5\u51c6\u5907\u8bd5\u8bd5\u4e0b\u8f7d\u65b0\u7248\u672c\uff0c\u56e0\u4e3a\u4f3c\u4e4e\u4e0d\u80fd\u76f4\u63a5\u7b80\u5355\u7684 upgrade \u5347\u7ea7\u5230 78.</p> <p>\u4e00\u5f00\u59cb\u586b\u9519\u4e86\u670d\u52a1\u5668\uff0c\u6f0f\u6389\u4e86 <code>outlook.office365.com</code> \u4e2d\u7684 <code>365</code>\uff0c\u8fd8\u4ee5\u4e3a 78 \u4e0d\u884c\uff0c\u6bd5\u7adf\u524d\u9762\u4e24\u4e2a\u7ed9\u7684\u94fe\u63a5\u8bf4\u662f 77beta\uff0c\u4e07\u4e00 beta \u7684\u529f\u80fd\u53c8\u88ab\u780d\u6389\u4e86\u5462\uff1a\uff08\u540e\u6765\u53d1\u73b0\u662f\u675e\u4eba\u5fe7\u5929</p> <p>\u5c06\u9a8c\u8bc1\u65b9\u6cd5\u6539\u4e3a <code>Oauth2</code>\uff0c\u7136\u540e\u91cd\u542f\u4fbf\u8df3\u51fa\u4e86\u719f\u6089\u7684\u767b\u5f55\u754c\u9762\uff0c\u5927\u529f\u544a\u6210\uff01</p> <p>\u4e0d\u8fc7\u6709\u4e2a\u95ee\u9898\u662f\uff0c\u8fd9\u4e24\u4e2a\u7248\u672c\u662f\u540c\u65f6\u5b58\u5728\u7684\uff0cprofile \u662f\u4e0d\u5171\u7528\u7684\uff0c\u6211\u5982\u679c\u8981\u7528 78\uff0c\u8fd8\u9700\u8981\u628a\u5176\u4ed6\u90ae\u7bb1\u91cd\u65b0\u8bbe\u7f6e\u4e00\u904d\uff0c\u5df2\u7ecf\u8ba2\u9605\u8fc7\u7684 feeds\u3002\u6b64\u5904\u5e94\u6709\u7b80\u5355\u65b9\u6cd5\uff0c</p> <p>\u5173\u95ed\u6240\u6709 thunderbird\uff0c\u7136\u540e\u542f\u52a8 78 \u65f6\u52a0\u4e0a <code>-Profilemanager</code></p> <pre><code>thunderbird -Profilemanager\n</code></pre> <p>\u8fd9\u65f6\u4f1a\u8981\u6c42\u9009\u62e9 profile\uff0c\u53ea\u9700\u8981\u9009\u62e9 68 \u5bf9\u5e94\u7684 profile \u5c31\u597d\u4e86\u3002\u9009\u597d\u4e4b\u540e\uff0c\u518d\u91cd\u65b0\u914d\u7f6e\u4e0b\u5b66\u6821\u90ae\u7bb1\u7684\uff0c\u5219\u5927\u529f\u544a\u6210\uff01</p> <p>Train adaptive junk filter</p> <p>more instructions: Thunderbird and Junk / Spam Messages</p>"},{"location":"Linux/software/#todesk","title":"ToDesk","text":"<p>Homepage: https://www.todesk.com/download_detail.html</p> <p>Currently, the Linux version is in Beta.</p>"},{"location":"Linux/software/#transmission","title":"Transmission","text":"<ul> <li>Configuring Transmission for faster download - Ask Ubuntu</li> <li>Transmission says port is closed but seeding is happening - Ask Ubuntu</li> </ul>"},{"location":"Linux/software/#vs-code","title":"VS Code","text":"<p>Shortcuts</p> <p>Official Shortcut Table</p> <p>Other shortcuts:</p> <ul> <li>switch to next functions: <code>Ctrl + Shift + .</code>, refer to Go to next method shortcut in VSCode</li> <li>switch terminals, <code>Ctrl+Up/Down</code>, refer to How to switch between terminals in Visual Studio Code?</li> </ul> <p>Edit Multiple Line Simultaneously</p> <p>Press <code>Shift + Alt + Down/Up</code> to insert cursors below or up, after inserting <code>&gt;</code>, then press <code>Esc</code> to exit. </p> <p></p> <p>Fail to open terminal</p> <p>\u9996\u5148\u901a\u8fc7\u641c\u7d22\u56fe\u5f62\u754c\u9762\u767b\u5f55\uff0c\u5f39\u51fa</p> <ul> <li>resolving your shell environment is taking too long\u2026</li> <li>unable to resolve your shell environment\u2026</li> </ul> <p>\u8be6\u89c1 Resolving Shell Environment is Slow (Error, Warning)</p> <p>\u53ea\u662f\u6309\u7167\u5176\u63d0\u793a\u68c0\u67e5\u4e86 <code>~/.bashrc</code>\uff0c\u6ca1\u6709\u95ee\u9898\u3002</p> <p>\u7136\u540e\u8bd5\u7740\u5728\u547d\u4ee4\u884c\u4e2d\u8f93\u5165 <code>code</code> \u542f\u52a8\uff0c\u6b64\u65f6\u8bd5\u56fe\u6253\u5f00 terminal \u5e76\u6ca1\u6709\u4e0a\u8ff0\u4fe1\u606f\u5f39\u51fa\uff0c\u7136\u800c terminal \u8fd8\u662f\u65e0\u6cd5\u6253\u5f00\uff0c\u5728\u5f00\u542f\u65b0 terminal \u90a3\u91cc\u53ef\u4ee5\u9009\u62e9 log\uff0c\u6240\u4ee5\u5f53\u6211\u65b0\u5f00\u4e00\u4e2a terminal \u65f6\uff0c\u53d1\u73b0\u540c\u65f6\u5f39\u51fa\u4e0b\u9762\u9519\u8bef\u6d88\u606f\uff0c</p> <pre><code>[2021-03-11 10:40:29.231] [renderer1] [error] A system error occurred (EACCES: permission denied, open '/proc/1/environ'): Error: EACCES: permission denied, open '/proc/1/environ'\n</code></pre> <p>\u7136\u540e\u53d1\u73b0\u5728 terminal.integrated.inheritEnv breaks integrated terminal #76542 \u4e2d\u63d0\u5230\u4e86 enable terminal.integrated.inheritEnv \u5c31\u597d\u3002</p> Do not auto-programs in .profile <p>\u7ee7\u7eed\u4e0a\u4e2a\u95ee\u9898\u3002</p> <p>\u6253\u5f00 setting\uff0c\u7136\u540e\u76f4\u63a5\u8f93\u5165 <code>@modified</code> \u5feb\u901f\u8fdb\u5165\u66f4\u6539\u8fc7\u7684\u8bbe\u7f6e\uff0c\u5176\u4e2d\u4fbf\u6709 inheritEnv \u8fd9\u4e00\u9879\uff0cenable \u4e4b\u540e\u91cd\u65b0\u5728\u547d\u4ee4\u884c\u4e2d\u542f\u52a8 code\uff0c\u6b64\u65f6\u53ef\u4ee5\u6253\u5f00 terminal\uff0c\u4f46\u662f\u51fa\u73b0\u4e86\u4ee5\u4e0b\u4fe1\u606f</p> <pre><code>$ bind: Address already in use\nchannel_setup_fwd_listener_tcpip: cannot listen to port: 18888\nbind: Address already in use\nchannel_setup_fwd_listener_tcpip: cannot listen to port: 18889\nCould not request local forwarding.\nWarning: remote port forwarding failed for listen port 30013\nWarning: remote port forwarding failed for listen port 24800\n</code></pre> <p>\u8fd9\u662f\u4e3a\u4e86\u542f\u52a8\u65f6\u81ea\u52a8\u767b\u5f55\u670d\u52a1\u5668\u8f6c\u53d1\u7aef\u53e3\u7684\u7a0b\u5e8f\uff0c\u8fd9\u65f6\u610f\u8bc6\u5230 vscode \u5728\u542f\u52a8\u65f6\uff0c\u5e94\u8be5\u4f1a\u8c03\u7528 <code>.profile</code>\uff0c\u4f46\u662f\u6211\u628a\u81ea\u52a8\u8fde\u63a5\u670d\u52a1\u5668\u7684\u7a0b\u5e8f\u5199\u8fdb\u4e86 <code>.profile</code>\uff0c\u89e3\u51b3\u529e\u6cd5\u4fbf\u662f\u590d\u5236\u4e00\u4efd <code>.profile</code> \u81f3 <code>.bash_profile</code>, \u53ea\u5728\u540e\u8005\u4e2d\u4fdd\u7559\u81ea\u52a8\u767b\u5f55\u7a0b\u5e8f\uff0c\u56e0\u4e3a\u542f\u52a8\u65f6\u540e\u8005\u8c03\u7528\u987a\u5e8f\u66f4\u9ad8\u3002</p> <p>.profile is for things that are not specifically related to Bash, like environment variables $PATH it should also be available anytime. .bash_profile is specifically for login shells or shells executed at login. source: What is the difference between ~/.profile and ~/.bash_profile?</p> <p>\u7136\u800c\uff01\u4f3c\u4e4e vscode \u542f\u52a8\u65f6\u8fd8\u662f\u4f1a\u8c03\u7528 <code>.bash_profile</code>\uff0c\u53ea\u6709\u5728 <code>.bash_profile</code> \u5c06\u81ea\u52a8\u767b\u5f55\u7a0b\u5e8f\u53bb\u6389\u624d\u80fd\u6253\u5f00 terminal\u3002</p> <p>\u53ef\u80fd\u539f\u56e0\u5e94\u8be5\u662f terminal \u5b9e\u9645\u4e0a\u5728\u8fd0\u884c <code>/bin/bash</code> \u7a0b\u5e8f\uff0c\u800c\u6253\u5f00 bash \u5176\u8fd8\u662f\u6309\u7167\u6b63\u5e38\u6253\u5f00\u987a\u5e8f\u6765\u7684\uff0c\u5982 <code>man bash</code> \u4e2d\u6240\u8bf4\uff0c</p> <pre><code>--noprofile\n    Do  not read either the system-wide startup file /etc/profile or any of the personal initialization files ~/.bash_profile, ~/.bash_login, or ~/.profile.  By default,\n    bash reads these files when it is invoked as a login shell (see INVOCATION below).\n</code></pre> <p>\u5e72\u8106\u6362\u4e00\u79cd\u81ea\u542f\u52a8\u65b9\u5f0f\uff0cHow to run scripts on start up?</p> <p>\u901a\u8fc7 <code>crontab -e</code> \u8bbe\u7f6e\u81ea\u542f\u52a8\u4efb\u52a1\uff0c</p> <pre><code>@reboot sh /home/weiya/rssh4lab.sh &amp;\n</code></pre> <p>\u7136\u800c\u7b2c\u4e8c\u6b21\u91cd\u542f\u65f6\uff0c\u5e76\u4e0d\u8d77\u4f5c\u7528\uff0c\u67e5\u770b\u3000<code>/var/log/syslog</code>\uff0c\u539f\u56e0\u5728\u4e8e\u7f51\u7edc\u8fde\u63a5\u5728\u4e8e ssh \u4e4b\u540e</p> <pre><code>Mar 12 09:14:23 weiya-ThinkPad-T460p CRON[1464]: (weiya) CMD (sh /home/weiya/rssh4lab.sh &amp;)\nMar 12 09:19:37 weiya-ThinkPad-T460p NetworkManager[1342]: &lt;info&gt;  [1615511977.5232] device (wlp3s0): Activation: (wifi) Stage 2 of 5 (Device Configure) successful.  Connected to wireless network 'CUHK1x'.\n</code></pre> <p>\u63a5\u4e0b\u6765\u6709\u4e24\u4e2a\u7b56\u7565\uff0c\u53c2\u8003 How do I start a Cron job 1 min after @reboot?</p> <ul> <li>sleep \u4e00\u5b9a\u65f6\u95f4\uff1a\u8fd9\u4e00\u70b9\u53ef\u4ee5\u52a0\u4e0a <code>sleep 60 &amp;&amp;</code>\uff0c\u4f46\u662f sleep \u591a\u5c11\u5e76\u4e0d\u592a\u597d\u628a\u63e1\uff0c\u4e00\u822c\u6765\u8bf4\u4f1a\u5728\u8fdb\u5165\u7528\u6237\u754c\u9762\u540e\u7f51\u7edc\u624d\u8fde\u63a5\uff0c\u800c\u6709\u65f6\u5019\u5e76\u6ca1\u6709\u53ca\u65f6\u8fdb\u5165\u7528\u6237\u754c\u9762</li> <li>\u5224\u65ad\u7f51\u7edc\u597d\u4e86\u4e4b\u540e\u5728\u6267\u884c\uff0c\u4e0a\u8ff0\u95ee\u9898\u56de\u7b54\u4e0b\u6709\u4eba\u6307\u51fa\u901a\u8fc7 <code>systemd</code> \u6765\u5b9e\u73b0\uff0c\u5176\u4e2d\u53ef\u4ee5\u6307\u5b9a <code>After=network.target</code>\uff0c\u6309\u7167\u6307\u793a\u8bbe\u7f6e\u5b8c\u6bd5\uff0c\u7136\u540e\u8fd8\u662f\u4e0d\u884c\uff0c\u539f\u56e0\u5e94\u8be5\u662f\u4e0a\u8ff0\u6240\u8bf4\uff0c\u53ea\u6709\u8fdb\u5165\u7528\u6237\u754c\u9762\u624d\u4f1a\u8fde\u63a5\u7f51\u7edc\uff0c\u6240\u4ee5\u5728\u7cfb\u7edf\u5c42\u9762\u7684\u8bbe\u7f6e\u592a\u65e9\u4e86</li> </ul> <p>\u53e6\u5916\uff0c\u540c\u65f6\u4e5f\u628a ssh \u66ff\u6362\u6210 autossh\uff0c\u7136\u540e\u53c8\u56de\u5230\u4e4b\u524d\u63a8\u8350 crontab \u7684\u95ee\u9898\u4e2d\uff0c\u91c7\u7528\u7b2c\u4e00\u79cd <code>upstart</code> \u65b9\u6cd5\uff0c\u56e0\u4e3a\u5176\u53ef\u4ee5\u5728\u7528\u6237\u5c42\u9762\u8fdb\u884c\u8bbe\u7f6e\uff0c\u4f46\u662f\u8bbe\u7f6e\u5b8c\u6bd5\u540e\u5728 syslog \u4e2d\u90fd\u6ca1\u6709\u76f8\u5173\u8fd0\u884c\u547d\u4ee4\uff0c\u7136\u540e\u53d1\u73b0\u8fd9\u79cd\u65b9\u6cd5\u5df2\u7ecf\u8fc7\u65f6\u4e86\u3002</p> <p>\u65e2\u7136 upstart \u6709 system \u548c user \u4e24\u4e2a\u5c42\u9762\u7684\u65b9\u6cd5\uff0c\u90a3\u4e48 systemd \u5e94\u5f53\u4e5f\u53ef\u4ee5\u5728\u7528\u6237\u5c42\u9762\u8fdb\u884c\u8bbe\u7f6e\uff0c\u4e8e\u662f\u6211\u627e\u5230\u4e86\u8fd9\u4e2a\u56de\u7b54\uff0cHow to start a systemd service after user login and stop it before user logout\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u5728\u8fd9\u4e2a\u56de\u7b54\uff0cHow to run scripts on start up?\uff0c\u4e2d\u4e5f\u63d0\u5230\u4e86 \u3002</p> <p>\u5df2\u7ecf\u770b\u5230\u6210\u529f\u7684\u5e0c\u671b\u4e86\uff0c\u4e0d\u8fc7\u8fd8\u662f\u62a5\u9519\u4e86\uff0c</p> <pre><code>$ vi /var/log/syslog\nMar 12 12:00:03 weiya-ThinkPad-T460p systemd[2710]: Starting ssh to lab with port forward...\nMar 12 12:00:03 weiya-ThinkPad-T460p systemd[2710]: Started ssh to lab with port forward.\nMar 12 12:00:03 weiya-ThinkPad-T460p systemd[2710]: Reached target Default.\nMar 12 12:00:03 weiya-ThinkPad-T460p systemd[2710]: Startup finished in 70ms.\nMar 12 12:00:03 weiya-ThinkPad-T460p rssh4lab.sh[2722]: ssh: connect to host XX.XX.XX.XX port 22: Network is unreachable\nMar 12 12:00:03 weiya-ThinkPad-T460p autossh[2724]: ssh exited prematurely with status 255; autossh exiting\n</code></pre> <p>\u67e5\u770b <code>autossh</code> \u7684\u5e2e\u52a9\u6587\u6863\u53d1\u73b0\uff0c</p> <pre><code>AUTOSSH_GATETIME\n        Specifies how long ssh must be up before we consider it a successful connection. The default is 30 seconds. Note\n        that if AUTOSSH_GATETIME is set to 0, then not only is the gatetime behaviour turned off, but autossh also ignores\n        the first run failure of ssh. This may be useful when running autossh at boot.\n</code></pre> <p>\u800c <code>-f</code> \u53ef\u4ee5\u8fbe\u5230\u8fd9\u4e2a\u6548\u679c\uff0c\u6240\u4ee5\u8bd5\u7740\u52a0\u4e0a <code>-f</code>,\u4fbf\u6210\u529f\u4e86\uff01</p> <p>\u67e5\u770b\u76f8\u5173\u8fd0\u884c\u4fe1\u606f\uff0c</p> <pre><code>$ journalctl --user -u ssh4lab.service\n-- Logs begin at Thu 2020-12-24 01:44:48 CST, end at Fri 2021-03-12 12:33:18 CST. --\nMar 12 12:00:03 weiya-ThinkPad-T460p autossh[2724]: starting ssh (count 1)\nMar 12 12:00:03 weiya-ThinkPad-T460p autossh[2724]: ssh child pid is 2725\nMar 12 12:00:03 weiya-ThinkPad-T460p systemd[2710]: Starting ssh to lab with port forward...\nMar 12 12:00:03 weiya-ThinkPad-T460p systemd[2710]: Started ssh to lab with port forward.\nMar 12 12:00:03 weiya-ThinkPad-T460p autossh[2724]: ssh exited prematurely with status 255; autossh exiting\nMar 12 12:09:11 weiya-ThinkPad-T460p systemd[2710]: Stopped ssh to lab with port forward.\n-- Reboot --\nMar 12 12:10:29 weiya-ThinkPad-T460p autossh[2649]: starting ssh (count 1)\nMar 12 12:10:29 weiya-ThinkPad-T460p autossh[2649]: ssh child pid is 2650\nMar 12 12:10:29 weiya-ThinkPad-T460p systemd[2634]: Starting ssh to lab with port forward...\nMar 12 12:10:29 weiya-ThinkPad-T460p systemd[2634]: Started ssh to lab with port forward.\nMar 12 12:10:30 weiya-ThinkPad-T460p autossh[2649]: ssh exited with error status 255; restarting ssh\nMar 12 12:10:30 weiya-ThinkPad-T460p autossh[2649]: starting ssh (count 2)\nMar 12 12:10:30 weiya-ThinkPad-T460p autossh[2649]: ssh child pid is 2655\nMar 12 12:10:30 weiya-ThinkPad-T460p autossh[2649]: ssh exited with error status 255; restarting ssh\nMar 12 12:10:30 weiya-ThinkPad-T460p autossh[2649]: starting ssh (count 3)\nMar 12 12:10:30 weiya-ThinkPad-T460p autossh[2649]: ssh child pid is 2656\nMar 12 12:10:30 weiya-ThinkPad-T460p autossh[2649]: ssh exited with error status 255; restarting ssh\nMar 12 12:10:30 weiya-ThinkPad-T460p autossh[2649]: starting ssh (count 4)\nMar 12 12:10:30 weiya-ThinkPad-T460p autossh[2649]: ssh child pid is 2657\nMar 12 12:10:30 weiya-ThinkPad-T460p autossh[2649]: ssh exited with error status 255; restarting ssh\nMar 12 12:10:30 weiya-ThinkPad-T460p autossh[2649]: starting ssh (count 5)\nMar 12 12:10:30 weiya-ThinkPad-T460p autossh[2649]: ssh child pid is 2658\n</code></pre> <p>\u5176\u4e2d <code>reboot</code> \u6240\u5728\u884c\u4e0a\u9762\u7684\u4e3a\u6ca1\u6709\u6dfb\u52a0 <code>-f</code> \u9009\u9879\u65f6\u7684\u65e5\u5fd7\uff0c\u53ef\u4ee5\u53d1\u73b0\u5185\u5bb9\u4e0e\u4e0a\u9762\u67e5\u770b syslog\u7684\u5dee\u4e0d\u591a\uff0c\u53ea\u4e0d\u8fc7\u6ca1\u6709\u90a3\u4e48\u5168\uff0c\u6bd4\u5982\u6ca1\u6709\u6307\u51fa <code>Network is unreachable</code>\uff0c\u800c\u540e\u9762\u6dfb\u52a0\u4e86 <code>-f</code> \u9009\u9879\u540e\uff0c\u5728\u5931\u8d25\u91cd\u8bd5\u82e5\u5e72\u6b21\u540e\uff0c\u6210\u529f\u4e86\uff01</p>"},{"location":"Linux/software/#w3m-command-line-browser","title":"w3m: Command Line Browser","text":"<p>Visit the website from command line without the disturbing of images,</p> <p></p> <p>Other candidates but seems not fast and smoothly,</p> <ul> <li>lynx: error in open the same website in <code>https</code>, throws \u201cAlert!: Unable to make secure connection to remote host.\u201d</li> <li>links: cannot display Chinese characters.</li> </ul> <p>Some references:</p> <ul> <li>3\u4e2a\u5e38\u7528\u57fa\u4e8eLinux\u7cfb\u7edf\u547d\u4ee4\u884cWEB\u7f51\u7ad9\u6d4f\u89c8\u5de5\u5177\uff08w3m/Links/Lynx\uff09 | \u8001\u5de6\u7b14\u8bb0</li> <li>w3m\u7eaf\u6587\u5b57\u9605\u8bfb\u4f53\u9a8c - \u77e5\u4e4e</li> </ul>"},{"location":"Linux/software/#wechat-in-linux","title":"WeChat in Linux","text":"\u5fae\u4fe1\u88ab\u5176\u5b83\u4eba\u767b\u5f55\uff1f <p>Post: 2022-11-05 22:49:27</p> <p>\u5237\u5230\u8fd9\u7bc7\u8ba8\u8bba\uff0c\u4e8e\u662f\u8dd1\u8fc7\u53bb\u770b\u770b\u81ea\u5df1\u5fae\u4fe1\u4e0a\u7684\u767b\u5f55\u8bbe\u5907\u8bb0\u5f55\uff0c\u201cSettings &gt; Account Security &gt; Login Devices\u201d\uff0c\u7136\u540e\u7adf\u7136\u53d1\u73b0\u91cc\u9762\u6709\u6761\u201cWindows 7\u201d \u7684\u8bb0\u5f55\u3002</p> <p></p> <p>\u4f46\u76ee\u524d\u53ea\u767b\u5f55\u4e86\u81ea\u5df1\u7684\u624b\u673a Mix2s\uff0c\u4ee5\u53ca\u7b2c\u4e09\u6761\u7684\u7b14\u8bb0\u672c T460P\u3002\u540e\u6765\u53d1\u73b0 T460P \u767b\u5f55\u7684\u5fae\u4fe1\u56e0\u4e3a\u79fb\u52a8\u786c\u76d8\u5199\u5165\u539f\u56e0\u65e0\u54cd\u5e94\uff0c\u6700\u540e\u53ea\u80fd kill \u6389\u3002\u6b64\u65f6\u4e00\u4e2a\u731c\u6d4b\u4fbf\u662f\u8fd9\u4e2a Windows 7 \u7684\u8bb0\u5f55\u5f88\u53ef\u80fd\u662f\u56e0\u4e3a\u673a\u5668\u6302\u4e86\uff0c\u5728\u83b7\u53d6\u673a\u5668\u578b\u53f7\u7684\u65f6\u5019\uff0c\u56e0\u4e3a\u672a\u77e5\u539f\u56e0\uff0c\u53ea\u80fd\u5f97\u5230 Win7\uff0c\u800c\u975e T460P.</p> <p>\u5728\u56fe\u4e2d win7 \u7684\u65f6\u95f4\u6233 \u201c2022-11-04 17:35:26\u201d \u641c\u7d22\u7cfb\u7edf\u65e5\u5fd7\uff0c\u53d1\u73b0\u79fb\u52a8\u786c\u76d8\u7684 IO error \u521a\u597d\u5728\u90a3\u4e2a\u65f6\u95f4\u70b9\u9644\u8fd1\uff0c</p> <pre><code>$ journalctl --since \"2022-11-04 17:35\" --until \"2022-11-04 17:36\" \nNov 04 17:35:23 weiya-ThinkPad-T460p ntfs-3g[2012449]: ntfs_attr_pread_i: ntfs_pread failed: Input/output error\nNov 04 17:35:23 weiya-ThinkPad-T460p ntfs-3g[2012449]: ntfs_attr_pread error reading '/0WeChat/WeChat Files/wxid_***************/Msg/MicroMsg.db-wal' at offset 974848: 4096 &lt;&gt; -1: Input/output error\nNov 04 17:35:23 weiya-ThinkPad-T460p kernel: Buffer I/O error on dev sde1, logical block 89552839, async page read\n</code></pre> <p>\u518d\u9a8c\u8bc1\u4e0b wine \u91cc\u9762\u662f\u4e0d\u662f Windows 7\uff0c\u9996\u5148\u8fd0\u884c <code>winecfg</code> \u8df3\u51fa\u6765\u7684\u56fe\u5f62\u754c\u9762\u5c31\u6709\u663e\u793a Windows 7\uff0c\u4e5f\u53ef\u4ee5\u4ece\u914d\u7f6e\u6587\u4ef6\u4e2d\u5f97\u5230\u786e\u8ba4\u3002</p> <pre><code>~/.wine32$ cat system.reg | grep -n \"Microsoft Windows\"\n995:@=\"Microsoft Windows Installer Message RPC\"\n1028:@=\"Microsoft Windows Installer\"\n31532:@=\"Microsoft Windows Installer\"\n31540:@=\"Microsoft Windows Installer Message RPC\"\n39508:\"ProductName\"=\"Microsoft Windows 7\"\n</code></pre> Start to Use Wine Wechat (Post: ~ 2020.05.12) <p>\u8d77\u56e0\u662f\u4eca\u5929\u7f51\u9875\u7aef\u7adf\u7136\u767b\u4e0d\u4e0a\u53bb\uff0c\u672c\u6765\u89c9\u5f97\u7528\u4e0d\u4e86\u5c31\u7b97\u4e86\u5427\uff0c\u6b63\u597d\u964d\u4f4e\u804a\u5929\u65f6\u95f4\uff0c\u4f46\u662f\u60f3\u5230\u5f88\u591a\u65f6\u5019\u4f20\u4f20\u6587\u4ef6\u5927\u5bb6\u8fd8\u662f\u4e60\u60ef\u7528\u5fae\u4fe1\uff0c\u6240\u4ee5\u8fd8\u662f\u51c6\u5907\u6363\u9f13\u4e0b linux \u7248\u3002\u6211\u8bb0\u5f97\u4e4b\u524d\u8bd5\u8fc7\u4e00\u79cd\uff0c\u4f46\u662f\u90a3\u4f3c\u4e4e\u4e5f\u662f\u57fa\u4e8e\u7f51\u9875\u7248\u7684\uff0c\u53ea\u662f\u5c01\u88c5\u4e86\u4e00\u4e0b\u3002\u800c\u4eca\u5929\u770b\u5230\u4e86\u57fa\u4e8e wine \u4ee5\u53ca\u5c06\u5176\u6253\u5305\u6210 docker \u7684\u89e3\u51b3\u65b9\u6848\uff01</p> <p>docker \u4e86\u89e3\u4e00\u70b9\uff0c\u77e5\u9053\u5982\u679c\u6210\u529f\uff0c\u4ee5\u540e\u5b89\u88c5\u5378\u8f7d\u4f1a\u5f88\u7b80\u5355\uff0c\u4e8e\u662f\u4f7f\u7528 huan/docker-wechat \u63d0\u4f9b\u7684 docker image\uff0c\u4f46\u662f\u540e\u6765\u8f93\u5165\u65f6\u6587\u672c\u4e0d\u53ef\u89c1\u7684\u95ee\u9898\u5f88\u607c\u4eba \uff0c\u4e5f\u4e0d\u77e5\u9053\u600e\u4e48\u89e3\u51b3\u3002</p> <p>\u6ce8\u610f\u5230\u4f5c\u8005\u7684 docker \u662f\u5728 19.10 \u4e0a\u6784\u5efa\u7684\uff0c\u5728\u60f3\u4f1a\u4e0d\u4f1a\u4e0e\u6211\u7684 18.04 \u4e0d\u591f\u517c\u5bb9\uff0c\u6240\u4ee5\u51c6\u5907\u81ea\u5df1\u4fee\u6539 docker\uff0c\u5176\u5b9e\u90fd\u5df2\u7ecf fork \u597d\u4e86\uff0c\u4f46\u662f\u7531\u4e8e wine \u5bf9 18.04 \u7684\u652f\u6301\u6709\u4e2a\u95ee\u9898\uff0c\u867d\u8bf4\u53ef\u80fd\u8ddf\u8f93\u5165\u6cd5\u4e5f\u4e0d\u592a\u6709\u5173\uff0c\u4f46\u662f\u8fd8\u662f\u8bd5\u7740\u88c5\u8fd9\u4e2a\uff0c\u540e\u9762\u6539\u5199 docker file \u65f6\u91cd\u65b0 build \u603b\u662f\u51fa\u95ee\u9898\uff0c\u4e00\u76f4\u6ca1\u89e3\u51b3\uff0c\u6240\u4ee5\u51b3\u5b9a\u653e\u5f03\u3002</p> <p>\u4e8e\u662f\u5c31\u653e\u5f03 docker \u4e86\uff0c\u60f3\u76f4\u63a5\u5b89\u88c5 wine\uff0c\u5f0a\u7aef\u4f3c\u4e4e\u4e5f\u5c31\u662f\u5378\u8f7d\u4f1a\u6709\u70b9\u7e41\uff0c\u4f46\u662f\u5982\u679c\u5b89\u88c5\u6210\u529f\uff0c\u90a3\u5c31\u7528\u7740\u5457\uff0c\u4e5f\u4e0d\u7528\u5378\u8f7d\u4e86\u3002</p> <p>\u53c2\u8003 WeChat Desktop on Linux</p> <ol> <li>install WineHQ</li> </ol> <pre><code>The following packages have unmet dependencies:\ngstreamer1.0-plugins-good : Breaks: gstreamer1.0-plugins-ugly (&lt; 1.13.1) but 1.8.3-1ubuntu0.1 is to be installed\nwinehq-stable : Depends: wine-stable (= 5.0.0~bionic)\nE: Error, pkgProblemResolver::Resolve generated breaks, this may be caused by held packages.\n</code></pre> <p>solution</p> <pre><code># (re)install gstreamer1.0-plugins-good and gstreamer1.0-plugins-ugly\nsudo apt-get install gstreamer1.0-plugins-good\nsudo apt-get install gstreamer1.0-plugins-ugly\n</code></pre> <pre><code>Error: winehq-stable : Depends: wine-stable (= 5.0.0~bionic)\n</code></pre> <p>It is due to FAudio for Debian 10 and Ubuntu 18.04, and</p> <p>The quickest and easiest way to satisfy the new dependency is to download and install both the i386 and amd64 libfaudio0 packages before attempting to upgrade or install a WineHQ package.</p> <p>seems does not work. I need to add the repository as suggested in Error: winehq-stable : Depends: wine-stable (= 5.0.0~bionic)</p> <pre><code>curl -sL https://download.opensuse.org/repositories/Emulators:/Wine:/Debian/xUbuntu_18.04/Release.key | sudo apt-key add -\nsudo apt-add-repository 'deb https://download.opensuse.org/repositories/Emulators:/Wine:/Debian/xUbuntu_18.04/ ./'\n</code></pre> <p>but seems not due to this, and follow the instruction in docs/WineDependencies.md</p> <pre><code>sudo apt-get install libgnutls30:i386 libldap-2.4-2:i386 libgpg-error0:i386 libxml2:i386 libasound2-plugins:i386 libsdl2-2.0-0:i386 libfreetype6:i386 libdbus-1-3:i386 libsqlite3-0:i386\n</code></pre> <p>then the problem is solved. And continue to follow the steps in WeChat Desktop on Linux</p> reboot wine <p>Sometimes, the wechat window freezes, i.e., the new messages cannot be updated. Try to reboot it,</p> <ul> <li>use <code>wineboot</code></li> </ul> <pre><code>$ wineboot -s # shutdown\n$ wineboot -r # restart\n</code></pre> <p>but it does not work, and it throws</p> <p>073c:fixme:font:get_name_record_codepage encoding 29 not handled, platform 1.</p> <ul> <li>use <code>kill -s 9</code></li> </ul> <p>kill the process of wechat, and then restart wechat, still not work</p> <ul> <li>use <code>wineserver -k</code></li> </ul> <p>it works! refer to Ubuntu forum: Cant reboot wine</p> <p>\u4e3a\u4e86\u4fdd\u7559\u4e4b\u524d\u7684\u6240\u6709\u8bbe\u5b9a\u53ca\u5386\u53f2\u804a\u5929\u8bb0\u5f55\uff0c\u9009\u62e9\u6587\u4ef6\u81f3 <code>/media/weiya/Seagate/WeChat</code>\uff0c\u4f46\u4e0d\u8981\u7cbe\u786e\u81f3 <code>/media/weiya/Seagate/WeChat/WeChat Files</code></p> fixed: \u7a97\u53e3\u8f6e\u5ed3\u9634\u5f71 <p>\u5f53\u4ece\u5fae\u4fe1\u5207\u6362\u5230\u5176\u4ed6\u8f6f\u4ef6\u65f6\uff0c\u4f1a\u7559\u4e0b\u4e00\u4e2a\u7a97\u53e3\u8f6e\u5ed3\u9634\u5f71\u3002\u518d\u4e00\u6b21\u611f\u53f9 google \u7684\u5f3a\u5927\uff0c\u672c\u6765\u8fd9\u4e2a\u95ee\u9898\u6211\u90fd\u4e0d\u77e5\u9053\u600e\u4e48\u641c\u7d22\uff0c\u4f46\u53ea\u7ed9\u4e86 \u201cwine wechat\u201d \u548c \u201c\u7a97\u53e3\u8f6e\u5ed3\u201d \u8fd9\u4e24\u4e2a\u5173\u952e\u8bcd\u540e\uff0c\u5c31\u627e\u5230\u4e86\u4e24\u79cd\u89e3\u51b3\u65b9\u6848\uff1a</p> <ul> <li>\u89e3\u51b3Linux\u4e0b\u5fae\u4fe1\u900f\u660e\u7a97\u53e3\u7684\u95ee\u9898\uff1a\u5207\u6362\u5fae\u4fe1\u540e\uff0c\u76f4\u63a5\u5173\u6389\u7a97\u53e3\uff0c\u4fa7\u8fb9\u680f\u4e5f\u4e0d\u5728\u6709\u5fae\u4fe1\u7684\u7a97\u53e3\uff0c\u518d\u6b21\u542f\u52a8\u9700\u8981\u70b9\u51fb\u9876\u90e8\u680f\u7684\u56fe\u6807</li> <li>wine-wechat \u7a97\u53e3\u9634\u5f71\u7f6e\u9876\u89e3\u51b3\u65b9\u6848\uff1a\u901a\u8fc7 <code>xdotool</code> \u53bb\u9664\u7a97\u53e3\u9634\u5f71\u3002\u4e4b\u524d\u6298\u817e docker-wechat \u5c31\u770b\u5230\u6709\u4eba\u63d0\u5230 <code>xdotool</code></li> </ul> <p>\u66f4\u504f\u5411\u7b2c\u4e8c\u79cd\u7b56\u7565\uff0c\u540e\u6765\u5c1d\u8bd5\u4e86\u4e00\u4e0b\u4e5f\u786e\u5b9e\u89c9\u5f97\u7b2c\u4e8c\u79cd\u597d\u7528\uff0c\u5f53\u7136\u6211\u90fd\u6709\u6298\u817e\u8fc7\u3002</p> <p>\u5176\u5b9e\u7b56\u7565\u672c\u8eab\u5f88\u7b80\u5355\uff0c\u800c\u4e14\u90fd\u53ef\u4ee5\u5373\u65f6\u8fd0\u884c\u4e00\u4e0b\u811a\u672c\uff0c\u5c31\u80fd\u611f\u53d7\u6548\u679c\uff0c\u4f46\u662f\u5728\u811a\u672c\u81ea\u52a8\u5316\u90a3\u91cc\u82b1\u4e86\u633a\u957f\u65f6\u95f4\u3002</p> <p>\u7b56\u7565\u4e8c\u672c\u6765\u63a8\u8350\u7684\u662f\u901a\u8fc7\u4fee\u6539 wechat \u7684\u542f\u52a8\u7a0b\u5e8f\uff0c\u4f46\u662f\u56e0\u4e3a\u6211\u7684\u542f\u52a8\u7a0b\u5e8f\u662f\u901a\u8fc7 wine \u5b9e\u73b0\u7684\uff0c\u8fd9\u4e00\u70b9\u4f3c\u4e4e\u8ddf\u535a\u5ba2\u4e2d\u4e0d\u4e00\u6837\uff0c\u6211\u53ea\u627e\u5230\u4e00\u4e2a <code>WeChat.desktop</code> \u6587\u4ef6\uff0c\u4e5f\u6ca1\u628a\u63e1\u76f4\u63a5\u4fee\u6539\u3002\u6240\u4ee5\u6211\u5148\u53bb\u5c1d\u8bd5\u4e86\u5f00\u673a\u81ea\u542f\u52a8</p> <p>Info</p> <p>\u201c.desktop\u201d \u6587\u4ef6\u5b58\u653e\u5728 <code>~/.local/share/applications</code> \u548c <code>/usr/share/applications</code>\uff0c\u800c <code>WeChat.desktop</code> \u76f4\u63a5\u653e\u5728 <code>/home/weiya/Desktop</code>.</p> \u4fee\u6539 desktop \u6587\u4ef6 <p>\u8fd9\u4e2a\u5173\u952e\u70b9\u5728\u4e8e\uff0c\u4f7f\u5176\u80fd\u591f\u540c\u65f6\u8fd0\u884c wine \u548c <code>disable-wechat-shadow.py</code> \u811a\u672c\u6587\u4ef6\uff0c\u539f <code>WeChat.desktop</code> \u6587\u4ef6\u4e3a</p> <pre><code>Exec=env WINEPREFIX=\"/home/weiya/.wine32\" wine C:\\\\\\\\windows\\\\\\\\command\\\\\\\\start.exe /Unix /home/weiya/.wine32/dosdevices/c:/ProgramData/Microsoft/Windows/Start\\\\ Menu/Programs/WeChat/WeChat.lnk\n</code></pre> <p>\u7b2c\u4e00\u79cd\u5c1d\u8bd5\u4fbf\u662f\u76f4\u63a5\u52a0\u4e0a <code>&amp; python3 /home/weiya/disable-wechat-shadow.py</code>\uff0c\u4f46\u662f\u4f3c\u4e4e\u5f53\u505a\u4e86 wine \u7684 argument\uff0c\u8fd9\u4e00\u70b9@mango\u4e5f\u6307\u51fa</p> <p>The <code>Exec</code> key must contain a command line. A command line consists of an executable program optionally followed by one or more arguments.</p> <p>\u7b2c\u4e8c\u79cd\u4fbf\u662f\u901a\u8fc7 <code>sh -c</code>\uff0c\u5373</p> <pre><code>Exec=env WINEPREFIX=\"/home/weiya/.wine32\" sh -c \"wine C:\\\\\\\\windows\\\\\\\\command\\\\\\\\start.exe /Unix /home/weiya/.wine32/dosdevices/c:/ProgramData/Microsoft/Windows/Start\\\\ Menu/Programs/WeChat/WeChat.lnk; python3 /home/weiya/disable-wechat-shadow.py\"\n</code></pre> <p>\u4f46\u662f\u8fd9\u4e2a\u7ecf\u5e38\u62a5\u51fa\u9519\u8bef</p> <p>key \u201cExec\u201d in group \u201cDesktop Entry\u201d contains a quote which is not closed</p> <p>\u5f88\u7eb3\u95f7\uff0c\u89c9\u5f97\u8fd9\u4e0d\u5e94\u8be5\u554a\uff0c\u800c\u4e14\u4e5f\u6709\u4eba wine \u7684\u89e3\u51b3\u65b9\u6848\u4e5f\u662f\u901a\u8fc7 <code>sh -c</code>\uff0c\u4f46\u662f\u540e\u6765\u53d1\u73b0\u4e86\u4e2a\u533a\u522b\uff0c\u522b\u4eba\u5f15\u53f7\u4e2d\u7a7a\u683c\u53ea\u9700\u8981\u4e00\u6b21\u8f6c\u4e49\uff0c\u5373 <code>\\</code>\uff0c\u6bd4\u5982 \u201cProgram Files (x86)\u201d\uff0c\u4f46\u662f\u6211\u8fd9\u91cc\u539f\u5148\u6ca1\u52a0\u5f15\u53f7\u65f6\uff0c\u7528\u4e24\u4e2a\u53cd\u659c\u6760\u8fdb\u884c\u8f6c\u4e49 <code>\\\\</code>\uff0c\u800c\u4e14 <code>\\\\</code> \u9700\u8981\u7528 <code>\\\\\\\\</code> \u6765\u8f6c\u4e49\uff0c\u6240\u4ee5\u9690\u9690\u89c9\u5f97\u53ef\u80fd\u662f\u52a0\u4e86\u5f15\u53f7\u8f6c\u4e49\u4f1a\u6709\u95ee\u9898\u3002\u6240\u4ee5\u5c1d\u8bd5\u6539\u6210 <code>\\</code> \u548c <code>\\\\</code>\uff0c\u4f46\u662f\u90fd\u6ca1\u6709\u6210\u529f\u3002</p> <p>\u540e\u6765\u8dd1\u53bb\u7814\u7a76\u4e0b <code>wine</code> \u7684\u547d\u4ee4\uff0c\u60f3\u5f04\u6e05\u695a\u90a3\u4e00\u957f\u4e32 argument \u662f\u4ec0\u4e48\u610f\u601d\uff0c\u624d\u660e\u767d\u8fd9\u5e94\u8be5\u662f\u53e5 <code>wine start</code>\uff0c\u800c <code>/Unix</code> \u662f\u4e3a\u4e86\u7528 linux \u683c\u5f0f\u7684\u8def\u5f84\uff0c\u8be6\u89c1 3.1.1 How to run Windows programs from the command line\uff0c\u6240\u4ee5\u4e3a\u4e86\u907f\u514d\u53ef\u80fd\u7684\u8f6c\u4e49\u95ee\u9898\uff0c\u9996\u5148\u53ef\u4ee5\u628a <code>wine C:\\\\\\\\windows\\\\\\\\command\\\\\\\\start.exe</code> \u66ff\u6362\u6210 <code>wine start</code>\uff0c\u800c\u7a7a\u683c\u8f6c\u4e49\u8fd8\u662f\u7528 <code>\\</code>\uff0c\u5373\u6700\u7ec8 <code>WeChat.desktop</code> \u6587\u4ef6\u4e3a</p> <pre><code>Exec=env WINEPREFIX=\"/home/weiya/.wine32\" sh -c \"wine start /Unix /home/weiya/.wine32/dosdevices/c:/ProgramData/Microsoft/Windows/Start\\ Menu/Programs/WeChat/WeChat.lnk; python3 /home/weiya/disable-wechat-shadow.py\"\n</code></pre> <p>\u8fd9\u4e2a\u7248\u672c\u7ec8\u4e8e\u6210\u529f\u4e86\uff01</p> <p>\u6ce8\u610f\u5230 <code>env</code> \u4e0d\u8981\u5220\u6389\uff0c\u867d\u7136\u5728 <code>.bashrc</code> \u4e2d\u6709\u8bbe\u7f6e\uff0c\u4f46\u662f\u901a\u8fc7 desktop \u542f\u52a8\u65f6\uff0c\u5e76\u4e0d\u4f1a source <code>.bashrc</code>\uff0c\u6240\u4ee5\u4ecd\u9700\u4fdd\u7559\u8fd9\u53e5\u8bbe\u7f6e\uff0c\u4e0d\u7136 <code>wine</code> \u4f1a\u627e\u4e0d\u5230\u3002</p> <p>Tip</p> <p>\u4e00\u822c\u5730\uff0c<code>sh -c \"command 1; command 2\"</code>\u53ef\u4ee5\u5b9e\u73b0\u5728 launcher \u4e2d\u540c\u65f6\u8fd0\u884c\u4e24\u4e2a\u547d\u4ee4\uff0c\u53c2\u8003 How to combine two commands as a launcher?</p> \u627e\u5230\u9634\u5f71\u7a97\u53e3 id <p>\u7b56\u7565\u4e8c\u57fa\u4e8e\u7684\u5047\u8bbe\u662f\uff0c</p> <p>\u5fae\u4fe1\u7a97\u53e3\u540e\u56db\u4f4d\u6240\u5bf9\u5e94\u7684\u4e0d\u540c\u7a97\u53e3\u5c42\u6b21\u662f\u56fa\u5b9a\u7684. \u4e3b\u7a97\u53e3\u662f0xXXXX000a, \u90a3\u4e48\u9634\u5f71\u6240\u5bf9\u5e94\u7684\u7a97\u53e3\u5c31\u662f0xXXXX0014.</p> <p>\u800c\u4e14\u786e\u5b9e\u597d\u51e0\u6b21\u6211\u9634\u5f71\u5bf9\u5e94\u7684\u7a97\u53e3\u5c31\u662f <code>0xXXXX0014</code>\uff0c\u6240\u4ee5\u76f4\u63a5\u7528\u4e86\u4ee3\u7801\u3002\u4f46\u662f\u540e\u6765\u53d1\u73b0\uff0c\u6709\u65f6\u4ee3\u7801\u4e0d\u8d77\u4f5c\u7528\uff0c\u8fd9\u65f6\u624d\u610f\u8bc6\u5230\u53ef\u80fd id \u6ca1\u5bf9\u4e0a\u3002\u679c\u7136\uff0c\u8fd9\u65f6\u5019\u53d8\u6210\u4e86 <code>0xXXXX0015</code>\u3002\u4e0d\u8fc7\uff0c\u201c\u4e0d\u540c\u7a97\u53e3\u5c42\u6b21\u662f\u56fa\u5b9a\u7684\u201d \u8fd9\u4e2a\u89c4\u5f8b\u4ecd\u9002\u7528\uff0c\u800c\u4e14\u6211\u53d1\u73b0\u521a\u597d\u5dee 8 \uff08\u867d\u7136\u8fd9\u4e00\u70b9\u5bf9\u539f\u4f5c\u8005\u597d\u50cf\u4e0d\u9002\u7528\uff09\uff0c\u6240\u4ee5\u628a\u7b2c 25 \u884c\u6539\u6210</p> <pre><code>shadow = hex(int(id, 16) + 8)\n</code></pre> <p>\u987a\u5e26\u5b66\u4e00\u4e0b python \u600e\u4e48\u5904\u7406\u5341\u516d\u8fdb\u5236\uff0c<code>hex()</code> \u4f1a\u628a\u5341\u8fdb\u5236\u6570\u8f6c\u5316\u4e3a\u5341\u516d\u8fdb\u5236\uff0c\u5e76\u4ee5 <code>0x</code> \u5f00\u5934\u7684\u5b57\u7b26\u4e32\u8868\u793a\u3002</p> <p>\u5230\u8fd9\u91cc\uff0c\u8fd9\u4e2a\u95ee\u9898\u5dee\u4e0d\u591a\u662f\u89e3\u51b3\u4e86\u3002</p> fixed: cannot send images <p>\u5f53\u524d\u5fae\u4fe1 3.0.0.57 \u7248\u672c\u4e2d\uff0c\u8fd9\u4e2a\u95ee\u9898\u5df2\u7ecf\u89e3\u51b3\u4e86\uff01</p> <p>Try to use the approach</p> <pre><code>sudo apt install libjpeg62:i386\n</code></pre> <p>suggested in \u5fae\u4fe1\u65e0\u6cd5\u53d1\u9001\u56fe\u7247\u53ef\u4ee5\u5c1d\u8bd5\u4e00\u4e0b\u8fd9\u4e2a\u65b9\u6cd5 #32, but it does not work after <code>wineboot -u</code> and <code>winboot -r</code> and system reboot. And I even install <code>libjpeg8:i386</code> and <code>libjpeg9:i386</code>, still does not work, and then I doubt if I miss other dependencies, such as debian-special-pkgs/deepin-wine_2.18-12_i386/DEBIAN/control, but I the <code>libjpeg-turbo8</code> and <code>libjpeg-turbo8:i386</code> had been installed, then I had no idea.</p> <p>Notice that one comment in \u5fae\u4fe1\u65e0\u6cd5\u53d1\u9001\u56fe\u7247\u53ef\u4ee5\u5c1d\u8bd5\u4e00\u4e0b\u8fd9\u4e2a\u65b9\u6cd5 #32</p> <p>arch\u6ca1\u6709\u95ee\u9898\u7684\uff0c\u7981\u7528ipv6\u5c31\u884c\u4e86</p> <p>and also the commands related to ipv6 in \u5982\u4f55\u4f18\u96c5\u5730\u5728Ubuntu\u4e0b\u4f7f\u7528QQ\u5fae\u4fe1, then I try to disable ipv6. Here are two approaches,</p> <ul> <li>modify <code>/etc/sysctl.conf</code></li> <li>modify GRUB</li> </ul> <p>more details can be found in How to Disable IPv6 in Ubuntu Server 18.04/16.4 LTS or \u5728Linux\u4e0b\u7981\u7528IPv6\u7684\u65b9\u6cd5\u5c0f\u7ed3</p> <p>But the first method seems not work after reboot, and need to run <code>sudo sysctl -p</code>. Then I found that when I run the ssh script to establish reverse tunnel, it reports that the address cannot be assigned, but actually it indeed works, then I realized that ssh would try to assign address for ipv4 and ipv6 simultaneously. It also reminds me a solution found several days ago, adding <code>-4</code> for specifying ipv4.</p> <p>However, this method seems also not work.</p> DLL file <p>No clear idea about DLL file, such as <code>ole32.dll</code> suggested in wine\u8fd0\u884cwindows\u8f6f\u4ef6, this page\uff0c Windows 7 DLL File Information - ole32.dll, might helps.</p> <p>And general introduction for DLL can be found in DLL\u6587\u4ef6\u5230\u5e95\u662f\u4ec0\u4e48\uff0c\u5b83\u4eec\u662f\u5982\u4f55\u5de5\u4f5c\u7684\uff1f</p> <ul> <li>\u7c7b\u4f3c <code>.so</code></li> <li>\u5728Windows\u4e2d\uff0c\u6587\u4ef6\u6269\u5c55\u540d\u5982\u4e0b\u6240\u793a\uff1a\u9759\u6001\u5e93\uff08<code>.lib</code>\uff09\u548c\u52a8\u6001\u5e93\uff08<code>.dll</code>\uff09\u3002\u4e3b\u8981\u533a\u522b\u5728\u4e8e\u9759\u6001\u5e93\u5728\u7f16\u8bd1\u65f6\u94fe\u63a5\u5230\u53ef\u6267\u884c\u6587\u4ef6; \u800c\u52a8\u6001\u94fe\u63a5\u5e93\u5728\u8fd0\u884c\u65f6\u624d\u4f1a\u88ab\u94fe\u63a5\u3002</li> <li>\u901a\u5e38\u4e0d\u4f1a\u5728\u8ba1\u7b97\u673a\u4e0a\u770b\u5230\u9759\u6001\u5e93\uff0c\u56e0\u4e3a\u9759\u6001\u5e93\u76f4\u63a5\u5d4c\u5165\u5230\u6a21\u5757\uff08EXE\u6216DLL\uff09\u4e2d\u3002\u52a8\u6001\u5e93\u662f\u4e00\u4e2a\u72ec\u7acb\u7684\u6587\u4ef6\u3002</li> <li>\u4e00\u4e2aDLL\u53ef\u4ee5\u5728\u4efb\u4f55\u65f6\u5019\u88ab\u6539\u53d8\uff0c\u5e76\u4e14\u53ea\u5728EXE\u663e\u5f0f\u5730\u52a0\u8f7dDLL\u65f6\u5728\u8fd0\u884c\u65f6\u52a0\u8f7d\u3002\u9759\u6001\u5e93\u5728EXE\u4e2d\u7f16\u8bd1\u540e\u65e0\u6cd5\u66f4\u6539\u3002\u4e00\u4e2aDLL\u53ef\u4ee5\u5355\u72ec\u66f4\u65b0\u800c\u65e0\u9700\u66f4\u65b0EXE\u672c\u8eab\u3002</li> </ul>"},{"location":"Linux/software/#_1","title":"\u5f00\u673a\u81ea\u542f\u52a8","text":"<p>\u5b9e\u73b0\u65b9\u6848\u6709\u5f88\u591a\uff0c\u4f46\u603b\u60f3\u627e\u79cd\u6700\u7b80\u5355\u7684\uff0c\u6709\u8003\u8651 systemd service\uff0c How do I run a script as sudo at boot time on Ubuntu 18.04 Server?</p> <p>\u4e2d\u95f4\u4e5f\u6709\u8bd5\u8fc7 <code>/etc/init.d</code>\uff0cUbuntu\u4e0b\u6dfb\u52a0\u5f00\u673a\u542f\u52a8\u811a\u672c\uff0c\u4f46\u662f\u62a5\u51fa warning</p> <p>warning: /etc/init.d/test missing LSB information</p> <p>\u6709\u70b9\u4e0d\u653e\u5fc3\u3002</p> <p>\u53e6\u5916\u8fd8\u60f3\u5230\u76f4\u63a5\u5728 <code>.profile</code> \u4e2d\u6dfb\u52a0\u8fd0\u884c\u7a0b\u5e8f\uff0c\u8fd9\u5e94\u8be5\u7b97\u662f\u6700\u7b80\u5355\u7684\u65b9\u5f0f\uff0c\u8fd9\u5728 Ubuntu\u6dfb\u52a0\u548c\u8bbe\u7f6e\u5f00\u673a\u81ea\u52a8\u542f\u52a8\u7a0b\u5e8f\u7684\u65b9\u6cd5 \u4e2d\u6709\u66f4\u7cfb\u7edf\u7684\u603b\u7ed3\u3002</p> <p>\u4f46\u662f\u540e\u6765\u624d\u53d1\u73b0\uff0c\u5f00\u673a\u81ea\u542f\u52a8\u5e76\u4e0d\u9002\u7528\u4e8e\u7b56\u7565\u4e8c\u63d0\u4f9b\u7684\u811a\u672c\uff0c\u56e0\u4e3a\u5728\u5224\u65ad\u6ca1\u6709\u5fae\u4fe1\u65f6\uff0c\u7a0b\u5e8f\u4f1a\u81ea\u52a8\u9000\u51fa\u53bb\u3002\u672c\u6765\u4e5f\u60f3\u7740\u7b80\u5355\u6539\u4e0b\u4f7f\u5176\u80fd\u591f\u59cb\u7ec8\u8fd0\u884c\uff0c\u4f46\u662f\u89c9\u5f97\u8fd9\u79cd\u4e0d\u5982\u539f\u4f5c\u8005\u7684\u66f4\u4f18\uff0c\u767d\u767d\u5360\u7528\u5185\u5b58\u3002</p>"},{"location":"Linux/software/#update20210118","title":"update@20210118","text":"<p>\u8fd9\u4e24\u5929\u66f4\u65b0 wine \u5230\u4e86 6.0\uff0c\u7136\u540e\u53d1\u73b0\u7a97\u53e3\u8f6e\u5ed3\u9634\u5f71\u53c8\u51fa\u73b0\u4e86\u3002\u540e\u6765\u68c0\u67e5\u53d1\u73b0\u662f\u786e\u5b9a wechat \u7a97\u53e3\u7684\u8bed\u53e5\u53d8\u5316\u4e86\uff0c\u4e4b\u524d\u662f</p> <pre><code>if item.find(\"wechat.exe.Wine\") != -1:\n</code></pre> <p>\u8fd9\u80fd\u8ddf\u8bb0\u5f55\u6b7b\u673a\u65f6\u8bb0\u5f55\u7684 <code>/var/log/syslog</code> \u5bf9\u5f97\u4e0a\uff0c</p> <p></p> <p>\u4f46\u662f\u73b0\u5728\u8fd0\u884c</p> <pre><code>$ wmctrl -l -G -p -x\n</code></pre> <p>\u53d1\u73b0\u8fd9\u53e5\u53d8\u6210\u4e86</p> <pre><code>0x0680000c  0 12559  870  596  1238 738  wechat.exe.wechat.exe  weiya-ThinkPad-T460p \u5fae\u4fe1\n</code></pre> <p>\u6240\u4ee5\u5c06\u4e0a\u8ff0\u53bb\u9664\u8f6e\u5ed3\u9634\u5f71\u7684\u4ee3\u7801\u6539\u6210\u4e86</p> <pre><code>if item.find(\"wechat.exe\") != -1:\n</code></pre> <p>\u4ee3\u7801\u8be6\u89c1 disable-wechat-shadow.py</p>"},{"location":"Linux/software/#weylus","title":"Weylus","text":"<p>Info</p> <p>Post on 2022-06-13 15:40:10.</p> <p>Weylus turns tablet into a graphic tablet for PC, but never used, so remove it.</p> <pre><code>~$ apt list --installed | grep local\nweylus/now 0.10.0 amd64 [installed,local]\n</code></pre>"},{"location":"Linux/software/#xournal","title":"Xournal","text":"<p>Info</p> <p>Post on 2022-06-13 14:33:46</p> <p>A hand note-taking software</p> <p>Homepage: https://github.com/xournalpp/xournalpp</p> <p>I have installed it, but never use it,</p> <pre><code>~$ apt list --installed | grep local\nxournalpp/now 1.0.20-1~ubuntu18.04.1 amd64 [installed,local]\n</code></pre> <p>so just remove it.</p>"},{"location":"Linux/software/#zotero","title":"Zotero","text":"Click save button on which page? <ul> <li>https://www.sciencedirect.com: press the save button on the page of the article, and no need to go to the Elsevier Enhanced Reader page by clicking \u201cDownload pdf\u201d, otherwise the saved item does not properly show the bib info and the type becomes webpage instead of journal</li> </ul> sync to another cloud <p>The free size for saving is limited, and try to use a third-party cloud service for syncing. Use \u575a\u679c\u4e91, the configuration is as follows,</p> <p></p> <p>Note that the password required in the left window can be obtained via clicking <code>Display Password</code> in the right window.</p>"},{"location":"Linux/tools/","title":"Command-line Tools","text":""},{"location":"Linux/tools/#aria2","title":"aria2","text":"Idle <p>It is a lightweight multi-protocol &amp; multi-source command-line download utility.</p> <p>Homepage: https://aria2.github.io/</p>"},{"location":"Linux/tools/#awk","title":"<code>awk</code>","text":"<ul> <li>cheat sheet</li> </ul>"},{"location":"Linux/tools/#basic-usage","title":"basic usage","text":"<p><code>awk</code> \u6807\u51c6\u7528\u6cd5\u4e3a</p> <pre><code>awk '/pattern/ {print \"$1\"}'\n</code></pre> <p><code>/pattern/</code> \u53ef\u4ee5\u662f\u6b63\u5219\u8868\u8fbe\u5f0f\uff0c\u4e5f\u53ef\u4ee5\u662f\u4e24\u4e2a\u7279\u6b8a\u7684pattern\uff0c</p> <ul> <li><code>BEGIN</code>: execute the action(s) before any input lines are read</li> <li><code>END</code>: execute the action(s) before it actually exits</li> </ul> <p>\u9ed8\u8ba4\u5206\u9694\u7b26\u4e3a\u7a7a\u683c\uff0c\u6216\u8005\u901a\u8fc7 <code>-F</code> \u6307\u5b9a\u5176\u5b83\u7684\u5206\u9694\u7b26\uff0c</p> <pre><code>$ echo 'a b' | awk '{print $2}'\nb\n$ echo 'a,b' | awk -F, '{print $2}'\nb\n</code></pre> <p>\u5176\u4e2d <code>$i</code> \u6307\u7b2c i \u5217\uff0c\u800c <code>$0</code> \u6307\u6574\u6761\u8bb0\u5f55\uff08including leading and trailing whitespace. \uff09\uff0c\u8be6\u89c1 <code>man awk</code>.</p> <p>\u53e6\u5916\u4e0a\u8ff0\u811a\u672c\u4e2d\u7528\u5230\u4e86 <code>awk</code> \u652f\u6301\u8de8\u884c\u72b6\u6001\u7684\u7279\u6027\uff0c\u5373</p> <pre><code>$ echo -e 'a b \\n c d' | awk '{print $2}'\nb\nd\n</code></pre> <p>\u5176\u4e2d <code>-e</code> \u662f\u4e3a\u4e86 escape \u6362\u884c\u7b26\uff0c\u6700\u540e\u4e00\u5217\u4e5f\u53ef\u4ee5\u7528 <code>$NF</code> \u8868\u793a\uff0c</p> <pre><code>$ echo -e 'a b \\n c d' | awk '{print $NF}'\nb\nd\n</code></pre> <p>\u5982\u679c\u60f3\u8981\u5f97\u5230\u5217\u6570\uff0c\u5219\u4f7f\u7528 <code>NF</code>,</p> <pre><code>$ echo -e 'a b \\n c d' | awk '{print NF}'\n2\n2\n</code></pre> <p>\u5982\u679c\u9ed8\u8ba4\u6bcf\u884c\u5217\u6570\u76f8\u7b49\uff0c\u53ea\u60f3\u5f97\u5230\u5217\u6570\u7684\u8bdd\uff0c\u53ef\u4ee5\u4f7f\u7528</p> <pre><code>$ echo -e 'a b \\n c d' | awk '{print NF; exit}'\n2\n</code></pre> <p>\u5982\u679c\u6570\u636e\u6587\u4ef6\u4e3a <code>file.txt</code>\uff0c\u5219\u53ef\u4ee5\u76f4\u63a5\u7528</p> <pre><code>awk '{print NF; exit}' file.txt\n</code></pre> <p>\u5982\u679c\u9700\u8981\u8f93\u51fa\u884c\u6570\uff0c\u5219\u7528</p> <pre><code>awk '{print NR, \":\", $0}' file.txt\n</code></pre> <p>\u5982\u679c\u60f3\u4ece 0 \u5f00\u59cb\uff0c\u5219\u6539\u6210 <code>NR-1</code>.</p>"},{"location":"Linux/tools/#processing-two-files","title":"processing two files","text":"<pre><code>$ awk 'NR == FNR {# some actions; next} # other condition {# other actions}' file1.txt file2.txt\n</code></pre> <p>where</p> <ul> <li><code>NR</code>: stores the total number of input records read so far, regardless of how many files have been read. </li> <li><code>FNR</code>: stores the number of records read from the current file being processed.</li> <li>so <code>NR == FNR</code> is only true when reading the first file</li> <li><code>next</code> prevents the other condition/actions when reading the first file</li> </ul> <p>Info</p> <p>A single number <code>1</code> can also serve as the condition, which means True, see also awk \u2018{sub(/pattern/, \u201cfoobar\u201d)} 1\u2019.</p> <p>\u201c1\u201d is an always-true pattern; the action is missing, which means that it is <code>{print}</code> (the default action that is executed if the pattern is true).</p> <p>refer to Idiomatic awk (A fantastic tutorial with many examples)</p> <p>For example, print the specific lines in <code>test.md</code> whose row numbers are defined in <code>line.txt</code>,</p> <pre><code>$ awk 'FNR==NR{wanted[$0]; next} FNR in wanted' lines.txt test.md\n</code></pre> <p>first came across in selecting a large number of (specific) rows in file - Stack Overflow, but it used <code>wanted[$0]++</code>, which does not make differences.</p>"},{"location":"Linux/tools/#sum-of-a-column-of-numbers","title":"sum of a column of numbers","text":"<pre><code>awk '{s+=$1} END {print s}' data.txt\n</code></pre> <p>refer to Bash command to sum a column of numbers - Stack Overflow for other approaches.</p> <p>For example, sum up the memory usage,</p> <pre><code>$ ps -e -o pid,cmd,%mem --sort=-%mem | awk 'NR &gt; 1{s+=$NF} END {print s}'\n</code></pre>"},{"location":"Linux/tools/#select-lines-with-conditions","title":"select lines with conditions","text":"<ul> <li>select lines whose 2nd column is not empty: usage of <code>!~</code></li> </ul> <pre><code>$ echo -e 'a \\n c d' | awk '$2 !~ /^$/{print $2}'\nd\n</code></pre> <ul> <li>select lines whose 2nd column is not either empty or <code>-</code>: usage of <code>|</code></li> </ul> <pre><code>$ echo -e 'a -\\n c d' | awk '$2 !~ /-|^$/{print $2}'\nd\n</code></pre> <ul> <li>select lines whose both 2nd column and 3rd column are not empty: usage of <code>&amp;&amp;</code></li> </ul> <pre><code>$ echo -e 'a - 1 \\n c d 3 \\n 5 6 ' | awk '$2 !~ /-|^$/ &amp;&amp; $3 !~ /^$/ {print $2}'\nd\n</code></pre>"},{"location":"Linux/tools/#cat","title":"<code>cat</code>","text":"<ul> <li>add text to the beginning of a file</li> </ul> <pre><code>echo 'task goes here' | cat - todo.txt &gt; temp &amp;&amp; mv temp todo.txt\n</code></pre> <p>where <code>-</code> represents the standard input, see also </p> <p>alternatively, we can use <code>sed</code>, refer to  for more details</p>"},{"location":"Linux/tools/#column","title":"<code>column</code>","text":"<p>display the csv beautifully,</p> <pre><code>$ head file1.txt | column -s, -t\n</code></pre> <p>if two files share the same columns, </p> <pre><code>$ (head file1.txt; head file2.txt) | column -s, -t\n</code></pre> <p>where</p> <ul> <li><code>-s,</code>: specify the delimiter as <code>,</code></li> <li><code>-t</code>: print in a table</li> </ul> <p>refer to View tabular file such as CSV from command line</p>"},{"location":"Linux/tools/#convert","title":"<code>convert</code>","text":""},{"location":"Linux/tools/#_1","title":"\u56fe\u7247\u88c1\u526a","text":"<p>\u5728\u8fde\u63a5\u663e\u793a\u5668\u72b6\u6001\u4e0b\uff0c\u5168\u5c4f\u622a\u56fe\u65f6\u6709\u4e00\u4e2a\u5c4f\u5e55\u662f\u591a\u4f59\u7684\uff0c\u53ef\u4ee5\u6279\u91cf\u88c1\u526a</p> <pre><code># \u622a\u53f3\u5c4f\n$ ls -1 | xargs -I {} convert {} -crop 1920x1200+1920+0 crop_{}\n# \u622a\u5de6\u5c4f\n$ ls -1 | xargs -I {} convert {} -crop 1920x1200+0+0 crop_{}\n</code></pre> <p>\u5176\u4e2d <code>-crop</code> \u53c2\u6570\u683c\u5f0f\u4e3a <code>width</code>x<code>height</code>+<code>left</code>+<code>top</code>.</p> <p>Tip</p> <p><code>Ctrl+Alt+PrtSc</code> \u53ef\u4ee5\u53ea\u622a\u9f20\u6807\u6240\u5728\u5c4f\u5e55\u3002</p>"},{"location":"Linux/tools/#_2","title":"\u56fe\u7247\u62fc\u63a5","text":"<pre><code># \u6c34\u5e73\u65b9\u5411\nconvert +append *.png out.png\n# \u5782\u76f4\u65b9\u5411\nconvert -append *.png out.png\n</code></pre> <p>\u53c2\u8003 How do I join two images in Ubuntu?</p> <p>\u5982\u679c\u540c\u65f6\u60f3\u4e24\u5f20\u56fe\u7247\u9ad8\u5ea6\u4e00\u6837\uff0c\u5219\u52a0\u5165 <code>-resize xW</code> \u8bed\u6cd5\uff0c\u5982</p> <pre><code># NOT work\n$ convert map.png IMG_20210808_172104.jpg +append -resize x600 /tmp/p1.png\n# work\n$ convert +append map.png IMG_20210808_172104.jpg -resize x600 /tmp/p1.png\n</code></pre> <p>\u4f46\u662f\u8981\u6ce8\u610f\u6b64\u65f6 <code>+append</code> \u8981\u653e\u5728\u524d\u9762\uff0c\u4e5f\u5c31\u662f <code>-resize</code> \u9700\u8981\u7d27\u8ddf\u7740\u56fe\u7247\u3002</p> <p>\u53c2\u8003 Merge Images Side by Side(Horizontally) - Stack Overflow</p> <p>\u4f46\u662f\u6ce8\u610f <code>-resize</code> \u4f1a\u4f7f\u5f97 orientation \u65e0\u6548\uff0c\u7136\u540e\u56fe\u7247\u4f1a\u53d1\u751f\u65cb\u8f6c\uff0c\u53c2\u8003 ImageMagick convert rotates images during resize\uff0c\u4f7f\u7528 <code>-auto-orient</code> \u53c2\u6570\uff0c\u5c31\u80fd\u907f\u514d\u4e22\u5931\u56fe\u7247\u4e2d\u7684 orientation \u4fe1\u606f\uff0c</p> <pre><code>$ convert -auto-orient +append map.png IMG_20210808_172104.jpg -resize x600 /tmp/p2.png\n</code></pre>"},{"location":"Linux/tools/#_3","title":"\u7f29\u5c0f\u56fe\u7247\u5927\u5c0f","text":"<pre><code># only specify the wide as 1024 pixel to keep the aspect ratio\nconvert input.png -resize 1024x out.png\nconvert input.png -quality 50% out.png\n</code></pre> <p>\u53c2\u8003How can I compress images?</p>"},{"location":"Linux/tools/#jpgpdf","title":"\u5408\u5e76jpg\u5230pdf","text":"<p>\u53c2\u8003convert images to pdf: How to make PDF Pages same size</p> <p>\u76f4\u63a5\u91c7\u7528</p> <pre><code>pdftk A.pdf B.pdf cat output merge.pdf\n</code></pre> <p>\u5f97\u5230\u7684pdf\u4e2d\u9875\u9762\u5927\u5c0f\u4e0d\u4e00\u81f4\uff0c\u4e8e\u662f\u91c7\u7528\u4e0b\u9762\u7684\u547d\u4ee4</p> <pre><code>convert a.png b.png -compress jpeg -resize 1240x1753 \\\n-extent 1240x1753 -gravity center \\\n-units PixelsPerInch -density 150x150 multipage.pdf\n</code></pre> <p>\u6ce8\u610f\u91cd\u70b9\u662f <code>-density 150x150</code>\uff0c\u82e5\u53bb\u6389\u8fd9\u4e2a\u9009\u9879\uff0c\u5219\u8fd8\u662f\u5f97\u4e0d\u5230\u76f8\u540c\u9875\u9762\u5927\u5c0f\u7684\u6587\u4ef6\u3002</p> <p>\u53e6\u5916\uff0c\u4e0a\u8ff0\u547d\u4ee4\u662f\u5bf9\u4e8e<code>.png</code>\u800c\u8a00\u7684\uff0c\u5b8c\u5168\u53ef\u4ee5\u6362\u6210<code>.jpg</code>\u3002</p> <p>\u540c\u65f6\uff0c\u6ce8\u610f<code>1240x1753</code>\u4e2d\u95f4\u662f\u5b57\u6bcd<code>x</code>.</p>"},{"location":"Linux/tools/#pdf-jpg","title":"pdf \u8f6c\u4e3a jpg","text":"<p><code>-quality 100</code> \u63a7\u5236\u8d28\u91cf  <code>-density 600x600</code> \u63a7\u5236\u5206\u8fa8\u7387</p> <p>\u5e76\u6ce8\u610f\u53c2\u6570\u653e\u7f6e\u6587\u4ef6\u7684\u524d\u9762</p> <p>pdf \u8f6c png \u66f4\u597d\u7684\u547d\u4ee4\u662f <code>pdftoppm</code>\uff0c\u53c2\u8003 How to convert PDF to Image?</p> <pre><code>pdftoppm alg.pdf alg -png -singlefile\n</code></pre> <p>\u56fe\u7247\u8d28\u91cf\u6bd4 <code>convert</code> \u597d\u5f88\u591a\uff01\uff01</p>"},{"location":"Linux/tools/#convert-imgs-to-pdf","title":"convert imgs to pdf","text":"<pre><code>ls -1 ./*jpg | xargs -L1 -I {} img2pdf {} -o {}.pdf\npdftk likelihoodfree-design-a-discussion-{1..13}-1024.jpg.pdf cat output likelihoodfree-design-a-discussion.pdf\n</code></pre> <p>\u6ce8\u610f\u8fd9\u91cc\u9700\u8981\u7528 <code>ls -1</code>\uff0c\u5982\u679c <code>ll</code> \u5219\u7b2c\u4e00\u884c\u4f1a\u6709 <code>total xxx</code> \u7684\u4fe1\u606f\uff0c\u5373 <code>ll | wc -l</code> \u7b49\u4e8e <code>ls -1 | wc -l</code> + 1\uff0c\u800c\u4e14\u5728\u6211\u7684 Ubuntu 18.04 \u4e2d\uff0c<code>ll</code> \u751a\u81f3\u8fd8\u4f1a\u5217\u51fa</p> <pre><code>./\n../\n</code></pre> <p>\u8fd9\u4e00\u70b9\u5728\u670d\u52a1\u5668\u4e0a\u6ca1\u770b\u5230\u3002</p>"},{"location":"Linux/tools/#adjust-brightness-and-contrast","title":"adjust brightness and contrast","text":"<p>Info</p> <p>Here is one example used in my project.</p> <pre><code>$ convert -brightness-contrast 10x5 input.jpg output.jpg\n</code></pre> <p>where <code>10x5</code> increases the brightness 10 percent and the contrast 5 percent. </p> <p>These two values range from -100 to 100, and</p> <ul> <li>negative value: decrease</li> <li>zero: leave it off</li> <li>positive value: increase</li> </ul> <p>more details refer to ImageMagick: Annotated List of Command-line Options</p> <p>As an alternative, the GUI software <code>Shotwell</code> also provides similar functions, just clicking <code>enhance</code>.</p>"},{"location":"Linux/tools/#cd","title":"<code>cd</code>","text":"<ul> <li><code>cd \"$(dirname \"$0\")\"</code>: cd current directory</li> </ul>"},{"location":"Linux/tools/#cp","title":"<code>cp</code>","text":"<p>the common usage is <code>cp SOURCE DEST</code>, but if we want to copy multiple files into a single folder at once, we can use</p> <pre><code>cp -t DIRECTORY SOURCE\n</code></pre> <p>where <code>SOURCE</code> can be multiple files, inspired from Copying multiple specific files from one folder to another - Ask Ubuntu</p>"},{"location":"Linux/tools/#curl","title":"<code>curl</code>","text":"<ul> <li><code>-O</code>: save locally with the same remote name</li> </ul>"},{"location":"Linux/tools/#cut","title":"<code>cut</code>","text":"<p>To select the first field of a file <code>file.txt</code>,</p> <pre><code>a=$(cut -d'.' -f1 &lt;&lt;&lt; $1)_test\necho $a\n</code></pre> <p>where <code>-d'.'</code> is to define the delimiter, and then <code>-f1</code> get the first field.</p> <p>If we need to get the last field, we can use <code>rev</code>, i.e.,</p> <pre><code>echo 'maps.google.com' | rev | cut -d'.' -f 1 | rev\n</code></pre> <p>refer to How to find the last field using \u2018cut\u2019 and 10 command-line tools for data analysis in Linux</p>"},{"location":"Linux/tools/#date","title":"<code>date</code>","text":"<pre><code>timestamp=$(date +\"%Y-%m-%dT%H:%M:%S\")\necho $timestamp\n# 2020-02-11T10:51:42\n</code></pre> <p>we can compare two timestamps as follows</p> <pre><code>d1=$(date -d \"2019-09-22 20:07:25\" +'%s')\nd2=$(date -d \"2019-09-22 20:08:25\" +'%s')\nif [ $d1 -gt $d2 ]\nthen\necho \"d1 &gt; d2\"\nelse\necho \"d1 &lt; d2\"\nfi\n</code></pre> <p>where</p> <ul> <li><code>-d</code>: display time described by STRING, not \u2018now\u2019 (from <code>man date</code>) Alternatively, we can use format <code>-d \"-10 days -8 hours -Iseconds\"</code> to refer to the timestamp based on the current date, and <code>-Iseconds</code> specifies the unit as <code>seconds</code>, see the application in Git: change-commit-time.</li> <li><code>+%[format-option]</code>: format specifiers (details formats refer to <code>man date</code>, but I am curious why <code>+</code>, no hints from <code>many date</code>, but here is one from date command in Linux with examples)</li> <li><code>-gt</code>: larger than, <code>-lt</code>: less than; with equality, <code>-ge</code> and <code>-le</code>, (from Shell \u57fa\u672c\u8fd0\u7b97\u7b26)</li> <li>\u6761\u4ef6\u8868\u8fbe\u5f0f\u8981\u653e\u5728\u65b9\u62ec\u53f7\u4e4b\u95f4\uff0c\u5e76\u4e14\u8981\u6709\u7a7a\u683c, from Shell \u57fa\u672c\u8fd0\u7b97\u7b26</li> </ul> <p>refer to How to compare two time stamps?</p>"},{"location":"Linux/tools/#diff","title":"<code>diff</code>","text":"<ul> <li>compare contents of two folders, see also </li> </ul> <pre><code>$ diff folder1 folder2\n</code></pre>"},{"location":"Linux/tools/#du","title":"<code>du</code>","text":"<ul> <li>list size of subdirectories/files: <code>du -shc *</code>, where <code>-c</code> outputs the total. If sort according to size with <code>| sort -n</code>, the option <code>-h</code> is problematic, since <code>sort</code> cannot recognize the units <code>K, M</code>. Hopefully, <code>sort</code> also supports <code>-h</code> option, so just use <code>| sort -h</code>.</li> </ul>"},{"location":"Linux/tools/#emacs","title":"<code>emacs</code>","text":"Uninstalled"},{"location":"Linux/tools/#_4","title":"\u5e38\u7528\u547d\u4ee4","text":"<ol> <li>\u5207\u6362\u7f13\u5b58\u533a\uff1aC-o</li> <li>\u6c34\u5e73\u65b0\u5efa\u7f13\u5b58\u533a\uff1aC-2</li> <li>\u5782\u76f4\u65b0\u5efa\u7f13\u5b58\u533a\uff1aC-3</li> <li>\u5173\u95ed\u5f53\u524d\u7f13\u5b58\u533a\uff1aC-0</li> <li>\u5220\u9664\u7f13\u5b58\u533a\uff1aC-k</li> <li>\u53ea\u4fdd\u7559\u5f53\u524d\u7f13\u5b58\u533a\uff1aC-1</li> </ol>"},{"location":"Linux/tools/#emacsfcitx","title":"Emacs\u4f7f\u7528Fcitx\u4e2d\u6587","text":"<p>\u53c2\u8003\u535a\u5ba2\uff1afcitx-emacs</p> <ul> <li>Step 1: \u786e\u5b9a\u7cfb\u7edf\u5f53\u524d\u652f\u6301\u7684\u5b57\u7b26\u96c6</li> </ul> <pre><code>locale -a\n</code></pre> <p>\u82e5\u5176\u4e2d\u6709 zh_CN.utf8\uff0c\u5219\u8868\u660e\u5df2\u7ecf\u5305\u542b\u4e86\u4e2d\u6587\u5b57\u7b26\u96c6\u3002</p> <ul> <li>Step 2: \u8bbe\u7f6e\u7cfb\u7edf\u53d8\u91cf</li> </ul> <pre><code>emacs ~/.bashrc\nexport LC_CTYPE=zh_CN.utf8 source ~/.bashrc\n</code></pre> <ul> <li>\u914d\u7f6e\u6587\u4ef6: http://download.csdn.net/download/karotte/3812760</li> <li>\u81ea\u52a8\u8865\u5168: \u53c2\u8003emacs\u81ea\u52a8\u8865\u5168\u63d2\u4ef6auto-complet\u548cyasnippet\uff0c\u5b89\u88c5\u3001\u914d\u7f6e\u548c\u6269\u5c55</li> </ul>"},{"location":"Linux/tools/#echo","title":"<code>echo</code>","text":""},{"location":"Linux/tools/#string-started-with-","title":"string started with <code>-</code>","text":"<pre><code>$ a=\"-n 1\"\n$ echo $a\n1\n$ echo \"$a\"\n-n 1\n</code></pre> <p>double quotes are necessary, otherwise it would be treat as the option for <code>echo</code>. But if the string is pure <code>-</code>, the double quotes also failed,</p> <pre><code>$ b=\"-n\"\n$ echo \"$b\"\n</code></pre> <p>use <code>printf</code> would be more proper,</p> <pre><code>$ printf \"%s\\n\" \"$b\"\n-n\n$ printf \"%s\\n\" $b\n-n\n</code></pre> <p>and no need to add double quotes.</p> <p>refer to Bash: echo string that starts with \u201c-\u201d</p>"},{"location":"Linux/tools/#print-bytes","title":"print bytes","text":"<pre><code>echo -n -e '\\x66\\x6f\\x6f'\n</code></pre> <p>do not miss quotes, and <code>-e</code> is also necessary, refer to echo bytes to a file</p>"},{"location":"Linux/tools/#different-save-behavior","title":"different save behavior","text":"<p>a column of elements would be stored in an array, then save via <code>echo</code> would result one line.</p> <pre><code>$ awk '{print $1}' duplicated.idx &gt; t1.txt\n$ cat t1.txt 2\n2\n$ t1=$(awk '{print $1}' duplicated.idx)\n$ echo $t1 &gt; t2.txt\n$ cat t2.txt 2 2\n</code></pre>"},{"location":"Linux/tools/#ffmpeg","title":"<code>ffmpeg</code>","text":""},{"location":"Linux/tools/#_5","title":"\u63d0\u53d6\u97f3\u9891","text":"<p>\u4e0b\u8f7d B \u7ad9\u89c6\u9891\u6b4c\u66f2\u540e\uff0c\u63d0\u53d6\u97f3\u9891</p> <pre><code>ffmpeg -i input.mp4 output.mp3\n</code></pre> <p>B \u7ad9\u89c6\u9891\u4e0b\u8f7d\u65b9\u6cd5</p> <ol> <li>F12 \u6253\u5f00\u5f00\u53d1\u8005\u5de5\u5177\uff0c\u5e76\u9009\u62e9\u79fb\u52a8\u7248\u9875\u9762</li> <li>\u5207\u6362\u81f3 Network \u4e0b\u7684 Media\uff0c\u7136\u540e F5 \u5237\u65b0</li> <li>\u7f51\u9875\u4e0a\u70b9\u51fb\u64ad\u653e\uff0c\u7b49\u5f85\u7f13\u5b58</li> <li>\u53f3\u952e\u70b9\u51fb\u7f13\u5b58\u6587\u4ef6\uff0c\u9009\u62e9 Copy &gt; Copy link address\uff0c\u5373\u53ef\u5f97\u5230\u89c6\u9891\u94fe\u63a5</li> </ol> <p>\u53c2\u8003 \u600e\u4e48\u63d0\u53d6b\u7ad9\u91cc\u9762\u7684\u97f3\u9891\uff1f - \u89c6\u9891\u7f16\u8f91\u52a9\u624b\u7684\u56de\u7b54 - \u77e5\u4e4e</p>"},{"location":"Linux/tools/#_6","title":"\u53bb\u9664\u97f3\u9891","text":"<p>\u53c2\u8003 \u5982\u4f55\u4f7f\u7528ffmpeg\u53bb\u9664\u89c6\u9891\u58f0\u97f3\uff1f</p> <pre><code>ffmpeg -i .\\input.mp4 -map 0:0 -vcodec copy out.mp4\n</code></pre>"},{"location":"Linux/tools/#_7","title":"\u6162\u901f\u64ad\u653e\u548c\u5feb\u901f\u64ad\u653e","text":"<pre><code># 2 times faster\n$ ffmpeg -i input.mkv -filter:v \"setpts=0.5*PTS\" output.mkv\n</code></pre> <p>\u4f46\u662f\u5982\u679c\u53ea\u5bf9\u89c6\u9891\u5feb\u901f\u64ad\u653e\uff0c\u800c\u4e0d\u5904\u7406\u97f3\u9891\uff0c\u5219\u6587\u4ef6\u7684\u603b\u65f6\u957f\u4ecd\u4e0d\u53d8\u3002\u5982\u679c\u53ea\u5173\u6ce8\u89c6\u9891\uff0c\u53ef\u4ee5\u5148\u53bb\u9664\u97f3\u9891\uff0c\u7136\u540e\u518d\u505a\u53d8\u901f\u5904\u7406\u3002</p> <p>\u53c2\u8003 ffmpeg \u89c6\u9891\u500d\u901f\u64ad\u653e \u548c \u6162\u901f\u64ad\u653e</p> <p>\u9664\u6b64\u4e4b\u5916\uff0c\u8fd8\u53ef\u4ee5\u901a\u8fc7\u5148\u8f6c\u6210 raw bitstream \u6587\u4ef6\uff08\u672a\u5c1d\u8bd5\uff09\uff0c\u8be6\u89c1 How to speed up / slow down a video \u2013 FFmpeg</p> <p>\u5bf9\u4e8e GIF \u6587\u4ef6\uff0c\u8fd8\u53ef\u4ee5\u7528 <code>convert</code> \u4e2d\u7684  <code>-delay</code> \u9009\u9879\u5b9e\u73b0\u3002\u4e24\u8005\u533a\u522b\u5728\u4e8e\uff0c\u524d\u8005\u4f1a\u4e22\u5e27\uff0c\u800c\u540e\u8005\u4e0d\u4f1a\uff0c</p> <pre><code>$ convert -delay 10 input.gif output.gif\n</code></pre> <p>refer to https://infoheap.com/imagemagick-convert-edit-animated-gif-speed-fps/</p>"},{"location":"Linux/tools/#_8","title":"\u89c6\u9891\u65cb\u8f6c","text":"<p>\u53c2\u8003How can I rotate a video?</p> <p>\u76f4\u63a5\u7528</p> <pre><code>ffmpeg -i in.mov -vf \"transpose=1\" out.mov\n</code></pre> <p>\u7136\u540e\u62a5\u9519 \u201cThe encoder \u2018aac\u2019 is experimental but experimental codecs are not enabled\u201d</p> <p>\u6ce8\u610f\u6dfb\u52a0 <code>-strict -2</code> \u8981\u6ce8\u610f\u653e\u7f6e\u4f4d\u7f6e\uff0c\u4e00\u5f00\u59cb\u76f4\u63a5\u5728\u4e0a\u8ff0\u547d\u4ee4\u540e\u9762\u52a0\u5165\uff0c\u4f46\u5931\u8d25\uff0c\u5e94\u8be5\u5199\u6210</p> <pre><code>ffmpeg -i in.mov -vf \"transpose=1\" -strict -2 out.mov\n</code></pre>"},{"location":"Linux/tools/#_9","title":"\u89c6\u9891\u526a\u5207","text":"<pre><code>ffmpeg -ss 00:00:30.0 -i input.wmv -c copy -t 00:00:10.0 output.wmv\n</code></pre> <p>where</p> <ul> <li>(optional) <code>-ss</code> specifies the start timestamp, the format is <code>HH:MM:SS.xxx</code></li> <li>(optional) <code>-t</code> specifies the duration, or use <code>-to</code> to specifies the end timestamp</li> </ul> <p>refer to Using ffmpeg to cut up video</p>"},{"location":"Linux/tools/#concat","title":"concat","text":"<pre><code>$ ffmpeg -f concat -safe 0 -i &lt;(echo file $PWD/8xonlyVID_20210808_170208.mp4; echo file $PWD/8xonlyVID_20210808_170328.mp4) -c copy 8xonlyVID_20210808_170208+328.mp4\n</code></pre> <p>note that <code>$PWD</code> is necessary, otherwise it throws</p> <p>Impossible to open \u2018/dev/fd/8xonlyVID_20210808_170328.mp4\u2019 /dev/fd/63: No such file or directory</p> <p>Also note that <code>&amp;</code> seems will print the file info reversely,</p> <pre><code>$ echo \"1\" &amp; echo \"2\"\n[5] 5142\n2\n[4]   Done                    echo \"1\"\n1\n$ echo \"1\"; echo \"2\"\n1\n2\n</code></pre> <p>refer to How to concatenate two MP4 files using FFmpeg? - Stack Overflow</p>"},{"location":"Linux/tools/#find","title":"<code>find</code>","text":"<pre><code>$ find . -group group\n$ find . -user user\n</code></pre> <p>refer to list files with specific group and user name</p> <ul> <li>recursively list files in subdirectories</li> </ul> <pre><code>$ find . -name '*.md'\n</code></pre> <p>alternatively,</p> <pre><code>$ ls -R | grep '\\.md$'\n</code></pre> <p>where <code>.</code> needs to be escape and <code>$</code> is necessary, otherwise it would match strings like <code>rmd</code>.</p> <ul> <li>list all symbolic links</li> </ul> <pre><code>$ find . -type l -ls\n</code></pre> <p>Warning</p> <p>Parsing <code>ls</code>, such as <code>ls | grep \"\\-&gt;\"</code> is a bad idea. </p> <p>usage of <code>-exec</code></p> <pre><code>find /path [args] -exec [cmd] {} \\;\n</code></pre> <p>where </p> <ul> <li><code>{}</code> is a placeholder, similar in <code>xargs</code>.</li> <li><code>\\;</code> indicates that for each found result, the command <code>cmd</code> is executed once with the found result.</li> </ul> <p>For example, convert the file encoding in szcf-weiya/Matlab30IAs</p> <pre><code>find . -name '*.m' -ls -exec iconv -f GB18030 {} -t UTF8 -o {} \\;\n</code></pre> <p>see also </p>"},{"location":"Linux/tools/#grep","title":"<code>grep</code>","text":"<ul> <li><code>-P</code>: perl-style regex</li> <li><code>-o</code>: only print the matched part instead of the whole line</li> <li><code>-v</code>: \u53cd\u9009</li> </ul> <pre><code>$ grep -oP \"hello \\K\\w+\" &lt;&lt;&lt; \"hello world\"\nworld\n</code></pre> <p>where <code>\\K</code> is the short form of <code>(?&lt;=pattern)</code> as a zero-width look-behind assertion before the text to output, and <code>(?=pattern)</code> can be used as a zero-width look-ahead assertion after the text to output. For example, extract the text between <code>hello</code> and <code>weiya</code>.</p> <pre><code>$ grep -oP \"hello \\K(.*)(?=, weiya)\" &lt;&lt;&lt; \"hello world, weiya!\"\nworld\n</code></pre> <p>or equivalently,</p> <pre><code>$ grep -oP \"(?&lt;=hello )(.*)(?=, weiya)\" &lt;&lt;&lt; \"hello world, weiya!\"world\nworld\n</code></pre> <p>note that the space is also counted, </p> <pre><code>$ grep -oP \"(?&lt;=hello)(.*)(?=, weiya)\" &lt;&lt;&lt; \"hello world, weiya!\"\nworld\n</code></pre> <p>refer to Can grep output only specified groupings that match? - Unix &amp; Linux Stack Exchange</p> <p>Info</p> <p>A practical example.</p> <ul> <li>find all files given keywords, refer to How do I find all files containing specific text on Linux? - Stack Overflow</li> </ul> <pre><code>grep -rnw '/path/to/somewhere/' -e 'pattern'\n</code></pre> <p>For example, J asked me about a situation that python failed to print to the log file in real time, and I indeed remembered that I had came cross this situation, but cannot find the relative notes. So I am trying to find files given possible keywords, such as <code>real time</code>, <code>print</code>, and finally I got the results</p> <pre><code>$ grep -rnw docs/*/*.md -e '\u8f93\u51fa'\ndocs/julia/index.md:765:&gt; HASH\u51fd\u6570\u662f\u8fd9\u4e48\u4e00\u79cd\u51fd\u6570\uff0c\u4ed6\u63a5\u53d7\u4e00\u6bb5\u6570\u636e\u4f5c\u4e3a\u8f93\u5165\uff0c\u7136\u540e\u751f\u6210\u4e00\u4e32\u6570\u636e\u4f5c\u4e3a\u8f93\u51fa\uff0c\u4ece\u7406\u8bba\u4e0a\u8bf4\uff0c\u8bbe\u8ba1\u826f\u597d\u7684HASH\u51fd\u6570\uff0c\u5bf9\u4e8e\u4efb\u4f55\u4e0d\u540c\u7684\u8f93\u5165\u6570\u636e\uff0c\u90fd\u5e94\u8be5\u4ee5\u6781\u9ad8\u7684\u6982\u7387\u751f\u6210\u4e0d\u540c\u7684\u8f93\u51fa\u6570\u636e\uff0c\u56e0\u6b64\u53ef\u4ee5\u4f5c\u4e3a\u201c\u6307\u7eb9\u201d\u4f7f\u7528\uff0c\u6765\u5224\u65ad\u4e24\u4e2a\u6587\u4ef6\u662f\u5426\u76f8\u540c\u3002\ndocs/Linux/index.md:588:\u53d1\u73b0\u4e00\u4ef6\u5f88\u8ff7\u7684\u4e8b\u60c5\uff0c\u8981\u52a0\u4e0a `-u` \u624d\u80fd\u5b9e\u73b0\u5b9e\u65f6\u67e5\u770b\u8f93\u51fa\u3002\ndocs/shell/index.md:125:1. \u5355\u5f15\u53f7\u91cc\u7684\u4efb\u4f55\u5b57\u7b26\u90fd\u4f1a\u539f\u6837\u8f93\u51fa\uff0c\u5355\u5f15\u53f7\u5b57\u7b26\u4e32\u4e2d\u7684\u53d8\u91cf\u662f\u65e0\u6548\u7684\uff1b\n</code></pre> <p>As a comparison, the search function provided by GitHub is not so powerful since no related results returned in the search link https://github.com/szcf-weiya/techNotes/search?q=%E8%BE%93%E5%87%BA&amp;type=issues</p> <p>When I perform it on <code>syslog</code>, it did not return all matched results, and outputs,</p> <pre><code>$ grep -i failed syslog\nJul 24 13:17:11 weiya-ThinkPad-T460p gvfsd-metadata[13786]: g_udev_device_has_property: assertion 'G_UDEV_IS_DEVICE (device)' failed\nJul 24 14:02:53 weiya-ThinkPad-T460p gvfsd-metadata[13786]: g_udev_device_has_property: assertion 'G_UDEV_IS_DEVICE (device)' failed\nJul 24 14:02:53 weiya-ThinkPad-T460p gvfsd-metadata[13786]: g_udev_device_has_property: assertion 'G_UDEV_IS_DEVICE (device)' failed\nBinary file syslog matches\n</code></pre> <p>refer to https://stackoverflow.com/questions/23512852/grep-binary-file-matches-how-to-get-normal-grep-output, add <code>-a</code> option.</p>"},{"location":"Linux/tools/#htop","title":"<code>htop</code>","text":"<p>A much more powerful command than <code>top</code>, refer to Find out what processes are running in the background on Linux</p> <ul> <li>setup: modify the information layout when there are many CPUs. Firstly select the panel from the rightmost column, and then press <code>Left</code>, <code>Right</code>, <code>Up</code>, <code>Down</code> to move. The resulting configure file would be written into <code>~/.config/htop/htoprc</code>.</li> </ul>"},{"location":"Linux/tools/#journalctl","title":"<code>journalctl</code>","text":"<ul> <li>list log of previous boots</li> </ul> <pre><code>$ journalctl --list-boots\n</code></pre> <ul> <li>display last boot log</li> </ul> <pre><code>$ journalctl -b-1\n</code></pre> <p>see also: </p>"},{"location":"Linux/tools/#ln","title":"<code>ln</code>","text":"<ul> <li>with <code>-s</code>, create a soft link</li> <li>without <code>-s</code>, create a hard link</li> </ul> <p>A \u201chard link\u201d is actually between two directory entries; they\u2019re really the same file. And the number of the permission of <code>ll</code> also shows the number of hard links, such as <code>2</code> in <code>-rw-rw-r--  2</code>.</p> <p>the same file as another is they have the same inode number; no other file will have that.</p> <p>We can get the <code>inode</code> as follows,</p> <pre><code>$ stat resolve_utf.py | grep -i inode\nDevice: 811h/2065d  Inode: 14716809    Links: 2\n</code></pre> <p>refer to How to find out a file is hard link or symlink?</p>"},{"location":"Linux/tools/#ls","title":"<code>ls</code>","text":"<ul> <li><code>-S</code>: sort by filesize</li> </ul> <pre><code># only show directory\nls -d */\n</code></pre> <p>refer to Listing only directories using ls in Bash?</p> <p>My application: TeXtemplates: create a tex template</p>"},{"location":"Linux/tools/#check-whether-a-certain-file-typeextension-exists-in-directory","title":"check whether a certain file type/extension exists in directory","text":"<pre><code>if ls *.bib &amp;&gt;/dev/null; then\n#\nfi\n</code></pre> <p>refer to Check whether a certain file type/extension exists in directory</p> <p>My application: TeXtemplates: create a tex template</p>"},{"location":"Linux/tools/#mkdir","title":"<code>mkdir</code>","text":"<ul> <li><code>mkdir -p</code>: mkdir only if a dir does not already exist?</li> </ul>"},{"location":"Linux/tools/#notify-send","title":"<code>notify-send</code>","text":"<ul> <li>use <code>critical</code> level: by default the message in the notification list cannot show full message when hovering it, it can display the message when it pops up. So an alternative is to extend the time of showing up. However, the manual <code>help notify-send</code> tells that Ubuntu\u2019s Notify OSD and GNOME Shell both ignore the expire time parameter <code>-t</code>. Hopefully, we can set <code>-u critical</code> to make the urgency level high, and it turns out that the pops up window would not disappear only when you click it.</li> <li>show whole message: leave summary empty and only show body, but still only when mouse is hovering the pop window, see also </li> <li>escape <code>-</code> in the string, otherwise it throws <code>Unknown option</code></li> <li>specify icon <code>-i your_icon_path</code>, note that the path should be full path instead of relative path. </li> </ul> <p>Applications</p> <ul> <li>random pop up English words</li> <li>monitor status of watching videos</li> </ul>"},{"location":"Linux/tools/#paste","title":"<code>paste</code>","text":"<p>\u6309\u5217\u62fc\u63a5\u6587\u672c\u6587\u4ef6</p> <pre><code>### \u6309\u5217\npaste file1 file2 &gt; outputfile\n### \u6309\u884c\ncat file1 file2 &gt; outputfile\n</code></pre> <p>See also</p> <p><code>cat</code></p> <p>convert a column to a row with delimiter <code>,</code></p> <pre><code>$ for i in {1..10}; do echo $i; done | paste -s -d','\n1,2,3,4,5,6,7,8,9,10\n</code></pre> <p>where <code>-s</code> aims to paste one file at a time instead of in parallel, which results in one line. Refer to how to concatenate lines into one string</p> <p>Example</p> <p>Paste files from list of paths into single output file</p> <pre><code>paste `cat filelist.txt` &gt; output.txt\n</code></pre> <p>and</p> <pre><code>touch buffer.txt\ncat filelist.txt | xargs -iXX bash -c 'paste buffer.txt XX &gt; output.txt; mv output.txt buffer.txt'; \nmv buffer.txt output.txt\n</code></pre>"},{"location":"Linux/tools/#pdftk","title":"<code>pdftk</code>","text":"<ul> <li>split pdf pages: <code>pdftk all.pdf cat 1 output first.pdf</code>, see also arXiv. Alternatively, one can use <code>print to file</code> function provided by pdf viewer, such as <code>evince</code>, particularly when <code>pdftk</code> failed like in Issue 45.</li> <li>modify pdf metadata via <code>pdftk</code></li> </ul> <pre><code>pdftk input.pdf dump_data output metadata\n# edit metadata\npdftk input.pdf update_info metadata output output.pdf\n</code></pre>"},{"location":"Linux/tools/#ps","title":"<code>ps</code>","text":"<ul> <li>brackets around processes: when the arguments to the command cannot be located. </li> </ul> <pre><code>$ ps -aef \nweiya     793892    7821  0 19:33 pts/10   00:00:00 /bin/bash\nroot      794217       2  0 19:35 ?        00:00:00 [kworker/3:0]\nroot      794336       2  0 19:35 ?        00:00:00 [kworker/u8:3]\n</code></pre> <ul> <li>show long character usernames which consists of <code>+</code>. </li> </ul> <pre><code>ps axo user:20,pid,pcpu,pmem,vsz,rss,tty,stat,start,time,comm\nalias psaux='ps axo user:20,pid,pcpu,pmem,vsz,rss,tty,stat,start,time,comm'\n</code></pre>"},{"location":"Linux/tools/#ps2pdf-pdf2ps","title":"<code>ps2pdf, pdf2ps</code>","text":""},{"location":"Linux/tools/#reduce-pdf-file-size","title":"reduce pdf file size","text":"<p>It can be used to reduce the pdf size. </p> <p>Generally, there are two major reasons why PDF file size can be unexpectedly large (refer to Understanding PDF File Size).</p> <ul> <li>one or more fonts are stored inside PDF document.</li> <li>using images for creating PDF file.</li> </ul> <p>I just got a large non-scanned pdf with size 136M, and it probably is due to many embedded fonts which can be checked in the properties.</p> <p>Then I tried the command <code>ps2pdf</code> mentioned in Reduce PDF File Size in Linux, the file size is significantly reduced, only 5.5M!</p> <pre><code>$ ps2pdf -dPDFSETTINGS=/ebook Puntanen2011_Book_MatrixTricksForLinearStatistic.pdf Puntanen2011_Book_MatrixTricksForLinearStatistic_reduced.pdf\n$ pdfinfo Puntanen2011_Book_MatrixTricksForLinearStatistic.pdf \nCreator:        \nProducer:       Acrobat Distiller 8.0.0(Windows)\nCreationDate:   Tue Jul 26 20:43:43 2011 CST\nModDate:        Fri Aug 19 19:57:50 2011 CST\nTagged:         no\nUserProperties: no\nSuspects:       no\nForm:           AcroForm\nJavaScript:     no\nPages:          504\nEncrypted:      no\nPage size:      439.37 x 666.142 pts\nPage rot:       0\nFile size:      142394146 bytes\nOptimized:      no\nPDF version:    1.3\n$ pdfinfo Puntanen2011_Book_MatrixTricksForLinearStatistic_reduced.pdf \nCreator:        \nProducer:       GPL Ghostscript 9.26\nCreationDate:   Tue Apr 13 18:04:57 2021 CST\nModDate:        Tue Apr 13 18:04:57 2021 CST\nTagged:         no\nUserProperties: no\nSuspects:       no\nForm:           none\nJavaScript:     no\nPages:          504\nEncrypted:      no\nPage size:      439.37 x 666.14 pts\nPage rot:       0\nFile size:      5766050 bytes\nOptimized:      no\nPDF version:    1.4\n</code></pre> <p>We can compare the fonts before/after reducing,</p> <pre><code>$ pdffonts Puntanen2011_Book_MatrixTricksForLinearStatistic_reduced.pdf | wc -l\n57\n$ pdffonts Puntanen2011_Book_MatrixTricksForLinearStatistic.pdf | wc -l\n125\n</code></pre> <p>and it seems not directly to remove fonts. Instead, most font names have been modified. Besides, these are duplicated font names (column one), such as </p> <pre><code>$ pdffonts Puntanen2011_Book_MatrixTricksForLinearStatistic.pdf | sed 1,2d - | awk '{print $1}' | sort | uniq -c\n      1 AMJQSV+LMSans8-Regular\n        ...\n     13 OELTPO+LMMathItalic10-Regular\n        ...\n      1 Times\n      2 TimesNewRoman\n      1 TimesNewRoman,Italic\n      3 Times-Roman\n        ...\n     15 YCQSHP+LMRoman10-Bold\n      4 YWGCMO+LMMathSymbols7-Regular\n     16 ZMWYHT+LMRoman10-Regular\n</code></pre> <p>Count the number of unique names,</p> <pre><code>$ pdffonts Puntanen2011_Book_MatrixTricksForLinearStatistic.pdf | sed 1,2d - | awk '{print $1}' | sort | uniq -c | wc -l\n50\n$ pdffonts Puntanen2011_Book_MatrixTricksForLinearStatistic_reduced.pdf | sed 1,2d - | awk '{print $1}' | sort | uniq -c | wc -l\n55\n</code></pre> <p>it shows that the reduced pdf does not have duplicated font names, (here the first two lines are removed, 57 = 55 + 2).</p> <p>pdffonts</p> <p>Another application of <code>pdffonts</code> is to check if the font has been embedded. If not, it might cause some display issue, such as the non-embedded <code>Symbol</code> in The PDF viewer \u2018Evince\u2019 on Linux can not display some math symbols correctly. In contrast, Adobe Reader already ships with application-embedded instances of some fonts, such as <code>Symbol</code>, so it can render the pdf properly. A remedy is to use <code>gs</code>, see more details in the above reference.</p>"},{"location":"Linux/tools/#flatten-pdf-file","title":"flatten pdf file","text":"<p>Flattening a PDF means to merge separated contents of the document into one so that,</p> <ul> <li>Interactive elements in PDF forms such as checkboxes, tex boxes, radio buttons, drop-down lists are no longer fillable</li> <li>Annotations become \u201cnative text\u201d</li> <li>Multiple layers of text, images, page numbers, and header styles turn into one single layer.</li> </ul> <p>An easy way is</p> <pre><code>pdf2ps orig.pdf - | ps2pdf - flattened.pdf\n</code></pre> <p>some alternatives can be found in is-there-a-way-to-flatten-a-pdf-image-from-the-command-line.</p>"},{"location":"Linux/tools/#rename","title":"<code>rename</code>","text":"<p>Ubuntu 18.04 \u548c CentOS 7 \u4e2d\u7684 <code>rename</code> \u4e0d\u4e00\u6837\uff0c</p> <pre><code># Ubuntu 18.04\n$ rename -V\n/usr/bin/rename using File::Rename version 0.20\n# CentOS 7\n$ rename -V\nrename from util-linux 2.23.2\n</code></pre> <p>\u7528\u6cd5\u4e5f\u6709\u5dee\u5f02\uff0c\u524d\u8005\u91c7\u7528\u7c7b\u4f3c <code>sed</code> \u683c\u5f0f\u8bed\u53e5\u8fdb\u884c\u66ff\u6362</p> <pre><code>rename -n 's/Sam3/Stm32/' *.nc\u3000\u3000/*\u786e\u8ba4\u9700\u8981\u91cd\u547d\u540d\u7684\u6587\u4ef6*/\nrename -v 's/Sam3/Stm32/' *.nc\u3000\u3000/*\u6267\u884c\u4fee\u6539\uff0c\u5e76\u5217\u51fa\u5df2\u91cd\u547d\u540d\u7684\u6587\u4ef6*/\n</code></pre> <p>\u800c\u540e\u8005\u9700\u8981\u5c06\u66ff\u6362\u7684\u5b57\u7b26\u4e32\u5f53\u4f5c\u53c2\u6570\u4f20\u5165\uff0c\u5e76\u4e14\u53ea\u66ff\u6362\u7b2c\u4e00\u6b21\u51fa\u73b0\u7684\u5b57\u7b26\u4e32\uff0c\u5373</p> <pre><code>rename Sam3 Stm32 *.nc\n</code></pre> <p>\u53c2\u8003</p> <ul> <li>Ubuntu\u4e2drename\u547d\u4ee4\u548c\u6279\u91cf\u91cd\u547d\u540d</li> <li>Modifying replace string in xargs</li> </ul>"},{"location":"Linux/tools/#sar","title":"<code>sar</code>","text":"<p>a tool for checking io wait, refer to https://unix.stackexchange.com/questions/55212/how-can-i-monitor-disk-io</p> <pre><code>sar\n# read more history\nsar -f /var/log/sa/sa04\n</code></pre>"},{"location":"Linux/tools/#sed","title":"<code>sed</code>","text":"<ul> <li>\u6253\u5370\u7279\u5b9a\u884c\uff0c\u6bd4\u5982\u7b2c 10 \u884c\uff1a<code>sed '10!d' file.txt</code>, \u53c2\u8003 Get specific line from text file using just shell script</li> <li>\u6253\u5370\u884c\u8303\u56f4\uff0c<code>sed -n '10,20p' file.txt</code>\uff0c\u5219\u5355\u72ec\u6253\u5370\u7b2c 10 \u884c\u4e5f\u53ef\u4ee5\u7531 <code>sed -n '10p' file.txt</code> \u7ed9\u51fa\uff0c\u5982\u679c\u91c7\u7528\u5206\u53f7 <code>;</code> \u5219\u4e0d\u662f\u8fde\u7eed\u9009\u62e9\uff0c\u800c\u53ea\u662f\u7279\u5b9a\u7684\u884c\uff0c\u53c2\u8003 sed\u4e4b\u6253\u5370\u7279\u5b9a\u884c\u4e0e\u8fde\u7eed\u884c<ul> <li>\u7b2c\u4e00\u884c\u5230\u6700\u540e\u4e00\u884c\uff1a<code>sed -n '1,$p'</code></li> <li>\u7b2c\u4e00\u884c\u548c\u6700\u540e\u4e00\u884c\uff1a<code>sed -n '1p;$p'</code>, not <code>sed -n '1;$p'</code></li> </ul> </li> <li>\u5220\u9664\u6700\u540e\u4e00\u884c\uff1a<code>sed -i '$ d' file.txt</code></li> <li>\u5728 vi \u4e2d\u6ce8\u91ca\u591a\u884c\uff1a\u6309\u4f4f v \u9009\u5b9a\u7279\u5b9a\u884c\u4e4b\u540e\uff0c\u6309\u4f4f <code>:s/^/#/g</code> \u5373\u53ef\u6dfb\u52a0\u6ce8\u91ca\uff0c\u53d6\u6d88\u6ce8\u91ca\u5219\u7528 <code>:s/^#//g</code>. \u53e6\u89c1 VI.</li> <li>print lines between two matching patterns (): <code>/^pattern1/,/^pattern2/p</code>, and if one want to just print once, use <code>/^pattern1/,${p;/^pattern2/q}</code></li> <li>insertion (refer to  and )<ul> <li>insert before the line of matched expression: <code>sed '/expr/i something-to-insert'</code></li> <li>insert after the line: replace <code>i</code> with <code>a</code></li> <li>insert multiple lines: add <code>\\n</code> in the text to insert, or add <code>\\</code> at each end of line, see also </li> <li>insert at the beginning without new line: , <code>sed -i '1s/^/&lt;added text&gt; /' file</code></li> <li><code>r</code>: read a file and append it at the current point, <code>sed '/EOF/r $thingToAdd' $fileToAddItTo</code>, see also </li> </ul> </li> <li>\u7ad6\u7ebf <code>|</code> \u5143\u5b57\u7b26\u662f\u5143\u5b57\u7b26\u6269\u5c55\u96c6\u7684\u4e00\u90e8\u5206\uff0c\u7528\u4e8e\u6307\u5b9a\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u8054\u5408\u3002\u5982\u679c\u67d0\u884c\u5339\u914d\u5176\u4e2d\u7684\u4e00\u4e2a\u6b63\u5219\u8868\u8fbe\u5f0f\uff0c\u90a3\u4e48\u5b83\u5c31\u5339\u914d\u8be5\u6a21\u5f0f\u3002 </li> <li>directly replace hex string, such as <code>'s/\\xee\\x81\\xab/\u5408/g'</code>, see also </li> <li>replace multi-line string: <ul> <li>alternatively, use <code>perl</code>, e.g., scripts to switch versions of manuscript  <pre><code>perl -0777 -i -pe \"s/###BEGIN-EXCLUDE(.*?)###END-EXCLUDE//igs\" _release/src/data.jl\n</code></pre></li> </ul> </li> <li>swap two texts, use <code>\\x0</code> as a temp storage. refer to </li> </ul> <pre><code>~$ echo \"abbc\" | sed 's/ab/\\x0/g; s/bc/ab/g; s/\\x0/bc/g'\nbcab\n</code></pre> <p>Refer to</p> <ol> <li>Linux sed \u547d\u4ee4\u7528\u6cd5\u8be6\u89e3\uff1a\u529f\u80fd\u5f3a\u5927\u7684\u6d41\u5f0f\u6587\u672c\u7f16\u8f91\u5668</li> <li>sed &amp; awk\u5e38\u7528\u6b63\u5219\u8868\u8fbe\u5f0f - \u83f2\u4e00\u6253 - \u535a\u5ba2\u56ed</li> </ol>"},{"location":"Linux/tools/#-r","title":"<code>-r</code>: \u6269\u5c55\u7684\u6b63\u5219\u8868\u8fbe\u5f0f","text":"<p>\u53c2\u8003Extended regexps - sed, a stream editor</p> <p>\u6458\u5f55\u5982\u4e0b</p> <p>The only difference between basic and extended regular expressions is in the behavior of a few characters: \u2018?\u2019, \u2018+\u2019, parentheses, and braces (\u2018{}\u2019). While basic regular expressions require these to be escaped if you want them to behave as special characters, when using extended regular expressions you must escape them if you want them to match a literal character.</p> <p>\u5c31\u662f\u8bf4 basic \u6a21\u5f0f\u4e0b\uff0c\u8981\u4f7f\u7528\u7279\u6b8a\u5b57\u7b26\uff08\u5982\u6b63\u5219\u8868\u8fbe\u5f0f\u4e2d\uff09\u9700\u8981\u8f6c\u4e49\uff0c\u4f46 extended \u6a21\u5f0f\u76f8\u53cd\uff0c\u8f6c\u4e49\u540e\u8868\u8fbe\u7684\u662f\u539f\u5b57\u7b26\u3002</p> <p>\u4e3e\u4e2a\u4f8b\u5b50</p> <ol> <li><code>abc?</code> becomes <code>abc\\?</code> when using extended regular expressions. It matches the literal string \u2018abc?\u2019.</li> <li><code>c\\+</code> becomes <code>c+</code> when using extended regular expressions. It matches one or more \u2018c\u2019s.</li> <li><code>a\\{3,\\}</code> becomes <code>a{3,}</code> when using extended regular expressions. It matches three or more \u2018a\u2019s.</li> <li><code>\\(abc\\)\\{2,3\\}</code> becomes <code>(abc){2,3}</code> when using extended regular expressions. It matches either <code>abcabc</code> or <code>abcabcabc</code>.</li> <li><code>\\(abc*\\)\\1</code> becomes <code>(abc*)\\1</code> when using extended regular expressions. Backreferences must still be escaped when using extended regular expressions.</li> </ol>"},{"location":"Linux/tools/#single-or-double-quotes","title":"single or double quotes","text":"<p>When using double quotes, the string is first interpreted  by the shell before being passed to <code>sed</code>. As a result,</p> <ul> <li>more backslashes are needed (see also my answer)</li> </ul> <pre><code>$ echo \"\\alpha\" | sed 's/\\\\alpha/\\\\beta/'\n\\beta\n$ echo \"\\alpha\" | sed \"s/\\\\\\alpha/\\\\\\beta/\"\n\\beta\n</code></pre> <ul> <li>command expressions (also dollar expressions) would be evaluated firstly</li> </ul> <pre><code>$ echo '`date`' | sed 's/`date`/`uptime`/'\n`uptime`\n$ echo '`date`' | sed \"s/`date`/`uptime`/\"\n`date`\n</code></pre> <p>refer to single quote and double quotes in sed - Ask Ubuntu</p>"},{"location":"Linux/tools/#sendmail","title":"<code>sendmail</code>","text":"<p>send mail on the command line. On the stapc-WSL, install it via</p> <pre><code>$ sudo apt install sendmail\n</code></pre> <p>monitor the updates of <code>/var/log/apache2/error.log</code>. If the modified time is recent, then send email to alert.</p> <pre><code>while true; do\nlast_date=$(date -r /var/log/apache2/error.log +%s)\n#   curr_date=$(date -d \"-1 mins\" +%s)\nsleep 1m\n    curr_date=$(date +%s)\nif [[ $last_date &gt; $curr_date ]]; then\n(\ncat &lt;&lt;-EOT\n            TO: ${TO}\n            From: ${FROM}\n            Subject: ${SUBJ}\n\n            There is some updates on the /var/log/apache2/error.log\n\n            EOT\n) | sendmail -v ${TO}\nfi\ndone\n</code></pre> <p>\u5176\u4e2d <code>date -r file</code> \u8fd4\u56de\u6587\u4ef6\u7684\u4e0a\u6b21\u4fee\u6539\u65f6\u95f4\uff0c\u800c <code>+%s</code> \u5c06\u65f6\u95f4\u8f6c\u6362\u4e3a seconds\uff0c\u65b9\u4fbf\u8fdb\u884c\u6bd4\u8f83\uff0c\u53e6\u5916 <code>-d \"-1 mins\"</code> \u80fd\u5bf9\u65f6\u95f4\u8fdb\u884c\u52a0\u51cf\u5904\u7406\u3002 </p>"},{"location":"Linux/tools/#sort","title":"<code>sort</code>","text":"<ul> <li>sort according to the third column: <code>sort -k 3,3 file.txt</code></li> <li>sort with header : <code>cat your_data | (sed -u 1q; sort)</code></li> </ul>"},{"location":"Linux/tools/#tail","title":"<code>tail</code>","text":"<ul> <li><code>-f</code>: output appended data as the file grows, powerful for checking the log file in real time.</li> </ul>"},{"location":"Linux/tools/#tesseract","title":"<code>tesseract</code>","text":"<p>OCR text extraction: Tesseract OCR</p> <pre><code>$ tesseract tmp.png stdout -l eng+chi_sim quiet\n</code></pre> <p>where</p> <ul> <li><code>quiet</code> redirects the warning message</li> <li><code>stdout</code> directly outputs the results instead of writing into another text file</li> </ul> <p>more details refer to <code>man tesseract</code>.</p>"},{"location":"Linux/tools/#tmux","title":"<code>tmux</code>","text":"<p>\u53ef\u4ee5\u5b9e\u73b0\u672c\u5730\u7ec8\u7aef\u5206\u5c4f\u3002</p> <p>\u53c2\u8003 linux \u5de5\u5177\u2014\u2014\u7ec8\u7aef\u5206\u5c4f\u4e0evim\u5206\u5c4f</p> <p>Info</p> <p>\u73b0\u5728\u6539\u7528 <code>Terminator</code>, \u53c8\u79f0 <code>X-terminal-emulator</code>\u3002</p> <p>\u8fd8\u53ef\u4ee5\u5207\u6362\u540e\u53f0\u8fd0\u884c\uff0c\u5728\u670d\u52a1\u5668\u4e0a\u64cd\u4f5c\u7279\u522b\u65b9\u4fbf\u3002</p> <p>Info</p> <p>\u6b64\u524d\u8fd8\u7528\u8fc7\u7c7b\u4f3c\u7684\u8f6f\u4ef6\uff0c<code>screen</code>\uff0c</p> <pre><code>screen -list #\u6216screen -r\nscreen -r [pid] # \u8fdb\u5165\n### ctrl+A, \u7136\u540e\u8f93\u5165\":quit\"\n</code></pre> <p>\u66f4\u591a\u7528\u6cd5\u8be6\u89c1 linux screen \u547d\u4ee4\u8be6\u89e3\uff0c\u4ee5\u53ca Kill detached screen session - Stack Overflow</p> <p>\u5e38\u7528\u64cd\u4f5c</p> <pre><code># new a shell\ntmux\n# new a shell with name\ntmux new -s NAME\n# view all shell\ntmux ls\n# go back\ntmux attach-session -t [NUM]\n# simplify\ntmux attach -t [NUM]\n# more simplify\ntmux a -t [NUM]\n# via name\ntmux a -t NAME\n# complete reset: https://stackoverflow.com/questions/38295615/complete-tmux-reset\ntmux kill-server\n# rename: https://superuser.com/questions/428016/how-do-i-rename-a-session-in-tmux\nCtrl + B, $\n# kill the current session\nCtrl + B, x\n</code></pre> <p>refer to</p> <ul> <li>How do I access tmux session after I leave it?</li> <li>Getting started with Tmux</li> <li>tmux cheatsheet</li> <li>see also: Tmux copy paste</li> </ul>"},{"location":"Linux/tools/#type","title":"<code>type</code>","text":""},{"location":"Linux/tools/#which-vs-type","title":"<code>which</code> vs <code>type</code>","text":"<p>\u5728 CentOS7 \u670d\u52a1\u5668\u4e0a\uff0c</p> <pre><code>$ which -v\nGNU which v2.20, Copyright (C) 1999 - 2008 Carlo Wood.\nGNU which comes with ABSOLUTELY NO WARRANTY;\nThis program is free software; your freedom to use, change\nand distribute this program is protected by the GPL.\n</code></pre> <p><code>which</code> \u53ef\u4ee5\u8fd4\u56de alias \u4e2d\u7684\u547d\u4ee4\uff0c\u800c\u4e14\u66f4\u5177\u4f53\u5730\uff0c<code>man which</code> \u663e\u793a\u53ef\u4ee5\u901a\u8fc7\u9009\u9879 <code>--read-alias</code> \u548c <code>--skip-alias</code> \u6765\u63a7\u5236\u8981\u4e0d\u8981\u5305\u62ec alias. </p> <p>\u800c\u5728\u672c\u5730 Ubuntu 18.04 \u673a\u5668\u4e0a\uff0c\u4e0d\u652f\u6301 <code>-v</code> \u6216 <code>--version</code> \u6765\u67e5\u770b\u7248\u672c\uff0c\u800c\u4e14 <code>man which</code> \u4e5f\u5f88\u7b80\u5355\uff0c\u4ece\u4e2d\u53ef\u4ee5\u770b\u51fa\u5176\u5927\u81f4\u7248\u672c\u4fe1\u606f\uff0c<code>29 Jun 2016</code>\u3002</p> <p>\u90a3\u600e\u4e48\u663e\u793a alias \u5462\uff0c<code>type</code> \u53ef\u4ee5\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u6ce8\u610f\u67e5\u770b\u5176\u5e2e\u52a9\u6587\u6863\u9700\u8981\u7528 <code>help</code> \u800c\u975e <code>man</code>\u3002</p> <pre><code>$ type scp_to_chpc \nscp_to_chpc is a function\nscp_to_chpc () { scp -r $1 user@host:~/$2\n}\n</code></pre>"},{"location":"Linux/tools/#uchardet","title":"<code>uchardet</code>","text":"<pre><code>$ uchardet FILENAME\n</code></pre> <p>detect the file encoding</p>"},{"location":"Linux/tools/#unar","title":"<code>unar</code>","text":"<p>\u5982\u679c zip \u6587\u4ef6\u89e3\u538b\u4e71\u7801\uff0c\u53ef\u4ee5\u8bd5\u8bd5 unar,</p> <p>\u91c7\u7528 <code>unar your.zip</code></p> <p>\u53c2\u8003 Linux\u6587\u4ef6\u4e71\u7801</p> <p>\u867d\u7136\u5b83\u4f1a\u81ea\u52a8\u8bc6\u522b\u7f16\u7801\uff0c\u4f46\u6709\u65f6\u5019\u5904\u7406\u4e2d\u6587\u538b\u7f29\u6587\u4ef6\u4ecd\u7136\u51fa\u73b0\u4e71\u7801\uff0c\u6bd4\u5982\u89e3\u538b https://uploads.cosx.org/2011/03/SongPoem.tar.gz \u8fd9\u4e2a\u6587\u4ef6\uff0c</p> <p>\u8fd9\u65f6\u901a\u8fc7 <code>-e</code> \u6307\u5b9a\u7f16\u7801</p> <pre><code> unar -e GB18030 ~/PDownloads/SongPoem.tar.gz \n/home/weiya/PDownloads/SongPoem.tar.gz: Tar in Gzip\n  SongPoem.csv  (4171055 B)... OK.\n  \u5b8b\u8bcd.R  (583 B)... OK.\nSuccessfully extracted to \"SongPoem\".\n</code></pre> <p>Info</p> <p>\u6839\u636e\u65f6\u95f4\u6f14\u5316\u4ee5\u53ca\u5927\u5c0f\u5173\u7cfb\uff0c\u5e38\u89c1\u4e2d\u6587\u7f16\u7801\u65b9\u5f0f</p> <p>GB18030 &gt; GBK &gt; GB2312</p> <p>\u8be6\u89c1 GB2312\u3001GBK\u3001GB18030 \u8fd9\u51e0\u79cd\u5b57\u7b26\u96c6\u7684\u4e3b\u8981\u533a\u522b\u662f\u4ec0\u4e48\uff1f</p> <p>\u4f46\u662f\uff01\u8fd9\u53ea\u80fd\u4fdd\u8bc1\u538b\u7f29\u6587\u4ef6\u7684\u6587\u4ef6\u540d\u4ee5\u6307\u5b9a\u7684\u7f16\u7801\u683c\u5f0f\u8fdb\u884c\u7f16\u7801\uff0c\u6587\u4ef6\u5185\u5bb9\u4ecd\u7136\u662f\u4e71\u7801\uff0c\u4e8e\u662f\u4ecd\u9700\u6307\u5b9a\u7f16\u7801\u683c\u5f0f\u3002\u4e3a\u4e86\u4e00\u52b3\u6c38\u9038\uff0c\u76f4\u63a5\u8f6c\u6362\u6210 UTF8 \u683c\u5f0f\uff0c</p> <pre><code>$ iconv -f GB18030 SongPoem.csv -t UTF8 -o SongPoem.csv.utf8\n$ iconv -f GB18030 \u5b8b\u8bcd.R -t UTF8 -o script.R\n</code></pre>"},{"location":"Linux/tools/#uniq","title":"<code>uniq</code>","text":"<ul> <li>count the frequency: <code>cat file.txt | sort | uniq -c</code>.<ul> <li>note that <code>sort</code> is necessary, otherwise <code>uniq</code> only performs locally</li> <li>examples: classificacaoFinal</li> </ul> </li> </ul>"},{"location":"Linux/tools/#unzip","title":"<code>unzip</code>","text":""},{"location":"Linux/tools/#unzip-all-zip-file-in-a-directory","title":"unzip all <code>.zip</code> file in a directory","text":"<p>tried <code>unzip *.zip</code> but does not work, it seems that I missed something although I have checked <code>man unzip</code> in which <code>*</code> is indeed allowed, then I found</p> <pre><code>unzip \\*.zip\n</code></pre> <p>in Unzip All Files In A Directory</p> <p>Otherwise, use quotes <code>\"*.zip\"</code>. More advancely, only zip files with character <code>3</code>,</p> <pre><code>unzip \"*3*.zip\"\n</code></pre>"},{"location":"Linux/tools/#unzip-extract-here","title":"<code>unzip</code> \u548c\u53f3\u952e <code>Extract Here</code> \u7684\u533a\u522b","text":"<p>\u5bf9\u4e8e A.zip\uff0c\u5047\u8bbe\u5185\u90e8\u7ed3\u6784\u4e3a <code>dir/file</code>\uff0c\u5219\u901a\u8fc7 <code>unzip A.zip</code> \u4f1a\u76f4\u63a5\u5f97\u5230 <code>dir/file</code>\uff0c\u800c\u53f3\u952e\u89e3\u538b\u4f1a\u5f97\u5230 <code>A/dir/file</code>.</p>"},{"location":"Linux/tools/#vi","title":"<code>vi</code>","text":"<ul> <li><code>u</code>: undo, <code>ctrl+u</code>: redo</li> </ul>"},{"location":"Linux/tools/#_10","title":"\u590d\u5236","text":"<ul> <li>\u5355\u884c\u590d\u5236: \u5728\u547d\u4ee4\u6a21\u5f0f\u4e0b\uff0c\u5c06\u5149\u6807\u79fb\u52a8\u5230\u5c06\u8981\u590d\u5236\u7684\u884c\u5904\uff0c\u6309\u201cyy\u201d\u8fdb\u884c\u590d\u5236\uff1b</li> <li>\u591a\u884c\u590d\u5236: \u5728\u547d\u4ee4\u6a21\u5f0f\u4e0b\uff0c<ul> <li><code>nyy</code> + <code>p</code></li> <li><code>:6,9 co 12</code>:\u590d\u5236\u7b2c6\u884c\u5230\u7b2c9\u884c\u4e4b\u95f4\u7684\u5185\u5bb9\u5230\u7b2c12\u884c\u540e\u9762\u3002</li> <li>\u8bbe\u7f6e\u6807\u7b7e\uff0c\u5149\u6807\u79fb\u5230\u8d77\u59cb\u884c\uff08\u7ed3\u675f\u884c\uff0c\u7c98\u8d34\u884c\uff09\uff0c\u8f93\u5165 <code>ma</code> (<code>mb</code>, <code>mc</code>) <code>:'a, 'b co 'c</code>\u3002</li> </ul> </li> </ul> <p>Tip</p> <p>\u5c06 <code>co</code> \u6539\u6210 <code>m</code> \u5c31\u53d8\u6210\u526a\u5207\u4e86\u3002</p>"},{"location":"Linux/tools/#_11","title":"\u5220\u9664","text":"<ul> <li>\u5220\u9664\u5149\u6807\u540e\u7684\u5b57\u7b26 <code>d$</code></li> <li><code>:.,$d</code>: \u5220\u9664\u5f53\u524d\u884c\u5230\u6700\u540e\u4e00\u884c</li> </ul> <p>\u53c2\u8003 How to Delete Lines in Vim / Vi</p>"},{"location":"Linux/tools/#bom","title":"\u53bb\u9664 BOM","text":"<p>BOM (byte-order mark, \u5b57\u8282\u987a\u5e8f\u6807\u8bb0) \u662f\u4f4d\u4e8e\u7801\u70b9 <code>U+FEFF</code> \u7684\u7edf\u4e00\u7801\u5b57\u7b26\u7684\u540d\u79f0\u3002</p> <p>\u5728UTF-8\u4e2d\uff0c\u867d\u7136\u5728 Unicode \u6807\u51c6\u4e0a\u5141\u8bb8\u5b57\u8282\u987a\u5e8f\u6807\u8bb0\u7684\u5b58\u5728\uff0c\u4f46\u5b9e\u9645\u4e0a\u5e76\u4e0d\u4e00\u5b9a\u9700\u8981\u3002UTF-8\u7f16\u7801\u8fc7\u7684\u5b57\u8282\u987a\u5e8f\u6807\u8bb0\u5219\u88ab\u7528\u6765\u6807\u793a\u5b83\u662fUTF-8\u7684\u6587\u4ef6\u3002\u5b83\u53ea\u7528\u6765\u6807\u793a\u4e00\u4e2aUTF-8\u7684\u6587\u4ef6\uff0c\u800c\u4e0d\u7528\u6765\u8bf4\u660e\u5b57\u8282\u987a\u5e8f\u3002\u8bb8\u591a\u89c6\u7a97\u7a0b\u5e8f\uff08\u5305\u542b\u8bb0\u4e8b\u672c\uff09\u4f1a\u9700\u8981\u6dfb\u52a0\u5b57\u8282\u987a\u5e8f\u6807\u8bb0\u5230UTF-8\u6587\u4ef6\uff0c\u5426\u5219\u5c06\u65e0\u6cd5\u6b63\u786e\u89e3\u6790\u7f16\u7801\uff0c\u800c\u51fa\u73b0\u4e71\u7801\u3002\u7136\u800c\uff0c\u5728\u7c7bUnix\u7cfb\u7edf\uff08\u5927\u91cf\u4f7f\u7528\u6587\u672c\u6587\u4ef6\uff0c\u7528\u4e8e\u6587\u4ef6\u683c\u5f0f\uff0c\u7528\u4e8e\u8fdb\u7a0b\u95f4\u901a\u4fe1\uff09\u4e2d\uff0c\u8fd9\u79cd\u505a\u6cd5\u5219\u4e0d\u88ab\u5efa\u8bae\u91c7\u7528\u3002\u56e0\u4e3a\u5b83\u4f1a\u59a8\u788d\u5230\u5982\u89e3\u8bd1\u5668\u811a\u672c\u5f00\u5934\u7684Shebang\u7b49\u7684\u4e00\u4e9b\u91cd\u8981\u7684\u7801\u7684\u6b63\u786e\u5904\u7406\u3002\u5b83\u4ea6\u4f1a\u5f71\u54cd\u5230\u65e0\u6cd5\u8bc6\u522b\u5b83\u7684\u7f16\u7a0b\u8bed\u8a00\u3002\u5982gcc\u4f1a\u62a5\u544a\u6e90\u7801\u6863\u5f00\u5934\u6709\u65e0\u6cd5\u8bc6\u522b\u7684\u5b57\u7b26\u3002</p> <p>\u5982\u679c\u9700\u8981\u53bb\u9664 BOM\uff0c\u76f4\u63a5 vim \u6253\u5f00\uff0c</p> <pre><code>:set nobomb\n:wq\n</code></pre> <p>\u53c2\u8003</p> <ul> <li>Linux\u73af\u5883\u4e0b\u5982\u4f55\u5c06utf-8\u683c\u5f0f\u6587\u4ef6\u8f6c\u53d8\u6210\u65e0bom\u7684utf-8\u683c\u5f0f\u6587\u4ef6\uff1f</li> <li>\u300c\u5e26 BOM \u7684 UTF-8\u300d\u548c\u300c\u65e0 BOM \u7684 UTF-8\u300d\u6709\u4ec0\u4e48\u533a\u522b\uff1f\u7f51\u9875\u4ee3\u7801\u4e00\u822c\u4f7f\u7528\u54ea\u4e2a\uff1f</li> </ul>"},{"location":"Linux/tools/#ctrls","title":"Ctrl+s \u5047\u6b7b","text":"<p>vim\u5e76\u6ca1\u6709\u6b7b\u6389\uff0c\u53ea\u662f\u505c\u6b62\u5411\u7ec8\u7aef\u8f93\u51fa\u800c\u5df2\uff0c\u8981\u60f3\u9000\u51fa\u8fd9\u79cd\u72b6\u6001\uff0c\u53ea\u9700\u6309 <code>Ctrl + q</code> \u5373\u53ef\u6062\u590d\u6b63\u5e38\u3002</p> <p>\u53c2\u8003vim\u6309\u4e86Ctrl + s\u540e\u5047\u6b7b\u7684\u89e3\u51b3\u529e\u6cd5</p>"},{"location":"Linux/tools/#_12","title":"\u6267\u884c\u5f53\u524d\u811a\u672c","text":"<pre><code>:!%\n</code></pre> <p>\u5176\u4e2d <code>%</code> expands current file name\uff0c\u53e6\u5916</p> <pre><code>:! %:p\n</code></pre> <p>\u4f1a\u6307\u5b9a\u7edd\u5bf9\u8def\u5f84\uff0c\u800c\u5982\u679c\u8def\u5f84\u4e2d\u6709\u7a7a\u683c\uff0c\u5219\u7528</p> <pre><code>:! \"%:p\"\n</code></pre> <p>\u53c2\u8003</p> <ul> <li>How to execute file I\u2019m editing in Vi(m)</li> <li>VIM\u4e2d\u6267\u884cShell\u547d\u4ee4\uff08\u70ab\u9177\uff09</li> </ul>"},{"location":"Linux/tools/#write-with-sudo","title":"write with sudo","text":"<p>For example, as said in How does the vim \u201cwrite with sudo\u201d trick work?</p> <pre><code>:w !sudo tee %\n</code></pre> <p>and such reference gives a more detailed explanation for the trick.</p>"},{"location":"Linux/tools/#_13","title":"\u6253\u5f00\u53e6\u5916\u4e00\u4e2a\u6587\u4ef6","text":"<p>\u53c2\u8003</p> <ol> <li>vim \u6253\u5f00\u4e00\u4e2a\u6587\u4ef6\u540e,\u5982\u4f55\u6253\u5f00\u53e6\u4e00\u4e2a\u6587\u4ef6?</li> <li>VI\u6253\u5f00\u548c\u7f16\u8f91\u591a\u4e2a\u6587\u4ef6\u7684\u547d\u4ee4 \u5206\u5c4f\u64cd\u4f5c - David.Wei0810 - \u535a\u5ba2\u56ed</li> </ol>"},{"location":"Linux/tools/#_14","title":"\u5bf9\u6bcf\u884c\u884c\u9996\u8fdb\u884c\u8ffd\u52a0\u3001\u66ff\u6362","text":"<p>\u6309\u4f4f v \u6216\u8005 V \u9009\u5b9a\u9700\u8981\u8ffd\u52a0\u7684\u884c\uff0c\u7136\u540e\u518d\u8fdb\u5165 <code>:</code> \u6a21\u5f0f\uff0c\u8f93\u5165\u6b63\u5e38\u7684 <code>sed</code> \u547d\u4ee4\uff0c\u5982</p> <pre><code>s/^/#/g\n</code></pre> <p>\u53c2\u8003 Ubuntu \u4e0b\u5bf9\u6587\u672c\u6587\u4ef6\u6bcf\u884c\u884c\u9996\u8fdb\u884c\u8ffd\u52a0\u3001\u66ff\u6362</p> <p>\u5168\u9009\uff1a<code>VggG</code> \u6216\u8005 <code>ggVG</code>\uff0c\u5176\u4e2d</p> <ul> <li><code>gg</code> \u8df3\u81f3\u7b2c\u4e00\u884c\uff0c</li> <li><code>G</code> \u8df3\u5230\u6700\u540e\u4e00\u884c</li> </ul> <p>\u53c2\u8003 what is the command for \u201cSelect All\u201d in vim and VsVim?</p>"},{"location":"Linux/tools/#wget","title":"<code>wget</code>","text":""},{"location":"Linux/tools/#wget-a-series-of-files-in-order","title":"wget a series of files in order","text":"<p>\u4e0b\u8f7d\u8fde\u7eed\u7f16\u53f7\u7684\u6587\u4ef6\uff0c\u5982</p> <pre><code>wget http://work.caltech.edu/slides/slides{01..18}.pdf\n</code></pre> <p>\u53c2\u8003 Wget a series of files in order</p>"},{"location":"Linux/tools/#wget-vs-curl","title":"<code>wget</code> vs <code>curl</code>","text":"<p><code>wget</code> \u4e0d\u7528\u6dfb\u52a0 <code>-O</code> \u5c31\u53ef\u4ee5\u5c06\u4e0b\u8f7d\u7684\u6587\u4ef6\u5b58\u50a8\u4e0b\u6765\uff0c\u4f46\u662f <code>curl</code> \u5e76\u4e0d\u9ed8\u8ba4\u5c06\u4e0b\u8f7d\u7684\u6587\u4ef6\u5b58\u5165\u672c\u5730\u6587\u4ef6\uff0c\u9664\u975e\u52a0\u4e0a <code>-o</code> \u9009\u9879\uff0c\u800c <code>wget</code> \u7684 <code>-O</code> \u53ea\u662f\u4e3a\u4e86\u66f4\u6539\u6587\u4ef6\u540d\u3002</p> <p>\u6bd4\u5982\u8fd9\u91cc\uff0c\u76f4\u63a5\u5c06\u4e0b\u8f7d\u7684\u5185\u5bb9\u8f93\u51fa\u5230\u4e0b\u4e00\u4e2a\u547d\u4ee4</p> <pre><code>curl -sL https://dl.winehq.org/wine-builds/winehq.key | apt-key add -\n</code></pre> <p>\u66f4\u591a\u6bd4\u8f83\u8be6\u89c1 What is the difference between curl and wget?</p>"},{"location":"Linux/tools/#xargs","title":"<code>xargs</code>","text":""},{"location":"Linux/tools/#mv-files","title":"mv files","text":"<p>use <code>-I {}</code> to replace some string.</p> <pre><code>ls | grep 'config[0-9].txt' | xargs -I {} mv {} configs/\n</code></pre> <p>see more details in mv files with | xargs</p>"},{"location":"Linux/tools/#rm-files","title":"rm files","text":"<p>it is safer to check the files before appending <code>rm</code> into the pipeline.</p> <pre><code>ls | grep \".txt\" | xargs -I {} rm -rf {}\n</code></pre> <p>an application is asked by @van1yu3</p> <p>\u5728\u5f53\u524d\u76ee\u5f55\u4e0b\u670910\u4e2a\u5b50\u76ee\u5f55dir1-dir10\uff0cdir1-dir10\u91cc\u7684\u6587\u4ef6\u90fd\u662f\u76f8\u540c\u7684\u540d\u5b57\uff1b\u6211\u60f3\u8981\u4fdd\u7559\u5176\u4e2d5\u4e2a\u7279\u5b9a\u540d\u5b57\u7684\u6587\u4ef6\uff0c\u5176\u4ed6\u7684\u5220\u6389</p> <p>then <code>find</code> would be more suitable since a full path is required,</p> <pre><code>~/tmp4$ for i in {1..4}; do sh -c \"mkdir $i; touch $i/foo.txt $i/bar.txt\"; done\n~/tmp4$ ls\n1  2  3  4\n~/tmp4$ tree\n.\n\u251c\u2500\u2500 1\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 bar.txt\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 foo.txt\n\u251c\u2500\u2500 2\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 bar.txt\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 foo.txt\n\u251c\u2500\u2500 3\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 bar.txt\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 foo.txt\n\u2514\u2500\u2500 4\n\u251c\u2500\u2500 bar.txt\n    \u2514\u2500\u2500 foo.txt\n\n4 directories, 8 files\n~/tmp4$ find . -type f | grep -v \"foo\"\n./2/bar.txt\n./4/bar.txt\n./1/bar.txt\n./3/bar.txt\n~/tmp4$ find . -type f | grep -v \"foo\" | xargs -I {} rm -f {}\n~/tmp4$ tree\n.\n\u251c\u2500\u2500 1\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 foo.txt\n\u251c\u2500\u2500 2\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 foo.txt\n\u251c\u2500\u2500 3\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 foo.txt\n\u2514\u2500\u2500 4\n\u2514\u2500\u2500 foo.txt\n\n4 directories, 4 files\n</code></pre> <p>BTW, I tried the popular chatGPT to ask the question.</p> chatGPT <p></p>"},{"location":"Linux/ubuntu/","title":"Ubuntu","text":"<p>Info</p> <p>Most notes on this page are based on my Ubuntu laptop.</p> <ul> <li>20.04: 2021-09-12 -&gt; Now. </li> <li>18.04: 2020-04-12 -&gt; 2021-09-12. </li> <li>16.04: ~ -&gt; 2020-04-12</li> <li>14.04: ~ -&gt; ~</li> </ul>"},{"location":"Linux/ubuntu/#package-manager","title":"Package Manager","text":""},{"location":"Linux/ubuntu/#advanced-package-tool-apt","title":"Advanced Package Tool (APT)","text":"<p>APT is a package management system for Debian and other Linux distributions based on it, such as Ubuntu.</p>"},{"location":"Linux/ubuntu/#ppa","title":"PPA","text":"<p>PPAs (Personal Package Archive) are repositories hosted on Launchpad. You can use PPAs to install or upgrade packages that are not available in the official Ubuntu repositories.</p> <p>see also:</p> <ul> <li>How do I resolve unmet dependencies after adding a PPA? - Ask Ubuntu</li> </ul> <p>proxy for apt</p> <p><code>proxychains</code> seems not work well before <code>sudo</code> or after <code>sudo</code>, and I don\u2019t want to add a system proxy permanently, then I found a temporary way,</p> <pre><code>sudo http_proxy='http://user:pass@proxy.example.com:8080/' apt-get install package-name\n</code></pre> <p>refer to how to install packages with apt-get on a system connected via proxy?</p>"},{"location":"Linux/ubuntu/#dpkg-debian-package-manager","title":"dpkg (Debian Package Manager)","text":"<p>\u201cdpkg works under the hood of APT. While APT manages remote repositories and resolves dependencies for you, it use dpkg to actually make the changes of installing/removing package.\u201d </p> <ul> <li>list installed packages: <code>dpkg -l</code><ul> <li>flag \u2018ii\u2019 (installed) and \u2018rc\u2019 (removed but configuration), refer to  for more details</li> </ul> </li> </ul>"},{"location":"Linux/ubuntu/#snap","title":"Snap","text":"<ul> <li><code>snaps</code>: the packages</li> <li><code>snapd</code>: the tool for using packages</li> </ul> <p>Snaps are self-contained applications running in a sandbox with mediated access to the host system. </p> <ul> <li>list all installed packages: </li> </ul> <pre><code>$ date\nSat 11 Jun 2022 08:22:05 PM CST\n$ snap list\nName                             Version                     Rev    Tracking       Publisher   Notes\nbare                             1.0                         5      latest/stable  canonical\u2713  base\ncanonical-livepatch              10.2.3                      146    latest/stable  canonical\u2713  -\ncore                             16-2.56                     13308  latest/stable  canonical\u2713  core\ncore18                           20220428                    2409   latest/stable  canonical\u2713  base\ngnome-3-28-1804                  3.28.0-19-g98f9e67.98f9e67  161    latest/stable  canonical\u2713  -\ngtk-common-themes                0.1-79-ga83e90c             1534   latest/stable  canonical\u2713  -\nkde-frameworks-5                 5.47.0                      27     latest/stable  kde\u2713        -\nkde-frameworks-5-core18          5.61.0                      32     latest/stable  kde\u2713        -\nkde-frameworks-5-qt-5-14-core18  5.68.0                      4      latest/stable  kde\u2713        -\nksnip                            1.10.0                      443    latest/stable  dporobic    -\n</code></pre> <ul> <li>check available updates</li> </ul> <pre><code># without refreshing\n$ snap refresh --list\n# perform refreshing\n$ sudo snap refresh\n</code></pre> <ul> <li>check info of packages</li> </ul> <pre><code>$ snap info &lt;snap name&gt;\n</code></pre> <p>see also:</p> <ul> <li>Ubuntu \u63a8\u51fa\u7684Snap\u5e94\u7528\u67b6\u6784\u6709\u4ec0\u4e48\u6df1\u8fdc\u610f\u4e49? \u2013 \u77e5\u4e4e</li> </ul>"},{"location":"Linux/ubuntu/#battery","title":"Battery","text":"<p>Charge Battery Adaptively</p> <p>Check the post.</p>"},{"location":"Linux/ubuntu/#disk","title":"Disk","text":"Extend Disk <p>\u4e00\u76f4\u60f3\u6269\u5bb9\u6765\u7740\uff0c\u4f46\u603b\u662f\u4e0b\u4e0d\u4e86\u51b3\u5fc3\u3002\u4eca\u5929\u51b3\u5b9a\u4e86\uff0c\u53c2\u8003 google \u641c\u7d22\u201cUbuntu \u6269\u5bb9\u201d\u7684\u524d\u51e0\u6761\u7ed3\u679c\uff0c\u4fbf\u5f00\u59cb\u5e72\u4e86\u3002</p> <ol> <li>\u91c7\u7528\u542f\u52a8 U \u76d8\uff0c\u56e0\u4e3a\u6839\u76ee\u5f55\u5728\u4f7f\u7528\u72b6\u6001\uff0c\u5e78\u597d\u542f\u52a8 U \u76d8\u8fd8\u5728\u3002</li> <li>\u4f7f\u7528 Gparted \u65f6\u6709\u4e2a\u5927\u5927\u7684 warning\uff0c\u8bf4\u5bf9\u542b /boot \u5206\u533a\u7684\u786c\u76d8\u8fdb\u884c\u64cd\u4f5c\u53ef\u80fd\u4f1a\u4e0d\u80fd\u6b63\u5e38\u542f\u52a8\uff0c\u6709\u70b9\u5413\u5230\u4e86\uff0c\u6700\u540e\u8fd8\u662f\u72e0\u4e0b\u5fc3\u7ee7\u7eed\u4e0b\u53bb\u4e86\u3002</li> <li>\u7f51\u4e0a\u6709\u4eba\u8bf4\uff0c\u4e0d\u8981\u7528 Gparted \u5bf9 Windows \u8fdb\u884c\u538b\u7f29\uff0c\u800c\u5e94\u8be5\u5728 Windows \u4e2d\u8fdb\u884c\u538b\u7f29\uff0c\u53ef\u662f\u6b64\u65f6\u5df2\u7ecf\u5f00\u59cb\u4e86\uff0c\u60f3\u4e2d\u65ad\u4f46\u6015\u9020\u6210\u66f4\u4e25\u91cd\u7684\u540e\u679c\uff0c\u5e78\u597d\u6700\u540e\u542f\u52a8 Windows \u65f6\u53ea\u662f\u591a\u4e86\u6b65\u68c0\u67e5\u786c\u76d8\uff0c\u5e76\u6ca1\u6709\u4e0d\u80fd\u542f\u52a8\u7684\u72b6\u51b5\u3002</li> </ol> <p>\u4e2d\u95f4\u63d0\u5fc3\u540a\u80c6\uff0c\u597d\u5728\u6700\u540e\u987a\u5229\u6269\u5bb9\u5b8c\u6210\u3002</p> <p>see also: Why are there so many different ways to measure disk usage? - Unix &amp; Linux Stack Exchange</p> <p>Portable SSD</p> <p>Check the post</p> <p>Clean disk space</p> <ul> <li>autoremove <code>apt autoremove --purge</code></li> <li>manually find unused packages: <code>dpkg -l</code> and <code>apt list --installed</code></li> <li>for anaconda, run <code>conda clean -a</code></li> </ul> <p>Mount with Options</p> <p>By default, the Segate disk would return owner as root.</p> <p>Use</p> <pre><code>sudo umount /dev/XXX\nsudo mount -o rw,user,uid=1000,dmask=007,fmask=117 /dev/XXX /media/weiya/Segate\n</code></pre> <p>where the first step might throw busy error, and the processes use the disk can be found via</p> <pre><code>fuser -cu /local/mnt/\nps -ef | grep XXX\n</code></pre> <p>refer to</p> <ul> <li>https://askubuntu.com/questions/11840/how-do-i-use-chmod-on-an-ntfs-or-fat32-partition/956072</li> <li>https://stackoverflow.com/questions/7878707/how-to-unmount-a-busy-device</li> </ul>"},{"location":"Linux/ubuntu/#gnome","title":"GNOME","text":"<p>GNOME (originally an acronym for GNU Network Object Model Environment) is a desktop environment for Unix-like operating systems. </p> <p>The version on my T460p is 3.28.2, which can be seen from About.</p>"},{"location":"Linux/ubuntu/#gnome-shell","title":"GNOME Shell","text":"<p>GNOME Shell is the graphical shell of the GNOME desktop environment. It provides basic functions like launching applications, switching between windows and is also a widget engine. . User interface elements provided by GNOME Shell include the Panel at the top of the screen, the Activities Overview, and Message Tray at the bottom of the screen. </p> <p>The version on my T460p is </p> <pre><code>$ gnome-shell --version\nGNOME Shell 3.28.4\n</code></pre>"},{"location":"Linux/ubuntu/#gnome-shell-extensions","title":"GNOME Shell Extensions","text":"<p>GNOME Shell Extensions are small pieces of code written by third party developers that modify the way GNOME works. They are similar to Chrome Extensions or Firefox Addons. We can install the extensions via extensions.gnome.org in Firefox. After installation, we can disable or enable, or even configure on such website, alternatively, we can use <code>gnome-tweaks</code> to control them.</p>"},{"location":"Linux/ubuntu/#lunar-date","title":"Lunar Date","text":"<p>Here is a plugin to show Chinese Lunar Date: Lunar Calendar \u519c\u5386. Since here are some latest comments, I guess it would be OK.</p> <p>However, the first installation attempt failed, it shows <code>ERROR</code>. Then I realized that I might need to install the dependency mentioned in the plugin page,</p> <pre><code>sudo apt install gir1.2-lunar-date-2.0\n</code></pre> <p>Then reinstall the plugin, it succeed! But interestingly, the Chinese characters are shown as Pinyin (see the following left image)</p> Before After <p>Then I found the same issue in an older post</p> <p>A solution is </p> <pre><code>@GuanGGuanG\ncopy\n/usr/share/locale/zh_CN/LC_MESSAGES/liblunar.mo\nto\n/usr/share/locale/en/LC_MESSAGES/\n\u5c31\u53ef\u4ee5\u5728\u82f1\u6587\u73af\u5883\u4e0b\u6b63\u5e38\u663e\u793a\u4e86\n</code></pre> <p>Although no found <code>liblunar.mo</code>, there is </p> <pre><code>$ pwd\n/usr/share/locale/zh_CN/LC_MESSAGES\n$ ll | grep lunar\n-rw-r--r-- 1 root root   4746 Nov 12  2016 lunar-date.mo\n</code></pre> <p>then</p> <pre><code>$ sudo cp lunar-date.mo ../../en/LC_MESSAGES/\n</code></pre> <p>It cannot take effects immediately, the natural way is to reboot. But currently I do not want to reboot, and then I tried to reinstall the plugin in Firefox, but not work.</p> <p>Then I tried to reload locale since the modification seems related to locale, so I found this answer and tried</p> <pre><code>$ . /etc/default/locale\n</code></pre> <p>but not work.</p> <p>Then I realized that it might be necessary to reload GNOME Shell, so I found How to restart GNOME Shell from command line?, and tried</p> <pre><code>$ gnome-shell --replace &amp;\n</code></pre> <p>It works, as shown in the above right figure. A minor side change is that the English colon in the time <code>14:37</code> seems to change to the Chinese colon.</p>"},{"location":"Linux/ubuntu/#system-monitor","title":"System Monitor","text":"<p>\u901a\u8fc7 gnome-shell extension: gnome-shell-system-monitor-applet \u5b9e\u73b0</p> <p>\u4e0d\u8fc7\u76ee\u524d\u6709\u4e2a\u5c0f\u95ee\u9898\uff0c\u5b57\u4f53\u7565\u5c0f\uff0c\u5c1d\u8bd5\u901a\u8fc7 gnome-tweaks \u4e2d\u7684 scaling \u6765\u6539\u53d8\u5b57\u4f53\u5927\u5c0f\uff0c\u4f46\u4f3c\u4e4e\u5bf9\u8fd9\u4e9b\u5b57\u4f53\u4ecd\u4e0d\u9002\u7528\uff0c\u5148\u5c06\u5c31\u7528\u7740\u5427\u3002</p>"},{"location":"Linux/ubuntu/#unblack-lock-screen","title":"unblack lock screen","text":"<p>\u6309 <code>Win+L</code> \u9501\u5c4f\u540e\uff0c\u5f88\u5feb\u5c31\u76f4\u63a5\u53d8\u9ed1\u4e86\u3002\u56e0\u4e3a\u611f\u89c9\u5c4f\u4fdd\u8fd8\u633a\u597d\u770b\u7684\uff0c\u6240\u4ee5\u5e76\u4e0d\u60f3\u76f4\u63a5\u9ed1\u5c4f\u3002\u53c2\u8003 GNOME3\u9501\u5c4f\u548c\u9501\u5c4f\u540e\uff0c\u5982\u4f55\u8bbe\u7f6e\u5c4f\u5e55\u5e38\u4eae\uff1f - Eglinux\u7684\u56de\u7b54 - \u77e5\u4e4e\uff0c\u5b89\u88c5 Unblank lock screen.</p> <p>\u66f4\u7b80\u5355\u7684\u6280\u5de7\u662f\u957f\u6309 <code>Win+L</code>\uff0c\u4f3c\u4e4e\u786e\u5b9e\u4e0d\u4f1a\u76f4\u63a5\u9ed1\u5c4f\uff0c\u7136\u540e\u4f1a\u76f4\u63a5\u91c7\u7528\u8bbe\u7f6e\u7684\u5173\u5c4f\u65f6\u95f4\uff08Setting &gt; Power\uff09\uff0c\u53c2\u8003 GNOME3\u9501\u5c4f\u548c\u9501\u5c4f\u540e\uff0c\u5982\u4f55\u8bbe\u7f6e\u5c4f\u5e55\u5e38\u4eae\uff1f - dale\u7684\u56de\u7b54 - \u77e5\u4e4e\u3002</p>"},{"location":"Linux/ubuntu/#sound-device-chooser","title":"sound device chooser","text":"<p>tried but not good. Sound Input &amp; Output Device Chooser</p>"},{"location":"Linux/ubuntu/#filesystem","title":"Filesystem","text":""},{"location":"Linux/ubuntu/#file-permissions","title":"File Permissions","text":"<p>\u91c7\u7528<code>ls -l</code> \u4fbf\u53ef\u4ee5\u67e5\u770b\u6587\u4ef6(\u5939)\u6743\u9650\uff0c\u6bd4\u5982</p> <p><pre><code>-rw-rw-r--  1 weiya weiya    137969 3\u6708   8  2017 font.txt\n-rw-r--r--  1 root  root      35792 12\u6708 26 23:50 geckodriver.log\n-rw-r--r--  1 root  root     327350 12\u6708 27 01:38 ghostdriver.log\n</code></pre> 7\u5217\u7684\u542b\u4e49\u5206\u522b\u662f\uff08\u53c2\u8003http://blog.csdn.net/jenminzhang/article/details/9816853\uff09</p> <ol> <li>\u6587\u4ef6\u7c7b\u578b\u548c\u6587\u4ef6\u6743\u9650   - \u6587\u4ef6\u7c7b\u578b\u7531\u7b2c\u4e00\u4e2a\u5b57\u6bcd\u8868\u793a\uff0c\u5e38\u89c1\u7684\u6709 <code>d</code>(\u76ee\u5f55)\uff0c<code>-</code>(\u6587\u4ef6)\uff0c<code>l</code>(\u94fe\u63a5)   - \u6743\u9650\u5206\u4e3a\u4e09\u6bb5\uff0c\u6bcf\u4e09\u4e2a\u5b57\u7b26\u4e00\u6bb5\uff0c\u5206\u522b\u8868\u793a\uff0c\u6587\u4ef6\u6240\u6709\u8005 <code>u</code>\u3001\u6587\u4ef6\u6240\u5c5e\u7ec4 <code>g</code>\u3001\u5176\u4ed6\u7528\u6237 <code>o</code>\u5bf9\u8be5\u6587\u4ef6\u7684\u6743\u9650\uff0c\u5176\u4e2d<ul> <li><code>r</code>: \u53ef\u8bfb\uff0c\u7b49\u4e8e 4</li> <li><code>w</code>: \u53ef\u5199\uff0c\u7b49\u4e8e 2</li> <li><code>x</code>: \u53ef\u6267\u884c\uff0c\u7b49\u4e8e 1</li> <li><code>-</code>: \u65e0\u6743\u9650\uff0c\u7b49\u4e8e 0</li> <li><code>s</code>: set user or group ID on execution (s)</li> <li><code>X</code>: execute/search only if the file  is a directory or already has  execute permission for some user</li> <li><code>t</code>: restricted deletion flag or sticky bit</li> </ul> </li> <li>\u6587\u4ef6\u94fe\u63a5\u4e2a\u6570</li> <li>\u6587\u4ef6\u6240\u6709\u8005</li> <li>\u6587\u4ef6\u6240\u5728\u7fa4\u7ec4</li> <li>\u6587\u4ef6\u957f\u5ea6</li> <li>\u65f6\u95f4</li> <li>\u6587\u4ef6\u540d\u79f0</li> </ol> <p>\u91c7\u7528chmod\u4fee\u6539\u6743\u9650\uff08\u53c2\u8003http://www.linuxidc.com/Linux/2015-03/114695.htm\uff09\uff0c\u5982</p> <pre><code>chmod -R 700 Document/\nchmod -R [ugoa...][[+-=][perms...]] # refer to `man chmod` for more details\n</code></pre> <p>\u5176\u4e2d <code>-R</code> \u8868\u793a\u9012\u5f52\uff0c<code>perms</code> \u4e3a\u4e0a\u8ff0 <code>rwxXst</code>\uff0c\u800c <code>a</code> \u8868\u793a\u6240\u6709\u7528\u6237\uff0c\u5373 <code>ugo</code>.</p> <p>\u91c7\u7528 chown \u6539\u53d8\u6240\u6709\u8005\uff0c\u6bd4\u5982</p> <pre><code>chown -R username:users Document/\n</code></pre> <p><code>chmod g+s .</code> \u4f1a\u4f7f\u5f97\u5f53\u524d\u6587\u4ef6\u5939 <code>.</code> \u4e2d\u6240\u6709\u65b0\u5efa\u6587\u4ef6\u6216\u6587\u4ef6\u5939\u90fd\u7ee7\u627f <code>.</code> \u7684 group\uff0c\u800c\u4e0d\u662f\u521b\u5efa\u8005\u6240\u5c5e\u7684 group\uff0c\u6240\u4ee5\u8fd9\u4e00\u822c\u914d\u5408 <code>chgrp</code> \u4f7f\u7528\u3002\u53c2\u8003 \u2018chmod g+s\u2019 command</p>"},{"location":"Linux/ubuntu/#modify-vs-change","title":"Modify vs Change","text":"<p>\u5728\u627e\u5b66\u4e60\u8d44\u6599\u65f6\uff0c\u7a81\u7136\u4e0d\u662f\u5f88\u786e\u5b9a\u5f53\u521d\u662f\u5426\u5df2\u7ecf\u5728\u7528\u8fd9\u53f0\u7b14\u8bb0\u672c\u4e86\uff0c\u6240\u4ee5\u60f3\u786e\u5b9a\u4e00\u4e0b\u672c\u673a\u7684\u88c5\u673a\u65f6\u95f4\uff0c\u53c2\u8003 How can I tell what date Ubuntu was installed?\uff0c\u4e3b\u8981\u65f6\u901a\u8fc7\u67e5\u770b\u6587\u4ef6\u7684\u4e0a\u6b21\u4fee\u6539\u65f6\u95f4\uff0c\u6bd4\u5982</p> <pre><code>$ ls -lt /var/log/installer/\ntotal 1200\n-rw-rw-r-- 1 root   root 464905 Dec  2  2016 initial-status.gz\n-rw-r--r-- 1 root   root     60 Dec  2  2016 media-info\n-rw------- 1 syslog adm  334743 Dec  2  2016 syslog\n-rw------- 1 root   root   2467 Dec  2  2016 debug\n-rw------- 1 root   root 407422 Dec  2  2016 partman\n-rw------- 1 root   root     17 Dec  2  2016 version\n-rw------- 1 root   root    956 Dec  2  2016 casper.log\n</code></pre> <p>\u53c8\u5982</p> <pre><code>$ ls -lt /\n...\ndrwxrwxr-x   2 root root       4096 Dec  2  2016 cdrom\ndrwx------   2 root root      16384 Dec  2  2016 lost+found\ndrwxr-xr-x   2 root root       4096 Apr 21  2016 srv\n</code></pre> <p>\u51fa\u73b0\u4e86 2016.04.21 \u7684\u4e00\u6761\u8bb0\u5f55\u3002\u4f46\u5982\u679c\u6211\u52a0\u4e0a <code>-c</code>\uff0c\u7ed3\u679c\u7adf\u7136\u4e0d\u4e00\u6837</p> <pre><code>$ ls -clt /\n...\ndrwxrwxr-x   2 root root       4096 Dec  2  2016 cdrom\ndrwxr-xr-x   2 root root       4096 Dec  2  2016 srv\ndrwx------   2 root root      16384 Dec  2  2016 lost+found\n</code></pre> <p>\u96be\u9053 <code>ls</code> \u9ed8\u8ba4\u663e\u793a\u7684\u65f6\u95f4\u4e0d\u662f\u4e0a\u6b21\u4fee\u6539\u65f6\u95f4\u5417\uff1f\uff1f\u53e6\u5916\u6ce8\u610f\u5230 <code>srv</code> \u5176\u5b9e\u662f\u4e00\u4e2a\u7a7a\u6587\u4ef6\u5939\u3002</p> <p>\u8fd9\u65f6\u6211\u7528 <code>stat</code> \u8fdb\u4e00\u6b65\u67e5\u770b\uff0c</p> <pre><code>$ stat /srv\n  File: /srv\n  Size: 4096        Blocks: 8          IO Block: 4096   directory\nDevice: 825h/2085d  Inode: 1179649     Links: 2\nAccess: (0755/drwxr-xr-x)  Uid: (    0/    root)   Gid: (    0/    root)\nAccess: 2021-05-05 08:43:20.955106697 +0800\nModify: 2016-04-21 06:07:49.000000000 +0800\nChange: 2016-12-02 02:46:47.363728274 +0800\n Birth: -\n</code></pre> <p>\u53d1\u73b0\u6709\u4e24\u4e2a\u4fee\u6539\u65f6\u95f4\uff0c<code>Modify</code> \u548c <code>Change</code>\uff0c\u4e24\u8005\u533a\u522b\u5728\u4e8e</p> <ul> <li><code>Modify</code>: the last time the file was modified (content has been modified)</li> <li><code>Change</code>: the last time meta data of the file was changed (e.g. permissions)</li> </ul> <p>\u7136\u540e\u8fdb\u4e00\u6b65\u67e5\u770b Windows \u7cfb\u7edf\u7684\u65f6\u95f4\uff0c</p> <pre><code>$ ll -clt\n...\ndrwxrwxrwx  1 weiya weiya       4096 Oct  1  2016 '$Recycle.Bin'/\ndrwxrwxrwx  1 weiya weiya          0 Sep 29  2016  FFOutput/\n-rwxrwxrwx  2 weiya weiya   15151172 Jul  2  2016  WindowsDENGL.tt2*\n-rwxrwxrwx  2 weiya weiya   16092228 Jul  2  2016  WindowsDENG.tt2*\n-rwxrwxrwx  2 weiya weiya   16217976 Jul  2  2016  WindowsDENGB.tt2*\n-rwxrwxrwx  1 weiya weiya     400228 Mar 19  2016  bootmgr*\n-rwxrwxrwx  1 weiya weiya          1 Mar 19  2016  BOOTNXT*\ndrwxrwxrwx  1 weiya weiya       8192 Mar 18  2016  Boot/\n</code></pre> <p>\u6700\u65e9\u53ef\u4ee5\u8ffd\u6eaf\u5230 2016.03.18.</p>"},{"location":"Linux/ubuntu/#fuse_hidden","title":"<code>.fuse_hidden</code>","text":"<p>I found a file <code>res/res_monodecomp/.fuse_hidden0016fbd000000001</code>, which is \u201ca file was deleted but there is at least one software which is still using it, so it cannot be removed permanently\u201d . And it is suggested to use <code>lsof</code> to determine the application that uses such file. However,</p> <pre><code>$ lsof ./res/res_monodecomp/\nlsof: WARNING: can't stat() tracefs file system /sys/kernel/debug/tracing\n      Output information may be incomplete.\nlsof: WARNING: can't stat() fuse.gvfsd-fuse file system /run/user/129/gvfs\n      Output information may be incomplete.\n</code></pre>"},{"location":"Linux/ubuntu/#runuser1000","title":"<code>/run/user/1000</code>","text":"<p>Info</p> <p>Post: 2022-04-05 09:58:32</p> <p>Checking the usage of disk by <code>df -h</code>, here is a line,</p> <pre><code>Filesystem      Size  Used Avail Use% Mounted on\ntmpfs           2.0G   24K  2.0G   1% /run/user/129\ntmpfs           2.0G  192K  2.0G   1% /run/user/1000\n</code></pre> <p>where </p> <ul> <li><code>tmpfs</code> (short for Temporary File System) is a temporary file storage paradigm implemented in many Unix-like operating systems. It is intended to appear as a mounted file system, but data is stored in volatile memory instead of a persistent storage device. </li> <li><code>/run/user/$uid</code> is created by pam_systemd and used for storing files used by running processes for that user. </li> </ul>"},{"location":"Linux/ubuntu/#100-snap-devloop","title":"100% snap <code>/dev/loop</code>","text":"<pre><code>$ df -h\n/dev/loop1      9.0M  9.0M     0 100% /snap/canonical-livepatch/138\n/dev/loop2      9.0M  9.0M     0 100% /snap/canonical-livepatch/146\n/dev/loop3      114M  114M     0 100% /snap/core/13308\n/dev/loop0      128K  128K     0 100% /snap/bare/5\n</code></pre> <p>\u201cHaving Snap images which consume 100% of their filesystem is perfectly acceptable\u201d and \u201cit\u2019s supposed to work that way\u201d, refer to </p> <p>See also: What is /dev/loopx?.</p>"},{"location":"Linux/ubuntu/#font","title":"Font","text":""},{"location":"Linux/ubuntu/#fc-list","title":"<code>fc-list</code>","text":"<p>view installed fonts</p> <pre><code># only print the font-family\n$ fc-list : family\n# add language selector\n$ fc-list : family lang=zh\n...\nFira Sans,Fira Sans UltraLight\nFira Sans,Fira Sans Light\nNoto Serif CJK KR,Noto Serif CJK KR ExtraLight\n# with format option, get the family names of all the fonts (note that the above family also specify the detailed style)\n$ fc-list --format='%{family[0]}\\n' :lang=zh | sort | uniq\n...\n\u6587\u6cc9\u9a7f\u7b49\u5bbd\u5fae\u7c73\u9ed1\n\u6587\u6cc9\u9a7f\u7b49\u5bbd\u6b63\u9ed1\n\u65b0\u5b8b\u4f53\n</code></pre> <p>refer to fc-list command in Linux with examples</p>"},{"location":"Linux/ubuntu/#install-local-fonts","title":"Install Local Fonts","text":"\u971e\u9e5c\u6587\u6977 <p>https://github.com/lxgw/LxgwWenKai</p> <pre><code>git clone git@github.com:lxgw/LxgwWenKai.git\ncp LxgwWenKai/fonts/TTF/* ~/.local/share/fonts/\n</code></pre> \u4eff\u5b8b &amp; \u9ed1\u4f53 <p>\u4ee5\u5b89\u88c5\u4eff\u5b8b\u548c\u9ed1\u4f53\u4e3a\u4f8b\uff0c\u8fd9\u662f\u672c\u79d1\u6bd5\u4e1a\u8bba\u6587\u6a21\u677f\u6240\u9700\u8981\u7684\u5b57\u4f53\uff0c\u5b57\u4f53\u6587\u4ef6\u5df2\u6253\u5305</p> <pre><code>$ wget -c https://sourceforge.net/projects/zjuthesis/files/fonts.tar.gz/download -O fonts.tar.gz\n$ tar xvzf fonts.tar.gz\nfonts/STFANGSO.TTF\nfonts/\nfonts/simhei.ttf\n$ sudo mkdir -p /usr/share/fonts/truetype/custom/\n$ sudo mv fonts/* /usr/share/fonts/truetype/custom/\n$ sudo fc-cache -f -v\n</code></pre> <p>NOTE: \u9664\u4e86\u7cfb\u7edf\u7684\u5b57\u4f53\u76ee\u5f55\uff0c\u4e5f\u53ef\u4ee5\u9009\u62e9\u7528\u6237\u76ee\u5f55\uff0c\u201d~/.local/share/fonts/\u201d. \u53e6\u89c1  \u53e6\u5916 <code>fc-cache</code> \u4e5f\u4e0d\u662f\u5fc5\u987b\u7684\u3002</p> <p>\u5b89\u88c5\u5b8c\u6210\u540e\uff0c</p> <pre><code>$ fc-list :lang=zh\n/usr/share/fonts/truetype/custom/simhei.ttf: SimHei,\u9ed1\u4f53:style=Regular,Normal,oby\u010dejn\u00e9,Standard,\u039a\u03b1\u03bd\u03bf\u03bd\u03b9\u03ba\u03ac,Normaali,Norm\u00e1l,Normale,Standaard,Normalny,\u041e\u0431\u044b\u0447\u043d\u044b\u0439,Norm\u00e1lne,Navadno,Arrunta\n/usr/share/fonts/truetype/custom/STFANGSO.TTF: STFangsong,\u534e\u6587\u4eff\u5b8b:style=Regular\n</code></pre> <p>Font Name in xeCJK</p> <p>\u5728 <code>\\setCJKmainfont{}</code> \u4e2d\u4f7f\u7528 <code>fc-list</code> \u5192\u53f7\u4e4b\u524d\u7684\u5b57\u4f53\u540d\u3002\u4e5f\u53ef\u4ee5\u4f7f\u7528\u5b57\u4f53\u6587\u4ef6\uff0c\u4f46\u9700\u8981\u6307\u5b9a\u5177\u4f53\u8def\u5f84\uff0c\u5426\u5219\u53ea\u4f1a\u5728\u5f53\u524d\u76ee\u5f55\u4e0b\u5bfb\u627e\u3002</p>"},{"location":"Linux/ubuntu/#some-free-fonts","title":"Some Free Fonts","text":"<ul> <li>Mozilla\u2019s Fira Type Family<ul> <li>Fira for Metropolis theme</li> <li>Fira Code<ul> <li>\u77e5\u4e4e\uff1aFira Code \u2014\u2014 \u4e13\u4e3a\u7f16\u7a0b\u800c\u751f\u7684\u5b57\u4f53</li> </ul> </li> </ul> </li> </ul>"},{"location":"Linux/ubuntu/#headphone","title":"Headphone","text":"<p>The output candidates are</p> <p></p> <ul> <li>HDMI/DisplayPort - Built-in Audio</li> <li>Speakers - Built-in Audio</li> <li>Headphone - LE-Bose QC35 II</li> </ul> <p>and there are two profiles for <code>Headphone</code></p> <ul> <li>High Fidelity Playback (A2DP Sink)</li> <li>Headset Head Unit (HSP/HFP)</li> </ul> <p>also two profiles for <code>Speakers</code></p> <ul> <li>Analog Stereo Output</li> <li>Analog Surround 4.0 Output</li> </ul> <p>and one profile for <code>HDMI/DisplayPort</code></p> <ul> <li>Digital Stereo (HDMI) Output</li> </ul> <p>There are two devices for sound input</p> <p></p> <ul> <li>Internal Microphone - Built-in Audio</li> <li>Bluetooth Input - LE-Bose QC35 II</li> </ul> <p>Here are some observations</p> <ul> <li>The profile <code>High Fidelity Playback</code> is much more confortable than another profile.</li> <li>If <code>Output = Headphone + High Fidelity</code>, then <code>Input</code> cannot be set as <code>Bluetooth Input</code></li> <li>Otherwise, if set <code>Input</code> as <code>Bluetooth Input</code>, then the Profile of <code>Output</code> would become to <code>Headset Head Unit</code></li> </ul> <p>Sometimes, no sound from the headphone, and possibly the headphone is connected to another device. Refer to Using multiple Bluetooth\u00ae connections for switching the connected devices for the headphone. </p> <p>When two devices are actively connected, you can play music from either device. To switch between connected devices, pause the first device and play music from the second.</p> <p>But sometimes either devices are playing sound, a less elegant way is to disconnect other devices.</p> <p>see also Pair Bose QuietComfort 35 with Ubuntu over Bluetooth - Ask Ubuntu</p> <p>Turn on/off Bluebooth from CLI</p> <p>\u67d0\u6b21\uff0c\u5408\u4e0a\u7b14\u8bb0\u672c\u76d6\u5b50\u7136\u540e\u6253\u5f00\u540e\uff0c\u627e\u4e0d\u5230\u84dd\u7259\uff0c\u800c\u4e14\u5728\u8bbe\u7f6e\u754c\u9762\u4e2d\u4e5f\u65e0\u6cd5\u6253\u5f00\u84dd\u7259\u3002 <pre><code>rfkill block bluetooth\nrfkill unblock bluetooth\n</code></pre> \u53c2\u8003 </p>"},{"location":"Linux/ubuntu/#nvidia-driver","title":"Nvidia Driver","text":"<p>Install via the GUI <code>Software &amp; Updates</code>. If succeed, then</p> <pre><code>$ nvidia-smi\n</code></pre> <p>can display the GPU memory usage, together with the versions of driver and CUDA,</p> <pre><code>$ nvidia-smi \nMon Aug  2 22:08:19 2021       \n+-----------------------------------------------------------------------------+\n| NVIDIA-SMI 460.91.03    Driver Version: 460.91.03    CUDA Version: 11.2     |\n|-------------------------------+----------------------+----------------------+\n| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |\n| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |\n|                               |                      |               MIG M. |\n|===============================+======================+======================|\n|   0  GeForce 940MX       Off  | 00000000:02:00.0 Off |                  N/A |\n| N/A   63C    P0    N/A /  N/A |    724MiB /  2004MiB |      9%      Default |\n|                               |                      |                  N/A |\n+-------------------------------+----------------------+----------------------+\n\n+-----------------------------------------------------------------------------+\n| Processes:                                                                  |\n|  GPU   GI   CI        PID   Type   Process name                  GPU Memory |\n|        ID   ID                                                   Usage      |\n|=============================================================================|\n|    0   N/A  N/A       400      G   WeChatWeb.exe                       9MiB |\n|    0   N/A  N/A       663      G   ...cent\\WeChat\\WeChatApp.exe        7MiB |\n|    0   N/A  N/A      4454      G   ...AAAAAAAAA= --shared-files       59MiB |\n|    0   N/A  N/A      7440      G   /usr/lib/xorg/Xorg                437MiB |\n</code></pre> <p>refer to Linux\u5b89\u88c5NVIDIA\u663e\u5361\u9a71\u52a8\u7684\u6b63\u786e\u59ff\u52bf for other approaches (seems more technical).</p> <p>Different CUDA version shown by nvcc and NVIDIA-smi</p> <p>refer to Different CUDA versions shown by nvcc and NVIDIA-smi</p> <p>CUDA has 2 primary APIs, the runtime and the driver API. Both have a corresponding version</p> <ul> <li>The necessary support for the driver API (e.g. libcuda.so on linux) is installed by the GPU driver installer.</li> <li>The necessary support for the runtime API (e.g. libcudart.so on linux, and also nvcc) is installed by the CUDA toolkit installer (which may also have a GPU driver installer bundled in it).</li> </ul> <p><code>nvidia-smi</code>: installed by the GPU driver installer, and generally has the GPU driver in view, not anything installed by the CUDA toolkit installer. <code>nvcc</code>: the CUDA compiler-driver tool that is installed with the CUDA toolkit, will always report the CUDA runtime version that it was built to recognize.</p>"},{"location":"Linux/ubuntu/#kernel","title":"Kernel","text":"<ul> <li>Go back to old kernel</li> </ul>"},{"location":"Linux/ubuntu/#printer","title":"Printer","text":""},{"location":"Linux/ubuntu/#use-department-printer","title":"Use Department Printer","text":"<p>The department printer is only accessible from the office PC, but request to switch the cable from office PC to my laptop, I can configure to use the printer from my laptop. The steps are</p> <ol> <li>choose LPD/LPR Host or Printer</li> <li>set host as <code>hpm605dn1.sta.cuhk.edu.hk</code></li> </ol> <p>The detailed settings are</p> <p></p> <p>finally, the test page can be successfully printed,</p> <p></p> <p>If we forget the hostname, actually we can get the ip address from the panel of printer,</p> step 1 step 2 <p>We can validate the hostname and the ip point to the same machine,</p> <pre><code>weiya@stapc220:~$ ping hpm605dn1.sta.cuhk.edu.hk\nPING hpm605dn1.sta.cuhk.edu.hk (172.16.37.238) 56(84) bytes of data.\n</code></pre>"},{"location":"Linux/ubuntu/#share-printer","title":"Share Printer","text":"<p>\u73b0\u6709\u53f0 HP-Deskjet-1050-J410-series \u6253\u5370\u673a\uff0c\u901a\u8fc7 USB \u63a5\u53e3\u3002\u76f4\u63a5\u8fde\u63a5\u5728 Ubuntu \u4e0a\u662f\u53ef\u4ee5\u5b9e\u73b0\u6253\u5370\u529f\u80fd\u7684\uff0c\u73b0\u5728\u60f3\u8d21\u732e\u7ed9\u5c40\u57df\u7f51\u5185\u7684\u5176\u4ed6\u8bbe\u5907\uff0c\u53c2\u8003 \u4f7f\u7528Linux\u5171\u4eab\u6253\u5370\u673a\uff0c\u4e3b\u8981\u6b65\u9aa4\u4e3a</p> <ol> <li>\u5b89\u88c5 CUPS \u670d\u52a1\uff0c<code>sudo apt-get install cups</code> \u5e76\u542f\u52a8\uff0c<code>sudo service cups start</code></li> <li>\u5728 <code>127.0.0.1:631</code> \u7684 <code>Administration &gt;&gt; Advanced</code> \u52fe\u9009 <code>Allow printing from the Internet</code>\uff0c\u5e76\u4fdd\u5b58\u3002</li> <li>\u6253\u5f00\u9632\u706b\u5899\uff0c<code>sudo ufw allow 631/tcp</code></li> </ol> <p>\u5728\u540c\u4e00\u5c40\u57df\u7f51\u5185\u7684 Windows \u8bbe\u5907\u4e2d\uff0c\u6dfb\u52a0\u8be5\u6253\u5370\u673a\uff0c\u5730\u5740\u5373\u4e3aUbuntu\u4e2d\u6d4f\u89c8\u5668\u7684\u5730\u5740\uff0c\u6ce8\u610f\u5c06 <code>127.0.0.1</code> \u6362\u6210\u5c40\u57df\u7f51 ip\u3002\u5982\u679c\u987a\u5229\u7684\u8bdd\uff0c\u6dfb\u52a0\u540e\u9700\u8981\u6dfb\u52a0\u9a71\u52a8\u7a0b\u5e8f\uff0c\u53ef\u4ee5\u5728 HP \u5b98\u7f51\u4e0b\u8f7d\u3002</p>"},{"location":"Linux/ubuntu/#add-virtual-memory","title":"Add Virtual Memory","text":"<p>\u901a\u8fc7\u4ea4\u6362\u6587\u4ef6\u5b9e\u73b0</p> <pre><code># \u521b\u5efa\u5927\u5c0f\u4e3a2G\u7684\u6587\u4ef6swapfile\ndd if=/dev/zero of=/mnt/swapfile bs=1M count=2048\n# \u683c\u5f0f\u5316\nmkswap /mnt/swapfile\n# \u6302\u8f7d\nswapon /mnt/swapfile\n</code></pre> <p>\u6ce8\u610f\u6587\u4ef6\u5e94\u4e3a <code>root:root</code>\uff0c\u5426\u5219\u4f1a\u63d0\u793a</p> <p>insecure file owner 1000, 0 (root) suggested.</p> <p>\u53e6\u89c1 How to Resolve the Insecure warning in Swapon?</p> <p>\u4e3a\u4e86\u4fdd\u8bc1\u5f00\u673a\u81ea\u52a8\u52a0\u8f7d\uff0c\u5728 <code>/etc/fstab</code> \u52a0\u5165</p> <pre><code>/mnt/swapfile swap swap defaults 0 0\n</code></pre> <p>\u5177\u4f53\u6bcf\u4e00\u5217\u7684\u542b\u4e49\u53ef\u4ee5\u901a\u8fc7 <code>man fstab</code> \u67e5\u770b\u3002</p> <p>\u6302\u8f7d\u6210\u529f\u540e\u5c31\u53ef\u4ee5\u901a\u8fc7 <code>free -h</code> \u67e5\u770b\u5185\u5b58\u60c5\u51b5\u3002</p> <p>\u53c2\u8003 Linux\u4e0b\u5982\u4f55\u6dfb\u52a0\u865a\u62df\u5185\u5b58</p> <p>\u8fd9\u4e2a\u65b9\u6cd5\u4e5f\u53ef\u4ee5\u89e3\u51b3 \u201cvirtual memory exhausted: Cannot allocate memory\u201d \u7684\u95ee\u9898\u3002</p> <p>\u8c03\u6574 swapiness\uff0c\u9ed8\u8ba4\u503c\u4e3a 60\uff0c</p> <pre><code>$ cat /proc/sys/vm/swappiness\n</code></pre> <p>\u8d8a\u9ad8\u8868\u793a\u8d8a\u79ef\u6781\u4f7f\u7528 swap \u7a7a\u95f4\u3002</p> <p>\u4e34\u65f6\u6027\u4f7f\u7528</p> <pre><code>$ sudo sysctl vm.swappiness=80\n</code></pre> <p>\u53c2\u8003 linux\u7cfb\u7edfswappiness\u53c2\u6570\u5728\u5185\u5b58\u4e0e\u4ea4\u6362\u5206\u533a\u95f4\u4f18\u5316</p>"},{"location":"Linux/ubuntu/#wifi","title":"WiFi","text":"<p>Info</p> <p>Post: 2022-04-01 23:57:09</p> <p>\u6821\u56ed\u7f51\u7a81\u7136\u65e0\u6cd5\u6253\u5f00\u5fae\u4fe1\u56fe\u7247\uff0c\u516c\u4f17\u53f7\u6587\u7ae0\u4e5f\u65e0\u6cd5\u52a0\u8f7d\uff0c\u65e0\u6cd5 ping \u901a <code>mp.weixin.qq.com</code>\uff0c\u4f46\u5728\u670d\u52a1\u5668\u4e0a\u53ef\u4ee5\u3002\u6240\u4ee5\u7b2c\u4e00\u4e2a\u81ea\u7136\u60f3\u6cd5\u662f\u5229\u7528\u52a8\u6001\u8f6c\u53d1\u642d\u5efa\u96a7\u9053\uff0c\u5373\u5728\u672c\u5730\u7aef\u8fd0\u884c </p> <pre><code>$ ssh -D 30002 server\n</code></pre> <p>\u7136\u540e\u4fbf\u53ef\u4ee5\u901a\u8fc7 socks5://127.0.0.1:30002 \u8fdb\u884c\u4ee3\u7406\u3002\u52a0\u4e86\u4ee3\u7406\u4e4b\u540e\uff0c\u9996\u5148\u80fd\u591f\u5728\u6d4f\u89c8\u5668\u7aef\u6253\u5f00\u516c\u4f17\u53f7\u6587\u7ae0\u3002\u4f46\u60f3\u8981\u5fae\u4fe1\u672c\u8eab\u4e5f\u8fdb\u884c\u4ee3\u7406\uff0c\u5e76\u4e0d\u76f4\u63a5\uff0c\u53ef\u80fd\u56e0\u4e3a wine \u5957\u58f3\u7684\u539f\u56e0\uff0c\u540e\u6765\u4e5f\u6ca1\u6709\u7ee7\u7eed\u7ec6\u7a76\u3002</p> <p>\u53e6\u4e00\u79cd\u65b9\u5f0f\u4fbf\u662f\u6362 wifi\u3002\u9664\u4e86 CUHK1x\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528 eduroam\uff0c\u70b9\u51fb\u8fde\u63a5\u65f6\uff0c\u7adf\u7136\u53d1\u73b0\u8fde\u63a5\u72b6\u6001\u4e0b\u7684 security \u662f\u54c8\u4f5b\u5e10\u53f7\uff0c\u7136\u800c\u6211\u5e76\u6ca1\u6709\u5229\u7528\u54c8\u4f5b\u5e10\u53f7\u8fde\u63a5\u8fc7 eduroam\uff0c\u800c\u4e14\u5e10\u53f7\u65e9\u5df2\u5931\u6548\u3002\u5176\u539f\u56e0\uff0c\u5f88\u53ef\u80fd\u5c31\u662f\u56e0\u4e3a\u5f53\u65f6\u8fde\u63a5 Harvard Secure \u65f6\uff0c\u4f1a\u4e0b\u8f7d\u4e00\u4e2a <code>JoinNow</code>\uff0c\u5e76\u5728\u672c\u5730\u8fd0\u884c \u3002</p> <p>\u800c\u6b64\u65f6\u6240\u8fde\u63a5\u7684 eduroam \u4e2d security \u4fbf\u6307\u5411 joinnow \u7684\u4e24\u4e2a\u5bc6\u94a5\u6587\u4ef6\uff0c</p> <pre><code>~/.joinnow/tls-client-certs$ ls\nsw2-joinnow-client-cert-**************.crt\nsw2-joinnow-client-cert-**************.p12\n</code></pre> <p>\u4e0d\u8fc7\u5728\u8be5 wifi \u4e0b\uff0c\u4e0d\u80fd\u76f4\u63a5\u8bbf\u95ee\u670d\u52a1\u5668\u3002\u4e8e\u662f\u60f3\u5207\u6362\u5230\u5b66\u6821\u5e10\u53f7\u7684 eduroam\uff0c\u4f46\u53c8\u60f3\u4fdd\u7559\u5f53\u524d profile\u3002\u6240\u4ee5\u5c1d\u8bd5\u76f4\u63a5\u590d\u5236 wifi profile \u6587\u4ef6\uff0c</p> <pre><code>/etc/NetworkManager/system-connections$ sudo cp A B\n</code></pre> <p>\u7136\u540e\u4fee\u6539\u6bcf\u4e2a profile \u7684\u7ec6\u8282\uff0c\u6ce8\u610f uuid \u4e5f\u5fc5\u987b\u4fee\u6539\uff0c\u8fd0\u884c <code>uuid</code> \u751f\u6210\uff0c\u4e0d\u7136\u4f1a\u89c6\u4e3a\u540c\u4e00\u4e2a\u8fde\u63a5\u3002\u4fee\u6539\u5b8c\u6210\u540e\u91cd\u542f\u7f51\u7edc\u670d\u52a1\uff0c</p> <pre><code>sudo systemctl restart NetworkManager\n</code></pre> <p>\u53c2\u8003 </p> <p>\u53e6\u5916\uff0c\u547d\u4ee4\u884c\u64cd\u4f5c\u8fdb\u884c\u7f51\u7edc\u8fde\u63a5\u8be6\u89c1 https://www.makeuseof.com/connect-to-wifi-with-nmcli/</p>"},{"location":"Linux/ubuntu/#delete-hotspot","title":"Delete Hotspot","text":"<p>\u5347\u7ea7\u5230 Ubuntu 18.04 \u540e\uff0c\u5f00\u673a\u81ea\u52a8\u8fde\u63a5\u5230 Hotspot\uff0c\u6bcf\u6b21\u9700\u8981\u624b\u52a8\u7981\u6b62\u5e76\u6539\u6210 Wifi \u8fde\u63a5\uff0c\u8fd9\u4e2a\u53ef\u4ee5\u76f4\u63a5\u5220\u9664\u4fdd\u5b58\u597d\u7684 Hotspot \u8fde\u63a5</p> <pre><code>cd /etc/NetworkManager/system-connections/\nsudo rm Hotspot\n</code></pre> <p>\u53c2\u8003 How to remove access point from saved list</p>"},{"location":"Linux/ubuntu/#wifi-hotpot-1604","title":"WiFi Hotpot (16.04)","text":"<p>Refer to</p> <ol> <li>3 Ways to Create Wifi Hotspot in Ubuntu 14.04 (Android Support)</li> <li>How do I create a WiFi hotspot sharing wireless internet connection (single adapter)?</li> </ol> <p>\u51e0\u5904\u4e0d\u540c\uff1a</p> <ol> <li>\u9009\u62e9 <code>mode</code> \u65f6\uff0c\u76f4\u63a5\u9009\u62e9 <code>hotpot</code> \u5373\u53ef\uff0c\u540e\u9762\u4e5f\u65e0\u9700\u66f4\u6539\u6587\u4ef6</li> <li>\u8bbe\u7f6e\u5bc6\u7801\u65f6\u4f4d\u6570\u4e0d\u80fd\u5c11\u4e8e 8 \u4f4d</li> <li>\u8fde\u63a5 WiFi \u65f6 \u4f3c\u4e4e\u9700\u8981 enable wifi\u3002</li> </ol>"},{"location":"Linux/ubuntu/#keyboard","title":"Keyboard","text":"<p>\u5b9e\u9a8c\u5ba4\u6709\u4e00\u652f IKBC CD 87T \u84dd\u7259\u952e\u76d8\uff0c\u4e8e\u662f\u4fbf\u60f3\u8bd5\u8bd5\u3002</p> <ul> <li>\u8fde\u63a5\uff1a\u8be6\u89c1\u8bf4\u660e\u4e66</li> <li>Win \u952e\u5931\u6548\uff1a\u5c1d\u8bd5\u6309 <code>Fn + Right Win</code> \u53ca\u5de6 <code>Fn + Left Win</code>\uff0c\u53c2\u8003 IKBC\u952e\u76d8Win\u952e\u5931\u6548\u7684\u89e3\u51b3\u529e\u6cd5</li> </ul>"},{"location":"Linux/ubuntu/#1m_ipv4_udp_receive_buffer_errors","title":"1m_ipv4_udp_receive_buffer_errors","text":"<p>Info</p> <p>The raw records can be found here.</p> <p>After replacing one of 4GB RAM with 16GB one, it throws </p> <p>1m_ipv4_udp_receive_buffer_errors</p> <p>frequently, such as</p> <p></p> <p>Following the instructions</p> <ul> <li>linux \u7cfb\u7edf UDP \u4e22\u5305\u95ee\u9898\u5206\u6790\u601d\u8def | Cizixs Write Here</li> <li>netdata ipv4 UDP errors - Server Fault</li> </ul> <p>but no <code>drops</code></p> <pre><code>wlp3s0: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500\ninet 10.13.59.193  netmask 255.255.128.0  broadcast 10.13.127.255\n        inet6 fe80::def:d34:a2c:da88  prefixlen 64  scopeid 0x20&lt;link&gt;\n        ether a4:34:d9:e8:9a:bd  txqueuelen 1000  (Ethernet)\nRX packets 17556713  bytes 20549547923 (20.5 GB)\nRX errors 0  dropped 0  overruns 0  frame 0\nTX packets 14008823  bytes 17151970123 (17.1 GB)\nTX errors 0  dropped 0 overruns 0  carrier 0  collisions 0\n</code></pre> <p>then try to enlarge <code>net.core.rmem_max</code> and <code>net.core.rmem_default</code>. The current values are</p> <pre><code>~$ sysctl net.core | grep mem\nnet.core.optmem_max = 20480\nnet.core.rmem_default = 212992\nnet.core.rmem_max = 212992\nnet.core.wmem_default = 212992\nnet.core.wmem_max = 212992\n</code></pre> <p>the update it via</p> <pre><code>~$ sudo sysctl -w net.core.rmem_default=1048576\nnet.core.rmem_default = 1048576\n~$ sudo sysctl -w net.core.rmem_max=2097152\nnet.core.rmem_max = 2097152\n~$ sysctl net.core | grep mem\nnet.core.optmem_max = 20480\nnet.core.rmem_default = 1048576\nnet.core.rmem_max = 2097152\nnet.core.wmem_default = 212992\nnet.core.wmem_max = 212992\n</code></pre> <p>it seems to work since much fewer warning message of <code>1m_ipv4_udp_receive_buffer_errors</code></p>"},{"location":"Linux/ubuntu/#_1","title":"\u5f00\u673a\u81ea\u542f\u52a8","text":"<p>\u641c\u7d22 <code>Startup</code> \u4fbf\u53ef\u5f39\u51fa\u5f00\u673a\u81ea\u542f\u52a8\u8f6f\u4ef6\u754c\u9762\uff0c</p> <p></p>"},{"location":"Linux/ubuntu/#connect-android-phones","title":"Connect Android Phones","text":"<p>If the computer does not recognize the android devices, try to use the original cable. See  for other possibilities.</p>"},{"location":"Linux/upgrade/","title":"Upgradation","text":""},{"location":"Linux/upgrade/#comments-true","title":"comments: true","text":""},{"location":"Linux/upgrade/#1804-2004","title":"18.04 -&gt; 20.04","text":"<p>Info</p> <p>Date: 2021-09-12</p>"},{"location":"Linux/upgrade/#_1","title":"\u5347\u7ea7\u524d","text":"<p>\u4eca\u5929\u4e0a\u5348\u6765\u5230\u529e\u516c\u5ba4\uff0c\u53d1\u73b0\u7535\u8111\u6b7b\u673a\u4e86\uff0c\u5c4f\u4fdd\u65f6\u95f4\u505c\u7559\u5728 7:45\uff0c\u4f46\u73b0\u5728\u5df2\u7ecf 9:29 \u4e86\uff0c\u8fd9\u5e94\u8be5\u662f\u6765\u54c8\u4f5b\u5341\u6765\u5929\u7684\u7b2c\u4e00\u6b21\u6b7b\u673a\u3002</p> <p>\u4e0d\u62b1\u5e0c\u671b\u5730\u76f4\u63a5\u5f3a\u5236\u91cd\u542f\uff0c\u4f46\u662f\u91cd\u542f\u540e\u660e\u663e\u611f\u89c9 Lenovo \u7684\u52a0\u8f7d\u901f\u5ea6\u53d8\u5f97\u5f88\u6162\uff0c\u4e00\u76f4\u505c\u7559\u5728 LENOVO \u7684 logo \u754c\u9762\uff0c\u5e95\u4e0b\u4e00\u884c\u5b57\u63d0\u793a\uff0c\u6309 Enter \u952e\u6253\u65ad\u6b63\u5e38\u91cd\u542f\uff0c\u6b63\u5e38\u60c5\u51b5\u4e0b\u8fd9\u4e2a\u754c\u9762\u53ea\u4f1a\u505c\u987f\u4e00\u4e24\u79d2\uff0c\u4f46\u8fd9\u6b21\u4f3c\u4e4e\u5f97\u6709 1 \u5206\u949f\u4e86\u3002\u672c\u4ee5\u4e3a\u53c8\u9700\u8981\u5f3a\u5236\u91cd\u542f\uff0c\u4f46\u662f\u8fc7\u4e86\u4e00\u4f1a\uff0c\u5e95\u4e0b\u90a3\u884c\u5b57\u6d88\u5931\u4e86\uff0c\u53ea\u5269\u4e0b LENOVO \u56fe\u6807\uff0c\u8fd9\u8bf4\u660e\u5b83\u8fd8\u5728\u52a0\u8f7d\uff0c\u53ea\u662f\u6bd4\u8f83\u6162\uff0c\u8fd9\u65f6\u5019\u89c9\u5f97\u53ef\u80fd\u662f\u521a\u521a\u5f3a\u5236\u91cd\u542f\u5b8c\uff0c\u52a0\u8f7d\u4f1a\u7a0d\u5fae\u6162\u4e00\u70b9\uff0c\u5e76\u6ca1\u6709\u592a\u5728\u610f\uff0c\u73b0\u5728\u590d\u76d8\u53d1\u73b0\uff0c\u8fd9\u4e2a\u5982\u679c\u5f97\u4ee5\u91cd\u89c6\uff0c\u53ef\u80fd\u4e0d\u9700\u8981\u540e\u9762\u7684\u64cd\u4f5c\u4e86\u3002</p> <p>\u7b49\u4e86\u597d\u4e00\u4f1a\uff0c\u7ec8\u4e8e\u8fd8\u662f\u8fdb\u5165\u4e86 grub \u9009\u9879\u754c\u9762\u3002\u7136\u540e\u81ea\u52a8\u9009\u62e9 4.15.0-147 \u7684\u7248\u672c\uff0c\u4f46\u662f\u767b\u5f55\u65f6\u76f4\u63a5\u5361\u5728\u4e86\u7b2c\u4e8c\u884c</p> <pre><code>Loading Linux 4.15.0-147-generic ...\nLoading initial ramdisk ...\n</code></pre> <p>\u7b49\u4e86\u597d\u4e45\u90fd\u6ca1\u6709\u8fdb\u5c55\uff0c\u6b64\u5904\u7a0d\u5fae google \u4e86\u4e00\u4e0b\uff0c\u53ef\u80fd\u7684\u539f\u56e0\u4e0d\u4e00\u800c\u8db3\uff0c\u6bd4\u5982\u6709\u4eba\u63d0\u5230\u6700\u8fd1\u7684\u66f4\u65b0\uff0c\u8fd9\u4e5f\u8ba9\u6211\u60f3\u5230\u6700\u8fd1\u4e5f\u6709\u66f4\u65b0\uff0c\u4e5f\u6709\u4eba\u8bf4\u4fee\u6539 grub \u8fdb\u4e00\u6b65\u770b\u770b\u8be6\u7ec6\u4fe1\u606f\u3002</p> <p>\u4e0d\u8fc7\u8fd9\u4e9b\u5f97\u9700\u8981\u5148\u80fd\u767b\u5f55\u8fdb\u53bb\uff0c\u5f3a\u5236\u91cd\u542f\u540e\uff0c\u9009\u62e9 Recovery mode \u8fdb\u5165\uff0c\u4e0d\u8fc7\u4f3c\u4e4e\u53ea\u80fd\u8fdb\u5165\u547d\u4ee4\u884c\u754c\u9762\u3002</p> <p></p> <p>\u9996\u5148\u67e5\u770b\u4e86\u6700\u8fd1\u7684\u66f4\u65b0\u8bb0\u5f55\uff0c\u4f46\u5e76\u6ca1\u6709\u5185\u6838\u76f8\u5173\u7684\uff0c\u800c\u4e14\u786e\u5b9e\u662f\u8fdb\u5165\u4e86\u4e4b\u524d\u76f8\u540c\u7684\u5185\u6838\u7248\u672c\uff0c\u8fd9\u4e2a\u53ef\u4ee5\u6392\u9664\u3002</p> <p>\u7136\u540e\u901a\u8fc7\u68c0\u67e5\u4e86 <code>df</code>\uff0c\u53d1\u73b0\u786c\u76d8\u90fd\u633a\u6b63\u5e38\u7684\uff0c\u4f46\u662f\u6b64\u5904\u6709\u7591\u70b9\u5e76\u672a\u5f15\u8d77\u5145\u5206\u91cd\u89c6\u2014\u2014\u6ca1\u6709\u663e\u793a\u79fb\u52a8\u786c\u76d8\u4ee5\u53ca\u5404\u79cd loop\u3002</p> <p>\u8bd5\u56fe\u770b\u4e86\u773c\u7cfb\u7edf\u65e5\u5fd7\uff0c\u4e00\u5207\u4e5f\u90fd\u633a\u6b63\u5e38\u7684\uff0c\u800c\u4e14\u662f\u505c\u7559\u5728\u6b7b\u673a\u524d\u6700\u540e\u4e00\u523b\uff0crecovery mode \u542f\u52a8\u65e5\u5fd7\u5e76\u6ca1\u6709\u8bb0\u5f55\u8fdb\u53bb</p> <p></p> <p>\u6700\u540e exit \u4f1a\u56de\u5230\u6b63\u5e38\u91cd\u542f\u8fc7\u7a0b\u4e2d\uff0c\u7136\u540e\u7ee7\u7eed\u5361\u4f4f\uff0c</p> <p></p>"},{"location":"Linux/upgrade/#_2","title":"\u5347\u7ea7\u4e2d","text":"<p>\u6ca1\u6709\u5934\u7eea\uff0c\u4fbf\u60f3\u7740\u76f4\u63a5\u5347\u7ea7\u8bd5\u8bd5\u3002\u5176\u5b9e\u73b0\u5728\u60f3\u60f3\uff0c\u8fc7\u4e8e\u8349\u7387\u4e86\uff0c\u8fd8\u6ca1\u6709\u53bb\u5c1d\u8bd5 debug \u5c31\u653e\u5f03\u4e86\uff0c\u6bd4\u5982\u4fee\u6539 grub \u91cd\u65b0\u767b\u5f55\u770b\u770b\u6709\u6ca1\u6709\u66f4\u660e\u786e\u7684\u4fe1\u606f\u3002\u5177\u4f53\u5347\u7ea7\u6b65\u9aa4\u4e3a</p> <ol> <li>\u4fee\u6539 <code>/etc/update-manager/release-upgrades</code> </li> <li><code>sudo do-release-upgrade</code></li> </ol> <p>\u4f46\u662f\u5347\u7ea7\u6240\u9700\u786c\u76d8\u7a7a\u95f4\u4e0d\u591f\uff0c\u4e8e\u662f\u5378\u8f7d MATLAB\uff0c\u56e0\u4e3a\u73b0\u5728\u786e\u5b9e\u672c\u5730\u6ca1\u8dd1\u8fc7\u5b83\u4e86\uff0c\u6ca1\u6709\u627e\u5230\u5378\u8f7d\u7a0b\u5e8f\uff0c<code>apt purge</code> \u4e5f\u4e0d\u7ba1\u7528\uff0c\u4e8e\u662f\u76f4\u63a5</p> <pre><code>/usr/local/MATLAB$ sudo rm -rf R2019a\n</code></pre> <p>\u540e\u6765\u518d\u7ee7\u7eed\u8fd0\u884c <code>do-release-upgrade</code>\uff0c\u5dee\u4e0d\u591a 90min \u624d\u5b8c\u6210\uff0c\u8fd9\u4e2d\u95f4 90min \u4e0a\u7f51\u770b\u4e86\u770b\u6709\u6ca1\u6709\u5408\u9002\u7684\u7b14\u8bb0\u672c\uff0c\u4f46\u5176\u5b9e\u8fd8\u4e0d\u662f\u5f88\u60f3\u6362\u3002\u5feb\u7ed3\u675f\u7684\u65f6\u5019\uff0c\u9700\u8981\u786e\u8ba4\u662f\u5426\u4fdd\u7559\u539f\u59cb\u914d\u7f6e\u6587\u4ef6</p> <p>Tip</p> <p>\u5982\u679c \u201cdo-release-upgrade\u201d \u4e2d\u65ad\uff0c\u600e\u4e48\u5220\u9664\u6dd8\u6c70\u7684\u5305\uff0c\u76f4\u63a5 <code>autoremove</code> \u4f3c\u4e4e\u5e76\u4e0d\u80fd\u5220\u9664\u5e72\u51c0\uff0c\u8be6\u89c1 </p>"},{"location":"Linux/upgrade/#_3","title":"\u5347\u7ea7\u540e","text":"<p>\u5b89\u88c5\u5b8c\u6210\u540e\u9009\u62e9\u91cd\u542f\uff0c\u7136\u540e\u53c8\u5230\u4e86\u7f13\u6162\u7684 LENOVO LOGO\uff0c\u6240\u4ee5\u624d\u6e10\u6e10\u610f\u8bc6\u5230\u53ef\u80fd\u95ee\u9898\u6839\u6e90\u4ecd\u5728\u3002\u7b49\u4e86\u597d\u4e45\u8fdb\u5165\u767b\u5f55\u9009\u9879\u65f6\uff0c\u6ce8\u610f\u73b0\u5728\u5185\u6838\u5df2\u7ecf\u5347\u7ea7\u81f3 <code>5.4.0-84</code>\uff0c\u539f\u5148\u7684\u7b2c\u4e00\u9879\u987a\u79fb\u5230\u4e86\u7b2c\u4e8c\u9879\uff0c\u6240\u4ee5\u4e00\u4e0d\u7559\u795e\u4fbf\u4ee5 4.15.0-153 \u542f\u52a8\u4e86\uff0c\u7136\u540e\u4fbf\u9ed1\u5c4f\u65e0\u54cd\u5e94\u4e86\u3002</p> <p>\u5f3a\u5236\u91cd\u542f\u540e\uff0c\u7a81\u53d1\u5947\u60f3\u51c6\u5907\u8bd5\u4e0b\u597d\u4e45\u6ca1\u9009\u62e9\u7684\u7b2c\u4e8c\u7cfb\u7edf\u2014\u2014Win10\uff0c\u867d\u7136\u4e5f\u662f\u9ed1\u5c4f\uff0c\u4f46\u662f\u53ea\u662f\u5c4f\u5e55\u4e0b\u65b9\u5728\u8f6c\uff0c\u8bf4\u660e\u8fd8\u5728\u52a8\uff0c\u8fd9\u65f6\u624d\u66f4\u52a0\u610f\u8bc6\u5230\u5e94\u8be5\u8ddf\u7cfb\u7edf\u65e0\u5173\u3002\u7136\u540e\u770b\u5230\u5206\u6790\u8bf4\u662f\u786c\u76d8\u6216\u5185\u5b58\u7b49\u63a5\u89e6\u4e0d\u826f\uff0c\u5982\u679c\u662f\u673a\u5668\u91cc\u9762\uff0c\u90a3\u6682\u65f6\u4e5f\u6ca1\u529e\u6cd5\u4e86\uff0c\u624b\u5934\u4e0a\u5e76\u6ca1\u6709\u5de5\u5177\uff0c\u4f46\u4f1a\u4e0d\u4f1a\u662f\u79fb\u52a8\u786c\u76d8\u5462\u3002\u4e8e\u662f\u6211\u76f4\u63a5\u62d4\u6389\u8fd9\u4e24\u5757\u79fb\u52a8\u786c\u76d8\uff0c\u6ca1\u60f3\u5230\u5f88\u5feb\u5c31\u8fdb\u5165\u4e86 Windows \u7cfb\u7edf\u3002\u4f1a\u4e0d\u4f1a\u53ea\u662f\u5de7\u5408\uff1f</p> <p>\u4e8e\u662f\u91cd\u542f\uff0c\u53d1\u73b0 LENOVO \u7684\u52a0\u8f7d\u754c\u9762\u4e0d\u505c\u6ede\u4e86\uff0c\u7136\u540e\u9009\u62e9 Ubuntu\uff0c\u4fbf\u5f88\u5feb\u5730\u8fdb\u5165\u4e86\u5347\u7ea7\u540e\u7684\u56fe\u8c61\u5316\u754c\u9762\uff01</p> <p>\u6240\u4ee5\u6781\u6709\u53ef\u80fd\u53ea\u662f\u5916\u63a5\u786c\u76d8\u63a5\u89e6\u4e0d\u4e86\uff0c\u56e0\u4e3a\u518d\u6b21\u63d2\u4e0a\u540e\uff0c\u786c\u76d8\u6570\u636e\u4ecd\u5728\u3002</p> <p>\u5728 20.04 \u4e0b\uff0c\u663e\u5361\u4e5f\u5de5\u4f5c\u6b63\u5e38\uff0c\u8fd9\u672c\u6765\u662f\u4e4b\u524d\u6000\u7591\u7684\u5bf9\u8c61\u3002</p> <p>\u4e00\u9879\u9700\u8981\u7d27\u6025\u66f4\u65b0\u7684\u4fbf\u662f\u4fee\u6539 <code>grub</code>\uff0c\u53d6\u6d88\u9009\u62e9\u7279\u5b9a\u5185\u6838\u7248\u672c\uff0c</p> <ol> <li>\u5c06 <code>GRUB_DEFAULT</code> \u4fee\u6539\u56de <code>0</code></li> <li><code>sudo update-grub</code></li> </ol> <p>\u7136\u540e\u53d1\u73b0 shutter \u5728 20.04 \u4e2d\u6ca1\u6709\u4e86\uff0c\u5176\u5b9e\u5728 G40 \u4e2d\u5df2\u7ecf\u53d1\u73b0\u4e86\uff0c\u53c2\u8003 How to Install Shutter Screenshot Tool in Ubuntu 20.04</p> <pre><code>sudo add-apt-repository -y ppa:linuxuprising/shutter\nsudo apt install shutter\n</code></pre>"},{"location":"Linux/upgrade/#comments-true_1","title":"comments: true","text":""},{"location":"Linux/upgrade/#1604-1804","title":"16.04 -&gt; 18.04","text":"<p>Info</p> <p>Date: 2020-04-12</p> <p>I want to install BaiduYunpan for Linux, but actually I have tried it before, which cannot work for my current version. However, I note that the version has been updated, although it is still for Ubuntu 18.04, not Ubuntu 16.04. </p> <p>Same results with the previous try, cannot start it after installing it, and no error thrown in the install procedure. But today I went further, I found that after I type</p> <pre><code>/opt/baidunetdisk/baidunetdisk </code></pre> <p>it throws an error,</p> <p>This program requires version 3.3.0 of the Protocol Buffer runtime library, but the installed version is 2.6.1.</p> <p>Try to install latest version from protocolbuffers/protobuf, first time the latest one, 3.14, but it doesn\u2019t work and it require <code>.so.9</code>, while v3.14 has a <code>.so.22</code>, I also tried copy <code>.so.22</code> to <code>.so.9</code>, or make a soft link, doesn\u2019t work. The second time I install <code>v3.3</code>, the <code>.so.[NUM]</code> still does not match, and hence doesn\u2019t work.</p> <p>The error is </p> <p>libmirprotobuf.so.3: undefined symbol: _ZNK6google8protobuf11MessageLite25InitializationErrorStringB5cxx11Ev</p> <p>and then I follow the instructions in Ubuntu: mir package</p> <pre><code>sudo apt-get purge libprotobuf-lite9v5\nsudo apt-get install libprotobuf-lite9v5\n</code></pre> <p>the first step throws the dependencies warnings, related to <code>libqt5</code>, then I uninstall <code>libqt5</code>. Unfortunately, many running programs then exit when the uninstalling procedure keeps going, and I found that I make a big mistake!!</p> <p>Now, maybe the best way is to update my system from Ubuntu 16.04 to Ubuntu 18.04 to recover the broken system. Actually I have updated my old PC from 16.04 to 18.04, seems quite fluent.</p> <p>However, for this PC, there are many disappointing problem.</p> <pre><code>sudo apt-get update\nsudo apt-get dist-upgrade\nsudo apt autoremove\n</code></pre> <p>it is necessary to modify <code>/etc/update-manager/release-upgrades</code> from <code>never</code> to <code>lts</code>, otherwise it cannot detect new release version. Then run</p> <pre><code>sudo do-release-upgrade\n</code></pre> <p>refer to \u5c06 Ubuntu 16.04 LTS \u5347\u7ea7\u5230 Ubuntu 18.04 LTS</p> <p>Due to previous HK Ubuntu mirror, the speed is quite slow, then the first thing I need to do is to replace the mirror in <code>/etc/apt/sources.list</code> with aliyun by <code>sed</code> operation via</p> <pre><code>sudo sed -i \"s#http://ftp.cuhk.edu.hk/pub/Linux/ubuntu/#http://mirrors.aliyun.com/ubuntu/#\" sources.list\n</code></pre> <p>\u540e\u6765\u66f4\u65b0\u81f3\uff0c</p> <pre><code>sudo sed -i \"s#ftp.cuhk.edu.hk/pub/Linux#archive.ubuntu.com#g\" sources.list\n</code></pre> <p>Then go on. However, I mistook enter something in the middle, and stop the installation procedure, that is might be part of the reason why I met so many problems.</p> <p>Try to run <code>do-release-upgrade</code> again, but it said no new release version, and told me to upgrade the software in the current version. Actually it is Ubuntu 18.04 now, checking by</p> <pre><code>lsb_release -a\n</code></pre> <p>then I run </p> <pre><code>sudo apt-get update\nsudo apt-get upgrade\n</code></pre> <p>after the first run, I think I am OK. But in the rebooting, I cannot enter into the system, the Ubuntu logo is twinkling, and sometimes I can switch to the command window, it holds with message</p> <p>a start job is running for hold until boot process finishes up\uff08X s/unlimit\uff09</p> <p>but do not want to try the re-install solution in \u95ee\u98981\uff1aa start job is running for hold until boot process finishes up\uff08X s/unlimit\uff09, because I guess my situation would be quite different, since I uninstall <code>libqt5</code>, and interrupt the normal release updating procedure, </p> <p>Then I found some other possible solutions,</p> <pre><code>sudo apt-get update\nsudo apt-get install --reinstall ubuntu-desktop\nsudo apt-get install unity\n</code></pre> <p>But the first thing I need to do is to stop it by power, and then choose to start an advanced session in the grub session, and I chose a <code>recovery mode</code>, then I entered into a command line. And I can continue to fix the problem.</p> <p>But before I can install the <code>desktop</code>, repeat to run <code>update</code> and <code>upgrade</code>, then updating texlive from 2015 to 2017 throws an error,</p> <p>dpkg: error processing archive /var/cache/apt/archives/texlive-fonts-extra-doc_2017.20180305-2_all.deb (\u2013unpack): trying to overwrite \u2018/usr/share/doc/texlive-doc/latex/mweights/README\u2019, which is also in package texlive-latex-extra-doc 2015.20160320-1 dpkg-deb: error: paste subprocess was killed by signal (Broken pipe)</p> <p>try <code>install -f</code>, but does not work, the solution is</p> <pre><code>sudo dpkg -i --force-all /var/cache/apt/archives/texlive-fonts-extra-doc_2017.20180305-2_all.deb\n</code></pre> <p>refer to \u5728apt\u66f4\u65b0texlive\u52302017\u7684\u95ee\u9898</p> <p>then I reboot to test, but the internet broken, <code>ifconfig</code> only returns <code>lo</code>, but <code>ifconfig -a</code> shows all possible cards, I have tried <code>service restart</code> like in UBUNTU ifconfig\u53ea\u6709lo, but it does not work, then I found the solution worked for me</p> <pre><code>sudo dhclient enp**\n</code></pre> <p>in Ubuntu\u8f93\u5165ifconfig\u627e\u4e0d\u5230IP\u5730\u5740\uff0c\u53ea\u6709lo\u95ee\u9898.</p> <p>Reboot after the <code>desktop</code> is successfully installed, I can enter into the graphical system!!</p>"},{"location":"Linux/wsl/","title":"Windows Subsytem Linux Ubuntu","text":""},{"location":"Linux/wsl/#mount-usb-drive","title":"Mount USB drive","text":"<p>By default, the usb drive is not mounted to WSL, although it can be easily accessed via Windows.</p> <pre><code># step 1: create a folder for mount\n$ sudo mkdir /mnt/f\n# step 2: mount\n$ sudo mount -t drvfs F: /mnt/f\n</code></pre> <p>refer to How to access my usb drive in Windows Subsytem Linux Ubuntu</p> <p>But when using <code>rsync</code> for copying files, it throws warnings that cannot set times on the folder and cannot <code>mkstemp</code>, although <code>scp</code> works fine. The natural solution is to change the permission, but <code>chown</code> not work. Then following Rsync operation not permitted, remount the driver by specifying the user id and group id,</p> <pre><code>$ sudo unmount \n$ sudo mount -t drvfs -o rw,noatime,uid=1000,gid=1000 'P:\\' /mnt/p\n</code></pre> <p>It is reported that <code>scp</code> is slower than <code>rsync</code>, but based on my tries, it seems <code>scp</code> would be faster. But a big warning is that</p> <p>Warning</p> <p>DO NOT interrupt a large file copy process, otherwise your PC would break down, and cannot ssh into. The only way is to restart manually. </p>"},{"location":"Linux/wsl/#misc","title":"Misc","text":"<ul> <li>run graphical program</li> </ul>"},{"location":"Linux/blog/2020-08-25-PSSD/","title":"Portable SSD","text":"<p>Info</p> <p>Post: 2020.08.25</p> <p>\u56e0\u4e3a\u786c\u76d8\u592a\u5c0f\uff0c\u800c\u79fb\u52a8\u786c\u76d8\u8bfb\u5199\u6587\u4ef6\u901f\u5ea6\u5b9e\u5728\u6709\u70b9\u6162\uff0c\u7136\u540e\u770b\u5230\u6709\u79fb\u52a8 SSD \u786c\u76d8\uff0c\u4e8e\u662f\u4fbf\u5165\u624b\u4e86\u4e00\u4e2a\u3002</p> <p>\u5f53\u7136\u9996\u5148\u786e\u5b9a\u4e86\uff0c\u81ea\u5df1\u7b14\u8bb0\u672c\u6709 USB3.0 \u63a5\u53e3\uff0c\u867d\u7136\u4e0d\u662f USB3.1\u3002\uff08\u4e0d\u8fc7\u597d\u50cf USB3.0 \u4e5f\u53eb\u4f5c USB3.1 gen1\uff0c\u800c\u771f\u6b63\u7684 USB3.1 \u53eb\u505a USB3.1 gen2\uff09\uff0c\u8fd9\u4e2a\u53ef\u4ee5\u901a\u8fc7</p> <pre><code>$ lsusb -t\n</code></pre> <p>\u6765\u770b\u63a5\u53e3\u7684\u60c5\u51b5\uff0c\u5f53\u7136\u4e5f\u76f4\u63a5\u641c\u4e86\u7535\u8111\u578b\u53f7\u6765\u770b\u5177\u4f53\u914d\u7f6e\u3001</p> <p>\u8d27\u5230\u624b\u540e\uff0c\u4e00\u5f00\u59cb\u63d2\u4e0a\u65f6\uff0c\u8bf4</p> <p>Mount error: unknown filesystem type \u2018exfat\u2019</p> <p>\u672c\u6765\u4ee5\u4e3a\u9700\u8981\u4ec0\u4e48\u683c\u5f0f\u8f6c\u5316\u4e4b\u7c7b\u7684\uff0c\u540e\u6765\u53d1\u73b0\u89e3\u51b3\u65b9\u6848\u633a\u7b80\u5355\u7684\uff0c</p> <pre><code>sudo apt-get install exfat-fuse exfat-utils\n</code></pre> <p>\u4f46\u662f\u540e\u6765\u53d1\u73b0\u8fd9\u4e2a\u683c\u5f0f\u5f88\u591a\u5730\u65b9\u4f1a\u51fa\u73b0\u4e0d\u517c\u5bb9\uff0c\u6bd4\u5982</p> <ol> <li>\u89e3\u538b\u67d0\u4e2a\u6587\u4ef6\u65f6\uff0c\u62a5\u51fa <code>Cannot set modif./access times</code>\uff0c\u800c\u8fd9\u4e2a\u5728\u6b63\u5e38\u78c1\u76d8\u4ee5\u53ca\u5df2\u6709\u7684\u79fb\u52a8\u786c\u76d8\u4e2d\u90fd\u80fd\u6b63\u5e38\u89e3\u538b</li> <li>\u4e0d\u80fd\u521b\u5efa\u5e26\u6709 <code>:</code> \u7684\u6587\u4ef6\u5939\uff0c\u8fd9\u5e94\u8be5\u662f\u9075\u5faa Windows \u7684\u6807\u51c6\uff0c\u4f46\u662f Linux \u547d\u540d\u6807\u51c6\u6ca1\u6709\u9075\u5faa Windows\uff0c\u6240\u4ee5\u9020\u6210\u6709\u4e9b\u6587\u4ef6\u590d\u5236\u4e0d\u8fc7\u53bb\u3002</li> </ol> <p>\u6700\u540e\u51b3\u5b9a\u683c\u5f0f\u5316\u4e3a Linux \u78c1\u76d8\u7684\u683c\u5f0f\uff0c\u8fd9\u4e2a\u5176\u5b9e\u4e5f\u633a\u7b80\u5355\u7684\uff0c\u8fdb\u5165 <code>gnome-disks</code>\uff0c\u5148 umount\uff0c\u7136\u540e\u9009\u62e9\u683c\u5f0f\u5316\uff0c\u8fd9\u65f6\u76f4\u63a5\u9009\u62e9\u683c\u5f0f\u5316\u4e3a Linux \u7684 Ext4\uff0c\u6709\u4e00\u7bc7\u56fe\u6587\u4ecb\u7ecd\uff0c\u4e0d\u8fc7\u6ca1\u770b\u65f6\u5c31\u5df2\u7ecf\u81ea\u5df1\u64cd\u4f5c\u4e86\uff0c\u53ea\u662f\u8ba9\u81ea\u5df1\u5fc3\u5b89\u4e00\u4e0b\u3002</p> <p>\u7136\u540e\u6d4b\u8bd5\u4e86\u4e00\u4e0b\u8bfb\u53d6\u901f\u5ea6\uff0c</p> <pre><code>~$ sudo hdparm -Tt /dev/sdc1\n\n/dev/sdc1:\n Timing cached reads:   22298 MB in  1.99 seconds = 11228.47 MB/sec\n Timing buffered disk reads: 120 MB in  3.01 seconds =  39.89 MB/sec\n\n~$ sudo hdparm -Tt /dev/sde1\n\n/dev/sde1:\n Timing cached reads:   24390 MB in  1.99 seconds = 12281.26 MB/sec\n Timing buffered disk reads: 1318 MB in  3.00 seconds = 439.04 MB/sec\n</code></pre> <p>\u4e0a\u9762\u662f\u666e\u901a\u7684\u79fb\u52a8\u786c\u76d8\uff0c\u5e95\u4e0b\u662f\u65b0\u4e70\u7684\u79fb\u52a8 SSD \u786c\u76d8\uff0c\u5dee\u5f02\u8fd8\u662f\u5f88\u660e\u663e\u7684\u3002\u7ee7\u7eed\u6d4b\u8bd5\u5199\u5165\u7684\u901f\u5ea6\uff0c</p> <pre><code>~$ time dd if=/dev/zero of=/media/weiya/Extreme\\ SSD/tempfile bs=1M count=1024\n1024+0 records in\n1024+0 records out\n1073741824 bytes (1.1 GB, 1.0 GiB) copied, 2.11846 s, 507 MB/s\n\nreal    0m2.131s\nuser    0m0.011s\nsys 0m0.543s\n~$ time dd if=/dev/zero of=/media/weiya/Seagate/tempfile bs=1M count=1024\n1024+0 records in\n1024+0 records out\n1073741824 bytes (1.1 GB, 1.0 GiB) copied, 12.4132 s, 86.5 MB/s\n\nreal    0m12.746s\nuser    0m0.000s\nsys 0m1.551s\n</code></pre> <p>\u4ee5\u53ca\u5199\u51fa\u7684\u901f\u5ea6\uff0c</p> <pre><code>~$ time dd if=/media/weiya/Extreme\\ SSD/tempfile of=/dev/null bs=1M count=1024\n1024+0 records in\n1024+0 records out\n1073741824 bytes (1.1 GB, 1.0 GiB) copied, 4.01399 s, 268 MB/s\n\nreal    0m4.018s\nuser    0m0.000s\nsys 0m0.442s\n~$ time dd if=/media/weiya/Seagate/tempfile of=/dev/null bs=1M count=1024\n1024+0 records in\n1024+0 records out\n1073741824 bytes (1.1 GB, 1.0 GiB) copied, 65.6471 s, 16.4 MB/s\n\nreal    1m5.981s\nuser    0m0.010s\nsys 0m0.650s\n</code></pre> <p>\u79fb\u52a8 SSD \u786c\u76d8\u5b8c\u80dc\u666e\u901a\u7684\u79fb\u52a8\u786c\u76d8\u3002</p> <p>\u53c2\u8003\u94fe\u63a5\uff1a</p> <ul> <li>\u5728 Linux \u4e0a\u6d4b\u8bd5\u786c\u76d8\u8bfb\u5199\u901f\u5ea6</li> </ul>"},{"location":"Linux/blog/2020-08-25-PSSD/#rename-portable-disk","title":"Rename Portable Disk","text":"<p>\u7ec8\u7aef\u8f93\u5165</p> <pre><code>gnome-disks\n</code></pre> <p>\u5728\u8bbe\u7f6e\u9f7f\u8f6e\u56fe\u6807\u4e2d\u9009\u62e9 <code>Edit Mount Options</code>\uff0c\u4fee\u6539 <code>Mount Point</code>\u3002\u6ce8\u610f\u91cd\u65b0\u6302\u8f7d\u540e\u624d\u80fd\u751f\u6548\u3002</p> <p>\u8be6\u89c1How to change hard drive name</p>"},{"location":"Linux/blog/2020-09-01-charge-battery-adaptively/","title":"Charge Battery Adaptively","text":""},{"location":"Linux/blog/2020-09-01-charge-battery-adaptively/#battery-charge-adaptively","title":"Battery: Charge Adaptively","text":"<p>Info</p> <p>Post: 2020.09.01</p> <p>\u867d\u7136\u4e00\u76f4\u77e5\u9053\u63d2\u4e0a\u7535\u6e90\u5145\u7535\u4f1a\u635f\u8017\u7535\u6c60\u5bb9\u91cf\uff0c\u4f46\u662f\u6ca1\u60f3\u5230\u7adf\u7136\u4f1a\u635f\u8017\u5f97\u90a3\u4e48\u4e25\u91cd\uff0c\u5bf9\u4e8e\u6211\u6b63\u5728\u4f7f\u7528\u7684 ThinkPadT460P \u6765\u8bf4\uff0c</p> <pre><code>~$ upower -i `upower -e | grep 'BAT'`\nnative-path:          BAT0\n  vendor:               SANYO\n  model:                45N1767\n  serial:               3701\npower supply:         yes\n  updated:              Tue 01 Sep 2020 10:15:52 AM CST (106 seconds ago)\nhas history:          yes\n  has statistics:       yes\n  battery\n    present:             yes\n    rechargeable:        yes\n    state:               fully-charged\n    warning-level:       none\n    energy:              19.42 Wh\n    energy-empty:        0 Wh\n    energy-full:         19.58 Wh\n    energy-full-design:  47.52 Wh\n    energy-rate:         0 W\n    voltage:             12.025 V\n    percentage:          99%\n    capacity:            41.2037%\n    technology:          lithium-ion\n    icon-name:          'battery-full-charged-symbolic'\n</code></pre> <p>\u73b0\u5728\u7684\u5bb9\u91cf\u53ea\u6709 41.2037%\uff0c\u4e00\u534a\u90fd\u4e0d\u5230\u3002\u5fc3\u8840\u6765\u6f6e\u641c\u4e86\u4e0b\u770b\u770b\u6709\u6ca1\u6709\u4ec0\u4e48\u8f6f\u4ef6\u80fd\u591f\u652f\u6301\u81ea\u52a8\u5145\u653e\u7535\uff0c\u7adf\u7136\u8fd8\u771f\u6709\uff0c\u800c\u4e14\u7279\u522b\u652f\u6301 ThinkPad \u7cfb\u5217, How can I limit battery charging to 80% capacity?</p> <p>\u4e0d\u8fc7\u521a\u5f00\u59cb\u6309\u7167\u56de\u7b54\u4e2d\u7684\u89e3\u51b3\u65b9\u6848\u64cd\u4f5c\uff0c\u6700\u540e <code>sudo modprobe tp_smapi</code> \u5e76\u4e0d\u6210\u529f\uff0c\u5927\u6982\u662f\u8bf4\u6ca1\u6709\u8fd9\u4e2a kernel \u5427\u3002\u4e0d\u8fc7\u56e0\u4e3a\u8fd9\u4e2a\u56de\u7b54\u633a\u65e9\u7684\uff0c\u5728\u8bc4\u8bba\u4e2d\u987a\u85e4\u6478\u74dc\u627e\u5230\u9488\u5bf9\u66f4\u65b0\u7248\u7684 ThinkPad \u7684\u89e3\u51b3\u65b9\u6848\uff0ctlp for Ubuntu</p> <pre><code>sudo add-apt-repository ppa:linrunner/tlp\nsudo apt update\nsudo apt install acpi-call-dkms tp-smapi-dkms\n</code></pre> <p>\u5176\u4e2d\u7279\u522b\u6307\u51fa <code>acpi-call-dkms</code> \u7528\u4e8e ThinkPads (X220/T420 and later)</p> <p>\u7136\u540e\u67e5\u770b</p> <pre><code>~$ sudo tlp-stat -b\n--- TLP 1.3.1 --------------------------------------------\n\n+++ Battery Features: Charge Thresholds and Recalibrate\nnatacpi    = inactive (no kernel support)\ntpacpi-bat = active (thresholds, recalibrate)\ntp-smapi   = inactive (ThinkPad not supported)\n</code></pre> <p>\u8fd9\u65f6\u5019\u6309\u7167 Battery Charge Thresholds \u4fee\u6539 <code>/etc/tlp.conf</code>\uff0c\u5e76\u8fd0\u884c</p> <pre><code>sudo tlp start\n</code></pre> <p>\u4f46\u662f\u4f3c\u4e4e\u5e76\u6ca1\u6709\u8d77\u4f5c\u7528\uff0c\u4ecd\u7136\u5728\u5145\u7535\uff0c\u5c1d\u8bd5\u62d4\u4e86\u7535\u6e90\u7ebf\u6765\u4f7f\u4e4b\u751f\u6548\uff0c\u4f46\u597d\u50cf\u8fd8\u662f\u4e0d\u884c\u3002\u603b\u5171\u6709\u4e09\u79cd\u751f\u6548\u65b9\u5f0f\uff0c\u53e6\u5916\u4e00\u79cd\u4e3a\u91cd\u542f\u3002</p> <p>\u731c\u6d4b\u53ef\u80fd\u7684\u539f\u56e0\u662f</p> <p>natacpi    = inactive (no kernel support)</p> <p>\u4f46\u662f\u53d1\u73b0 <code>natacpi</code> \u53ea\u6709 kernel 4.17 \u624d\u5f00\u59cb\u652f\u6301\uff0c\u800c\u5f53\u524d\u6211\u7684 kernel \u7248\u672c\u4e3a</p> <pre><code>$ uname -r\n4.15.0-112-generic\n</code></pre> <p>\u800c\u4e14\u5728 Why is my battery charged up to 100% \u2013 ignoring the charge thresholds? \u7684 ThinkPad T430(s)/T530/W530/X230 (and all later models) \u63d0\u5230\u89e3\u51b3\u65b9\u6848\u662f</p> <p>Install a kernel \u2265 4.19 to make natacpi available</p> <p>\u7f51\u4e0a\u641c\u4e86\u4e00\u5708\uff0c\u53d1\u73b0\u66f4\u65b0\u5185\u6838\u8fd8\u662f\u6709\u98ce\u9669\u7684\uff0c\u6bd4\u5982\u53ef\u80fd\u9020\u6210\u67d0\u4e9b\u63a5\u53e3\u65e0\u6cd5\u4f7f\u7528\uff0c\u8fd9\u8ba9\u6211\u60f3\u8d77\u4e4b\u524d wifi \u63a5\u53e3\u641e\u4e0d\u5b9a\u7684\u5669\u68a6\u3002\u90a3\u5c31\u5148\u8fd9\u6837\u5427\u3002</p> <p>\u800c\u4e14\u53d1\u73b0\u5176\u5b9e update &amp; dist-upgrade \u53ef\u80fd\u8fd8\u662f\u4f1a\u66f4\u65b0\u5185\u6838\u7248\u672c\uff0c\u4f46\u662f\u4e0d\u4f1a\u66f4\u5230\u6700\u65b0\uff1f</p> <p>upgrade vs dist-upgrade vs full-upgrade</p> <p>\u53c2\u8003 What is \u201cdist-upgrade\u201d and why does it upgrade more than \u201cupgrade\u201d? <code>upgrade</code> \u53ea\u66f4\u65b0\u5df2\u7ecf\u5b89\u88c5\u5305\u7684\u7248\u672c\uff0c\u4e0d\u4f1a\u989d\u5916\u4e0b\u8f7d\u5305\u6216\u5378\u8f7d\u5305 <code>dist-upgrade</code> \u4f1a\u5b89\u88c5\u3001\u5378\u8f7d\u65b0\u5305\u6240\u4f9d\u8d56\u7684\u5305\uff0c\u800c\u662f\u66f4\u65b0\u5185\u6838\u7248\u672c\u4e5f\u9700\u8981\u7528\u5b83 <code>full-upgrade</code>\uff1a\u4e0d\u592a\u6e05\u695a\uff0c\u8bd5\u7740\u8fd0\u884c\u5b8c dist-upgrade \u540e\uff0c\u518d\u8fd0\u884c\u5b83\uff0c\u4f46\u662f\u6ca1\u53cd\u5e94\u3002 <pre><code>$ man apt-get\n...\n    upgrade\n       upgrade is used to install the newest versions of all packages currently installed on the system from the sources enumerated in /etc/apt/sources.list. Packages currently\n       installed with new versions available are retrieved and upgraded; under no circumstances are currently installed packages removed, or packages not already installed retrieved\n       and installed. New versions of currently installed packages that cannot be upgraded without changing the install status of another package will be left at their current\n       version. An update must be performed first so that apt-get knows that new versions of packages are available.\n\n   dist-upgrade\n       dist-upgrade in addition to performing the function of upgrade, also intelligently handles changing dependencies with new versions of packages; apt-get has a \"smart\" conflict\n       resolution system, and it will attempt to upgrade the most important packages at the expense of less important ones if necessary. The dist-upgrade command may therefore\n       remove some packages. The /etc/apt/sources.list file contains a list of locations from which to retrieve desired package files. See also apt_preferences(5) for a mechanism\n       for overriding the general settings for individual packages.\n</code></pre> \u4f46\u662f\u7adf\u7136\u6ca1\u6709\u770b\u5230 <code>full-upgrade</code>.</p> <p>\u6bd4\u5982\u6211\u53d1\u73b0 Ubuntu 18.04.5 LTS \u5b9e\u9645\u4e0a\u7684\u5185\u6838\u7248\u672c\u5e94\u8be5\u662f 5.0\uff0c\u751a\u81f3\u6709 5.3\uff0c\u4e0d\u8fc7\u8fd9\u4f3c\u4e4e\u8ddf\u786c\u4ef6\u6709\u5173\uff0c\u6bd4\u5982\u8fd9\u91cc\u5217\u4e86 <code>linux-aws-5.0</code>, <code>linux-aws-5.0</code>\uff0c\u4e0d\u8fc7\u6211\u4e5f\u770b\u5230\u4e86 <code>linux-gke-4.15</code>\uff0c\u6240\u4ee5\u8fd8\u662f\u4e0d\u8981\u4e71\u5347\u7ea7\u7684\u597d\uff0c\u4e0d\u7136\u786c\u4ef6\u4e0d\u517c\u5bb9\u53c8\u8981\u7ee7\u7eed\u6298\u817e\u4e86\u3002</p> <p>\u8bdd\u8bf4\u56de\u6765\uff0c\u7535\u6c60\u6700\u540e\u5b9e\u5728\u4e0d\u884c\uff0c\u5c31\u6362\u4e86\u5457\uff0c\u53cd\u6b63\u8fd9\u4e2a\u662f\u5916\u7f6e\u53ef\u62c6\u5378\u7684\u3002</p>"},{"location":"Linux/blog/2020-12-17-passwordless-failed/","title":"fail to ssh passwordlessly","text":"<p>Info</p> <p>The post can date back to Dec 17, 2020 </p> <p>\u50cf\u5f80\u5e38\u4e00\u6837 ssh\uff0c\u4f46\u662f\u62a5\u9519\u4e86</p> <pre><code>@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\n@    WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!     @\n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\nIT IS POSSIBLE THAT SOMEONE IS DOING SOMETHING NASTY!\nSomeone could be eavesdropping on you right now (man-in-the-middle attack)!\nIt is also possible that a host key has just been changed.\nThe fingerprint for the ECDSA key sent by the remote host is\nSHA256:XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX.\nPlease contact your system administrator.\nAdd correct host key in /home/weiya/.ssh/known_hosts to get rid of this message.\nOffending ECDSA key in /home/weiya/.ssh/known_hosts:42\n  remove with:\n  ssh-keygen -f \"/home/weiya/.ssh/known_hosts\" -R \"chpc-login01.itsc.cuhk.edu.hk\"\nECDSA host key for chpc-login01.itsc.cuhk.edu.hk has changed and you have requested strict checking.\nHost key verification failed.\n</code></pre> <p>\u4e8e\u662f\u6839\u636e\u63d0\u793a\u8fd0\u884c\u4e86</p> <pre><code>ssh-keygen -f \"/home/weiya/.ssh/known_hosts\" -R \"chpc-login01.itsc.cuhk.edu.hk\"\n</code></pre> <p>\u7136\u540e\u91cd\u65b0 ssh\uff0c\u4f46\u8fd8\u662f\u8981\u6c42\u8f93\u5165\u5bc6\u7801\u3002\u7c7b\u4f3c\u7684\u95ee\u9898\u53e6\u89c1 ssh remote host identification has changed</p> <p>\u8fd9\u5176\u5b9e\u5bf9\u5e94\u4e86\u670d\u52a1\u5668\u4e0a <code>/etc/ssh</code> \u6587\u4ef6\u5939\u4e0b\u51e0\u4e2a pub \u6587\u4ef6\uff0c\u54a8\u8be2 Michael \u4e5f\u5f97\u5230\u56de\u590d\u8bf4\u6700\u8fd1 public fingerprint \u6709\u4fee\u6539\uff0c\u8fd9\u5e94\u8be5\u662f known hosts \u7684\u5185\u5bb9\u3002</p> <p>\u53ef\u4ee5\u4ee5 MD5 \u7684\u5f62\u5f0f\u5c55\u793a\uff0c</p> <pre><code>$ ssh-keygen -l -E md5 -f ssh_host_ed25519_key.pub\n</code></pre> <p>\u53e6\u5916\uff0c\u626b\u63cf ip \u6216\u57df\u540d\u5bf9\u5e94\u7684 key</p> <pre><code>ssh-keyscan -t rsa server_ip\n</code></pre> <p>\u4e5f\u80fd\u8fd4\u56de\u5b8c\u5168\u4e00\u81f4\u7684\u7ed3\u679c\uff0c\u7136\u540e\u624b\u52a8\u6dfb\u52a0\u81f3 known_hosts \u6587\u4ef6\uff0c\u4ecd\u7136\u4e0d\u80fd\u6210\u529f\uff0c\u5c1d\u8bd5\u8fc7\u65b0\u589e\u5176\u4ed6\u683c\u5f0f\u7684 key\uff0c</p> <pre><code>ssh-keygen -t [ed25519 | ecdsa | dsa]\n</code></pre> <p>\u7136\u800c\u7edf\u7edf\u6ca1\u7528\u3002</p> <p>\u540e\u6765\u8ddf\u670d\u52a1\u5668\u7ba1\u7406\u5458\u53cd\u590d\u6c9f\u901a\uff0c\u63d0\u4ea4 <code>ssh -vvv xxx &amp;&gt; ssh.log</code> \u65e5\u5fd7\u6587\u4ef6\u4f9b\u5176\u68c0\u67e5\uff0c\u624d\u786e\u8ba4\u662f\u6700\u8fd1\u670d\u52a1\u5668\u914d\u7f6e\u66f4\u6539\u7684\u539f\u56e0\uff0c\u867d\u7136\u6ca1\u6709\u660e\u8bf4\uff0c\u4f46\u662f\u6ce8\u610f\u5230 <code>/etc/ssh/sshd_config</code> \u66f4\u65b0\u540e\u4e0d\u4e45\u7ba1\u7406\u5458\u5c31\u56de\u590d\u8bf4\u597d\u4e86\uff0c\u95ee\u53ca\u539f\u56e0\uff0c\u4ed6\u7684\u56de\u7b54\u662f\uff0c</p> <p>It is related to security context which will make SELinux to block the file access. I think this required root permission to config.</p>"},{"location":"Linux/blog/2021-05-12-fail-to-access-home/","title":"fail to access <code>~</code>","text":"<p>Info</p> <p>The post can date back to May 12, 2021</p> <p>Z \u5728\u7fa4\u91cc\u95ee\u9053\uff0c\u4ed6\u5728\u670d\u52a1\u5668\u4e0a\u63d0\u4ea4 job \u65f6\uff0c\u4e4b\u524d\u5b89\u88c5\u597d\u7684\u5305\u4e0d\u80fd\u4f7f\u7528\u3002\u663e\u7136\uff0c\u5f88\u53ef\u80fd\u56e0\u4e3a <code>.libPaths()</code> \u6ca1\u6709\u5305\u542b <code>$HOME</code> \u4e0b\u7684\u7528\u6237\u5b89\u88c5\u8def\u5f84\uff0c\u4f46\u662f\u4ed6\u5728\u767b\u5f55\u7ed3\u70b9\u4e0a\u5728 R \u4e2d\u8fd0\u884c <code>.libPaths()</code>\uff0c\u4e00\u5207\u6b63\u5e38\u3002\u90a3\u4e48\u95ee\u9898\u6216\u8bb8\u51fa\u5728\u5de5\u4f5c\u7ed3\u70b9\u4e0a\uff0c\u4e8b\u5b9e\u8868\u660e\u5728\u8be5\u5de5\u4f5c\u7ed3\u70b9\u4e0a\u91c7\u7528\u4ee5\u4e0b\u4efb\u4e00\u79cd\u65b9\u5f0f\u90fd\u80fd\u89e3\u51b3\u95ee\u9898</p> <ul> <li>\u5728 R \u4e2d\u8fd0\u884c <code>.libPaths(\"/lustre/users/sXXXXXXXXX/R/x86_64-pc-linux-gnu-library/4.0\")</code></li> <li>\u6216\u8005 <code>export R_LIBS_USER=/lustre/users/sXXXXXXXXX/R/x86_64-pc-linux-gnu-library/4.0</code></li> </ul> <p>Note</p> <p>\u6b64\u5904\u4e5f\u770b\u5230\u4e00\u4e2a\u7c7b\u4f3c\u7684\u95ee\u9898\uff0c\u4f46\u662f\u539f\u56e0\u4e0d\u4e00\u6837\uff0c\u5728 R_LIBS_USER ignored by R \u95ee\u9898\u4e2d\uff0c\u539f\u56e0\u662f <code>$HOME</code> \u4e0d\u80fd\u6b63\u5e38\u5c55\u5f00\u3002</p> <p>\u4f46\u662f\u6b64\u65f6\u5e76\u4e0d\u662f\u5f88\u7406\u89e3\uff0c\u56e0\u4e3a\u6309\u7406\u8bf4\u4e0d\u540c\u7ed3\u70b9\u90fd\u662f\u5171\u4eab\u7684\u3002\u540e\u6765\u7814\u7a76\u4e86\u4e0b R \u7684\u542f\u52a8\u673a\u5236\uff0c</p> <p>On Unix versions of R there is also a file <code>R_HOME/etc/Renviron</code> which is read very early in the start-up processing. It contains environment variables set by R in the configure process. Values in that file can be overridden in site or user environment files: do not change <code>R_HOME/etc/Renviron</code> itself. Note that this is distinct from <code>R_HOME/etc/Renviron.site</code>.</p> <p>\u624d\u77e5\u9053 <code>R_LIBS_USER</code> \u662f\u5b9a\u4e49\u5728 <code>Renviron</code> \u4e2d\uff0c</p> <pre><code>R_LIBS_USER=${R_LIBS_USER-'~/R/x86_64-pc-linux-gnu-library/4.0'}\n</code></pre> <p>\u5176\u4e2d <code>${A-B}</code> \u7684\u8bed\u6cd5\u662f\u5982\u679c <code>A</code> \u6ca1\u6709\u8bbe\u7f6e\uff0c\u5219\u4ee4 <code>B</code> \u4e3a <code>A</code>\uff0c\u6ce8\u610f\u5176\u4e0e <code>${A:-B}</code> \u7684\u533a\u522b\u3002</p> <p>\u8fd9\u4e5f\u96be\u602a\u4e3a\u4ec0\u4e48\u76f4\u63a5\u5728\u547d\u4ee4\u884c\u4e2d\u8f93\u5165 <code>echo $R_LIBS_USER</code> \u7ed3\u679c\u4e3a\u7a7a\u3002</p> <p>SSH \u5230\u8be5\u5de5\u4f5c\u7ed3\u70b9\uff0c\u53d1\u73b0\u5176 prompt \u5e76\u6ca1\u6709\u6b63\u786e\u52a0\u8f7d\uff0c\u76f4\u63a5\u51fa\u73b0 <code>bash-4.2$</code>\uff0c\u800c\u4e00\u822c\u4f1a\u662f <code>[sXXXXX@chpc-sandbox ~]$</code>\u3002</p> <p>Note</p> <p>\u5176\u5b9e <code>source .bashrc</code> \u540e\u80fd\u663e\u793a <code>~</code>\uff0c\u4f46\u8bbf\u95ee <code>~</code> \u4ecd\u7136\u5931\u8d25\u3002\u53e6\u89c1 Terminal, Prompt changed to \u201c-Bash-4.2\u201d and colors lost</p> <p>\u8fd9\u6837\u4e00\u4e2a\u76f4\u63a5\u540e\u679c\u5c31\u662f\u65e0\u6cd5\u89e3\u6790\u7528\u6237\u76ee\u5f55 <code>~</code>\uff0c\u8fd9\u5927\u6982\u4e5f\u662f\u4e3a\u4ec0\u4e48 <code>R_LIBS_USER</code> \u5728\u8fd9\u4e2a\u7ed3\u70b9\u6ca1\u6709\u6b63\u5e38\u52a0\u8f7d\uff0c\u56e0\u4e3a\u4e0a\u8ff0\u7cfb\u7edf\u914d\u7f6e\u6587\u4ef6 <code>/opt/share/R/4.0.3/lib64/R/etc/Renviron</code> \u4e2d\u4f7f\u7528\u4e86 <code>~</code>\uff0c\u4e8e\u662f\u9700\u8981\u7528\u4e0d\u5e26 <code>~</code> \u7684\u5168\u8def\u5f84\u3002\u4e0d\u8fc7 <code>~</code> \u5176\u5b9e\u53ea\u662f\u6307\u5411 <code>/user/sXXXXX</code>\uff0c\u53d1\u73b0\u8fd9\u4e2a\u6587\u4ef6\u5939\u6ca1\u6709\u6b63\u5e38\u88ab\u8fde\u63a5\uff0c\u6240\u4ee5\u8981\u4f7f\u7528 <code>/lustre/user/sXXXX</code>. \u6216\u8005\u8bf4\u662f\u6ca1\u6709\u6302\u8f7d\uff0c\u56e0\u4e3a\u5728\u5176\u5b83\u7ed3\u70b9\u4e0a\u6709\u4ee5\u4e0b\u4e09\u6761\u6302\u8f7d\u8bb0\u5f55\uff0c</p> <pre><code>$ df -h\nstorage03:/chpc-userhome                  50T  4.4T   46T   9% /storage03/chpc-userhome\nstorage03:/chpc-optshare                  10T  713G  9.4T   7% /storage03/chpc-optshare\nstorage01:/chpc-users                     15T  6.2T  8.9T  42% /storage01/users\n</code></pre> <p>\u800c\u8be5\u7ed3\u70b9\u4e0a\u6ca1\u6709\u3002</p> <p>\u4e3a\u4e86\u9a8c\u8bc1\u4e0a\u8ff0\u60f3\u6cd5\uff0c\u4e5f\u624b\u52a8\u8fdb\u884c <code>export R_LIBS_USER=</code> \u53ca <code>.libPaths()</code>\uff0c</p> DONEDONEFAILFAIL <pre><code>&gt; .libPaths(\"/lustre/users/sXXXXXXXXX/R/x86_64-pc-linux-gnu-library/4.0\")\n&gt; .libPaths()\n[1] \"/lustre/users/sXXXXXXXXX/R/x86_64-pc-linux-gnu-library/4.0\"\n[2] \"/lustre/opt_share/R/4.0.3/lib64/R/library\" </code></pre> <pre><code>$ export R_LIBS_USER=/lustre/users/sXXXXXXXXX/R/x86_64-pc-linux-gnu-library/4.0\n$ R\n&gt; .libPaths()\n[1] \"/lustre/users/sXXXXXXXXX/R/x86_64-pc-linux-gnu-library/4.0\"\n[2] \"/lustre/opt_share/R/4.0.3/lib64/R/library\"   </code></pre> <pre><code>&gt; .libPaths(\"/users/sXXXXXXXXX/R/x86_64-pc-linux-gnu-library/4.0/\")\n&gt; .libPaths()\n[1] \"/lustre/opt_share/R/4.0.3/lib64/R/library\"\n</code></pre> <pre><code>$ export R_LIBS_USER=~/R/x86_64-pc-linux-gnu-library/4.0\n$ R\n&gt; .libPaths()\n[1] \"/lustre/opt_share/R/4.0.3/lib64/R/library\"\n</code></pre> <p>\u53ef\u89c1\u6d89\u53ca <code>~</code> \u548c <code>/users/sXXXX</code> \u7684\u5747\u6709\u95ee\u9898\u3002</p> <p>\u867d\u7136\u95ee\u9898\u5df2\u7ecf\u5f97\u4ee5\u89e3\u51b3\uff0c\u4f46\u662f\u5f88\u597d\u5947\u4e3a\u4ec0\u4e48\u8bbf\u95ee <code>~</code> \u5931\u8d25\u3002\u56e0\u4e3a\u6839\u636e\u6211\u7684\u7406\u89e3\uff0c<code>/users/sXXXX</code> (<code>~</code>)\u3001<code>/lustre/users/sXXXX</code> \u4e2d\u95f4\u5e94\u8be5\u662f\u901a\u8fc7\u7c7b\u4f3c soft links \u5f62\u5f0f\u8fde\u63a5\u7684\uff08\u5373\u4fbf\u53ef\u80fd\u4e0d\u662f\uff0c\u56e0\u4e3a\u786e\u5b9e\u76f4\u63a5 <code>ls</code> \u4e5f\u6ca1\u8fd4\u56de\u6307\u5411\u7ed3\u679c\uff09\u3002</p> <p>\u540e\u6765\u54a8\u8be2\u7ba1\u7406\u5458\u624d\u660e\u767d\uff0c\u4ed6\u4eec\u6b63\u5728\u5c06\u8fc1\u79fb\u7528\u6237\u6587\u4ef6\u5939\uff0c</p> <p></p> <p>\u5176\u4e2d\u9ec4\u8272\u65b9\u5757\u8868\u660e\u8fc1\u79fb\u7684\u76ee\u6807\u786c\u76d8\uff0c\u79f0\u4e3a <code>storage</code>\uff0c\u800c\u672a\u6846\u51fa\u6765\u7684\u5730\u65b9\u5219\u8868\u660e\u5f53\u524d\u6240\u5728\u786c\u76d8 <code>lustre</code>.</p> <p>\u4f46\u662f\u56e0\u4e3a\u5e76\u975e\u6240\u6709\u7528\u6237\u90fd\u5df2\u8fc1\u79fb\u5b8c\u6210\uff0c\u6240\u4ee5\u9700\u8981\u5bf9\u8fd9\u4e24\u7c7b\u7528\u6237\u8bbf\u95ee <code>~</code> \u7684\u884c\u4e3a\u505a\u4e0d\u540c\u7684\u5904\u7406\uff0c</p> <p></p> <ul> <li>\u5982\u679c\u7528\u6237 A \u5df2\u7ecf\u8fc1\u79fb\uff0c\u5219\u5176 <code>~</code> \u76f4\u63a5\u6307\u5411 <code>/storage01/users/A</code></li> <li>\u5982\u679c\u7528\u6237 B \u672a\u8fc1\u79fb\uff0c\u5219\u5176 <code>~</code> \u901a\u8fc7 <code>/storage01/users/B</code> \uff08\u6b64\u65f6\u8be5\u8def\u5f84\u53ea\u76f8\u5f53\u4e8e soft link\uff09 \u6307\u5411 <code>/lustre/users/B</code></li> </ul> <p>\u6240\u4ee5\u65e0\u8bba\u8fc1\u79fb\u4e0e\u5426\uff0c\u8bbf\u95ee <code>~</code> \u90fd\u9700\u8981\u901a\u8fc7\u4e0a\u56fe\u7684\u9ec4\u8272\u65b9\u6846\u3002\u90a3\u4e48\u5018\u82e5 storage \u672c\u8eab\u6302\u8f7d\u5931\u8d25\uff0c\u5219 <code>~</code> \u89e3\u6790\u5931\u8d25\uff0c\u800c\u672a\u8fc1\u79fb\u7528\u6237\u6b63\u56e0\u4e3a\u8fd8\u672a\u8fc1\u79fb\uff0c\u6240\u4ee5\u4ecd\u80fd\u7ed5\u8fc7 <code>~</code> \u800c\u76f4\u63a5\u8bbf\u95ee <code>/lustre/users/sXXXX</code>\u3002</p>"},{"location":"Linux/blog/2021-06-07-switch-monitor/","title":"Custom Shortcut to Switch External Display Mode","text":"<p>Info</p> <p>Post: 2021.06.07</p> <p>\u529e\u516c\u5ba4\u7535\u8111\u65e2\u53ef\u4ee5\u4f5c\u4e3a\u663e\u793a\u5c4f\uff0c\u4e5f\u53ef\u4ee5\u5728 PC \u6a21\u5f0f\u4e0b\u4f7f\u7528 Windows \u7cfb\u7edf\u3002\u5728 PC \u6a21\u5f0f\u4e0b\uff0c\u5728 Ubuntu \u4e0a\u901a\u8fc7 synergy \u5171\u4eab\u952e\u9f20\uff0c\u4f46\u662f\u6b64\u65f6\u5b58\u5728\u4e00\u4e2a\u95ee\u9898\uff0c\u56e0\u4e3a HDMI \u4ecd\u7136\u8fde\u7740\uff0c\u6240\u4ee5\u5728\u79fb\u52a8\u9f20\u6807\u65f6\u4e2d\u95f4\u6709\u4e2a gap\uff0c\u4e5f\u5c31\u662f\u9700\u8981\u8df3\u8fc7\u5916\u63a5\u663e\u793a\u5c4f\u624d\u80fd\u79fb\u52a8\u5230 PC\u3002</p> <p>\u8bd5\u8fc7\u5728 synergy \u4e2d\u5c06 PC \u673a\u8bbe\u7f6e\u4e3a T460p \u4e0a\u65b9\uff0c\u8fd9\u6837\u79fb\u52a8\u9f20\u6807\u53ea\u9700\u5f80\u4e0a\uff0c\u4e0d\u8fc7\u4f53\u9a8c\u4e0d\u662f\u5f88\u597d\uff0c\u800c\u4e14 Ubuntu \u9876\u7aef\u6709\u72b6\u6001\u680f\u800c PC \u7aef\u5e95\u90e8\u4e5f\u6709task bar\uff0c\u79fb\u52a8\u65f6\u80fd\u660e\u663e\u611f\u53d7\u5230\u5ef6\u65f6\u3002\u53e6\u5916\u4e00\u4e2a\u7b56\u7565\u4fbf\u662f\u5207\u6362\u663e\u793a\u5c4f mode\uff0c\u7531 joint \u6a21\u5f0f\u5207\u6362\u6210 mirror\u3002</p> <p>\u6ce8\u610f\u5230\uff0c\u5f53\u5904\u4e8e mirror \u6a21\u5f0f\u4e0b\uff0ceDP-1-1 primary \u663e\u793a\u4e3a <code>1920x1080+0+0</code>\uff0c\u800c\u5982\u679c\u662f joint mode\uff0c\u5c3a\u5bf8\u4e3a <code>1920x1080+1920+0</code>\u3002\u53d7 Swap between monitor display modes using shortcut  \u542f\u53d1\uff0c\u51b3\u5b9a\u5199\u811a\u672c\u81ea\u5b9a\u4e49\u5feb\u6377\u952e</p> <pre><code>~$ cat switch_mirror_joint.sh #!/bin/bash\ncurrentmode=$(xrandr -q | grep \"primary 1920x1080+0+0\")\nif [[ -n $currentmode ]]; then\n#echo \"mirror\"\nxrandr --output HDMI-1-1 --left-of eDP-1-1 --transform none\nelse\n#echo \"joint\"\nxrandr --output HDMI-1-1 --same-as eDP-1-1 --scale-from 1920x1080\nfi\n</code></pre> <p>\u2013scale-from</p> <p>\u5982\u679c\u4e24\u53f0\u663e\u793a\u5668\u7684\u5206\u8fa8\u7387\u4e0d\u4e00\u81f4\uff0c\u5219\u5207\u6362\u65f6\u4f1a\u51fa\u73b0\u622a\u65ad\u7684\u95ee\u9898\u3002\u7535\u8111\u5c4f\u5e55\u5206\u8fa8\u7387\u4e3a 1920x1080\uff0c\u800c\u82e5\u5916\u63a5\u663e\u793a\u5668\u4e3a 1920x1200\uff0c\u5219\u5207\u6362\u81f3 mirror model \u65f6\uff0c\u9875\u9762\u4f1a\u4ee5 1920x1200 \u4e3a\u51c6\uff0c\u5219\u5728\u7535\u8111\u5c4f\u5e55\u4e0a\u770b\u4e0d\u5230\u5e95\u90e8 1200-1080 \u7684\u90e8\u5206\u3002</p> <p>\u9996\u5148\u5c1d\u8bd5\u8fc7\u76f4\u63a5\u5728\u8bbe\u7f6e\u4e2d\u5c06\u5916\u63a5\u663e\u793a\u5668\u7684\u5206\u8fa8\u7387\u6539\u6210 1920x1080\uff0c\u4f46\u662f\u8fd9\u4f1a\u8ba9\u753b\u9762\u6a21\u7cca\u3002</p> <p>\u53e6\u4e00\u79cd\u5219\u662f\u52a0\u4e0a\u5173\u952e\u8bcd <code>--scale-from 1920x1080</code>\uff0c\u8fd9\u6837\u5916\u63a5\u663e\u793a\u5668\u7684\u5206\u8fa8\u7387\u4e0d\u4f1a\u53d8\uff0c\u4f46\u4f1a scale \u81f3\u7535\u8111\u5c4f\u5e55\u76f8\u540c\u7684\u5206\u8fa8\u7387\u5927\u5c0f\u3002</p> <p>scale \u4e4b\u540e\u518d\u7528 xrandr \u67e5\u770b\u4fbf\u662f 1920x1080\uff0c\u4f46\u5728\u8bbe\u7f6e\u754c\u9762\u4e0b\u663e\u793a\u5668\u7684\u5206\u8fa8\u7387\u4ecd\u4fdd\u6301\u4e0d\u53d8\u3002</p> <p>\u2013transform none</p> <p>\u53e6\u5916\u89c2\u5bdf\u5230 scale \u4e00\u6b21\u4e4b\u540e\u5c31\u4e0d\u4f1a\u518d scale \u56de\u6765\u4e86\u3002\u6bd4\u5982\u4e0a\u9762\u53ea\u5728\u5207\u6362\u81f3 mirror \u65f6\u6709 scale\uff0c\u4f46\u662f\u5207\u6362\u56de joint \u65f6\u5176 size \u5e76\u4e0d\u4f1a\u53d8\u6210 1920x1200\uff0c\u800c\u7ee7\u7eed\u4fdd\u6301 1920x1080. \u4e3a\u4e86\u907f\u514d\u8fd9\u79cd\u60c5\u51b5\uff0c\u5728\u8f6c\u6210 joint mode \u65f6\u53d6\u6d88 scale\uff0c\u8fd9\u53ef\u4ee5\u901a\u8fc7 <code>--transform none</code> \u5b9e\u73b0\u3002\u53c2\u8003 </p> <p>\u7136\u540e\u8fdb\u5165 keyboard shortcut \u8bbe\u7f6e\u754c\u9762\uff0c</p> <ul> <li>Name: <code>switch display mode</code></li> <li>Command: <code>/home/weiya/switch_mirror_joint.sh</code></li> <li>Shortcut: <code>Ctrl+F7</code></li> </ul> <p>\u4e4b\u6240\u4ee5\u9009\u62e9 <code>F7</code> \u662f\u56e0\u4e3a\u672c\u8eab F7 \u4e5f\u652f\u6301\u5207\u6362 display mode\uff0c\u4f46\u662f\u9ed8\u8ba4 external monitor \u5728\u53f3\u4fa7\u3002\u8bd5\u56fe\u76f4\u63a5\u66f4\u6539 F7 \u7684 binding commands\uff0c\u76f8\u5173\u7684 Ubuntu \u5b98\u65b9\u5e2e\u52a9\u6587\u6863 Keyboard \u53ca\u914d\u7f6e\u6587\u4ef6 Custom keyboard layout definitions\uff0c\u4f46\u662f\u65e0\u4ece\u4e0b\u624b\u3002</p> <p>Tip</p> <p>\u8fde\u63a5 HDMI \u7ebf\u6ca1\u53cd\u5e94\uff0c\u4e5f\u53ef\u4ee5\u7528 <code>xrandr</code> \u6392\u67e5\u662f PC \u7684\u95ee\u9898\u8fd8\u662f\u663e\u793a\u5668\u7684\u95ee\u9898\u3002\u5982\u679c\u662f\u7535\u8111\u7aef\u6ca1\u6709\u663e\u793a\u8fde\u63a5\uff0c\u90a3\u5f88\u53ef\u80fd\u662f\u663e\u793a\u5668\u7684\u95ee\u9898\u30022022-09-16 \u521d\u6b21\u8fde\u63a5 Yale \u529e\u516c\u5ba4\u7684\u663e\u793a\u5668\u65f6\uff0c\u4fbf\u662f\u7535\u8111\u7aef\u6ca1\u6709\u63d2\u597d\u3002</p>"},{"location":"Linux/blog/2021-07-28-use-old-kernel/","title":"Use Old Kernel","text":"<p>Info</p> <p>Post: 2021.07.28</p> <p>\u6700\u8fd1\u51e0\u5929\uff0cT460P \u7ecf\u5e38\u81ea\u52a8\u91cd\u542f\uff0c\u800c\u4e14\u5f80\u5f80\u91cd\u542f\u524d\u82b1\u5c4f\uff0c\u751a\u81f3\u4eca\u5929\u5e26\u7740\u7535\u8111\u53bb\u627e\u8001\u677f\uff0c\u4e5f\u91cd\u542f\u4e86\u4e24\u6b21\u3002\u5728 <code>/var/crash</code> \u76ee\u5f55\u4e0b\u80fd\u53d1\u73b0 crash \u62a5\u544a\uff0c\u4f46\u662f\u5e76\u4e0d\u77e5\u9053\u600e\u4e48\u4f7f\u7528</p> <pre><code>drwxr-sr-x  2 root     whoopsie     4096 Jul 22 20:10 202107222000/\ndrwxr-sr-x  2 root     whoopsie     4096 Jul 23 05:40 202107230539/\ndrwxr-sr-x  2 root     whoopsie     4096 Jul 23 08:54 202107230854/\ndrwxr-sr-x  2 root     whoopsie     4096 Jul 24 14:23 202107241422/\ndrwxr-sr-x  2 root     whoopsie     4096 Jul 26 09:03 202107260517/\ndrwxr-sr-x  2 root     whoopsie     4096 Jul 27 09:26 202107270926/\ndrwxr-sr-x  2 root     whoopsie     4096 Jul 27 23:09 202107272308/\ndrwxr-sr-x  2 root     whoopsie     4096 Jul 28 09:41 202107280940/\ndrwxr-sr-x  2 root     whoopsie     4096 Jul 28 09:44 202107280944/\ndrwxr-sr-x  2 root     whoopsie     4096 Jul 28 10:14 202107281014/\ndrwxr-sr-x  2 root     whoopsie     4096 Jul 28 11:05 202107281105/\ndrwxr-sr-x  2 root     whoopsie     4096 Jul 28 11:48 202107281148/\n-rw-r--r--  1 kernoops whoopsie     2249 Jul 24 14:40 linux-image-4.15.0-151-generic.183202.crash\n-rw-r-----  1 root     whoopsie    34940 Jul 22 20:01 linux-image-4.15.0-151-generic-202107222000.crash\n-rw-r-----  1 root     whoopsie    29062 Jul 23 08:55 linux-image-4.15.0-151-generic-202107230854.crash\n-rw-r-----  1 root     whoopsie    34532 Jul 24 14:23 linux-image-4.15.0-151-generic-202107241422.crash\n-rw-r-----  1 root     whoopsie    35752 Jul 26 08:56 linux-image-4.15.0-151-generic-202107260517.crash\n-rw-r--r--  1 kernoops whoopsie      746 Jul 28 09:40 linux-image-4.15.0-151-generic.30586.crash\n-rw-r--r--  1 kernoops whoopsie      752 Jul 28 09:40 linux-image-4.15.0-151-generic.30735.crash\n</code></pre> <p>\u5176\u4e2d\u6bcf\u4e2a\u6587\u4ef6\u5939\u4e2d\u6709</p> <pre><code>$ ll 202107281148\ntotal 109160\n-rw-------  1 root whoopsie     78507 Jul 28 11:48 dmesg.202107281148\n-rw-------  1 root whoopsie 111683440 Jul 28 11:48 dump.202107281148\n</code></pre> <p>\u8054\u60f3\u4e0b\u6700\u8fd1\u7684\u64cd\u4f5c\uff0c\u5f88\u6709\u53ef\u80fd\u662f\u901a\u8fc7 <code>apt upgrade</code> \u66f4\u65b0\u4e86\u6b21\u5185\u6838\uff0c\u67e5\u770b\u5177\u4f53\u7ec6\u8282</p> <pre><code>$ vi /var/log/apt/history.log\nStart-Date: 2021-07-21  20:46:59\nCommandline: aptdaemon role='role-commit-packages' sender=':1.1117'\nInstall: linux-headers-4.15.0-151-generic:amd64 (4.15.0-151.157, automatic), linux-modules-4.15.0-151-generic:amd64 (4.15.0-151.157, automatic), linux-image-4.15.0-151-generic:amd64 (4.15.0-151.157, automatic), linux-modules-extra-4.15.0-151-generic:amd64 (4.15.0-151.157, automatic), linux-headers-4.15.0-151:amd64 (4.15.0-151.157, automatic)\nUpgrade: libnvidia-gl-460-server:amd64 (460.73.01-0ubuntu0.18.04.1, 460.91.03-0ubuntu0.18.04.1), libnvidia-gl-460-server:i386 (460.73.01-0ubuntu0.18.04.1, 460.91.03-0ubuntu0.18.04.1), linux-headers-generic:amd64 (4.15.0.147.134, 4.15.0.151.139), linux-libc-dev:amd64 (4.15.0-147.151, 4.15.0-151.157), linux-crashdump:amd64 (4.15.0.147.134, 4.15.0.151.139), libsystemd0:amd64 (237-3ubuntu10.48, 237-3ubuntu10.49), libsystemd0:i386 (237-3ubuntu10.48, 237-3ubuntu10.49), linux-image-generic:amd64 (4.15.0.147.134, 4.15.0.151.139), nvidia-driver-460-server:amd64 (460.73.01-0ubuntu0.18.04.1, 460.91.03-0ubuntu0.18.04.1), containerd:amd64 (1.5.2-0ubuntu1~18.04.1, 1.5.2-0ubuntu1~18.04.2), nvidia-kernel-source-460-server:amd64 (460.73.01-0ubuntu0.18.04.1, 460.91.03-0ubuntu0.18.04.1), libnvidia-fbc1-460-server:amd64 (460.73.01-0ubuntu0.18.04.1, 460.91.03-0ubuntu0.18.04.1), libnvidia-fbc1-460-server:i386 (460.73.01-0ubuntu0.18.04.1, 460.91.03-0ubuntu0.18.04.1), nvidia-dkms-460-server:amd64 (460.73.01-0ubuntu0.18.04.1, 460.91.03-0ubuntu0.18.04.1), google-chrome-stable:amd64 (91.0.4472.164-1, 92.0.4515.107-1), nvidia-utils-460-server:amd64 (460.73.01-0ubuntu0.18.04.1, 460.91.03-0ubuntu0.18.04.1), libnvidia-decode-460-server:amd64 (460.73.01-0ubuntu0.18.04.1, 460.91.03-0ubuntu0.18.04.1), libnvidia-decode-460-server:i386 (460.73.01-0ubuntu0.18.04.1, 460.91.03-0ubuntu0.18.04.1), udev:amd64 (237-3ubuntu10.48, 237-3ubuntu10.49), nvidia-kernel-common-460-server:amd64 (460.73.01-0ubuntu0.18.04.1, 460.91.03-0ubuntu0.18.04.1), typora:amd64 (0.10.11-1, 0.11.0-1), xserver-xorg-video-nvidia-460-server:amd64 (460.73.01-0ubuntu0.18.04.1, 460.91.03-0ubuntu0.18.04.1), libnvidia-encode-460-server:amd64 (460.73.01-0ubuntu0.18.04.1, 460.91.03-0ubuntu0.18.04.1), libnvidia-encode-460-server:i386 (460.73.01-0ubuntu0.18.04.1, 460.91.03-0ubuntu0.18.04.1), nvidia-compute-utils-460-server:amd64 (460.73.01-0ubuntu0.18.04.1, 460.91.03-0ubuntu0.18.04.1), initramfs-tools-bin:amd64 (0.130ubuntu3.12, 0.130ubuntu3.13), linux-signed-generic:amd64 (4.15.0.147.134, 4.15.0.151.139), libudev1:amd64 (237-3ubuntu10.48, 237-3ubuntu10.49), libudev1:i386 (237-3ubuntu10.48, 237-3ubuntu10.49), libnvidia-ifr1-460-server:amd64 (460.73.01-0ubuntu0.18.04.1, 460.91.03-0ubuntu0.18.04.1), libnvidia-ifr1-460-server:i386 (460.73.01-0ubuntu0.18.04.1, 460.91.03-0ubuntu0.18.04.1), libnvidia-common-460-server:amd64 (460.73.01-0ubuntu0.18.04.1, 460.91.03-0ubuntu0.18.04.1), libnss-myhostname:amd64 (237-3ubuntu10.48, 237-3ubuntu10.49), libnvidia-cfg1-460-server:amd64 (460.73.01-0ubuntu0.18.04.1, 460.91.03-0ubuntu0.18.04.1), systemd-sysv:amd64 (237-3ubuntu10.48, 237-3ubuntu10.49), libpam-systemd:amd64 (237-3ubuntu10.48, 237-3ubuntu10.49), systemd:amd64 (237-3ubuntu10.48, 237-3ubuntu10.49), libnvidia-extra-460-server:amd64 (460.73.01-0ubuntu0.18.04.1, 460.91.03-0ubuntu0.18.04.1), linux-generic:amd64 (4.15.0.147.134, 4.15.0.151.139), initramfs-tools-core:amd64 (0.130ubuntu3.12, 0.130ubuntu3.13), initramfs-tools:amd64 (0.130ubuntu3.12, 0.130ubuntu3.13), libnvidia-compute-460-server:amd64 (460.73.01-0ubuntu0.18.04.1, 460.91.03-0ubuntu0.18.04.1), libnvidia-compute-460-server:i386 (460.73.01-0ubuntu0.18.04.1, 460.91.03-0ubuntu0.18.04.1)\nEnd-Date: 2021-07-21  20:51:53\n\nStart-Date: 2021-07-22  06:31:33\nCommandline: /usr/bin/unattended-upgrade\nRemove: linux-headers-4.15.0-144:amd64 (4.15.0-144.148), linux-headers-4.15.0-144-generic:amd64 (4.15.0-144.148)\nEnd-Date: 2021-07-22  06:31:36\n</code></pre> <p>Tip</p> <p>\u5bf9\u4e8e <code>.gz</code> \u7684\u65e5\u5fd7\u6587\u4ef6\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>zcat</code> \u76f4\u63a5\u67e5\u770b\u3002 \u53e6\u5916\u6ce8\u610f\uff0c<code>file.gz</code> \u89e3\u538b\u65f6\u9ed8\u8ba4\u4e0d\u4f1a\u4fdd\u5b58\u539f\u59cb\u6587\u4ef6\uff0c\u6216\u8005\u6307\u5b9a <code>gunzip -k</code> \u9009\u9879\uff0c\u6216\u8005 <pre><code>gunzip &lt; file.gz &gt; file\n</code></pre> \u8be6\u89c1 Unzipping a .gz file without removing the gzipped file</p> <p>\u53d1\u73b0\u5176\u66f4\u65b0\u65f6\u95f4\u6070\u6070\u5728\u8bf8\u591a crash \u7684\u524d\u4e00\u5929\u3002\u6240\u4ee5\u8bd5\u56fe\u5207\u6362\u5230\u8001\u7684\u5185\u6838\u7248\u672c\u3002</p> <p>\u6ce8\u610f\u5230\u5728\u542f\u52a8\u65f6\uff0c\u7b2c\u4e8c\u4e2a\u9009\u9879\u662f <code>Advanced options for Ubuntu</code>\uff0c\u70b9\u8fdb\u53bb\u6709\u82e5\u5e72\u4e2a\u5185\u6838\uff0c\u6211\u7684\u662f</p> <pre><code>4.15.0-151\n4.15.0-151 (recovery mode)\n4.15.0-147\n4.15.0-147 (recovery mode)\n</code></pre> <p>\u9009\u62e9 <code>4.15.0-147</code>\uff0c\u8fdb\u53bb\u4e4b\u540e\u53d1\u73b0\u6269\u5c55\u5c4f\u5e55\u65e0\u6cd5\u8bc6\u522b\uff0c\u53e6\u5916 Nvidia \u4e5f\u6ca1\u6709\u8bc6\u522b\u3002\u4e8e\u662f\u8bd5\u7740\u91cd\u88c5 nvidia driver\uff0c\u8fd9\u6b21\u9009\u62e9\u7684\u662f <code>nvidia-driver-460-server</code>\uff0c\u8fd9\u4e5f\u662f\u6b64\u524d\u4f7f\u7528\u7684\u7248\u672c\u3002</p> <p>\u7136\u540e\u91cd\u542f\u3002</p> <p>\u91cd\u542f\u65f6\u6ce8\u610f\u8fd8\u662f\u8981\u9009\u62e9 <code>4.15.0-147</code>\uff0c\u4e0d\u5982\u9ed8\u8ba4\u8fdb\u7684\u8fd8\u662f <code>151</code>\u3002</p> <p>\u4e2d\u95f4\u8bef\u5165\u4e86\u4e00\u6b21 <code>151</code>\uff0c\u7ed3\u679c\u8fd8\u6ca1\u767b\u5f55\u5c31\u81ea\u52a8\u91cd\u542f\u4e86\uff0c\u7136\u540e\u4e56\u4e56\u9009\u62e9 <code>147</code>\uff0c\u4f46\u662f\u8fd9\u6b21\u8fd8\u662f\u6ca1\u80fd\u8bc6\u522b HDMI\uff0c\u4e0d\u8fc7 nvidia-smi \u4ee5\u53ca nvidia-settings \u90fd\u6b63\u5e38\uff0c<code>xrandr</code> \u8f93\u51fa\u4e5f\u662f\u6ca1\u6709\u8bc6\u522b\u51fa\u663e\u793a\u5c4f\u3002</p> <p>2022-12-13</p> <p>\u6839\u636e\u9876\u90e8\u72b6\u6001\u680f\u53d1\u73b0\uff0c\u6709\u65f6 GPU \u65e0\u76d1\u63a7\uff0c\u518d\u8fd0\u884c nvidia-smi \u62a5\u9519 <pre><code>$ nvidia-smi\nFailed to initialize NVML: Driver/library version mismatch\n</code></pre> \u5728\u60f3\u6709\u6ca1\u6709\u65b9\u6cd5\u65e0\u987b\u91cd\u542f\u4fbf\u53ef\u91cd\u542f nvidia\uff0c\u770b\u4e86  \u7684\u8ba8\u8bba\uff0c\u6700\u597d\u7684\u65b9\u5f0f\u53ef\u80fd\u8fd8\u662f\u76f4\u63a5\u91cd\u542f\u3002</p> <p>\u8bd5\u7740\u7ee7\u7eed\u91cd\u542f\uff0c\u8fd9\u6b21\u7adf\u7136\u53ef\u4ee5\u4e86\uff01</p> <p>\u540e\u9762\u5728 nvidia-settings \u4e2d\u8bd5\u4e86\u5c06 <code>PRIME profiles</code> \u7531 <code>NVIDIA (performance mode)</code> \u6539\u6210 <code>NVIDIA on-demand</code>,\u7136\u540e\u91cd\u542f\uff0c\u7ed3\u679c\u7adf\u7136\u8fdb\u4e0d\u53bb\u7cfb\u7edf\u4e86\uff0c\u6bcf\u6b21\u8f93\u5165\u5bc6\u7801\u56de\u8f66\u90fd\u8981\u6c42\u91cd\u65b0\u8f93\u5165\u5bc6\u7801\u3002</p> <p>\u539f\u56e0\u5f88\u53ef\u80fd\u662f PRIME \u7684\u8fd9\u4e00\u6539\u52a8\uff0c\u4e8e\u662f\u8fdb\u5165 tty \u6a21\u5f0f\uff0c\u901a\u8fc7\u547d\u4ee4\u884c\u6539\u56de\u6765</p> <pre><code># \u67e5\u8be2\u5f53\u524d\u9009\u62e9\n$ prime-select query\n# \u5207\u6362\u81f3 nvidia\n$ prime-select nvidia\n# \u5207\u6362\u81f3 intel\n$ prime-select intel\n</code></pre> <p>\u7136\u540e\u91cd\u542f\u7ec8\u4e8e\u6062\u590d\u6b63\u5e38\u3002</p> <p>\u6ce8\u610f\u73b0\u5728\u6bcf\u6b21\u91cd\u542f\u90fd\u9700\u8981\u9009\u62e9\u5185\u6838\u7248\u672c\uff0c\u4e00\u4e2a\u81ea\u7136\u60f3\u6cd5\u662f\u4fee\u6539\u9ed8\u8ba4\u5185\u6838\u3002\u53c2\u8003 How Do I Change the Default Boot Kernel in Ubuntu?</p> <p>\u5c06 <code>/etc/default/grub</code> \u4e2d <code>GRUB_DEFAULT</code> \u4fee\u6539\u81f3 <code>1&gt;2</code>\uff0c\u5176\u4e2d</p> <ul> <li><code>1</code> \u4ee3\u8868 <code>Advanced options for Ubuntu</code> \u7684\u987a\u5e8f\uff0c\u56e0\u5176\u5728\u7b2c\u4e8c\u4f4d\uff0c\u987a\u5e8f\u4ece 0 \u7b97\u8d77\uff0c\u9ed8\u8ba4\u503c\u5c31\u662f 0</li> <li><code>&gt;2</code> \u4ee3\u8868\u5728\u5b50\u76ee\u5f55\u4e0b\u4f4d\u4e8e\u7b2c 2 \u4f4d\uff08\u987a\u5e8f\u4ece 0 \u7b97\u8d77\uff0c\u5373\u7b2c\u4e09\u4e2a\uff09</li> </ul> <p>\u91cd\u542f\u4e4b\u524d\u9700\u8981\u8fd0\u884c</p> <pre><code>$ sudo update-grub\n</code></pre> <p>\u91cd\u542f\u4e4b\u540e\u53ef\u4ee5\u770b\u5230\u81ea\u52a8\u9009\u62e9\u4e86 <code>1&gt;2</code>\u3002 </p>"},{"location":"Linux/blog/2021-07-28-use-old-kernel/#disable-update-of-kernel","title":"disable update of kernel","text":"<p>\u4eca\u5929\u7adf\u7136\u53c8\u91cd\u542f\u4e86\uff0c\u6709\u70b9\u65e0\u6cd5\u7406\u89e3\u3002\u7b2c\u4e00\u6b21\u6000\u7591\u662f\u6e29\u5ea6\u8fc7\u9ad8\uff0c\u56e0\u4e3a <code>syslog</code> \u4e2d\u91cd\u542f\u524d\u7684\u4e00\u6761\u8bb0\u5f55\u4fe1\u606f\u4e3a</p> <pre><code>Device: /dev/sdc [SAT], SMART Usage Attribute: 194 Temperature_Celsius changed from 60 to 61\n</code></pre> <p>\u7136\u540e\u7b2c\u4e8c\u6b21\u7adf\u7136\u53d1\u73b0 crash \u62a5\u544a\u7adf\u7136\u662f <code>151</code>\uff0c\u660e\u660e\u5e94\u8be5\u9009\u62e9\u4e86\u7b2c\u4e8c\u4e2a 147 \u5440\u3002</p> <pre><code>$ ls /var/crash\nlinux-image-4.15.0-151-generic-202108070025.crash\nlinux-image-4.15.0-151-generic-202108071819.crash\n</code></pre> <p>\u91cd\u542f\u65f6\u624d\u53d1\u73b0\u7adf\u7136\u591a\u4e86\u4e2a kernel 153\uff01\uff01\u4e8e\u662f\u7b2c\u4e8c\u4e2a\u53d8\u6210\u4e86 151\uff0c\u7b2c\u4e09\u4e2a\u624d\u662f 147\u3002</p> <p>\u867d\u7136\u5c06\u542f\u52a8\u9009\u62e9\u518d\u6539\u6210\u7b2c\u4e09\u4e2a\u5e94\u8be5\u4e5f\u662f\u53ef\u4ee5\u7684\uff0c\u4f46\u662f\u4e07\u4e00\u4ee5\u540e\u53c8\u591a\u4e86\u4e00\u4e2a\u5462\uff0c\u987a\u5e8f\u5c82\u4e0d\u53c8\u53d8\u4e86\uff0c\u6240\u4ee5\u66f4\u597d\u7684\u65b9\u6cd5\u4fbf\u662f\u7981\u6b62 kernel \u66f4\u65b0\u3002\u53e6\u5916\u5c06\u6700\u65b0\u7684 151 \u5220\u6389\u3002</p> <ul> <li>\u5220\u6389 kernel</li> </ul> <p>\u67e5\u770b\u5b89\u88c5 kernel \u7684\u5b8c\u6574\u540d\u79f0\uff0c</p> <pre><code>$ dpkg -l | grep linux-image | grep \"^ii\"\n</code></pre> <p>\u7136\u540e\u8fdb\u884c\u5220\u9664</p> <pre><code>$ sudo apt purge linux-image-4.15.0-153-generic\n</code></pre> <p>\u518d\u6b21\u91cd\u542f\u5c31\u4f1a\u53d1\u73b0\u7b2c\u4e00\u9879 153 \u6d88\u5931\u4e86\u3002</p> <p>refer to Ubuntu 18.04 remove all unused old kernels</p> <ul> <li>\u7981\u6b62 kernel \u66f4\u65b0</li> </ul> <p>\u53c2\u8003 How to I prevent Ubuntu from kernel version upgrade and notification?</p> <pre><code>sudo apt-mark hold 4.15.0-147-generic\n</code></pre> <p>The resulting status is <code>hi</code>, where the first letter implies <code>hold</code>.</p> <pre><code>~$ dpkg -l | grep \"4.15.0-147\"\nii  linux-headers-4.15.0-147                                    4.15.0-147.151                             all          Header files related to Linux kernel version 4.15.0\nhi  linux-headers-4.15.0-147-generic                            4.15.0-147.151                             amd64        Linux kernel headers for version 4.15.0 on 64 bit x86 SMP\nhi  linux-image-4.15.0-147-generic                              4.15.0-147.151                             amd64        Signed kernel image generic\nhi  linux-modules-4.15.0-147-generic                            4.15.0-147.151                             amd64        Linux kernel extra modules for version 4.15.0 on 64 bit x86 SMP\nhi  linux-modules-extra-4.15.0-147-generic                      4.15.0-147.151                             amd64        Linux kernel extra modules for version 4.15.0 on 64 bit x86 SMP\n</code></pre> <p>2022-06-13</p> <p>However, currently the kernel is</p> <pre><code>~$ date\nMon 13 Jun 2022 04:17:43 PM CST\n~$ uname -a\nLinux weiya-ThinkPad-T460p 5.4.0-110-generic #124-Ubuntu SMP Thu Apr 14 19:46:19 UTC 2022 x86_64 x86_64 x86_64 GNU/Linux\n</code></pre> <p>so it is outdated to hold such kernel. To undo such operation, </p> <pre><code>$ sudo apt-mark unhold 4.15.0-147-generic\n</code></pre> <p>Then it will be removed if we perform autoclean</p> <pre><code>~$ sudo apt autoremove --purge \nReading package lists... Done\nBuilding dependency tree       \nReading state information... Done\nThe following packages will be REMOVED:\nlinux-headers-4.15.0-147* linux-headers-4.15.0-147-generic* linux-image-4.15.0-147-generic* linux-modules-4.15.0-147-generic* linux-modules-extra-4.15.0-147-generic*\n</code></pre> <p>Note that this command will still keep one old kernel, along with the currently running one . For example,</p> <pre><code>~$ dpkg -l | grep \"linux-image\" | grep '^ii'\nii  linux-image-5.4.0-110-generic                               5.4.0-110.124                              amd64        Signed kernel image generic\nii  linux-image-5.4.0-117-generic                               5.4.0-117.132                              amd64        Signed kernel image generic\nii  linux-image-generic                                         5.4.0.117.120                              amd64        Generic Linux kernel image\n</code></pre> <p>However, here is a warning,</p> <p>Warning</p> <p>dpkg: warning: while removing linux-modules-4.15.0-147-generic, directory \u2018/lib/modules/4.15.0-147-generic\u2019 not empty so not removed</p>"},{"location":"Linux/blog/2022-11-19-why-job-restart/","title":"Why Job Restart?","text":""},{"location":"Linux/blog/2022-11-19-why-job-restart/#20221120","title":"2022.11.20","text":"<p>\u8d77\u56e0\u662f\u53d1\u73b0\u7a81\u7136\u591a\u4e86 slurm \u7684\u8f93\u51fa\u6587\u4ef6\uff0c</p> <pre><code>$ ll -at | head -10\n       0 Nov 19 17:56 slurm-1144481.out\n</code></pre> <p>\u7b2c\u4e00\u611f\u89c9\u662f dummy.job \u8d85\u8fc7\u65f6\u95f4\u9650\u5236\u4e86\uff0c\u7136\u540e\u4e00\u770b</p> <pre><code>             JOBID PARTITION     NAME     USER ST       TIME  NODES NODELIST(REASON)\n1144481   statdgx dummy.jo s******  R    6:57:16      1 chpc-gpu019\n</code></pre> <p>\u7adf\u7136\u624d\u8fd0\u884c 6 \u5c0f\u65f6\uff0c\u800c\u5f53\u524d\u65f6\u95f4\u4e3a</p> <pre><code>$ date\nSun Nov 20 00:53:59 HKT 2022\n</code></pre> <p>\u8fd9\u521a\u597d\u80fd\u8ddf slurm-1144481.out \u7684\u66f4\u65b0\u65f6\u95f4\u5bf9\u5f97\u4e0a (17:56 + 6:57 = 24:53)\uff0c\u4f46\u662f 6h \u524d\u6211\u53ef\u8fd8\u5728\u7761\u68a6\u4e2d\uff0c\u4e0d\u53ef\u80fd\u81ea\u5df1\u63d0\u4ea4 job\u3002</p> <p>\u7b2c\u4e00\u4e2a\u731c\u6d4b\u662f</p> <p>\u89e6\u53d1\u65f6\u95f4\u9650\u5236\u4e86\uff0c\u7136\u540e job \u81ea\u52a8\u91cd\u542f\u4e86\uff1f</p> <p>\u6bd5\u7adf\u6b64\u524d\u6ca1\u9047\u5230\u8fc7\u89e6\u53d1\u65f6\u95f4\u9650\u5236\uff0c\u6240\u4ee5\u5e76\u4e0d\u786e\u4fe1\u89e6\u53d1\u65f6\u95f4\u9650\u5236\u540e\u7684\u884c\u4e3a\u3002\u5982\u679c\u662f\u8fd9\u6837\uff0c\u4e0b\u9762\u8981\u9a8c\u8bc1\u7684\u5c31\u662f\u6b64 job \u5b9e\u9645\u63d0\u4ea4\u4e8e 2022-10-20 \u5de6\u53f3\u3002</p> <p>\u9996\u5148\u68c0\u67e5 slurm-1144481.out \u8be6\u7ec6\u7684\u65f6\u95f4\u6233\uff0c</p> <pre><code>$ stat slurm-1144481.out File: \u2018slurm-1144481.out\u2019\n  Size: 0           Blocks: 0          IO Block: 1048576 regular empty file\nDevice: 2ah/42d Inode: 3225764414  Links: 1\n\nContext: system_u:object_r:user_home_t:s0\nAccess: 2022-11-02 06:23:31.643498231 +0800\nModify: 2022-11-19 17:56:05.643506847 +0800\nChange: 2022-11-19 17:56:05.643506847 +0800\n Birth: -\n</code></pre> <p>\u65e9\u4e8e 2022-11-02 \u5c31\u6709\u8fc7\u8bbf\u95ee\u884c\u4e3a\uff0c\u81f3\u5c11\u8868\u660e\u8be5\u6587\u4ef6\u4e0d\u662f\u521a\u521a\u521b\u5efa\u7684\u3002</p> <p>\u8fdb\u4e00\u6b65\u67e5\u770b job \u63d0\u4ea4\u65e5\u5fd7\uff0c</p> <pre><code>$ sacct --format=JobID,JobName,NodeList,Submit,Start,SystemComment,End,State,Reason,Suspended,Timelimit,Comment --starttime=2022-10-01 | grep dummy\n1114583       dummy.job      chpc-cn116 2022-09-29T05:29:58 2022-09-29T05:29:58                 2022-10-14T10:24:05 CANCELLED+                   None   00:00:00 30-00:00:+                1114584       dummy.job      chpc-cn116 2022-09-29T05:37:18 2022-09-29T05:37:18                 2022-10-14T10:24:03 CANCELLED+                   None   00:00:00 30-00:00:+                1144480       dummy.job   None assigned 2022-11-02T06:21:39 2022-11-02T06:21:39                 2022-11-02T06:21:39     FAILED                   None   00:00:00 30-00:00:+                1144481       dummy.job     chpc-gpu019 2022-11-19T17:52:26 2022-11-19T17:56:05                             Unknown    RUNNING              BeginTime   00:00:00 30-00:00:+         </code></pre> <p>\u53d1\u73b0\u76f8\u90bb\u7684\u4e0a\u4e00\u4e2a job 1144480 \u662f 2022-11-02T06:21:39 \u63d0\u4ea4\uff0c\u8fd9\u8bf4\u660e 1144481 \u5e94\u4e0d\u65e9\u4e8e\u8fd9\u4e2a\u65f6\u95f4\u6233\u63d0\u4ea4\u3002\u90a3\u7b2c\u4e00\u4e2a\u731c\u6d4b\u4e0d\u6210\u7acb\u3002</p> <p>\u90a3\u95ee\u9898\u5c31\u6765\u4e86\uff0c</p> <p>\u65e2\u7136\u6ca1\u89e6\u53d1 30 \u5929\u7684\u65f6\u95f4\u9650\u5236\uff0c\u4e3a\u4ec0\u4e48\u4f1a\u88ab\u91cd\u542f\uff1f</p> <p>\u521a\u597d\u5728\u53e6\u4e00\u5904\u8bb0\u5f55\u4e86\u6b64\u6b21\u63d0\u4ea4 job \u63d0\u4ea4\u7684\u8bb0\u5f55</p> <p></p> <p>\u4fee\u6539\u65f6\u95f4\u6362\u6210 HKT \u7684\u8bdd\u662f 2022-11-02T06:25\uff0c\u521a\u597d\u5728 job 1144480 \u7684 submit \u65f6\u95f4\u6233\u7684\u51e0\u5206\u949f\u4e4b\u540e\u3002</p> <p>\u8fd8\u6709\u4e00\u70b9\uff0c\u6ce8\u610f\u5230 <code>REASON</code> \u4e00\u5217 1144481 \u503c\u4e3a \u201cBeginTime\u201d\uff0c\u6839\u636e\uff0c\u8fd9\u5e94\u8be5\u662f pending job \u7684 reason\uff0c \u4f46 job \u7684\u8be6\u7ec6\u4fe1\u606f\u4e2d <code>Reason = None</code>\uff0c\u53ef\u80fd\u662f\u56e0\u4e3a\u5df2\u7ecf\u5904\u4e8e RUNNING \u72b6\u6001\uff0c\u53ea\u662f <code>sacct</code> \u6ca1\u6709\u76f8\u5e94\u5730\u66f4\u65b0 REASON.</p> <pre><code>$ scontrol show job 1144481\nJobId=1144481 JobName=dummy.job\n\n   Priority=29422 Nice=0 Account=stat QOS=stat\n   JobState=RUNNING Reason=None Dependency=(null)\n   Requeue=1 Restarts=27 BatchFlag=1 Reboot=0 ExitCode=0:0\n   RunTime=07:52:04 TimeLimit=30-00:00:00 TimeMin=N/A\n   SubmitTime=2022-11-19T17:52:26 EligibleTime=2022-11-19T17:54:27\n   AccrueTime=2022-11-19T17:54:27\n   StartTime=2022-11-19T17:56:05 EndTime=2022-12-19T17:56:05 Deadline=N/A\n   SuspendTime=None SecsPreSuspend=0 LastSchedEval=2022-11-19T17:56:05\n   Partition=statdgx AllocNode:Sid=chpc-sandbox:25884\n   ReqNodeList=chpc-gpu019 ExcNodeList=(null)\n   NodeList=chpc-gpu019\n   BatchHost=chpc-gpu019\n   NumNodes=1 NumCPUs=1 NumTasks=1 CPUs/Task=1 ReqB:S:C:T=0:0:*:*\n   TRES=cpu=1,mem=16000M,node=1,billing=1,gres/gpu=1\n   Socks/Node=* NtasksPerN:B:S:C=0:0:*:* CoreSpec=*\n   MinCPUsNode=1 MinMemoryNode=0 MinTmpDiskNode=0\n   Features=(null) DelayBoot=00:00:00\n   OverSubscribe=OK Contiguous=0 Licenses=(null) Network=(null)\n   Power=\n   MemPerTres=gpu:16000\n   TresPerNode=gpu:1\n   NtasksPerTRES:0\n</code></pre> <p>\u6240\u4ee5\u8fd8\u6709\u53e6\u4e00\u79cd\u53ef\u80fd\u6027\uff0c1144481 \u867d\u7136\u88ab\u63d0\u4ea4\u4e86\uff0c\u4f46\u662f\u4e00\u76f4\u5728\u961f\u5217\u4e2d\uff0c\u5904\u4e8e PENDING \u72b6\u6001\uff0c\u76f4\u81f3 2022-11-02T06:21:39 \u624d\u8fd0\u884c\u3002\u4f46 slurm \u7684\u63d0\u4ea4\u65e5\u5fd7\u786e\u5b9e\u4e5f\u533a\u5206\u4e86 submit \u548c start \u8fd9\u4e24\u4e2a\u65f6\u95f4\u6233\uff0c\u5bf9\u4e8e 1144481\uff0c\u8fd9\u4e24\u4e2a\u65f6\u95f4\u6233\u90fd\u662f 2022-11-19\uff0c\u4e14\u4e2d\u95f4\u786e\u6709 4 \u5206\u949f\u7684\u95f4\u9694\u3002\u53e6\u4e00\u65b9\u9762\uff0c\u622a\u56fe\u4e2d\u4e5f\u660e\u786e\u5199\u6210 1144481 \u5df2\u7ecf submitted\uff0c\u6240\u4ee5\u5b83\u7684 submit \u65f6\u95f4\u7edd\u4e0d\u5e94\u8be5\u662f 2022-11-19T17:52:26. \u9664\u975e\u2026</p> <p>\u89e3\u9664 PENDING \u540e\uff0c\u7cfb\u7edf\u91cd\u65b0\u63d0\u4ea4\uff0c\u4ea7\u751f\u4e86\u65b0\u7684 submit \u65f6\u95f4\u6233\uff1f</p> <p>\u4e8e\u662f\u68c0\u67e5\u662f\u5426\u5b58\u5728 STATE \u4e3a RUNNING \u800c REASON \u4e5f\u4e3a BeginTime \u7684 job\uff0c\u8fd8\u771f\u6709\u51e0\u4e2a\uff0c</p> <pre><code>$ sacct -a -X --format=JobID,JobName,NodeList,Submit,Start,SystemComment,End,State,Reason,Suspended,Timelimit,Comment --starttime=2022-10-01 | grep RUNNING | grep BeginTime\n1150975           s1h71 chpc-cn[023-02+ 2022-11-17T11:43:44 2022-11-18T21:06:01                             Unknown    RUNNING              BeginTime   00:00:00 7-00:00:00                1151170      PRD.71.02+      chpc-cn002 2022-11-17T16:36:11 2022-11-18T01:01:59                             Unknown    RUNNING              BeginTime   00:00:00 7-00:00:00                1144481       dummy.job     chpc-gpu019 2022-11-19T17:52:26 2022-11-19T17:56:05                             Unknown    RUNNING              BeginTime   00:00:00 30-00:00:+                1150938      tc_aipw_g+     chpc-gpu019 2022-11-19T17:52:26 2022-11-19T17:56:05                             Unknown    RUNNING              BeginTime   00:00:00 4-04:00:00                1150942      1tc_aipw_+     chpc-gpu019 2022-11-19T17:52:26 2022-11-19T17:56:05                             Unknown    RUNNING              BeginTime   00:00:00 4-04:00:00\n</code></pre> <p>\u800c\u4e14\u6ce8\u610f\u6700\u540e\u4e09\u6761\u7684 submit, start \u65f6\u95f4\u6233\u7adf\u7136\u4e00\u6a21\u4e00\u6837\uff0c\u800c\u4e14\u4e5f\u5728 chpc-gpu019\uff0c\u8fd9\u4e0d\u662f\u5de7\u5408\uff01\u4e8e\u662f\u6839\u636e\u65f6\u95f4\u6233\u641c\u7d22\uff0c\u770b\u770b\u8fd8\u6709\u6ca1\u6709\u66f4\u591a\u7684 job\uff0c\u53c8\u53d1\u73b0\u4e24\u6761\uff0c\u4f46\u5b83\u4eec\u8fd0\u884c\u51e0\u4e2a\u5c0f\u65f6\u540e\u88ab cancel \u4e86\u3002</p> <pre><code>$ sacct -a -X --format=JobID,JobName,NodeList,Submit,Start,SystemComment,End,State,Reason,Suspended,Timelimit,Comment --starttime=2022-10-01 | grep 2022-11-19T17:52:26\n1152221       p0.3_glm1 chpc-cn[053-05+ 2022-11-18T20:24:06 2022-11-18T20:24:06                 2022-11-19T17:52:26  NODE_FAIL                   None   00:00:00 7-00:00:00                1144481       dummy.job     chpc-gpu019 2022-11-19T17:52:26 2022-11-19T17:56:05                             Unknown    RUNNING              BeginTime   00:00:00 30-00:00:+                1150938      tc_aipw_g+     chpc-gpu019 2022-11-19T17:52:26 2022-11-19T17:56:05                             Unknown    RUNNING              BeginTime   00:00:00 4-04:00:00                1150942      1tc_aipw_+     chpc-gpu019 2022-11-19T17:52:26 2022-11-19T17:56:05                             Unknown    RUNNING              BeginTime   00:00:00 4-04:00:00                1152285      mulch_201+ chpc-large-mem+ 2022-11-19T17:52:26 2022-11-19T17:55:05                 2022-11-19T20:49:15 CANCELLED+              BeginTime   00:00:00 7-00:00:00                1152287      nomulch_2+      chpc-cn051 2022-11-19T17:52:26 2022-11-19T17:56:05                 2022-11-19T20:49:17 CANCELLED+              BeginTime   00:00:00 7-00:00:00 </code></pre> <p>\u7136\u800c\u8fd9\u4e9b\u53ea\u80fd\u8bf4\u660e\u7cfb\u7edf\u5728\u540c\u4e00\u65f6\u95f4\u70b9\u8fdb\u884c\u4e86\u67d0\u9879\u5904\u7406\uff0c\u4f46\u5e76\u4e0d\u80fd\u6307\u660e\u8fd9\u662f\u628a 1144481 \u662f\u540c\u5176\u5b83\u51e0\u4e2a job \u540c\u65f6\u4ece PENDING \u8f6c\u4e3a RUNNING\uff0c\u8fd8\u662f\u628a\u672c\u6765\u662f RUNNING \u7684\u51e0\u4e2a job \u88ab\u7a81\u7136\u4e00\u8d77\u88ab\u91cd\u65b0\u63d0\u4ea4\u3002</p> <p>\u867d\u7136\u5982\u6b64\uff0c\u8fd8\u662f\u5f88\u6000\u7591\u662f\u88ab\u91cd\u65b0\u63d0\u4ea4\u7684\uff0c\u6bd5\u7adf\u6839\u636e\u7ecf\u9a8c\uff0c\u6392\u961f 18 \u5929\u662f\u51e0\u4e4e\u4e0d\u53ef\u80fd\u7684\uff0c\u800c\u4e14\u6309\u7167 priority \u7b97\u7684\u8bdd\uff0c\u73b0\u5728\u5c31\u8fd9\u4e00\u4e2a job\uff0cpriority \u4e5f\u5e94\u8be5\u65e9\u5c31\u5230\u4e86\u3002\u4f46\u5728\u65e0\u5176\u5b83\u8bc1\u636e\u4e4b\u524d\uff0c\u8fd9\u53ea\u80fd\u6210\u4e3a\u60ac\u6848\u3002</p> <p>\u4e0d\u8fc7\u5982\u679c\u5b83\u4f1a\u91cd\u65b0\u63d0\u4ea4\uff0c\u90a3\u6709\u53ef\u80fd\u4f1a\u518d\u6b21\u201c\u4f5c\u6848\u201d\u2026\u2026</p>"},{"location":"Linux/blog/2022-11-19-why-job-restart/#20221124","title":"2022.11.24","text":"<p>\u679c\u7136\uff0c\u53d1\u73b0\u4e86\u65b0\u7684 Submit \u65f6\u95f4\u70b9 2022-11-23T15:50:41\uff0c\u800c\u6b64\u524d\u7684 Submit \u65f6\u95f4\u70b9\u4e3a 2022-11-19T17:52:26</p> <pre><code>$ date\nThu Nov 24 09:24:13 HKT 2022\n$ scontrol show job 1144481\nJobId=1144481 JobName=dummy.job\n   Priority=29597 Nice=0 Account=stat QOS=stat\n   JobState=RUNNING Reason=None Dependency=(null)\nRequeue=1 Restarts=34 BatchFlag=1 Reboot=0 ExitCode=0:0\n   RunTime=17:29:58 TimeLimit=30-00:00:00 TimeMin=N/A\n   SubmitTime=2022-11-23T15:50:41 EligibleTime=2022-11-23T15:52:42\n   AccrueTime=2022-11-23T15:52:42\n   StartTime=2022-11-23T15:54:17 EndTime=2022-12-23T15:54:17 Deadline=N/A\n</code></pre>"},{"location":"Matlab/","title":"Matlab\u76f8\u5173","text":""},{"location":"Matlab/#acf-people-detector","title":"ACF people detector","text":"<pre><code>detector = peopleDetectorACF;\n%detector = peopleDetectorACF('caltech');\nI = imread('testACF.png');\n[bboxes, scores] = detect(detector, I);\nI = insertObjectAnnotation(I, 'rectangle', bboxes, scores);\nfigure\nimshow(I)\n</code></pre>"},{"location":"Matlab/#launch-from-command-line","title":"Launch from Command Line","text":"<ul> <li><code>nodesktop</code>: still have full access to figure windows, and can launch the full desktop with the command desktop.</li> <li><code>nojvm</code>: not only does not load the desktop, but does not load java, i.e., cannot later bring up the desktop, launch figure windows, or use any commands that use java libraries</li> <li><code>nosplash</code>: skip the splash screen, the first window with the picture of the membrane and the version number. It still loads into the desktop.</li> </ul> <p>refer to Launching MATLAB without the desktop</p> <p>These are called Startup Options, and the official Matlab describe the options for different systems, such as matlab (Linux), matlab (Windows).</p>"},{"location":"Matlab/#debug-with-gdb","title":"Debug with gdb","text":"<p>See the official documentation: Debug on Linux Platforms</p>"},{"location":"Matlab/#option-wait","title":"Option <code>-wait</code>","text":"<p>I saw the option in the <code>.bat</code> file for Windows. By checking the documentation, matlab (Windows) said,</p> <p>To capture the exit code, start MATLAB with the -wait option.</p> <p>but no similar description in matlab (Linux) and matlba (macOS).</p>"},{"location":"Matlab/#assign-multiple-variables","title":"assign multiple variables","text":"<pre><code>[t1, t2, t3] = deal(1, 2, 3)\n</code></pre> <p>refer to Assign Multiple Variables</p>"},{"location":"PHP/","title":"PHP \u76f8\u5173","text":""},{"location":"PHP/#_1","title":"\u7b80\u4ecb","text":"<p>PHP \u662f\u4e00\u79cd\u521b\u5efa\u52a8\u6001\u4ea4\u4e92\u6027\u7ad9\u70b9\u7684\u5f3a\u6709\u529b\u7684\u670d\u52a1\u5668\u7aef\u811a\u672c\u8bed\u8a00\u3002</p> <p>\u7c7b\u6bd4ASP.</p> <p>\u4f7f\u7528\u83dc\u9e1f\u5de5\u5177\u8fdb\u884c\u5728\u7ebf\u6d4b\u8bd5\u3002</p> <p>\u53e6\u5916\u6709\u5728\u7ebf\u5e2e\u52a9\u624b\u518c\uff1a\u4e2d\u6587, \u82f1\u6587</p>"},{"location":"PHP/#_2","title":"\u6848\u4f8b\u5206\u6790","text":"<p>\u4e0b\u9762\u7684\u4ee3\u7801\u6765\u81eafooleap\u7684disqus-php-api\u9879\u76ee\u3002</p> <pre><code>&lt;?php\n/**\n * \u6279\u91cf\u83b7\u53d6\u8bc4\u8bba\u6570\n *\n * @param links  \u9875\u9762\u94fe\u63a5\uff0c\u4ee5\u201c,\u201d\u5206\u9694\n *\n * @author   fooleap &lt;fooleap@gmail.com&gt;\n * @version  2017-11-14 09:21:38\n * @link     https://github.com/fooleap/disqus-php-api\n *\n */\nnamespace Emojione;\nrequire_once('init.php');\n$links = '&amp;thread=link:'.$website.preg_replace('/,/i','&amp;thread=link:'.$website, $_GET['links']);\n$fields_data = array(\n    'api_key' =&gt; DISQUS_PUBKEY,\n    'forum' =&gt; DISQUS_SHORTNAME,\n    'limit' =&gt; 100\n);\n$curl_url = '/api/3.0/threads/list.json?'.http_build_query($fields_data).encodeURI($links);\n$data = curl_get($curl_url);\n$countArr = array();\nforeach ( $data -&gt; response as $key =&gt; $post ) {\n    $countArr[$key] = array(\n        'link'=&gt; $post -&gt; link,\n        'posts'=&gt; $post -&gt; posts\n    );\n}\n$output = $data -&gt; code == 0 ? array(\n    'code' =&gt; 0,\n    'response' =&gt; $countArr\n) : $data;\nprint_r(json_encode($output)); \n</code></pre>"},{"location":"PHP/#_3","title":"\u53d8\u91cf\u89c4\u5219","text":"<ol> <li>\u53d8\u91cf\u4ee5 $ \u7b26\u53f7\u5f00\u59cb\uff0c\u540e\u9762\u8ddf\u7740\u53d8\u91cf\u7684\u540d\u79f0</li> <li>\u53d8\u91cf\u540d\u5fc5\u987b\u4ee5\u5b57\u6bcd\u6216\u8005\u4e0b\u5212\u7ebf\u5b57\u7b26\u5f00\u59cb</li> <li>\u53d8\u91cf\u540d\u53ea\u80fd\u5305\u542b\u5b57\u6bcd\u6570\u5b57\u5b57\u7b26\u4ee5\u53ca\u4e0b\u5212\u7ebf\uff08A-z\u30010-9 \u548c _ \uff09</li> <li>\u53d8\u91cf\u540d\u4e0d\u80fd\u5305\u542b\u7a7a\u683c</li> <li>\u53d8\u91cf\u540d\u662f\u533a\u5206\u5927\u5c0f\u5199\u7684\uff08$y \u548c $Y \u662f\u4e24\u4e2a\u4e0d\u540c\u7684\u53d8\u91cf\uff09</li> </ol>"},{"location":"PHP/#_4","title":"\u6570\u7ec4 &amp; \u5173\u8054\u6570\u7ec4","text":"<p>\u53c2\u8003PHP \u6570\u7ec4</p> <p>\u4e0a\u8ff0\u4ee3\u7801\u4e2d</p> <p><pre><code>$fields_data = array(\n    'api_key' =&gt; DISQUS_PUBKEY,\n    'forum' =&gt; DISQUS_SHORTNAME,\n    'limit' =&gt; 100\n);\n</code></pre> \u5373\u4e3a\u5173\u8054\u6570\u7ec4\u3002</p> <p>\u800c <pre><code>$countArr = array();\n</code></pre> \u5373\u4e3a\u666e\u901a\u6570\u7ec4\u7684\u521b\u5efa\u3002</p>"},{"location":"PHP/#echo-print-print_r-var_dump","title":"echo &amp; print &amp; print_r &amp; var_dump","text":"<p>\u53c2\u8003PHP 5 echo \u548c print \u8bed\u53e5</p> <ol> <li>echo - \u53ef\u4ee5\u8f93\u51fa\u4e00\u4e2a\u6216\u591a\u4e2a\u5b57\u7b26\u4e32</li> <li>print - \u53ea\u5141\u8bb8\u8f93\u51fa\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8fd4\u56de\u503c\u603b\u4e3a 1</li> <li>echo \u8f93\u51fa\u7684\u901f\u5ea6\u6bd4 print \u5feb\uff0c echo \u6ca1\u6709\u8fd4\u56de\u503c\uff0cprint\u6709\u8fd4\u56de\u503c1\u3002</li> <li>print_r() - \u53ef\u4ee5\u628a\u5b57\u7b26\u4e32\u548c\u6570\u5b57\u7b80\u5355\u5730\u6253\u5370\u51fa\u6765\uff0c\u800c\u6570\u7ec4\u5219\u4ee5\u62ec\u8d77\u6765\u7684\u952e\u548c\u503c\u5f97\u5217\u8868\u5f62\u5f0f\u663e\u793a\uff0c\u5e76\u4ee5Array\u5f00\u5934\u3002\u4f46print_r()\u8f93\u51fa\u5e03\u5c14\u503c\u548cNULL\u7684\u7ed3\u679c\u6ca1\u6709\u610f\u4e49\uff0c\u56e0\u4e3a\u90fd\u662f\u6253\u5370\u201d\\n\u201d\u3002\u56e0\u6b64\u7528var_dump()\u51fd\u6570\u66f4\u9002\u5408\u8c03\u8bd5\u3002</li> <li>var_dump(): \u5224\u65ad\u4e00\u4e2a\u53d8\u91cf\u7684\u7c7b\u578b\u4e0e\u957f\u5ea6,\u5e76\u8f93\u51fa\u53d8\u91cf\u7684\u6570\u503c,\u5982\u679c\u53d8\u91cf\u6709\u503c\u8f93\u7684\u662f\u53d8\u91cf\u7684\u503c\u5e76\u56de\u8fd4\u6570\u636e\u7c7b\u578b\u3002\u6b64\u51fd\u6570\u663e\u793a\u5173\u4e8e\u4e00\u4e2a\u6216\u591a\u4e2a\u8868\u8fbe\u5f0f\u7684\u7ed3\u6784\u4fe1\u606f\uff0c\u5305\u62ec\u8868\u8fbe\u5f0f\u7684\u7c7b\u578b\u4e0e\u503c\u3002\u6570\u7ec4\u5c06\u9012\u5f52\u5c55\u5f00\u503c\uff0c\u901a\u8fc7\u7f29\u8fdb\u663e\u793a\u5176\u7ed3\u6784\u3002</li> </ol>"},{"location":"PHP/#_5","title":"\u5b57\u7b26\u4e32\u8fde\u63a5","text":"<p>\u53c2\u8003\u5173\u4e8ephp\u51e0\u79cd\u5b57\u7b26\u4e32\u8fde\u63a5\u7684\u6548\u7387\u6bd4\u8f83(\u8be6\u89e3)\uff0c\u6587\u7ae0\u5f97\u51fa\u7ed3\u8bba\u65b9\u6cd5\u4e00\u6548\u7387\u6700\u4f4e\u3002</p> <ol> <li> <p>\u76f4\u63a5\u7528.\u6765\u8fdb\u884c\u8fde\u63a5\u3002</p> </li> <li> <p>\u7528.=\u8fdb\u884c\u8fde\u63a5\u3002</p> </li> <li> <p>\u5148\u538b\u5165\u6570\u7ec4\uff0c\u518d\u901a\u8fc7join\u51fd\u6570\u8fde\u63a5\u3002</p> </li> </ol>"},{"location":"PHP/#curl","title":"cURL","text":"<p>\u9700\u8981\u5b89\u88c5<code>php-curl</code>\uff0c\u8fd9\u4f9d\u636ephp\u7684\u7248\u672c\u800c\u6709\u6240\u4e0d\u540c\uff0c\u5177\u4f53\u53c2\u8003How to install php-curl in Ubuntu 16.04\u6211\u91c7\u7528\u7684\u662fphp7\uff0c\u6240\u4ee5\u5b89\u88c5\u547d\u4ee4\u5982\u4e0b\u3002</p> <pre><code>sudo apt-get install php-curl\n</code></pre> <p>\u6ce8\u610f\u8981\u91cd\u542fapache\u3002</p> <pre><code>&lt;?php\n// \u521b\u5efa\u4e00\u4e2a\u65b0cURL\u8d44\u6e90\n$ch = curl_init();\n\n// \u8bbe\u7f6eURL\u548c\u76f8\u5e94\u7684\u9009\u9879\ncurl_setopt($ch, CURLOPT_URL, \"http://www.example.com/\");\ncurl_setopt($ch, CURLOPT_HEADER, 0);\n\n// \u6293\u53d6URL\u5e76\u628a\u5b83\u4f20\u9012\u7ed9\u6d4f\u89c8\u5668\ncurl_exec($ch);\n\n// \u5173\u95edcURL\u8d44\u6e90\uff0c\u5e76\u4e14\u91ca\u653e\u7cfb\u7edf\u8d44\u6e90\ncurl_close($ch);\n?&gt;\n</code></pre>"},{"location":"PHP/#curl_errno","title":"curl_errno","text":"<pre><code>&lt;?php\n$error_codes=array(\n[1] =&gt; 'CURLE_UNSUPPORTED_PROTOCOL', \n[2] =&gt; 'CURLE_FAILED_INIT', \n[3] =&gt; 'CURLE_URL_MALFORMAT', \n[4] =&gt; 'CURLE_URL_MALFORMAT_USER', \n[5] =&gt; 'CURLE_COULDNT_RESOLVE_PROXY', \n[6] =&gt; 'CURLE_COULDNT_RESOLVE_HOST', \n[7] =&gt; 'CURLE_COULDNT_CONNECT', \n[8] =&gt; 'CURLE_FTP_WEIRD_SERVER_REPLY',\n[9] =&gt; 'CURLE_REMOTE_ACCESS_DENIED',\n[11] =&gt; 'CURLE_FTP_WEIRD_PASS_REPLY',\n[13] =&gt; 'CURLE_FTP_WEIRD_PASV_REPLY',\n[14]=&gt;'CURLE_FTP_WEIRD_227_FORMAT',\n[15] =&gt; 'CURLE_FTP_CANT_GET_HOST',\n[17] =&gt; 'CURLE_FTP_COULDNT_SET_TYPE',\n[18] =&gt; 'CURLE_PARTIAL_FILE',\n[19] =&gt; 'CURLE_FTP_COULDNT_RETR_FILE',\n[21] =&gt; 'CURLE_QUOTE_ERROR',\n[22] =&gt; 'CURLE_HTTP_RETURNED_ERROR',\n[23] =&gt; 'CURLE_WRITE_ERROR',\n[25] =&gt; 'CURLE_UPLOAD_FAILED',\n[26] =&gt; 'CURLE_READ_ERROR',\n[27] =&gt; 'CURLE_OUT_OF_MEMORY',\n[28] =&gt; 'CURLE_OPERATION_TIMEDOUT',\n[30] =&gt; 'CURLE_FTP_PORT_FAILED',\n[31] =&gt; 'CURLE_FTP_COULDNT_USE_REST',\n[33] =&gt; 'CURLE_RANGE_ERROR',\n[34] =&gt; 'CURLE_HTTP_POST_ERROR',\n[35] =&gt; 'CURLE_SSL_CONNECT_ERROR',\n[36] =&gt; 'CURLE_BAD_DOWNLOAD_RESUME',\n[37] =&gt; 'CURLE_FILE_COULDNT_READ_FILE',\n[38] =&gt; 'CURLE_LDAP_CANNOT_BIND',\n[39] =&gt; 'CURLE_LDAP_SEARCH_FAILED',\n[41] =&gt; 'CURLE_FUNCTION_NOT_FOUND',\n[42] =&gt; 'CURLE_ABORTED_BY_CALLBACK',\n[43] =&gt; 'CURLE_BAD_FUNCTION_ARGUMENT',\n[45] =&gt; 'CURLE_INTERFACE_FAILED',\n[47] =&gt; 'CURLE_TOO_MANY_REDIRECTS',\n[48] =&gt; 'CURLE_UNKNOWN_TELNET_OPTION',\n[49] =&gt; 'CURLE_TELNET_OPTION_SYNTAX',\n[51] =&gt; 'CURLE_PEER_FAILED_VERIFICATION',\n[52] =&gt; 'CURLE_GOT_NOTHING',\n[53] =&gt; 'CURLE_SSL_ENGINE_NOTFOUND',\n[54] =&gt; 'CURLE_SSL_ENGINE_SETFAILED',\n[55] =&gt; 'CURLE_SEND_ERROR',\n[56] =&gt; 'CURLE_RECV_ERROR',\n[58] =&gt; 'CURLE_SSL_CERTPROBLEM',\n[59] =&gt; 'CURLE_SSL_CIPHER',\n[60] =&gt; 'CURLE_SSL_CACERT',\n[61] =&gt; 'CURLE_BAD_CONTENT_ENCODING',\n[62] =&gt; 'CURLE_LDAP_INVALID_URL',\n[63] =&gt; 'CURLE_FILESIZE_EXCEEDED',\n[64] =&gt; 'CURLE_USE_SSL_FAILED',\n[65] =&gt; 'CURLE_SEND_FAIL_REWIND',\n[66] =&gt; 'CURLE_SSL_ENGINE_INITFAILED',\n[67] =&gt; 'CURLE_LOGIN_DENIED',\n[68] =&gt; 'CURLE_TFTP_NOTFOUND',\n[69] =&gt; 'CURLE_TFTP_PERM',\n[70] =&gt; 'CURLE_REMOTE_DISK_FULL',\n[71] =&gt; 'CURLE_TFTP_ILLEGAL',\n[72] =&gt; 'CURLE_TFTP_UNKNOWNID',\n[73] =&gt; 'CURLE_REMOTE_FILE_EXISTS',\n[74] =&gt; 'CURLE_TFTP_NOSUCHUSER',\n[75] =&gt; 'CURLE_CONV_FAILED',\n[76] =&gt; 'CURLE_CONV_REQD',\n[77] =&gt; 'CURLE_SSL_CACERT_BADFILE',\n[78] =&gt; 'CURLE_REMOTE_FILE_NOT_FOUND',\n[79] =&gt; 'CURLE_SSH',\n[80] =&gt; 'CURLE_SSL_SHUTDOWN_FAILED',\n[81] =&gt; 'CURLE_AGAIN',\n[82] =&gt; 'CURLE_SSL_CRL_BADFILE',\n[83] =&gt; 'CURLE_SSL_ISSUER_ERROR',\n[84] =&gt; 'CURLE_FTP_PRET_FAILED',\n[84] =&gt; 'CURLE_FTP_PRET_FAILED',\n[85] =&gt; 'CURLE_RTSP_CSEQ_ERROR',\n[86] =&gt; 'CURLE_RTSP_SESSION_ERROR',\n[87] =&gt; 'CURLE_FTP_BAD_FILE_LIST',\n[88] =&gt; 'CURLE_CHUNK_FAILED');\n\n?&gt;\n</code></pre>"},{"location":"PHP/#nginx-php","title":"nginx \u4e0e php","text":"<p>\u5c61\u6b21\u78b0\u5230\u7981\u6b62\u8bbf\u95ee\uff0c\u5e76\u4e14\u80fd\u591f\u76f4\u63a5\u4e0b\u8f7d <code>.php</code>\u6587\u4ef6\uff0c\u68c0\u67e5</p> <ol> <li>\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684\u9996\u9875\u662f\u5426\u5305\u542b\u4e86 <code>index.php</code></li> <li>\u914d\u7f6e\u6587\u4ef6\u4e2d\u662f\u5426\u5c06php\u6709\u5173\u7684\u90e8\u5206\u7684\u6ce8\u91ca\u6d88\u6389</li> </ol> <p>\u53c2\u8003</p> <ol> <li>Installing and setting NGINX and PHP</li> </ol>"},{"location":"PHP/#phpajaxjson","title":"php+ajax+json","text":"<p>\u53c2\u8003php+jquery+ajax+json\u7684\u4e00\u4e2a\u6700\u7b80\u5355\u5b9e\u4f8b - code_code_bear - \u535a\u5ba2\u56ed</p>"},{"location":"R/","title":"R Notes","text":"<p>Frequent Tips</p> <ul> <li>\u5220\u9664\u5f53\u524d\u5de5\u4f5c\u533a\u6240\u6709\u53d8\u91cf: <code>rm(list = ls(all = TRUE))</code></li> <li>RStudio shows all shortcuts: <code>Alt-Shift-K</code>.</li> <li>usage of <code>&lt;&lt;-</code>, \u201cit will keep going through the environments in order until it finds a variable with that name, and it will assign it to that.\u201d see also </li> <li>\u5e8f\u5217\u4e2d <code>0.1+1:10-1</code> \u4e2d <code>:</code> \u4f18\u5148\u7ea7\u4f4e\u4e8e\u52a0\u51cf\u8fd0\u7b97\u7b26\uff0c\u6240\u4ee5\u8fd4\u56de <code>0.1, 1.1, ..., 9.1</code>.</li> <li>repeat string: <code>strrep('str', 2)</code>, <code>paste(rep('str', 2), collapse='')</code></li> </ul> \u795e\u5947\u7684<code>[</code> <p>\u6765\u81eaR\u8bed\u8a00\u4e2d\u4ee5\u77e9\u9635\u5f15\u7528\u591a\u7ef4\u6570\u7ec4\u7684\u5143\u7d20</p> <p>\u6bd4\u5982 <pre><code>A = array(sample(0:255, 100*100*3, replace = T), dim = c(100,100,3))\nB = array(sample(1:100, 2*5), dim = c(2,5))\napply(A, 3, `[`, t(B))\n</code></pre></p> <code>seq_along(x)</code> instead of <code>1:length(x)</code> <pre><code>vec &lt;- c()\nfor (i in 1:length(vec)) print(vec[i])\n</code></pre> <p>would print two <code>NULL</code> because <code>1:length(vec)</code> would be <code>c(1,0)</code>. A method to avoid this</p> <pre><code>for (i in seq_along(vec)) print(vec[i])\n</code></pre> <p>refer to Two common mistakes with the colon operator in R</p>"},{"location":"R/#installation","title":"Installation","text":""},{"location":"R/#install-from-source-on-rocky","title":"Install from source on Rocky","text":"<p>Following the instruction in RStudio Documentation: Install R from Source</p> <pre><code>export R_VERSION=X.X.X\ncurl -O https://cran.rstudio.com/src/base/R-4/R-${R_VERSION}.tar.gz\ntar -xzvf R-${R_VERSION}.tar.gz\ncd R-${R_VERSION}\n</code></pre> <p>Build with</p> <pre><code>./configure \\\n--prefix=/opt/R/${R_VERSION} \\\n--enable-memory-profiling \\\n--enable-R-shlib \\\n--with-blas \\\n--with-lapack\n\nmake\nsudo make install\n</code></pre> <p>then manage the version with <code>module</code>.</p> <p>2022-08-24 10:32:20</p> <p>On T460P, change the prefix as follows <pre><code>./configure \\\n    --prefix=/home/weiya/Programs/R/${R_VERSION} \\\n    --enable-memory-profiling \\\n    --enable-R-shlib \\\n    --with-blas \\\n    --with-lapack\n</code></pre></p> specify CRAN mirror in <code>install.package</code> <pre><code>r &lt;- getOption(\"repos\")\nr[\"CRAN\"] &lt;- \"https://cran.r-project.org\"\n# r[\"CRAN\"] &lt;- \"r[\"CRAN\"] &lt;- \"https://mirrors.ustc.edu.cn/CRAN/\"\" ## for mainland China\noptions(repos=r)\n</code></pre> <p>we also can wrap it with <code>local({...})</code> and save in <code>~/.Rprofile</code>. The benefit of <code>local</code> is to let the evaluation only valid in the current session. Note that RStudio would set <code>r[\"CARN\"]</code> as <code>https://cran.rstudio.com</code>.</p> <p>Refer to How to select a CRAN mirror in R</p> <p>For temporary use, use <code>repos</code> argument in <code>install.packages</code>, such as</p> <pre><code>install.packages('RMySQL', repos='http://cran.us.r-project.org')\n</code></pre> <p>refer to How to select a CRAN mirror in R</p>"},{"location":"R/#installation-of-module","title":"installation of <code>module</code>","text":"<p>Follow the official instruction </p> <pre><code>curl -LJO https://github.com/cea-hpc/modules/releases/download/v5.1.1/modules-5.1.1.tar.gz\ntar xvf modules-5.1.1.tar.gz\ncd modules-5.1.1/\nsudo apt-get install tcl-dev\nmake\n# sudo make install\nmake install\n</code></pre> <p>Different from other software, <code>module load</code> command cannot be found, we need to configure as follows,</p> <pre><code>$ sudo ln -s $PWD/init/profile.sh /etc/profile.d/modules.sh\n$ sudo ln -s $PWD/init/profile.csh /etc/profile.d/modules.csh\n</code></pre> <p>So the above <code>make install</code> indeed does not need <code>sudo</code>. Strangely, it still cannot find <code>module</code>, (require reboot?), so simply put <code>source /etc/profile.d/modules.sh</code> into <code>~/.bashrc</code></p>"},{"location":"R/#install-410-from-source","title":"Install 4.1.0 from source","text":"<p>it throws when <code>./configure</code>,</p> <pre><code>configure: error: libcurl &gt;= 7.28.0 library and headers are required with support for https\n</code></pre> <p>try to install <code>libcurl4-openssl-dev</code>, suggested in Installing R on Linux: configure: error: libcurl &gt;= 7.28.0 library and headers are required with support for https.</p> <p>Be careful when installing the package, and to avoid the uninstallation in the next section.</p> <p>2022-08-24 10:35:01</p> <p>Run <code>sudo apt-get install libcurl4-openssl-dev</code>, and monitor the message, no packages are needed to be removed.</p> Installation of RCurl (2023-01-08 18:20:05) <p>First of all, it runs <pre><code>curl-config --libs\ncurl-config --cflags\n</code></pre> to get <code>CURL_LIBS</code> and <code>CURL_CFLAGS</code>. Check the <code>configure.in</code> file in the source of RCurl for more details.</p> <ul> <li> <p>With system\u2019s <code>libcurl.so.4</code>, shipped with system or installed via <code>libcurl4-openssl-dev</code>, it outputs <pre><code>$ curl-config --cflags\n\n$ curl-config --libs\n-lcurl\n</code></pre> where it does not specify the path to the dynamic files <code>.so</code> with <code>-L</code> and to the header file with <code>-I</code>.</p> </li> <li> <p>On the other hand, for R env installed via <code>Conda</code>, it returns, <pre><code>(R4.1.0) $ curl-config --cflags\n-I/media/weiya/PSSD/Programs/anaconda3/envs/R4.1.0/include\n(R4.1.0) $ curl-config --libs\n-L/media/weiya/PSSD/Programs/anaconda3/envs/R4.1.0/lib -lcurl\n</code></pre> where the path are specified. And those path would become <code>rpath</code> if we installed packages, such as <code>RCurl</code> that relied on the dynamic files. <pre><code>$ readelf -d /media/weiya/PSSD/Programs/anaconda3/envs/R4.1.0/lib/R/library/RCurl/libs/RCurl.so \n\nDynamic section at offset 0xb9a0 contains 23 entries:\nTag        Type                         Name/Value\n0x0000000000000001 (NEEDED)             Shared library: [libcurl.so.4]\n0x0000000000000001 (NEEDED)             Shared library: [libR.so]\n0x0000000000000001 (NEEDED)             Shared library: [libc.so.6]\n0x000000000000000f (RPATH)              Library rpath: [/media/weiya/PSSD/Programs/anaconda3/envs/R4.1.0/lib]\n(R4.1.0) $ ldd /media/weiya/PSSD/Programs/anaconda3/envs/R4.1.0/lib/R/library/RCurl/libs/RCurl.so linux-vdso.so.1 (0x00007ffca69ce000)\nlibcurl.so.4 =&gt; /media/weiya/PSSD/Programs/anaconda3/envs/R4.1.0/lib/libcurl.so.4 (0x00007f9e67d77000)\n...\n$ ldd /media/weiya/PSSD/Programs/anaconda3/envs/R4.1.0/lib/R/library/RCurl/libs/RCurl.so \nlinux-vdso.so.1 (0x00007ffd18922000)\nlibcurl.so.4 =&gt; /media/weiya/PSSD/Programs/anaconda3/envs/R4.1.0/lib/libcurl.so.4 (0x00007f6ac6fe4000)\n</code></pre> where regardless of env <code>R4.1.0</code>, <code>libcurl.so.4</code> would always point to the one used in the compilation step. In contrast, the system would depends on the environment since <code>conda</code> would change <code>LD_LIBRARY_PATH</code>, while <code>rpath</code> has a higher priority than <code>LD_LIBRARY_PATH</code></p> </li> </ul> set rpath via MAKEFLAGS (2023-01-08 20:44:08) <p>We can pass <code>MAKEFLAGS</code>, particularly <code>LDFLAGS</code> to set the <code>rpath</code>. <pre><code>$ MAKEFLAGS='LDFLAGS=-Wl,-rpath=/lib/x86_64-linux-gnu/' R CMD INSTALL RCurl_1.98-1.9.tar.gz \n$ readelf -d /opt/R/4.2.1/lib/R/library/RCurl/libs/RCurl.so \n\nDynamic section at offset 0xcd40 contains 27 entries:\nTag        Type                         Name/Value\n0x0000000000000001 (NEEDED)             Shared library: [libcurl.so.4]\n0x0000000000000001 (NEEDED)             Shared library: [libR.so]\n0x0000000000000001 (NEEDED)             Shared library: [libc.so.6]\n0x000000000000001d (RUNPATH)            Library runpath: [/lib/x86_64-linux-gnu/]\n</code></pre> where <code>rpath</code> is automatically changed to <code>runpath</code>. To force <code>rpath</code>, we can pass <code>--disable-new-dtags</code> option, <pre><code>$ MAKEFLAGS='LDFLAGS=-Wl,--disable-new-dtags,-rpath=/lib/x86_64-linux-gnu/' R CMD INSTALL RCurl_1.98-1.9.tar.gz\n$ readelf -d /opt/R/4.2.1/lib/R/library/RCurl/libs/RCurl.so \n\nDynamic section at offset 0xcd40 contains 27 entries:\nTag        Type                         Name/Value\n0x0000000000000001 (NEEDED)             Shared library: [libcurl.so.4]\n0x0000000000000001 (NEEDED)             Shared library: [libR.so]\n0x0000000000000001 (NEEDED)             Shared library: [libc.so.6]\n0x000000000000000f (RPATH)              Library rpath: [/lib/x86_64-linux-gnu/]\n</code></pre></p> <p>On the other hand, <code>rpath</code> can be further changed after compilation via <code>patchelf</code>,</p> <pre><code>/opt/R/4.2.1/lib/R/library/RCurl/libs$ readelf -d RCurl.so \n\nDynamic section at offset 0xcd60 contains 26 entries:\nTag        Type                         Name/Value\n0x0000000000000001 (NEEDED)             Shared library: [libcurl.so.4]\n0x0000000000000001 (NEEDED)             Shared library: [libR.so]\n0x0000000000000001 (NEEDED)             Shared library: [libc.so.6]\n\n/opt/R/4.2.1/lib/R/library/RCurl/libs$ patchelf --force-rpath --set-rpath \"/lib/x86_64-linux-gnu/libcurl.so.4\" RCurl.so\n/opt/R/4.2.1/lib/R/library/RCurl/libs# readelf -d RCurl.so \n\nDynamic section at offset 0x3b000 contains 27 entries:\nTag        Type                         Name/Value\n0x000000000000000f (RPATH)              Library rpath: [/lib/x86_64-linux-gnu/libcurl.so.4]\n0x0000000000000001 (NEEDED)             Shared library: [libcurl.so.4]\n0x0000000000000001 (NEEDED)             Shared library: [libR.so]\n0x0000000000000001 (NEEDED)             Shared library: [libc.so.6]\n</code></pre> <p>See the private  for more details.</p> \u2013no-test-load (2023-01-08 22:10:59) <p>After replacing the default <code>curl-config</code> with <code>mycurl-config</code>, which specifies another path (such as Julia 1.8\u2019s lib path) to <code>libcurl.so.4</code>, we can avoid the conflicts of <code>libcurl.so</code> <pre><code>CURL_CONFIG=mycurl-config R CMD INSTALL RCurl_1.98-1.9.tar.gz </code></pre> the building step seems OK, but it failed on the \u201ctesting if installed package can be loaded from temporary location\u201d step <pre><code>gcc -shared -L/opt/R/4.2.1/lib/R/lib -L/usr/local/lib -o RCurl.so base64.o curl.o curlInit.o curl_base64.o enums.o json.o memoryManagement.o myUTF8.o -L/opt/hostedtoolcache/julia/1.8.4/x64/bin/../lib/julia/ -lcurl -lxml2 -L/opt/R/4.2.1/lib/R/lib -lR\ninstalling to /opt/R/4.2.1/lib/R/library/00LOCK-RCurl/00new/RCurl/libs\n** R\n** data\n** inst\n** byte-compile and prepare package for lazy loading\n** help\n*** installing help indices\n** building package indices\n** testing if installed package can be loaded from temporary location\nError: package or namespace load failed for \u2018RCurl\u2019 in dyn.load(file, DLLpath = DLLpath, ...):\nunable to load shared object '/opt/R/4.2.1/lib/R/library/00LOCK-RCurl/00new/RCurl/libs/RCurl.so':\n/usr/lib/x86_64-linux-gnu/libcurl.so.4: version `CURL_4' not found (required by /opt/R/4.2.1/lib/R/library/00LOCK-RCurl/00new/RCurl/libs/RCurl.so)\nError: loading failed\nExecution halted\nERROR: loading failed\n</code></pre> Have tried to set <code>LD_LIBRARY_PATH</code> and <code>.Renviron</code>, both of which attempt to use Julia\u2019s <code>libcurl.so.4</code>, but failed. Recall that the build step should have succeed, so we just need to skip the test step. It can be done via the option <code>--no-test-load</code>, <pre><code>CURL_CONFIG=mycurl-config R CMD INSTALL --no-test-load RCurl_1.98-1.9.tar.gz\n</code></pre> Alternatively, we can pass them in the R session, <pre><code>install.packages(\"RCurl\", configure.args = c(RCurl = c(\"CURL_CONFIG=/usr/bin/mycurl-config\", \"--no-test-load\")))\n</code></pre> However, here is a trick. <code>--no-test-load</code> actually does not belongs to <code>configure.args</code>. If we just mv <code>CURL_CONFIG</code> to the env field (a recommended way in GitHub Actions),  <pre><code># NOT WORK\n&gt; install.packages(\"RCurl\", configure.args = c(RCurl = \"--no-test-load\"))\nconfigure: error: unrecognized option: `--no-test-load'\nTry `./configure --help' for more information\nERROR: configuration failed for package \u2018RCurl\u2019\n</code></pre> which will stop at the configure step. In contrast, it is an option for the argument <code>INSTALL_opts</code>, so the following will work. <pre><code>install.packages(\"RCurl\", INSTALL_opts = \"--no-test-load\")\n</code></pre> See the private  for more detailed and historical exploration on this feature.</p> MAKEFLAGS <p>Flags that are already set (for example in file etcR_ARCH/Makeconf) can be overridden by the environment variable MAKEFLAGS () Although <code>CURL_LIBS</code> cannot be directly overridden, it can pass via <code>MAKEFLAGS</code></p> <p>But a trick is that space needs to be escape. See also , </p>"},{"location":"R/#install-latest-r36","title":"Install Latest R3.6","text":"<p>Accidentally, I uninstall my R3.6 when installing <code>libcurl4</code>, the apt-log shows that</p> <pre><code>Start-Date: 2021-05-01  10:40:15\nCommandline: apt install libcurl4\nRequested-By: weiya (1000)\nInstall: libcurl4:amd64 (7.58.0-2ubuntu3.13)\nRemove: r-cran-foreign:amd64 (0.8.75-1xenial0), r-cran-mgcv:amd64 (1.8-31-1cran1xenial0), libcurl3:amd64 (7.58.0-2ubuntu2), r-base-html:amd64 (3.6.3-1xenial), r-cran-class:amd64 (7.3-16-1xenial0), r-cran-boot:amd64 (1.3-23-2xenial0), r-cran-cluster:amd64 (2.1.0-2xenial0), r-cran-rpart:amd64 (4.1-15-2xenial0), r-cran-kernsmooth:amd64 (2.23-16-1+1xenial0), r-cran-matrix:amd64 (1.2-18-1xenial0), r-cran-spatial:amd64 (7.3-11-2xenial0), r-base-core:amd64 (3.6.3-1xenial), r-cran-codetools:amd64 (0.2-16-1xenial0), r-base:amd64 (3.6.3-1xenial), r-recommended:amd64 (3.6.3-1xenial), r-cran-nlme:amd64 (3.1.144-1xenial0), r-cran-lattice:amd64 (0.20-41-1cran1xenial0), r-cran-nnet:amd64 (7.3-13-1xenial0), r-cran-mass:amd64 (7.3-51.5-1xenial0), r-cran-survival:amd64 (3.1-11-1cran1xenial0)\nEnd-Date: 2021-05-01  10:40:29\n</code></pre> <p>So I need to reinstall it. Following the instruction on CRAN</p> <ol> <li>add <code>deb https://cloud.r-project.org/bin/linux/ubuntu bionic-cran35/</code> to <code>/etc/apt/sources.list</code>, actually I found a xenial version, which means that I had followed the procedure on Ubuntu 16.04. Currently I am on Ubuntu 18.04, so I use a bionic version.</li> <li>run <code>sudo apt-get update</code>, but it throws an error, </li> </ol> <p>W: GPG error: https://cloud.r-project.org/bin/linux/ubuntu bionic-cran35/ InRelease: The following signatures were invalid: EXPKEYSIG 51716619E084DAB9 Michael Rutter marutter@gmail.com E: The repository \u2018https://cloud.r-project.org/bin/linux/ubuntu bionic-cran35/ InRelease\u2019 is not signed. N: Updating from such a repository can\u2019t be done securely, and is therefore disabled by default. N: See apt-secure(8) manpage for repository creation and user configuration details.</p> <p>The error has been reported in Linux#GPG error, and the solution is </p> <pre><code>sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys 51716619E084DAB9\n</code></pre> <ol> <li>run <code>sudo apt-get install r-base</code>.</li> </ol>"},{"location":"R/#multiple-versions","title":"Multiple Versions","text":""},{"location":"R/#prefix-module-optionally","title":"<code>prefix</code> + <code>module</code> (optionally)","text":"<p>specify <code>--prefix</code> when <code>./configure</code>, e.g. Installing multiple versions of R on Linux \u2013 RStudio Support</p>"},{"location":"R/#conda","title":"Conda","text":"<p>Using R language with Anaconda</p> <ul> <li>\u5355\u72ec\u5b89\u88c5 rstudio <code>conda install -c r rstudio</code> (waste memory!!)</li> <li>\u5171\u7528 Rstudio\uff0c\u4f46\u662f\u5207\u6362\u73af\u5883\u65f6\u627e\u4e0d\u5230 shared library\uff0c\u800c\u539f\u751f R session \u5b8c\u5168\u6ca1\u95ee\u9898\u3002\u76ee\u524d\u89e3\u51b3\u65b9\u6848\uff0c\u547d\u4ee4\u884c\u8c03\u7528 rstudio \u4e4b\u524d\u6dfb\u52a0\u73af\u5883\u53d8\u91cf</li> </ul> <pre><code>conda activate R4.1.0\nexport LD_LIBRARY_PATH=/media/weiya/PSSD/Programs/anaconda3/envs/R4.1.0/lib:$LD_LIBRARY_PATH\nrstudio\n</code></pre> <p>\u8be6\u89c1 Issue #32 use rstudio in env R4.1.0</p>"},{"location":"R/#rstudio","title":"Rstudio","text":""},{"location":"R/#failed-to-create-opengl-context","title":"Failed to create OpenGL context","text":"<p>Info</p> <ul> <li>2022-11-17 23:33:18 -0500: again, just reboot the PC.</li> </ul> <p>Refer to rstudio #27 for the raw records.</p> <p>It throws </p> <pre><code>WebEngineContext used before QtWebEngine::initialize() or OpenGL context creation failed.\nFailed to create OpenGL context for format QSurfaceFormat(version 2.0, options QFlags&lt;QSurfaceFormat::FormatOption&gt;(), depthBufferSize 24, redBufferSize -1, greenBufferSize -1, blueBufferSize -1, alphaBufferSize -1, stencilBufferSize 8, samples 0, swapBehavior QSurfaceFormat::DefaultSwapBehavior, swapInterval 1, colorSpace QSurfaceFormat::DefaultColorSpace, profile  QSurfaceFormat::NoProfile) \nAborted (core dumped)\n</code></pre> <p>when launching without any special actions. Same error after replacing with an older version.</p> <p>Laterly, note that nvidia card does not work, and change to another driver. Then it resumes after rebooting.</p> fcitx \u65f6\u4e0d\u80fd\u5207\u6362\u4e2d\u6587\u8f93\u5165 <p>\u53c2\u8003Rstudio \u4e0d\u80fd\u5207\u6362\u4e2d\u6587\u8f93\u5165\uff08fctix\uff09</p> <ul> <li>Ubuntu 16.04 + Fcitx + RStudio 1.0\u3067\u65e5\u672c\u8a9e\u3092\u5165\u529b\u3059\u308b\u65b9\u6cd5</li> <li>Using RStudio 0.99 with Fctix on Linux</li> </ul> <p>\u66fe\u7ecf\u6309\u7167\u4e0a\u8ff0\u7684\u6307\u5bfc\u80fd\u591f\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u5373\u5c06\u7cfb\u7edf\u7684 qt5 \u7684 <code>libfcitxplatforminputcontextplugin.so</code> \u624b\u52a8\u6dfb\u52a0\u5230 rstudio \u5b89\u88c5\u76ee\u5f55\u4e0b\u7684 plugins \u4e2d\uff0c\u5373</p> <pre><code>sudo ln -s /usr/lib/$(dpkg-architecture -qDEB_BUILD_MULTIARCH)/qt5/plugins/platforminputcontexts/libfcitxplatforminputcontextplugin.so /usr/lib/rstudio/bin/plugins/platforminputcontexts/\n</code></pre> <p>\u4f46\u662f\u540e\u6765\u53c8\u5931\u8d25\u4e86\uff0c\u731c\u6d4b\u539f\u56e0\u53ef\u80fd\u662f qt5 \u7684\u7248\u672c\u4e0d\u518d\u517c\u5bb9\u4e86\u3002\u5728 Rstudio \u9876\u90e8\u7684\u83dc\u5355\u680f\u4e2d\uff0c\u70b9\u51fb Help &gt; About Rstudio \u53ef\u4ee5\u627e\u5230\u5177\u4f53\u7684 qt \u7248\u672c\u4fe1\u606f\uff0c\u6bd4\u5982 RStudio (Version 1.2.5001) \u4f9d\u8d56 QtWebEngine/5.12.1\uff0c\u800c\u7cfb\u7edf\u7684 Qt \u63d2\u4ef6\u7248\u672c\u6ca1\u90a3\u4e48\u9ad8\uff0c\u6240\u4ee5\u4e5f\u80fd\u7406\u89e3 <code>libfcitxplatforminputcontextplugin.so</code> \u4e3a\u4ec0\u4e48\u4e0d\u518d\u6709\u7528\u4e86\u3002\u4e00\u79cd\u89e3\u51b3\u65b9\u6848\u4fbf\u662f\u624b\u52a8\u91cd\u65b0\u7f16\u8bd1\u4e0e Rstudio \u4e2d\u5339\u914d\u7684 Qt \u63d2\u4ef6\u7684\u7248\u672c\uff0c\u4f46\u662f\u4f3c\u4e4e\u6bd4\u8f83\u7e41\u7410\uff0c\u800c\u4e14\u4e5f\u4e0d\u80fd\u4e00\u52b3\u6c38\u9038\uff0c\u5982\u679c rstudio \u66f4\u65b0\uff0c\u8fd8\u662f\u4f1a\u5931\u6548\u3002</p> <p>\u7d22\u6027\u4e0d\u6298\u817e\u4e86\u3002\u5982\u679c\u771f\u7684\u9700\u8981\u4e2d\u6587\uff0c\u5c31\u7528\u5176\u4ed6\u7f16\u8f91\u5668\u5427\u3002\u671f\u5f85 rstudio \u5b98\u65b9\u65e9\u65e5\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u2026\u2026</p> <p>Info</p> <p>\u4f7f\u7528 ibus + rime \u8f93\u5165\u6cd5\u540e\uff0c\u5c31\u6ca1\u518d\u56de\u53bb\u7528 fcitx</p> \u66f4\u65b0 rstudio-1.0.44 \u540e\u95ea\u9000 (outdated) <ul> <li><code>gdebi</code> \u4e0d\u518d\u5fc5\u987b\uff0c(2022-11-17)\u66f4\u65b0\u81f3 rstudio-2022.07.2 \u76f4\u63a5\u91c7\u7528 <code>dpkg -i</code> \u5373\u53ef\u3002</li> </ul> <p>\u5b89\u88c5 rstudio \u5e94\u8be5\u91c7\u7528</p> <pre><code>sudo apt-get install gdebi-core\nwget https://download1.rstudio.org/rstudio-1.0.44-amd64.deb\nsudo gdebi rstudio-1.0.44-amd64.deb\n</code></pre> <p>\u800c\u975e</p> <pre><code>sudo dpkg -i\n</code></pre> <p>\u53e6\u5916\uff0c\u5982\u679c\u4e0d\u884c\uff0c\u5220\u9664\u540e\u518d\u88c5</p> <pre><code>sudo apt-get remove rstudio\n</code></pre> plot.new() : figure margins too large <p>Rstudio \u4e2d\u5bf9\u4e8e\u592a\u5927\u7684\u56fe\u7247\u6709\u53ef\u80fd\u62a5\u9519\uff0c\u6bd4\u5982\u5f53\u6211\u8bd5\u56fe\u4ee5 <code>par(mfrow=c(4,1))</code> \u753b\u56db\u4e2a <code>matplot</code>\uff0c\u4e8e\u662f\u62a5\u9519\u3002\u8fd9\u65f6\u5019\uff0c\u53ef\u4ee5\u76f4\u63a5\u5728 R session \u91cc\u9762\u7ed8\u5236\u3002\u6216\u8005\uff0c\u5c1d\u8bd5\u6e05\u7a7a\u5386\u53f2\u56fe\u8c61\u3002</p> \u6e05\u7a7a\u5386\u53f2\u56fe\u8c61 <p>Error in plot.new() : figure margins too large in R</p> <p></p>"},{"location":"R/#sysnframe","title":"<code>sys.nframe()</code>","text":"<p>Here is an equivalent way for pythonic <code>if __name__ == \"__main__\"</code></p> <pre><code># runs only when script is run by itself\nif (sys.nframe() == 0){\n# ... do main stuff\n}\n</code></pre> <p>refer to </p> <p>Example</p> <p>My Repos</p>"},{"location":"R/#sort-rank-order","title":"<code>sort(), rank(), order()</code>","text":"<ul> <li><code>sort(x)</code>: sort <code>x</code> increasingly (by default)</li> <li><code>rank(x)</code>: the ranks of each element</li> <li><code>order(x)</code>: the permutation for <code>sort(x)</code></li> </ul> <pre><code>&gt; x = c(97, 93, 85, 74, 32, 100, 99, 67)\n&gt; sort(x)\n[1]  32  67  74  85  93  97  99 100\n&gt; order(x)\n[1] 5 8 4 3 2 1 7 6\n&gt; rank(x)\n[1] 6 5 4 3 1 8 7 2\n</code></pre> <p>and they satisfy (assuming no ties and in increasing order)</p>  \\begin{align*} \\mathrm{x[order(x)]} &amp; = \\mathrm{sort(x)}\\\\ \\mathrm{rank(x)} &amp;= \\mathrm{order(order(x))}\\\\ \\mathrm{sort(x)[rank(x)]} &amp;= \\mathrm{x} \\end{align*}  <pre><code>&gt; x[order(x)]\n[1]  32  67  74  85  93  97  99 100\n&gt; order(order(x))\n[1] 6 5 4 3 1 8 7 2\n</code></pre> <p>In particular, if <code>x = 1:n</code>, then <code>x = order(x) = sort(x)</code>, and hence</p>  \\mathrm{x[x] = x}   \\mathrm{x[x] = x}  <p>Python uses <code>np.argsort</code> to return the index of the sorted array, such as</p> <pre><code>&gt;&gt;&gt; a = np.array([97, 93, 85, 74, 32, 100, 99, 67])\n&gt;&gt;&gt; sorted(a)\n[32, 67, 74, 85, 93, 97, 99, 100]\n&gt;&gt;&gt; idx = np.argsort(a)\n[32, 67, 74, 85, 93, 97, 99, 100]\n&gt;&gt;&gt; a[idx]\narray([ 32,  67,  74,  85,  93,  97,  99, 100])\n</code></pre> <p>but keep in mind that the index starts from 0 instead of 1. Here is another way in Python | Returning index of a sorted list (TODO).</p> <p>In julia, we use <code>sort</code> and <code>sortperm</code>.</p>"},{"location":"R/#rowcolumn-of-string-array-cannot-be-changed-to-numeric","title":"Row/Column of String Array cannot be changed to numeric","text":"<p>suppose I have a string array,</p> <pre><code>&gt; a = array(dim=c(2,2))\n&gt; a\n[,1] [,2]\n[1,]   NA   NA\n[2,]   NA   NA\n&gt; a[1,1]=\"w\"\n&gt; a[1, 2]= \"1\"\n&gt; a[2,1]=\"x\"\n&gt; a[2,2]=\"2\"\n&gt; a\n[,1] [,2]\n[1,] \"w\"  \"1\" [2,] \"x\"  \"2\" &gt; a[,2] = as.numeric(a[,2])\n&gt; a\n[,1] [,2]\n[1,] \"w\"  \"1\" [2,] \"x\"  \"2\" &gt; as.numeric(a[,2])\n[1] 1 2\n</code></pre> <p>on the other hand, suppose we have a numeric array, set one row to be string, then all elements would become string automatically.</p> <pre><code>&gt; b = array(dim=c(2,2))\n&gt; b\n[,1] [,2]\n[1,]   NA   NA\n[2,]   NA   NA\n&gt; b[1,]=1\n&gt; b[2,]=1\n&gt; b\n[,1] [,2]\n[1,]    1    1\n[2,]    1    1\n&gt; b[1,] = \"1\"\n&gt; b\n[,1] [,2]\n[1,] \"1\"  \"1\" [2,] \"1\"  \"1\" </code></pre>"},{"location":"R/#run-from-command-line","title":"Run from Command Line","text":"<ul> <li>run <code>R -q -e \"1+1\"</code> in the command line</li> <li>run <code>Rscript test.R</code> in the command line</li> <li>put <code>#!/usr/bin/env Rscript</code> on the first line of <code>test.R</code> and allow it executable via <code>chmod +x test.R</code></li> </ul> <p>To pass arguments, we can use</p> <pre><code>args = commandArgs(trailingOnly=TRUE)\n</code></pre> <p>to extract the arguments.</p> <p>Test with the following scripts</p> test1.Rtest2.R <pre><code>args = commandArgs(trailingOnly=TRUE)\nprint(length(args))\ncat(args)\n</code></pre> <pre><code>args = commandArgs(trailingOnly=FALSE)\nprint(length(args))\ncat(args)\n</code></pre> <p>the results are</p> <pre><code>$ Rscript test1.R xxx yyy\n[1] 2\nxxx yyy\n$ Rscript test2.R xxx yyy\n[1] 7\n/usr/lib/R/bin/exec/R --slave --no-restore --file=test2.R --args xxx yyy\n</code></pre> <p>which shows that <code>trailingOnly=TRUE</code> is necessary and it only takes the arguments after <code>--args</code>.</p> <p>Refer to Passing arguments to an R script from command lines | R-bloggers</p> <p>See also: Running R in batch mode on Linux</p>"},{"location":"R/#round-numbers","title":"Round numbers","text":"<p>I want to approximate a numerical value with 3 significant digits, but the trailing zeros are always be dropped, then I tried several methods.</p> <p>First of all, define</p> <pre><code>p &lt;- function(x) { cat(deparse(substitute(x)), \"=\", x, \"\\n\") }\n</code></pre> <p>for convenient and clear comparisons, which takes the advantage of R\u2019s Lazy Evaluation.</p> <pre><code>x = 0.04898246 # want 0.0490\np(signif(x, digits=3))\np(prettyNum(x))\np(prettyNum(x, digits=3))\np(formatC(x, drop0trailing = F))\np(formatC(x, drop0trailing = T))\np(format(signif(x, digits=3), nsmall = 3))\np(format(signif(x, digits=3), nsmall = 4))\np(format(signif(x, digits=3), nsmall = 3 + floor(-log10(x))))\n# signif(x, digits = 3) = 0.049\n# prettyNum(x) = 0.04898246\n# prettyNum(x, digits = 3) = 0.049\n# formatC(x, drop0trailing = F) = 0.04898\n# formatC(x, drop0trailing = T) = 0.04898\n# format(signif(x, digits = 3), nsmall = 3) = 0.049\n# format(signif(x, digits = 3), nsmall = 4) = 0.0490\n# format(signif(x, digits = 3), nsmall = 3 + floor(-log10(x))) = 0.0490\n</code></pre> <p>where <code>floor(-log10(x))</code> returns the number of zeros between the decimal symbol <code>.</code> and the first nonzero value (assume <code>x &lt; 1</code>).</p> <p>With <code>scientific = TRUE</code> option, <code>nsmall</code> would fail,</p> <pre><code>p(format(signif(x, digits=3), scientific = T, nsmall = 3 + floor(-log10(x))))\n# format(signif(x, digits = 3), scientific = T, nsmall = 3 + floor(-log10(x))) = 4.9e-02\n</code></pre> <p>as the manual <code>?format</code> said,</p> <p>the minimum number of digits to the right of the decimal point in formatting real/complex numbers in non-scientific formats. Allowed values are 0 &lt;= nsmall &lt;= 20.</p> <p>For a larger value, such as <code>37289.75</code>, the scientific form might be necessary,</p> <pre><code>y = 37289.75\np(format(signif(y, digits=3), nsmall= max(0, 3 + floor(-log10(y))) ) )\np(format(signif(y, digits=3), scientific = T))\n# format(signif(y, digits = 3), nsmall = max(0, 3 + floor(-log10(y)))) = 37300\n# format(signif(y, digits = 3), scientific = T) = 3.73e+04\n</code></pre> <p>Finally, I found that <code>sprintf(\"%.2e\", x)</code> would be helpful, and actually the approximation has been consider, instead of just truncating.</p> <pre><code>p(sprintf(\"%.2e, %.1e\", x, y))\n#sprintf(\"%.2e, %.1e\", x, y) = 4.90e-02, 3.7e+04\n</code></pre>"},{"location":"R/#interpreting-residual-and-null-deviance-in-glm-r","title":"Interpreting Residual and Null Deviance in GLM R","text":"<p>Refer to https://stats.stackexchange.com/questions/108995/interpreting-residual-and-null-deviance-in-glm-r</p>"},{"location":"R/#rsqlite","title":"RSQLite","text":"<p>\u53c2\u8003\u535a\u6587https://statr.me/2011/10/large-regression/</p> <p>\u4ee3\u7801\u89c1sqlite_ex.R</p>"},{"location":"R/#rcpp","title":"Rcpp","text":"<ul> <li>Rcpp-quickref</li> </ul> <p>Info</p> <p>Another repo for learning Rcpp: RcppNotes</p> <p>See also: - Reproducing R rep with the times argument in C++ and Rcpp</p> (Probably Outdated) cannot found -lRcpp <p></p> <p>\u624b\u52a8\u8bbe\u7f6e</p> <pre><code>cd /usr/local/lib\n##cd /usr/lib\nln -s /home/weiya/R/x86_64-pc-linux-gnu-library/library/Rcpp/libs/Rcpp.so libRcpp.so\n</code></pre> <p>See also </p> function \u2018dataptr\u2019 not provided by package \u2018Rcpp\u2019 <p>\u539f\u56e0\u662f\u56e0\u4e3a\u6ca1\u6709\u5728</p> <p><pre><code>dyn.load()\n</code></pre> \u524d\u9762\u6dfb\u52a0</p> <pre><code>library(Rcpp)\n## \u6216require(Rcpp)\n</code></pre>"},{"location":"R/#rmarkdown","title":"Rmarkdown","text":""},{"location":"R/#knitkable","title":"<code>knit::kable</code>","text":"<p>pretty table, which can auto newline long description in a cell. See also </p>"},{"location":"R/#chinese-fonts-in-pdf","title":"Chinese Fonts in PDF","text":"<pre><code>---\ntitle: \"test\"\nauthor: \"weiya\"\noutput:\npdf_document:\nlatex_engine: xelatex\nincludes:\nin_header: header_zh.tex\n---\n</code></pre> <p>where <code>header_zh.tex</code> is</p> <pre><code>\\usepackage{xeCJK}\n\\setCJKmainfont{\u534e\u6587\u4e2d\u5b8b}\n\\setmainfont{Times New Roman}\n\\usepackage{setspace}\n\\doublespacing\n\\setlength{\\parindent}{2em}\n\\usepackage{bm}\n\\usepackage{float}\n</code></pre>"},{"location":"R/#not-show-captions-for-two-consecutive-figures","title":"not show captions for two consecutive figures","text":"<p>add at least two spacing newline.</p> <p>Some figure captions from RMarkdown not showing</p>"},{"location":"R/#rocrprediction","title":"ROCR\u5305\u4e2dprediction\u51fd\u6570","text":"<p><code>prediction</code>\u5b9a\u4e49\u5982\u4e0b</p> <pre><code>prediction(predictions, labels, label.ordering = NULL)\n</code></pre> <p>\u5728\u7ed8\u5236ROC\u66f2\u7ebf\u65f6\uff0c\u5fc5\u8981\u65f6\u9700\u8981\u6307\u5b9a<code>label.ordering</code>\u4e2dnegative\u548cpositive\uff0c\u5426\u5219\u7ed3\u679c\u4f1a\u5b8c\u5168\u76f8\u53cd\u3002\u4e3e\u4e2a\u4f8b\u5b50</p> <pre><code>## generate some data with a non-linar class boundary\nset.seed(123)\nx = matrix(rnorm(200*2), ncol = 2)\nx[1:100, ] = x[1:100, ] + 2\nx[101:150, ] = x[101:150, ] - 2\ny = c(rep(1, 150), rep(2, 50))\ndat = data.frame(x = x, y = as.factor(y))\nplot(x, col = y)\n\n## randomly split into training and testing groups\ntrain = sample(200, 100)\n\n## training data using radial kernel\nsvmfit = svm(y~., data = dat[train, ], kernel = \"radial\", cost = 1)\nplot(svmfit, dat[train, ])\n\n## cross-validation\nset.seed(123)\ntune.out = tune(svm, y~., data = dat[train, ], kernel = \"radial\",\nranges = list(cost = c(0.1, 1, 10, 100, 1000),\ngamma = c(0.5, 1, 2, 3, 4)))\nsummary(tune.out)\n\n## prediction\ntable(true = dat[-train, \"y\"], pred = predict(tune.out$best.model, newdata = dat[-train, ]))\n\n## ROC curves\nlibrary(ROCR)\nrocplot = function ( pred , truth , ...) {\npredob = prediction ( pred, truth , label.ordering = c(\"2\", \"1\"))\nperf = performance ( predob , \"tpr\" , \"fpr\")\nplot ( perf,...)\n}\nsvmfit.opt = svm(y~., data = dat[train, ], kernel = \"radial\",\ngamma = 3, cost = 10, decision.values = T)\nfitted = attributes(predict(svmfit.opt, dat[train, ], decision.values = T))$decision.values\n\nrocplot ( fitted , dat [ train ,\"y\"] , main =\"Training Data\")\n</code></pre> <p>\u5bf9\u4e8e\u4e0a\u8ff0\u4ee3\u7801\uff0c\u5982\u679c\u4e0d\u6307\u5b9a<code>label.ordering = c(\"2\", \"1\")</code>\uff0c\u5219\u5f97\u5230\u7684ROC\u66f2\u7ebf\u5982\u4e0b\u56fe</p> <p></p> <p>\u539f\u56e0\u662f\u56e0\u4e3a<code>fitted</code>\u4e0e<code>y</code>\u5927\u5c0f\u5173\u7cfb\u76f8\u53cd\uff0c\u5373\u524d\u8005\u5927\u65f6\u540e\u8005\u5c0f\uff0c\u800c\u524d\u8005\u5c0f\u65f6\u540e\u8005\u5927\u3002</p> <p></p>"},{"location":"R/#proxy","title":"proxy \u4ee3\u7406","text":"<p>\u53c2\u8003</p> <ol> <li>Proxy setting for R</li> <li>How to use Tor socks5 in R getURL</li> </ol>"},{"location":"R/#lm-i","title":"<code>lm()</code> \u4e2d\u6709\u65e0 <code>I()</code> \u7684\u5dee\u5f02","text":"<p>\u6ce8\u610f</p> <pre><code>lm(Y ~ X + X^2)\n</code></pre> <p>\u548c</p> <pre><code>lm(Y ~ X + I(X^2))\n</code></pre> <p>\u662f\u4e0d\u4e00\u6837\u7684\u3002\u82e5\u8981\u8868\u793a\u591a\u9879\u5f0f\u56de\u5f52\uff0c\u5219\u5e94\u8be5\u7528 <code>I(X^2)</code>\uff0c\u800c\u524d\u8005\u7b49\u4ef7\u4e8e <code>lm(Y ~ X)</code>\u3002\u8be6\u89c1 <code>?formula</code>, \u5176\u4e2d\u4e3e\u4e86\u4e00\u4e2a\u4f8b\u5b50\uff0c<code>(a+b+c)^2 - a:b</code> \u7b49\u4ef7\u4e8e <code>a + b + c + a:c + b:c</code>\uff0c\u6ce8\u610f\u4e8c\u9636\u9879\u53ea\u5b58\u5728\u4e8e\u4ea4\u53c9\u9879\u4e2d\u3002</p>"},{"location":"R/#custom-print","title":"custom print","text":"<pre><code>class(obj) = \"example\"\nprint.example &lt;- function(x)\n{\n\n}\n</code></pre> <p>refer to Example Needed: Change the default print method of an object</p>"},{"location":"R/#write-lines-to-file","title":"write lines to file","text":"<pre><code>fileConn&lt;-file(\"output.txt\")\nwriteLines(c(\"Hello\",\"World\"), fileConn)\nclose(fileConn)\n</code></pre> <p>refer to Write lines of text to a file in R</p>"},{"location":"R/#r","title":"R \u7b26\u53f7\u8fd0\u7b97","text":"<p>\u53c2\u8003 R \u8bed\u8a00\u505a\u7b26\u53f7\u8ba1\u7b97\u3002</p> <pre><code>NormDensity &lt;- expression(1 / sqrt(2 * pi) * exp(-x^2 / 2))\nD(NormDensity, \"x\")\nDD &lt;- function(expr, name, order = 1) {\nif (order &lt; 1)\nstop(\"'order' must be &gt;= 1\")\nif (order == 1)\nD(expr, name) else DD(D(expr, name), name, order - 1)\n}\nDD(NormDensity, \"x\", 3)\n\nDFun &lt;- deriv(NormDensity, \"x\", function.arg = TRUE)\nDFun(1)\n</code></pre>"},{"location":"R/#error-in-install-grbase","title":"error in install <code>gRbase</code>","text":"<p>environment: Ubuntu 16.04 (gcc 5.4.0)</p> <pre><code>g++: error: unrecognized comma line option \u2018-fno-plt\u2019\n</code></pre> <p>the reason should be that the current gcc is too old.</p> <p>In conda env <code>R</code>:</p> <ol> <li>install latest gcc v7.3.0, but it still does not work</li> <li><code>Sys.getenv()</code> indeed switch to the latest gcc</li> <li>remove <code>~/.R/Makevars</code>, which would force the gcc to be the gcc declared in that file.</li> <li>then it works well.</li> </ol> <p>refer to</p> <p>R Packages Fail to Compile with gcc</p> <p>Note that some packages cannot be installed via CRAN, and you can check bioconductor.</p> <pre><code>if (!requireNamespace(\"BiocManager\", quietly = TRUE))\n    install.packages(\"BiocManager\")\n\nBiocManager::install(\"graph\")\n</code></pre> protection stack overflow <p>use</p> <pre><code>R --max-ppsize 500000\n</code></pre> <p>or for rstudio</p> <pre><code>rstudio --max-ppsize 500000\n</code></pre> <p>refer to How to solve \u2018protection stack overflow\u2019 issue in R Studio</p> failed to create lock directory <p>In bash,</p> <pre><code>R CMD INSTALL --no-lock &lt;pkg&gt;\n</code></pre> <p>or in R session</p> <pre><code>install.packages(\"Rcpp\", dependencies=TRUE, INSTALL_opts = c('--no-lock'))\n</code></pre> <p>refer to R install.packages returns \u201cfailed to create lock directory\u201d</p>"},{"location":"R/#nonzero-in-dgcmatrix","title":"nonzero in <code>dgCMatrix</code>","text":"<p>refer to R package Matrix: get number of non-zero entries per rows / columns of a sparse matrix</p>"},{"location":"R/#s3-method","title":"S3 method","text":"<p>\u521d\u4f53\u9a8c\uff0cESL-CN/code/boosting/s3ex.R</p> <pre><code>j = list(name = \"Joe\", salary = 5500, union = T)\nclass(j) = \"employee\"\n\nprint.employee &lt;- function(wrkr){\ncat(wrkr$name, \"\\n\")\ncat(\"salary\", wrkr$salary, \"\\n\")\ncat(\"union member\", wrkr$union, \"\\n\")\n}\nsummary.employee &lt;- function(wrkr){\ncat(wrkr$name, \"\\n\")\ncat(\"salary\", wrkr$salary, \"\\n\")\ncat(\"union member\", wrkr$union, \"\\n\")\n}\n</code></pre> <p>\u4ee5\u53ca\u4e00\u4e2a\u76f8\u5173\u7684\u95ee\u9898 How to override default S3 function in R?</p>"},{"location":"R/#parallel-computing","title":"Parallel Computing","text":""},{"location":"R/#related-packages","title":"related packages","text":"<ul> <li><code>parallel</code>: <code>makeCluster</code> and <code>stopCluster</code></li> <li><code>doParallel</code>: <code>registerDoParallel</code></li> <li><code>foreach</code>: <code>%dopar%</code></li> </ul>"},{"location":"R/#example","title":"example","text":"<p>adapt from my project</p> <pre><code>cl &lt;- makeCluster(ncl)\nregisterDoParallel(cl)\n\n\nres = foreach(j=1:Nnset, .combine = 'c', .export = c('calc_lda_BIC'), .packages = 'nnet') %dopar%\n{\njj = not_set[j];\nnew_set   = sort(c(jj, cur_set));\nnew_score = calc_lda_BIC(xx, yy, new_set, D, K, debug, gam=gam);\nnew_score\n}\nstopCluster(cl)\n</code></pre>"},{"location":"R/#references","title":"references","text":"<ul> <li>Using the <code>foreach</code> package</li> </ul>"},{"location":"R/#using-r-in-jupyterlab","title":"using R in JupyterLab","text":"<pre><code>install.packages('IRkernel')\n#IRkernel::installspec()\nIRkernel::installspec(name=\"3.6.0\", displayname = \"R 3.6.0\")\n</code></pre> <p>refer to IRkernel</p> <p>and try to use jupyterlab, which seems much powerful than jupyter.</p> <p>But note that <code>-X</code> option is needed before creating a tmux session for running jupyter, otherwise the kernel keeps dead in the browser and check the monitor message from jupyter, which throws,</p> <pre><code>Error in .External2(C_X11, paste0(\"png::\", filename), g$width, g$height,  :\n  unable to start device PNG\nCalls: &lt;Anonymous&gt; ... evaluate -&gt; dev.new -&gt; do.call -&gt; &lt;Anonymous&gt; -&gt; ok_device\nIn addition: Warning message:\nIn ok_device(filename, ...) : unable to open connection to X11 display ''\nExecution halted\n</code></pre> <p>although I am just trying to calculate 1+1, nothing related to X11.</p> <p>The error would appear again if the <code>-X</code> ssh session has been stopped. Then I found such issue has been reported in https://github.com/IRkernel/IRkernel/issues/388, and there might be solution by https://github.com/IRkernel/IRkernel/issues/388#issuecomment-237080809, but the working R version is built from source by myself, and <code>Cairo</code> is not supported. When I am trying to install the package, it throws that</p> <pre><code>configure: error: Cannot find cairo.h! Please install cairo (http://www.cairographics.org/) and/or set CAIRO_CFLAGS/LIBS correspondingly.\nERROR: configuration failed for package \u2018Cairo\u2019\n</code></pre> <p>Even I retried after specifying</p> <pre><code>export CAIRO_LIBS=/home/project09/miniconda3/envs/r3.6.3/lib\nexport CAIRO_CFLAGS=/home/project09/miniconda3/envs/r3.6.3/include\n</code></pre> <p>by linking it to other R version with Cairo support, similar as in https://stat.ethz.ch/pipermail/r-help/2014-April/374096.html, but it does not work.</p> <p>Then I change to a different R version with cairo support, and it can work without <code>-X</code> option. And the setting in <code>.Rprofile</code> can also been removed (or actually the default is exactly the same).</p> <p>Try to install the shortcuts as recommended, but it throws,</p> <pre><code>$ jupyter labextension install @techrah/text-shortcuts\nAn error occured.\nValueError: Please install Node.js and npm before continuing installation. You may be able to install Node.js from your package manager, from conda, or directly from the Node.js website (https://nodejs.org).\nSee the log file for details:  /tmp/jupyterlab-debug-7mmu8jy1.log\n</code></pre> <p>then</p> <pre><code>conda install -c conda-forge nodejs\n</code></pre> <p>as suggested in Extensions</p> <p>However the default version is outdated.</p> <pre><code>libgcc-7.2.0         | 304 KB    | ############################################################################################################################################# | 100%\nnodejs-6.13.1        | 11.9 MB   | ############################################################################################################################################# | 100%\nPreparing transaction: done\nVerifying transaction: done\nExecuting transaction: done\n(base) [project09@stapc390 ~]$ jupyter labextension install @techrah/text-shortcuts\nAn error occured.\nValueError: Please install nodejs &gt;=10.0.0 before continuing. nodejs may be installed using conda or directly from the nodejs website.\nSee the log file for details:  /tmp/jupyterlab-debug-lhf6bjwm.log\n</code></pre> <p>The solution is quite easy, just use the default conda channel,</p> <pre><code>conda install nodejs\n</code></pre> <p>which will install <code>nodejs-10.13.0</code>.</p>"},{"location":"R/#reload-data","title":"reload data","text":"<pre><code>&gt; mtcars$transmission = factor(mtcars$am, levels = c(0, 1), labels = c(\"Automatic\", \"Manual\"))\n&gt; str(mtcars)\n'data.frame':   32 obs. of  12 variables:\n...\n$ am          : num  1 1 1 0 0 0 0 0 0 0 ...\n$ gear        : num  4 4 4 3 3 3 3 4 4 4 ...\n$ carb        : num  4 4 1 1 2 1 4 2 2 4 ...\n$ transmission: Factor w/ 2 levels \"Automatic\",\"Manual\": 2 2 2 1 1 1 1 1 1 1 ...\n&gt; data(\"mtcars\")\n&gt; str(mtcars)\n'data.frame':   32 obs. of  11 variables:\n...\n$ am  : num  1 1 1 0 0 0 0 0 0 0 ...\n$ gear: num  4 4 4 3 3 3 3 4 4 4 ...\n$ carb: num  4 4 1 1 2 1 4 2 2 4 ...\n</code></pre>"},{"location":"R/#scale-or-not","title":"scale or not","text":"<p>\u4e0b\u9762\u4e24\u4e2a\u7ed3\u679c\u662f\u4e00\u6837\u7684\u3002</p> <pre><code>m = matrix(rnorm(4*6, 2), ncol = 4)\ncov(m)\nsm = scale(m, scale = FALSE) # only center, no scale.\nt(sm) %*% sm/ (6-1)\n</code></pre>"},{"location":"R/#check-memory-usage","title":"Check Memory Usage","text":"<pre><code>memuse = function () {\nstrtoi(system(paste(\"ps -p\", Sys.getpid(), \"-o rss=\"), intern = T)) / 1024\n}\n</code></pre>"},{"location":"R/#stats-functions","title":"Stats Functions","text":"<ul> <li><code>stats::ecdf</code>: empirical cumulative distribution function</li> </ul>"},{"location":"R/#update-library-path","title":"Update Library Path","text":"<p>Info</p> <p>Post: 2022-08-30 12:00:39 +0800</p> <p>The disk is nearly occupied, and I found that</p> <pre><code>$ du -sh *\n2.6G    R\n</code></pre> <p>which stores the installed packages for R3.6. I want to move it to <code>~/Programs/R</code>, which is on a portable SSD, so I need to update <code>.libPaths()</code>.</p> <p>The personal path is defined in <code>/usr/lib/R/etc/Renviron</code></p> <pre><code>R_LIBS_USER=${R_LIBS_USER-'~/R/x86_64-pc-linux-gnu-library/3.6'}\n</code></pre> <p>Replace it with</p> <pre><code>R_LIBS_USER=${R_LIBS_USER-'~/Programs/R/x86_64-pc-linux-gnu-library/3.6'}\n</code></pre> <p>Tip</p> <p>Start from R4.0.0, the path string can be constructed via <code>r(...)</code> without escaping <code>/</code>.</p> <pre><code>&gt; r\"(~/R/x86_64-pc-linux-gnu-library/3.6)\"\n[1] \"~/R/x86_64-pc-linux-gnu-library/3.6\"\n</code></pre> <p>See </p>"},{"location":"R/#misc-links","title":"Misc Links","text":"<ul> <li>semi-transparency is not supported on this device</li> <li>Releasing a package</li> <li>Presentations with Slidy</li> <li>Estimation of the expected prediction error</li> <li>\u534f\u65b9\u5dee\u77e9\u9635\u7684\u51e0\u4f55\u89e3\u91ca</li> </ul>"},{"location":"R/factor/","title":"\u4e00\u9053\u4e0e factor \u6709\u5173\u7684\u95ee\u9898","text":"<p>W \u95ee\u4e86\u4e2a\u95ee\u9898\uff0c</p> <p>\u95ee\u9898\uff1a\u5bf9\u4e8e\u4e00\u4e2a4\u7ef4\u5411\u91cfA=(a1,a2,a3,a4)\uff0c\u6211\u60f3\u8981\u5c06\u5176\u8f6c\u5316\u4e3a\u53e6\u4e00\u4e2a4\u7ef4\u5411\u91cfB=(b1,b2,b3,b4)\uff0cb1=1\uff0c\u7136\u540e\u5bf9\u4e8eb_i\uff0c\u5982\u679ca_i\u5728A\u7684\u524di-1\u4e2a\u5143\u7d20\u91cc\u6ca1\u51fa\u73b0\u8fc7\uff0c\u90a3\u4e48b_i=max(b[1:(i-1)])+1\uff0c\u5426\u5219b_i=\u51fa\u73b0\u8fc7\u7684\u90a3\u4e2a\u5143\u7d20a_k\u5bf9\u5e94\u7684b_k\u3002 \u4f8b\u5b50\uff1a(23,12,23,13) \u2192 (1,2,1,3), (20,20,20,20)\u2192(1,1,1,1)</p> <p>\u56e0\u4e3a\u903b\u8f91\u633a\u6e05\u6670\u7684\uff0c\u6240\u4ee5\u7b2c\u4e00\u611f\u89c9\u4fbf\u662f\u81ea\u5df1\u5199\u51fd\u6570\uff0c\u4e8e\u662f\u968f\u624b\u5199\u4e86\u4e2a Julia \u7248\u672c\u7684\uff0c</p> <pre><code>function f(A)\nvisited = Dict{Any, Int}()\nn = length(A)\nB = zeros(Int, n)\ncount = 0\nfor i = 1:n\nif get(visited, A[i], 0) &gt; 0 # if A[i] has been visited, return the index, otherwise return 0\nB[i] = visited[A[i]]\nelse\ncount += 1\nB[i] = count\nvisited[A[i]] = B[i]\nend\nend\nreturn B\nend\n</code></pre> <p>\u5176\u4e2d <code>Dict</code> \u4e3b\u8981\u662f\u4e3a\u4e86\u7f29\u5c0f\u641c\u7d22\u7a7a\u95f4\u3002\u4e0d\u8fc7 W \u6307\u51fa\u5728 R \u4e2d\u81ea\u5df1\u5199\u51fd\u6570\u633a\u8d39\u65f6\u7684\uff0c\u7136\u540e\u4ed6\u81ea\u5df1\u60f3\u51fa\u4e86\u4e2a\u5f88\u4f18\u96c5\u7684\u89e3\u6cd5</p> <pre><code>ff &lt;- function(A) { as.numeric(factor(A,levels = unique(A))) }\n</code></pre> <p>\u56e0\u4e3a\u81ea\u5df1\u60f3\u590d\u4e60\u4e0b Rcpp\uff0c\u6240\u4ee5\u5c06\u4e0a\u8ff0 Julia \u4ee3\u7801\u6539\u5199\u6210 Rcpp\uff0c</p> <pre><code>#include &lt;Rcpp.h&gt;\n#include &lt;map&gt;\nusing namespace Rcpp;\n\n// [[Rcpp::export]]\nIntegerVector f(NumericVector A) {\nstd::map&lt;float, int&gt; visited;\nint count = 0;\nint n = A.size();\nIntegerVector B(n);\nfor(int i = 0; i &lt; n; i++) {\nif (visited.find(A[i]) == visited.end()) {\ncount += 1;\nB[i] = count;\nvisited[A[i]] = B[i];\n} else {\nB[i] = visited[A[i]];\n}\n}\nreturn B;\n}\n\n/*** R\nf(c(20, 20, 20, 20))\n*/\n</code></pre> <p>\u7136\u540e\u4e0e W \u7684\u65b9\u6cd5\u8fdb\u884c\u6bd4\u8f83\uff0c\u90e8\u5206\u6d4b\u8bd5\u7ed3\u679c\u5982\u4e0b\uff0c</p> <p></p> <p>\u53ef\u89c1 Rcpp \u7248\u672c <code>f</code> \u7565\u4f18\u4e8e W \u7684\u65b9\u6cd5 <code>ff</code>\u3002\u53e6\u5916\uff0c\u4e5f\u5c06\u5176\u4e0e Julia \u7248\u672c\u8fdb\u884c\u6bd4\u8f83\uff0c</p> <p></p> <p>\u6709\u70b9\u60ca\u8bb6\uff0c\u901f\u5ea6\u7adf\u7136\u5feb\u8fd9\u4e48\u591a\uff01</p>"},{"location":"R/install-notes-for-rmysql/","title":"\u6e90\u7801\u5b89\u88c5 RMySQL \u5168\u7eaa\u5f55","text":""},{"location":"R/install-notes-for-rmysql/#_1","title":"\u670d\u52a1\u5668\u73af\u5883","text":"<p>centos 6.5 64\u4f4d </p> <p>\u5565\u90fd\u6ca1\u6709\uff0c\u8fd8\u4e0d\u80fd\u8bbf\u95ee\u5916\u7f51</p>"},{"location":"R/install-notes-for-rmysql/#_2","title":"\u7b2c\u4e00\u6b21\u5c1d\u8bd5","text":"<p>\u5c06 RMySQL \u6e90\u6587\u4ef6\u590d\u5236\u5230\u670d\u52a1\u5668\u4e0a\uff0c</p> <pre><code>R CMD INSTALL RMySQL_0.10.14.tar.gz\n</code></pre> <p></p> <p>\u7531\u4e8e\u670d\u52a1\u5668\u662f centOS\uff0c\u6309\u4e0a\u8ff0\u63d0\u793a\u6211\u4eec\u9700\u8981\u5b89\u88c5 mariadb-connect-c-devel\uff0cmariadb-dev \u548c mysql-dev\uff0c\u4e0b\u9762\u4f9d\u6b21\u5b89\u88c5\u8fd9\u4e09\u4e2a\u4f9d\u8d56\u6587\u4ef6\u3002</p>"},{"location":"R/install-notes-for-rmysql/#mariadb-connect-c-devel","title":"mariadb-connect-c-devel","text":"<p>\u8fd9\u4e2a\u5b89\u88c5\u6700\u7b80\u5355\uff0c\u514d\u7f16\u8bd1\uff0c\u4e0d\u8fc7\u6ce8\u610f\u8981\u4e0b\u8f7d\u5bf9\u5e94\u7248\u672c\u3002</p> <p>\u4e0b\u8f7d\u5730\u5740</p>"},{"location":"R/install-notes-for-rmysql/#mysql-5173","title":"\u6e90\u7801\u5b89\u88c5 mysql 5.1.73","text":"<p>\u9996\u5148\u627e\u6587\u4ef6\u5c31\u627e\u4e86\u633a\u4e45\uff0c\u4e00\u5f00\u59cb\u53d1\u73b0\u90fd\u662f 5.7 \u7684\uff0c\u800c\u4e14\u5728\u627e community \u7248\u7684\u65f6\u5019\uff0c\u5e76\u6ca1\u6709\u53d1\u73b0 \u6e90\u7801\u5305\uff0c\u53ea\u6709\u6253\u5305\u597d\u7684 bundle\uff0c\u4f46\u5c34\u5c2c\u7684\u662f\u670d\u52a1\u5668\u8fde\u4e0a\u4f20\u6587\u4ef6\u7684\u5927\u5c0f\u90fd\u6709\u9650\u5236\uff0c140 Mb \u90fd\u4f20\u4e0d\u4e0a\u53bb\uff0c\u53ea\u597d\u4f5c\u7f62\u3002\u7ee7\u7eed\u5bfb\u627e\u6e90\u7801\u5305\uff0c\u7ec8\u4e8e\u5728 Install MySQL Server 5.0 and 5.1 from source code \u4e2d\u627e\u5230\u4e86\u6e90\u7801\u5730\u5740\uff0c\u5e76\u53c2\u8003\u7f16\u8bd1\u5b89\u88c5\u597d mysql\u3002</p> <p>\u4e0d\u8fc7\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u56e0\u4e3a\u6ca1\u6709 sudo \u6743\u9650\uff0c\u53ea\u80fd\u5b89\u88c5\u5230\u81ea\u5df1\u7684\u7528\u6237\u76ee\u5f55\u4e0b\uff0c\u6240\u4ee5 <code>configue</code> \u65f6\u6307\u5b9a\u5b89\u88c5\u76ee\u5f55\u3002</p>"},{"location":"R/install-notes-for-rmysql/#mariadb-55","title":"\u6e90\u7801\u5b89\u88c5 MariaDB 5.5","text":"<p>\u6e90\u7801\u5b89\u88c5\u65f6\u9700\u8981 <code>cmake</code> \u7f16\u8bd1\uff0c\u800c <code>cmake</code> \u670d\u52a1\u5668\u4e0a\u4e5f\u6ca1\u6709\uff0c\u6240\u4ee5\u8fd8\u5f97\u6e90\u7801\u5b89\u88c5\u4e00\u4e0b <code>cmake</code>\uff0c\u5b89\u88c5\u65f6\u6ce8\u610f\u4e0d\u8981\u9009\u62e9\u592a\u9ad8\u7684\u7248\u672c\uff0c\u4e0d\u7136\u4f1a\u63d0\u793a gcc \u7248\u672c\u8fc7\u4f4e\uff0c\u6240\u4ee5\u9009\u62e9\u4e0e gcc \u9002\u914d\u7684\u7248\u672c\u3002</p> <p>CMake\u662f\u4e00\u4e2a\u8de8\u5e73\u53f0\u7684\u5b89\u88c5\uff08\u7f16\u8bd1\uff09\u5de5\u5177\uff0c\u53ef\u4ee5\u7528\u7b80\u5355\u7684\u8bed\u53e5\u6765\u63cf\u8ff0\u6240\u6709\u5e73\u53f0\u7684\u5b89\u88c5(\u7f16\u8bd1\u8fc7\u7a0b)\u3002\u4ed6\u80fd\u591f\u8f93\u51fa\u5404\u79cd\u5404\u6837\u7684makefile\u6216\u8005project\u6587\u4ef6\uff0c\u80fd\u6d4b\u8bd5\u7f16\u8bd1\u5668\u6240\u652f\u6301\u7684C++\u7279\u6027,\u7c7b\u4f3cUNIX\u4e0b\u7684automake\u3002\u53ea\u662f CMake \u7684\u7ec4\u6001\u6863\u53d6\u540d\u4e3a CMakeLists.txt\u3002</p> <p>\u6765\u6e90: CMake\u7684\u542b\u4e49\u548c\u7528\u6cd5\u89e3\u8bfb</p> <p>\u5177\u4f53\u7f16\u8bd1\u8fc7\u7a0b\u53c2\u8003 1. Generic Build Instructions</p>"},{"location":"R/install-notes-for-rmysql/#step-1","title":"step 1","text":"<pre><code>mkdir build-mariadb\ncd build-mariadb\n</code></pre>"},{"location":"R/install-notes-for-rmysql/#step-2","title":"step 2","text":"<p>\u6ce8\u610f\u8bbe\u7f6e prefix</p> <p>\u53c2\u8003 What is cmake equivalent of \u2018configure \u2013prefix=DIR &amp;&amp; make all install \u2018?</p> <pre><code>cmake ../mariadb-5.*.* -DCMAKE_INSTALL_PREFIX:PATH=~/mariadb\n</code></pre>"},{"location":"R/install-notes-for-rmysql/#step-3","title":"step 3","text":"<pre><code>make \nmake install\n</code></pre>"},{"location":"R/install-notes-for-rmysql/#_3","title":"\u7b2c\u4e8c\u6b21\u5c1d\u8bd5","text":"<p>\u4f3c\u4e4e\u90fd\u88c5\u597d\u4e86\uff0c\u4e0d\u8fc7\u6d4b\u8bd5\u4e4b\u524d\uff0c\u5f97\u5148\u8bbe\u7f6e\u4e00\u4e0b\u73af\u5883\u53d8\u91cf\u3002\u518d\u6b21\u5c1d\u8bd5\uff0c\u7f16\u8bd1\u65f6\u7a0d\u5fae\u524d\u8fdb\u4e86\u4e00\u4e9b\uff0c\u4f46\u8fd8\u662f\u592d\u6298\u4e86\uff0c\u9519\u8bef\u5982\u4e0b</p> <p></p> <p>\u8bd5\u7740\u7406\u89e3\u4e00\u4e0b\uff0c\u627e\u4e0d\u5230libmysqlclient.so.18\uff0c\u6240\u4ee5\u5982\u679c\u672c\u673a\u4e0a\u6709\u8fd9\u4e2a\u6587\u4ef6\uff0c\u5219\u5c06\u5176\u590d\u5236\u5230 R \u7684library\u4e2d\u5373\u53ef\u3002</p> <p>\u5229\u7528 <code>locate</code> \u53d1\u73b0\u867d\u7136\u6ca1\u6709 <code>libmysqlclieng.so.18</code> \u6587\u4ef6\uff0c\u4f46\u6709\u4e00\u4e2a <code>libmysqlclieng.so.16</code> \u6587\u4ef6\uff0c\u731c\u6d4b\u8fd9\u4e24\u4e2a\u662f\u4e00\u6837\u7684\uff0c\u53ea\u8981\u5c06\u540e\u8005\u590d\u5236\u4e3a\u524d\u8005\uff0c\u7136\u540e\u5c06\u5176\u6dfb\u52a0\u5230<code>LD_LIBRARY_PATH</code>\u4e2d\uff0c\u5c31\u597d\u4e86\u3002</p> <p>\u518d\u6b21\u5b89\u88c5\uff0c\u6210\u529f\uff0c\u5b8c\u7f8e\uff01</p>"},{"location":"R/legend_from_zhihu/","title":"ggplot\u4e2d\u56fe\u4f8b\u7684\u4f7f\u7528\uff08\u4ee5\u67d0\u77e5\u4e4e\u95ee\u9898\u4e3a\u4f8b\uff09","text":"<p>\u5728\u77e5\u4e4e\u4e0a\u6d4f\u89c8\u5230\u8fd9\u6837\u4e00\u4e2a\u95ee\u9898R\u8bed\u8a00ggplot\u5982\u4f55\u6dfb\u52a0\u56fe\u4f8b\uff1f - \u77e5\u4e4e\uff0c\u95ee\u9898\u5173\u952e\u5728\u4e8e\u5982\u4f55\u81ea\u5b9a\u4e49\u6ee1\u8db3\u4e0b\u5217\u6761\u4ef6\u7684legend</p> <ol> <li>\u6d89\u53ca\u4e24\u4e2a\u6570\u636e\u96c6\uff08\u867d\u7136\u662f\u540c\u4e00\u4e2a\uff0c\u4f46\u91cd\u590d\u8c03\u7528\uff0c\u76f8\u5f53\u4e8e\u4e24\u4e2a\uff09</li> <li>legend\u4ec5\u4ec5\u4e3a\u70b9\u6216\u7ebf\u6bb5\uff08\u4e00\u822c\u9ed8\u8ba4\u4f1a\u540c\u65f6\u663e\u793a\u70b9\u6216\u7ebf\u6bb5\uff09</li> </ol>"},{"location":"R/legend_from_zhihu/#_1","title":"\u666e\u904d\u7684\u60c5\u5f62","text":"<p>\u53c2\u8003Legends (ggplot2) | Cookbook for R\u8fd9\u7bc7\u535a\u6587\uff0c\u5e94\u8be5\u53ef\u4ee5\u89e3\u51b3\u4e00\u822c\u60c5\u5f62\u4e0b\u5f80ggplot\u4e2d\u6dfb\u52a0legends\u7684\u95ee\u9898\u3002\u4e3e\u4e2a\u4f8b\u5b50</p> <pre><code># A different data set\ndf1 &lt;- data.frame(\nsex = factor(c(\"Female\",\"Female\",\"Male\",\"Male\")),\ntime = factor(c(\"Lunch\",\"Dinner\",\"Lunch\",\"Dinner\"), levels=c(\"Lunch\",\"Dinner\")),\ntotal_bill = c(13.53, 16.81, 16.24, 17.42)\n)\n\n# A basic graph\nlp &lt;- ggplot(data=df1, aes(x=time, y=total_bill, group=sex, shape=sex)) + geom_line() + geom_point()\nlp\n\n# Change the legend\nlp + scale_shape_discrete(name  =\"Payer\",\nbreaks=c(\"Female\", \"Male\"),\nlabels=c(\"Woman\", \"Man\"))\n</code></pre> <p></p>"},{"location":"R/legend_from_zhihu/#_2","title":"\u591a\u4e2a\u6570\u636e\u96c6","text":"<p>\u4e0a\u8ff0\u666e\u904d\u7684\u60c5\u5f62\u662f\u6d89\u53ca\u5355\u4e00\u6570\u636e\u96c6\uff0c\u4e14\u7c7b\u522b\u6807\u7b7e\u5df2\u7ecf\u5b58\u5728\u6570\u636e\u96c6\u4e2d\uff0c\u82e5\u591a\u4e2a\u6570\u636e\u96c6\uff0c\u6570\u636e\u96c6\u672c\u8eab\u6ca1\u6709\u7c7b\u522b\u6807\u7b7e\uff0c\u4f46\u4e0d\u540c\u6570\u636e\u96c6\u8868\u793a\u4e0d\u540c\u7c7b\uff0c\u5219\u53ef\u4ee5\u53c2\u8003R: Custom Legend for Multiple Layer ggplot | stackoverflow\u3002</p> <pre><code>require(ggplot2)\nx=seq(1,10,length=100)\ndata=data.frame(x,dnorm(x,mean=6.5,sd=1))\nnames(data)=c('x','new.data')\nx.ribbon=seq(1,10,length=20)\nribbon=data.frame(x.ribbon,\ndnorm(x.ribbon,mean=5,sd=1)+.01,\ndnorm(x.ribbon,mean=5,sd=1)-.01,\ndnorm(x.ribbon,mean=5,sd=1))\nnames(ribbon)=c('x.ribbon','max','min','avg')\n\nggplot()+#geom_ribbon(data=ribbon,aes(ymin=min,ymax=max,x=x.ribbon,fill='lightgreen'))+\ngeom_line(data=ribbon,aes(x=x.ribbon,y=avg,color='black'))+\ngeom_line(data=data,aes(x=x,y=new.data,color='red'))+\nxlab('x')+ylab('density') + #scale_fill_identity(name = 'the fill', guide = 'legend',labels = c('m1')) +\nscale_colour_manual(name = 'the colour', values =c('black'='black','red'='red'), labels = c('c2','c1'))\n</code></pre> <p></p>"},{"location":"R/legend_from_zhihu/#shapelinetype","title":"\u5355\u4e00shape\u6216linetype","text":"<p>\u4e00\u5f00\u59cb\u5bf9\u539f\u77e5\u4e4e\u95ee\u9898\u7ed9\u51fa\u4e0b\u9762\u7684\u89e3\u6cd5</p> <pre><code>px &lt;- ggplot()+\ngeom_point(data = plotdatax, aes(x= number , y= datax, color = \"red\"), size=2 ) +\ngeom_line(data = plotdatax, aes(x=number,y = dataxo, color = \"black\"), size = 1 ) +\nscale_color_manual(name = \"group\",\nvalues = c('red' = 'red', \"black\" = 'black'), breaks = c(\"red\", \"black\"),\nlabels = c('\u6570\u636e', '\u539f\u59cb\u6570\u636e')) </code></pre> <p></p> <p>\u4f46\u56fe\u4f8b\u540c\u65f6\u5b58\u5728shape\u548clinetype\uff0c\u5bf9\u4e8e\u666e\u901a\u7684<code>plot</code>\uff0c\u53ef\u4ee5\u7528<code>NA</code>\u6765\u4f7f\u5f97point type\u6216linetype\u4e0d\u663e\u793a\uff0c\u5177\u4f53\u53ef\u4ee5\u53c2\u8003R plot: Displaying both point type and line type in legend | stackoverflow\u3002</p> <pre><code>set.seed(0); x1 &lt;- rnorm(10); x2 &lt;- rnorm(10); x3 &lt;- rnorm(10)\nplot(x1, type = \"b\", pch = 19, lty = 1, col = 1,\nylim = range(c(x1,x2,x3)))  ## both points and lines\npoints(x2, pch = 19, col = 2)  ## only points\nlines(x3, lty = 2, col = 3)  ## only lines\nlegend(6, 0.9*max(c(x1,x2,x3)), legend = c(\"x1\", \"x2\", \"x3\"),\npch = c(19, 19, NA), lty = c(1, NA, 2),\ncol = c(1,2,3), text.col = c(1,2,3))\n</code></pre> <p></p> <p>\u53d7\u6b64\u542f\u53d1\uff0c\u4e5f\u5c1d\u8bd5\u5728ggplot\u4e2d\u4f7f\u7528\uff0c\u5c1d\u8bd5\u540e\u53d1\u73b0\uff0c\u5bf9\u4e8e<code>shape</code>\u7528<code>NA</code>\u53ef\u4ee5\u4e0d\u663e\u793a\u70b9\u7684\u5f62\u72b6\uff0c\u800c<code>linetype</code>\u8981\u7528<code>0</code>\u624d\u80fd\u4e0d\u663e\u793a\u7ebf\u6761\u3002</p> <pre><code>px &lt;- ggplot()+\ngeom_point(data = plotdatax, aes(x= number , y= datax, color = \"red\", shape = \"A\", linetype = \"A\"), size=2 ) +\ngeom_line(data = plotdatax, aes(x=number,y = dataxo, color = \"black\", shape = \"B\", linetype = \"B\"), size = 1 ) +\nscale_color_manual(name = \"group\",\nvalues = c('red' = 'red', \"black\" = 'black'), breaks = c(\"red\", \"black\"),\nlabels = c('\u6570\u636e', '\u539f\u59cb\u6570\u636e')) + scale_shape_manual(name = \"group\",\nvalues = c(\"A\" = 16, \"B\" = NA), labels = c('\u6570\u636e', '\u539f\u59cb\u6570\u636e')) + scale_linetype_manual(name = \"group\",\nvalues = c(\"A\" = 0, \"B\" = 1), labels = c('\u6570\u636e', '\u539f\u59cb\u6570\u636e'))\n\npx + theme(legend.title=element_blank(),\nlegend.position = c(0.9, 0.9))\n</code></pre> <p></p> <p>\u867d\u7136\u4e0e\u9898\u4e3b\u8981\u6c42\u76f8\u7b26\uff0c\u4f46\u5176\u5b9e\u4e0a\u8ff0\u4ee3\u7801\u4f1a\u62a5warning\uff0c\u5982\u4e0b</p> <p></p> <p>\u539f\u56e0\u662fgeom_point\u4e2d\u7684aes\u6ca1\u6709linetype\u53c2\u6570\uff1b</p> <p>\u800cgeom_line\u4e2d\u7684aes\u6ca1\u6709shape\u53c2\u6570\uff0c\u4f46\u5982\u679c\u524d\u8005\u4e0d\u5bf9linetype\u8fdb\u884c\u8d4b\u503c\uff0c\u540e\u8005\u4e0d\u5bf9shape\u8fdb\u884c\u8d4b\u503c\uff0c\u5219\u5f97\u5230\u7684\u56fe\u5f62\u4f1a\u6709\u4e24\u4e2a\u56fe\u4f8b\u5757\u3002</p> <p></p> <p>\u66f4\u7b80\u6d01\u66f4\u51c6\u786e\u7684\u505a\u6cd5\u5e94\u8be5\u662f\u5148\u5bf9\u8fd9\u4e9b\u70b9\u8fdb\u884c\u6807\u7b7e\uff0c\u7136\u540e\u8bbe\u7f6e\u6bcf\u4e2a\u6807\u7b7e\u7684color, shape\u4ee5\u53calinetype\uff0c\u4ee3\u7801\u5982\u4e0b\uff1a</p> <pre><code>plotdatax$group = ifelse(datax == dataxo, \"c2\", \"c1\")\n\npx &lt;- ggplot(plotdatax, aes(color = group, shape = group, linetype = group))+\ngeom_point(aes(x= number , y= datax), size=2 ) +\ngeom_line(aes(x=number,y = dataxo), size = 1 ) +\nscale_color_manual(name = \"group\",\nvalues = c(\"c1\" = 'red', \"c2\" = 'black'), labels = c('\u6570\u636e', '\u539f\u59cb\u6570\u636e')) + scale_shape_manual(name = \"group\",\nvalues = c(\"c1\" = 16, \"c2\" = NA), labels = c('\u6570\u636e', '\u539f\u59cb\u6570\u636e')) + scale_linetype_manual(name = \"group\",\nvalues = c(\"c1\" = 0, \"c2\" = 1), labels = c('\u6570\u636e', '\u539f\u59cb\u6570\u636e'))\n\npx + theme(legend.title=element_blank(),\nlegend.position = c(0.9, 0.9))\n</code></pre> <p></p> <p>\u4e0d\u8fc7\u8fd9\u6837\u9ed1\u7ebf\u5c11\u6389\u4e86\u7ea2\u8272\u70b9\uff0c\u4e5f\u5c31\u662f\u8ba4\u4e3a\u90a3\u4e9b\u4e0d\u5728\u76f4\u7ebf\u4e0a\u7684\u70b9\u624d\u662f\u7b2c\u4e8c\u7c7b\u7684\u70b9\u3002\u5982\u679c\u575a\u6301\u9898\u4e3b\u7684\u610f\u601d\uff0c\u5219\u5b8c\u5168\u53ef\u4ee5\u91cd\u65b0\u6784\u9020\u6570\u636e\u96c6\uff0c\u4ee3\u7801\u5982\u4e0b</p> <pre><code>length &lt;-length(datax)\nx.matrix1 &lt;- cbind(1:length, datax)\nx.matrix2 &lt;- cbind(1:length, dataxo)\nx.matrix &lt;- rbind(x.matrix1, x.matrix2)\ncolnames(x.matrix) &lt;- c(\"number\", \"datax\")\nplotdatax &lt;- as.data.frame(x.matrix)\n\nplotdatax$group &lt;- rep(c(\"c1\", \"c2\"), each = length)\n\npx &lt;- ggplot(plotdatax, aes(x = number, y = datax, color = group, shape = group, linetype = group))+\ngeom_point(size=2) +\ngeom_line(size = 1) +\nscale_color_manual(name = \"group\",\nvalues = c(\"c1\" = 'red', \"c2\" = 'black'), labels = c('\u6570\u636e', '\u539f\u59cb\u6570\u636e')) + scale_shape_manual(name = \"group\",\nvalues = c(\"c1\" = 16, \"c2\" = NA), labels = c('\u6570\u636e', '\u539f\u59cb\u6570\u636e')) + scale_linetype_manual(name = \"group\",\nvalues = c(\"c1\" = 0, \"c2\" = 1), labels = c('\u6570\u636e', '\u539f\u59cb\u6570\u636e'))\n\npx + theme(legend.title=element_blank(),\nlegend.position = c(0.9, 0.9))\n</code></pre> <p></p>"},{"location":"R/legend_from_zhihu/#_3","title":"\u53c2\u8003\u7f51\u9875","text":"<p>\u9664\u4e0a\u8ff0\u660e\u786e\u7ed9\u51fa\u7684\u53c2\u8003\u94fe\u63a5\uff0c\u8fd8\u53c2\u8003\u4e86\u4e0b\u5217\u7f51\u9875</p> <ol> <li>scale_manual: Create your own discrete scale</li> <li>add point and line layers with customized legends in ggplot2</li> </ol>"},{"location":"R/legend_from_zhihu/#_4","title":"\u5176\u4ed6","text":"<p>\u9644\u4e0a\u63a2\u7d22\u8fc7\u7a0b\u4e2d\u7528\u5230\u7684\u4e00\u4e2atoy example</p> <pre><code># Sample data\ndf &lt;- read.table(header=T, text='\n                 cond xval yval\n                 A    1  2.0\n                 A    2  2.5\n                 B    1  3.0\n                 B    2  2.0\n                 ')\nlibrary(ggplot2)\n\n# Plot with standard lines and points\n# group = cond tells it which points to connect with lines\nggplot(df, aes(x=xval, y=yval, group = cond)) +\ngeom_line() +\ngeom_point()\n\n# Set overall shapes and line type\nggplot(df, aes(x=xval, y=yval, group = cond)) +\ngeom_line(linetype=\"dashed\",  # Dashed line\nsize = 1.5) +       # Thicker line\ngeom_point(shape = 0,         # Hollow squares\nsize = 4)          # Large points\n\n# Condition shapes and line type on variable cond\nggplot(df, aes(x=xval, y=yval, group = cond)) +\ngeom_line(aes(linetype=cond), # Line type depends on cond\nsize = 1.5) +       # Thicker line\ngeom_point(aes(shape=cond),   # Shape depends on cond\nsize = 4)          # Large points\n\n# Same as previous, but also change the specific linetypes and\n# shapes that are used\nggplot(df, aes(x=xval, y=yval, group = cond)) +\ngeom_line(aes(linetype=cond), # Line type depends on cond\nsize = 1.5) +       # Thicker line\ngeom_point(aes(shape=cond),   # Shape depends on cond\nsize = 4) +        # Large points\nscale_shape_manual(values=c(NA,5)) +                  # Change shapes\nscale_linetype_manual(values=c(1, 0)) # Change linetypes\n</code></pre>"},{"location":"R/plot/","title":"Plot","text":""},{"location":"R/plot/#base","title":"Base","text":"<ul> <li>R base plotting without wrappers</li> <li>r-graphical-parameters-cheatsheet</li> </ul>"},{"location":"R/plot/#layout","title":"<code>layout</code>","text":"<p>For two subplots, the height of the first subplot is 8 times than the height of the second subplot, </p> <pre><code>layout(mat = matrix(c(rep(1, 8), 2), ncol = 1, byrow = TRUE))\n</code></pre> <p>see more details in https://stats.hohoweiya.xyz/2022/11/21/KEGGgraph/</p>"},{"location":"R/plot/#math-formula","title":"math formula","text":"<p>No need to use <code>paste</code> function ()</p> COMMAND FIGURE <code>~</code> in the expression represents a space: <code>expression(xLab ~ x^2 ~ m^-2)</code> <code>*</code> in the expression implies no space: <code>expression(xLab ~ x^2 * m^-2)</code> <code>expression(R[group(\"\", list(hat(F),F),\"\")]^2)</code> OR <code>expression(R[hat(F) * ',' ~ F]^2)</code>"},{"location":"R/plot/#pure-figure-without-axis","title":"pure figure without axis","text":"<p>Suppose I want to draw the following figure with R,</p> <p></p> <p>At first, I try to use <code>xaxt</code> option to remove the axis, but the box still remains, just same as the one question in the StackOverflow, and I found a possible solution, directly use</p> <pre><code>plot.new()\n</code></pre> <p>All is well before I tried to add the text \\rho, if I use</p> <pre><code>text(0.8, 0, expression(rho), cex = 2)\n</code></pre> <p>it is OK, but it is exactly on the axis, not proper, but when I tried smaller yy-coordinate, such as -0.1, the text cannot appear, which seems out of the figure. I have tried <code>par()</code> parameters, such as <code>mar</code>, but does not work.</p> <p>Then I have no idea, and do not know how to google it. And even though I want to post an issue in the StackOverflow. But a random reference give me ideas, in which the example saves me,</p> <pre><code>&gt; plot.new()\n&gt; plot.window(xlim=c(0,1), ylim=c(5,10))\n&gt; abline(a=6, b=3)\n&gt; axis(1)\n&gt; axis(2)\n&gt; title(main=\"The Overall Title\")\n&gt; title(xlab=\"An x-axis label\")\n&gt; title(ylab=\"A y-axis label\")\n&gt; box()\n</code></pre> <p>Then I realized that I should add</p> <pre><code>plot.window(xlim = c(0, 1), ylim = c(-0.1, 0.9))\n</code></pre>"},{"location":"R/plot/#smooth-curve","title":"smooth curve","text":"<pre><code>x &lt;- 1:10\ny &lt;- c(2,4,6,8,7,12,14,16,18,20)\nlo &lt;- loess(y~x)\nplot(x,y)\nlines(predict(lo), col='red', lwd=2)\n</code></pre> <p>\u53c2\u8003How to fit a smooth curve to my data in R?</p>"},{"location":"R/plot/#margin","title":"margin","text":"<p>\u6709\u65f6\u901a\u8fc7 <code>par(mfrow=c(2,1))</code> \u753b\u56fe\u65f6\u95f4\u8ddd\u8fc7\u5927\uff0c\u8fd9\u53ef\u4ee5\u901a\u8fc7 <code>mar</code> \u6765\u8c03\u8282\uff0c\u6ce8\u610f\u5230</p> <ul> <li><code>mar</code> \u8c03\u8282\u5355\u5f20\u56fe\u7684 margin</li> <li><code>oma</code> \u8c03\u8282\u6574\u5f20\u56fe\u5916\u90e8\u7684 margin</li> </ul> <p>\u53c2\u8003 how to reduce space gap between multiple graphs in R</p> <p>\u6bd4\u5982\uff0cB spline in R, C++ and Python</p>"},{"location":"R/plot/#custom-panels-in-pairs","title":"custom panels in pairs","text":"<p>\u95ee\u9898\u6765\u81eaR\u8bed\u8a00\u7ed8\u56fe\uff1f - \u77e5\u4e4e</p> <p></p> <pre><code>my.lower &lt;- function(x,y,...){\npoints(x, y)\nlines(lowess(x, y), col = \"red\", lwd=2)\n}\n\nmy.upper &lt;- function(x, y, ...){\ncor.val = round(cor(x,y), digits = 3)\nif (abs(cor.val) &gt; 0.5){\ntext(mean(x), mean(y), cor.val, cex = 3)\ntext(sort(x)[length(x)*0.8], max(y), '***', cex = 4, col = \"red\")\n} else\n{\ntext(mean(x), mean(y), cor.val, cex = 1)\n}\n}\n\npairs(iris[1:4], lower.panel =my.lower, upper.panel = my.upper)\n</code></pre> <p>\u53c2\u8003 Different data in upper and lower panel of scatterplot matrix</p>"},{"location":"R/plot/#remove-outliers-from-the-boxplot","title":"remove outliers from the boxplot","text":"<p>How to remove outliers from a dataset</p>"},{"location":"R/plot/#grid","title":"\u5728grid\u6392\u5217\u56fe","text":"<p>Arranging plots in a grid</p>"},{"location":"R/plot/#combine-base-and-ggplot-graphics-in-r-figure","title":"combine base and ggplot graphics in R figure","text":"<p>refer to Combine base and ggplot graphics in R figure window</p>"},{"location":"R/plot/#lattice","title":"lattice","text":"<p>The package can easily generate trellis graphs. A trellis graph displays the distribution of a variable or the relationship between variables, separately for each level of one or more other variables. </p> <p>A thorough tutorial refers to Reproduce Figures with Lattice \u2013 ESL CN</p>"},{"location":"R/plot/#ggplot","title":"ggplot","text":"<ul> <li>https://ggplot2-book.org/</li> </ul>"},{"location":"R/plot/#histogram","title":"histogram","text":"fill (not color) &amp; factor (not numeric) in histogram <p><pre><code>df = data.frame(a = c(rnorm(100), rnorm(100) +1), g = rep(1:2, each=100))\nggplot(df, aes(a, colour = g)) + geom_histogram()\n</code></pre> <pre><code>ggplot(df, aes(a, col = factor(g) )) + geom_histogram()\n</code></pre> <pre><code>ggplot(df, aes(a, fill = factor(g) )) + geom_histogram()\n</code></pre> </p> alpha not work in single histogram <p><pre><code>ggplot(df, aes(a, fill= factor(g)), alpha=0.2) + geom_histogram()\n</code></pre> <pre><code>ggplot(df, aes(a)) + geom_histogram(data = subset(df, g == 1), aes(fill = factor(g)), alpha = 0.5) + geom_histogram(data = subset(df, g == 2), aes(fill = factor(g)), alpha = 0.5)\n</code></pre>  Note that <code>aes(fill = )</code> is important, otherwise no legend. See also: , , </p>"},{"location":"R/plot/#multiple-density-plots","title":"multiple density plots","text":"<pre><code>plots &lt;- NULL\nfor (i in 1:4) {\nx = i + rnorm(100)\nplots[[i]] &lt;- ggplot(data.frame(x), aes(x)) + geom_density(alpha = 0.5, show.legend = FALSE)\n}\ncowplot::plot_grid(plotlist = plots)\n</code></pre> <p>Application</p> <p>See one of my homework written in Rmarkdown, \u4e2d\u5fc3\u6781\u9650\u5b9a\u7406\u6a21\u62df\u5b9e\u9a8c</p>"},{"location":"R/plot/#density-of-weibull","title":"density of Weibull","text":"<p>adapted from ggplot2\u7ed8\u5236\u6982\u7387\u5bc6\u5ea6\u56fe</p> <p>Take the Weibull distribution as an example, </p>  f(x) = \\begin{cases} \\frac k\\lambda \\left(\\frac x\\lambda\\right)^{k-1}e^{-(x/\\lambda)^k} &amp; x\\ge 0\\\\ 0 &amp; x &lt; 0 \\end{cases}   f(x) = \\begin{cases} \\frac k\\lambda \\left(\\frac x\\lambda\\right)^{k-1}e^{-(x/\\lambda)^k} &amp; x\\ge 0\\\\ 0 &amp; x &lt; 0 \\end{cases}  <p>where \\lambda &gt; 0\\lambda &gt; 0 is the scale parameter, and k &gt; 0k &gt; 0 is the shape parameter. And</p> <ul> <li>if k=1k=1, it becomes to the exponential distribution</li> <li>if k=2k=2, it becomes to the Rayleigh distribution.</li> </ul> <code>dweibull</code><code>rweibull</code> + <code>histogram</code><code>rweibull</code> + <code>density</code><code>rweibull</code> + <code>line</code> <pre><code>d &lt;- seq(0, 5, length.out=10000)\ny &lt;- dweibull(d, shape=5, scale=1, log = FALSE)\ndf &lt;- data.frame(x=d,y)\nggplot(df, aes(x=d, y=y)) + geom_line(col = \"orange\") + ggtitle(\"Density of Weibull distribution\")\n</code></pre> <p></p> <pre><code>h = rweibull(10000, shape=5, scale=1)\nggplot(NULL, aes(x=h)) + geom_histogram(binwidth=0.01, fill=\"white\", col=\"red\") + ggtitle(\"Histogram of Weibull distribution\")\n</code></pre> <p></p> <pre><code>ggplot(NULL, aes(x=h)) + geom_density(col = \"green\")\n</code></pre> <p></p> <pre><code>ggplot(NULL, aes(x=h)) + geom_line(stat = \"density\", col = \"red\")\n</code></pre> <p>A minor difference is that here is a horizontal line in the above estimated density.</p> <p></p> <p>Also refer to Plotting distributions (ggplot2)</p>"},{"location":"R/plot/#legend-setup","title":"legend setup","text":"<p>\u53c2\u8003Legends (ggplot2)</p>"},{"location":"R/plot/#_1","title":"\u9ed8\u8ba4\u60c5\u5f62","text":"<pre><code>library(ggplot2)\nbp &lt;- ggplot(data=PlantGrowth, aes(x=group, y=weight, fill=group)) + geom_boxplot()\nbp\n</code></pre>"},{"location":"R/plot/#_2","title":"\u81ea\u5b9a\u4e49\u56fe\u4f8b\u7684\u987a\u5e8f","text":"<p>\u9996\u5148\u79fb\u9664\u6389\u9ed8\u8ba4\u56fe\u4f8b\uff0c\u6709\u4e09\u79cd\u65b9\u5f0f\u5b9e\u73b0\uff1a <pre><code># Remove legend for a particular aesthetic (fill)\nbp + guides(fill=FALSE)\n\n# It can also be done when specifying the scale\nbp + scale_fill_discrete(guide=FALSE)\n\n# This removes all legends\nbp + theme(legend.position=\"none\")\n</code></pre></p> <p>\u518d\u6539\u53d8\u9ed8\u8ba4\u987a\u5e8f</p> <pre><code>bp + scale_fill_discrete(breaks=c(\"trt1\",\"ctrl\",\"trt2\"))\n</code></pre>"},{"location":"R/plot/#_3","title":"\u98a0\u5012\u56fe\u4f8b\u7684\u987a\u5e8f","text":"<pre><code># These two methods are equivalent:\nbp + guides(fill = guide_legend(reverse=TRUE))\nbp + scale_fill_discrete(guide = guide_legend(reverse=TRUE))\n\n# You can also modify the scale directly:\nbp + scale_fill_discrete(breaks = rev(levels(PlantGrowth$group)))\n</code></pre>"},{"location":"R/plot/#_4","title":"\u9690\u85cf\u56fe\u4f8b\u6807\u9898","text":"<pre><code># Remove title for fill legend\nbp + guides(fill=guide_legend(title=NULL))\n\n# Remove title for all legends\nbp + theme(legend.title=element_blank())\n</code></pre>"},{"location":"R/plot/#_5","title":"\u81ea\u5b9a\u4e49\u56fe\u4f8b\u7684\u6807\u9898\u53ca\u540d\u79f0","text":"<p>\u4e24\u79cd\u65b9\u5f0f\uff0c\u4e00\u79cd \u53e6\u4e00\u79cd\u4fee\u6539\u6570\u636e\u96c6</p>"},{"location":"R/plot/#_6","title":"\u56fe\u4f8b\u7684\u6574\u4f53\u5f62\u72b6","text":"<pre><code># Title appearance\nbp + theme(legend.title = element_text(colour=\"blue\", size=16, face=\"bold\"))\n\n# Label appearance\nbp + theme(legend.text = element_text(colour=\"blue\", size = 16, face = \"bold\"))\n</code></pre> <p>\u56fe\u4f8b\u76d2\u5b50</p> <pre><code>bp + theme(legend.background = element_rect())\nbp + theme(legend.background = element_rect(fill=\"gray90\", size=.5, linetype=\"dotted\"))\n</code></pre> <p>\u56fe\u4f8b\u4f4d\u7f6e</p> <pre><code>bp + theme(legend.position=\"top\")\n\n# Position legend in graph, where x,y is 0,0 (bottom left) to 1,1 (top right)\nbp + theme(legend.position=c(.5, .5))\n\n# Set the \"anchoring point\" of the legend (bottom-left is 0,0; top-right is 1,1)\n# Put bottom-left corner of legend box in bottom-left corner of graph\nbp + theme(legend.justification=c(0,0), legend.position=c(0,0))\n\n# Put bottom-right corner of legend box in bottom-right corner of graph\nbp + theme(legend.justification=c(1,0), legend.position=c(1,0))\n</code></pre>"},{"location":"R/plot/#slashes","title":"\u9690\u85cf\u56fe\u4f8b\u7684slashes","text":"<pre><code># No outline\nggplot(data=PlantGrowth, aes(x=group, fill=group)) +\ngeom_bar()\n\n# Add outline, but slashes appear in legend\nggplot(data=PlantGrowth, aes(x=group, fill=group)) +\ngeom_bar(colour=\"black\")\n\n# A hack to hide the slashes: first graph the bars with no outline and add the legend,\n# then graph the bars again with outline, but with a blank legend.\nggplot(data=PlantGrowth, aes(x=group, fill=group)) +\ngeom_bar() +\ngeom_bar(colour=\"black\", show.legend=FALSE)\n</code></pre>"},{"location":"R/plot/#_7","title":"\u5750\u6807\u8f74\u6807\u7b7e\u5b57\u4f53\u5927\u5c0f","text":"<p>\u53c2\u8003Size of labels for x-axis and y-axis ggplot in R</p>"},{"location":"R/plot/#_8","title":"\u591a\u5f20\u56fe\u7247","text":"<p><code>par(mfrow=c(1,2))</code>\u4e0d\u8d77\u4f5c\u7528\uff0c\u8981\u7528\u5230 <code>gridExtra</code> \u5305\uff0c\u5982</p> <pre><code>library(gridExtra)\nplot1 &lt;- qplot(1)\nplot2 &lt;- qplot(1)\ngrid.arrange(plot1, plot2, ncol=2)\n</code></pre> <p>\u53c2\u8003Side-by-side plots with ggplot2</p>"},{"location":"R/plot/#_9","title":"\u7ed8\u5236\u5730\u56fe","text":"<p>\u53c2\u8003</p> <ol> <li>Making Maps with R</li> </ol>"},{"location":"R/plot/#scale_fill_manual-scale_color_manual","title":"<code>scale_fill_manual</code> \u548c <code>scale_color_manual</code>","text":"<p>\u66f4\u6539\u989c\u8272\u547d\u4ee4\u4e3a</p> <pre><code>scale_fill_manual(values = c(\"red\", \"blue\"))\n</code></pre>"},{"location":"R/plot/#save","title":"save","text":"<p>NOT <code>png()...dev.off()</code>, use</p> <pre><code>ggsave(\"sth.eps\",device=\"eps\", width=9)\n</code></pre>"},{"location":"R/plot/#aes_string-vs-aes","title":"<code>aes_string</code> vs <code>aes</code>","text":"<p>\u5728\u91cd\u590d\u7ed8\u56fe\u65f6\uff0c\u4f3c\u4e4e\u662f\u4f5c\u7528\u57df\u7684\u7f18\u6545\uff0c\u6709\u65f6 <code>aes</code> \u53ea\u80fd\u4fdd\u7559\u6700\u540e\u4e00\u4e2a\uff0c\u6b64\u65f6\u9700\u8981\u7528 <code>aes_string</code>.</p> <p>\u53c2\u8003 Question: Continuously add lines to ggplot with for loop</p>"},{"location":"R/sample/","title":"<code>sample</code> function in R-3.6.0+","text":"<p>Wenyu found a very interesting question about R programming. When he was preparing his tutorial, he cannot reproduce the code in the section 8.3 of An Introduction to Statistical Learning, with Applications in R (ISLR), but his sister can successfully produce the results last year. </p> <p>The program is as follows:</p> <pre><code>library(tree)\nlibrary(ISLR)\nattach(Carseats)\nHigh=ifelse(Sales&lt;=8,\"No\",\"Yes\")\nCarseats=data.frame(Carseats,High)\n\nset.seed(2)\ntrain=sample(1:nrow(Carseats), 200)\nCarseats.test=Carseats[-train,]\nHigh.test=High[-train]\ntree.carseats=tree(High~.-Sales,Carseats,subset=train)\ntree.pred=predict(tree.carseats,Carseats.test,type=\"class\")\ntable(tree.pred,High.test)\n</code></pre> <p>the book reports</p> <pre><code>##          High.test\n## tree.pred No Yes\n##       No  86  27\n##       Yes 30  57\n</code></pre> <p>while we get</p> <pre><code>##          High.test\n## tree.pred  No Yes\n##       No  104  33\n##       Yes  13  50\n</code></pre> <p>That\u2019s so strange!! There might be some changed things, packages or <code>r-base</code> itself.</p>"},{"location":"R/sample/#package-version","title":"Package version","text":"<p>All of the related packages are <code>tree</code> and <code>ISLR</code>, where the second one has not been updated for a long time, and so no need to consider it. For <code>tree</code>, there are active updates in the recent years,</p> <pre><code>Version 1.0-39  2018-03-17\n\nAllow more C-level space for labels\n\nVersion 1.0-38  2018-03-14\n\nTweak to cv.tree.\n\nVersion 1.0-37  2016-01-20\n\nInclude &lt;stdio.h&gt;, not relying on R.h\n\nVersion 1.0-36  2015-06-29\n\nAdd tests/deparse.R .\nUpdate reference output.\nTweak NAMESPACE imports.\n</code></pre> <p>but actually the last version is back to March 2018, which is already prior to Wenyu\u2019s sister. Anyway, we have tried to install the old version package, and try to see whether there are some differences.</p> <p>The command for installing a specified version would be</p> <pre><code>install.packages(\"https://cran.r-project.org/src/contrib/Archive/tree/tree_1.0-39.tar.gz\", repos = NULL, type = \"source\")\n</code></pre> <p>in the R console. However, at the beginning, I am not familiar with it. So I use the interface of rstudio to manually install the old <code>tree</code>\u2018s. Finally, I had tried <code>v1.0-28</code>, <code>v1.0-33</code>, <code>v1.0-37</code> and <code>v1.0-39</code>, but all of them yield the same results as the latest version.</p>"},{"location":"R/sample/#r-version","title":"R version","text":"<p>Currently, we are using the latest R version, <code>v3.6.0</code>. Firstly, I had tried the old version <code>v3.4.4</code> on my server rstudio. It can successfully reproduce the results of the book.</p> <p>Now our goal is to determine the version from which we fail to obtain the same results. It requires us to install multiple R versions to test the above program.</p> <p>The docker facilitates the multiple R versions easily. Here is an official images for r-base, including most old versions of R. We can install a specified R version with the following commands by tagging the version number, </p> <pre><code>docker pull r-base:3.6.0\ndocker run -it --rm r-base:3.6.0\n</code></pre> <p>As a result, <code>v3.5.3</code> (the largest version of <code>v3.5.x</code>) can reproduce the results, while it failed in the R version from <code>v3.6.0</code>. Then I found the changelog for <code>v3.6.0</code>.</p> <p>The first point is exactly what we want,</p> <p>Changes to random number generation. R 3.6.0 changes the method used to generate random integers in the sample function. In prior versions, the probability of generating each integer could vary from equal by up to 0.04% (or possibly more if generating more than a million different integers). This change will mainly be relevant to people who do large-scale simulations, and it also means that scripts using the sample function will generate different results in R 3.6.0 than they did in prior versions of R. If you need to keep the results the same (for reproducibility or for automated testing), you can revert to the old behavior by adding <code>RNGkind(sample.kind=\"Rounding\")</code>) to the top of your script.</p> <p>In a word, for the R starting from <code>v3.6.0</code>, we can add</p> <pre><code>RNGkind(sample.kind=\"Rounding\")\n</code></pre> <p>to reproduce the results that did in prior versions of R.</p>"},{"location":"SAS/","title":"SAS","text":"workspace Base SAS"},{"location":"SQL/","title":"SQL \u7b14\u8bb0","text":"<ul> <li>\u5ed6\u96ea\u5cf0\uff1aSQL \u6559\u7a0b</li> </ul> <p>\u6b64\u524d\u4e00\u76f4\u6709\u4e2a\u56f0\u60d1\uff0c\u672c\u79d1\u9009\u4fee\u4e86\u4e00\u95e8\u8ddf\u6570\u636e\u5e93\u6709\u5173\u7684\u8bfe\u7a0b\uff0c\u5370\u8c61\u4e2d\u5173\u952e\u5b57\u90fd\u662f\u5927\u5199\u7684\uff0c\u7136\u800c\u78b0\u5230\u7684 MySQL \u8bed\u53e5\u90fd\u662f\u5c0f\u5199\u7684\u3002\u539f\u6765\uff0c</p> <p>SQL\u8bed\u8a00\u5173\u952e\u5b57\u4e0d\u533a\u5206\u5927\u5c0f\u5199\uff01\uff01\uff01\u4f46\u662f\uff0c\u9488\u5bf9\u4e0d\u540c\u7684\u6570\u636e\u5e93\uff0c\u5bf9\u4e8e\u8868\u540d\u548c\u5217\u540d\uff0c\u6709\u7684\u6570\u636e\u5e93\u533a\u5206\u5927\u5c0f\u5199\uff0c\u6709\u7684\u6570\u636e\u5e93\u4e0d\u533a\u5206\u5927\u5c0f\u5199\u3002\u540c\u4e00\u4e2a\u6570\u636e\u5e93\uff0c\u6709\u7684\u5728Linux\u4e0a\u533a\u5206\u5927\u5c0f\u5199\uff0c\u6709\u7684\u5728Windows\u4e0a\u4e0d\u533a\u5206\u5927\u5c0f\u5199\u3002</p>"},{"location":"SQL/#_1","title":"\u5173\u7cfb\u6a21\u578b","text":""},{"location":"SQL/#_2","title":"\u4e3b\u952e","text":"<p>\u539f\u5219\uff1a\u4e0d\u4f7f\u7528\u4efb\u4f55\u4e1a\u52a1\u76f8\u5173\u7684\u5b57\u6bb5\u4f5c\u4e3a\u4e3b\u952e\u3002\u5982\u8eab\u4efd\u8bc1\u53f7\u3001\u624b\u673a\u53f7\u3001\u90ae\u7bb1\u5730\u5740\u3002</p> <p>\u4f5c\u4e3a\u4e3b\u952e\u6700\u597d\u662f\u5b8c\u5168\u4e1a\u52a1\u65e0\u5173\u7684\u5b57\u6bb5\uff0c\u5982</p> <ul> <li>\u81ea\u589e\u6574\u6570\u7c7b\u578b</li> <li>\u5168\u5c40\u552f\u4e00 GUID/UUID \u7c7b\u578b\u3002</li> </ul> <p>\u8054\u5408\u4e3b\u952e\uff1a\u4e24\u4e2a\u53ca\u5176\u4ee5\u4e0a\u7684\u5b57\u6bb5\u90fd\u8bbe\u4e3a\u4e3b\u952e\u3002</p>"},{"location":"SQL/#_3","title":"\u5916\u952e","text":"<p>\u5916\u952e\u901a\u8fc7\u5b9a\u4e49\u7ea6\u675f\u5b9e\u73b0\uff0c</p> <pre><code>ALTER TABLE students\nADD CONSTRAINT fk_class_id\nFOREIGN KEY (class_id)\nREFERENCES classes (id);\n</code></pre> <p>\u5176\u4e2d\u7ea6\u675f\u7684\u540d\u79f0 <code>fk_class_id</code> \u53ef\u4ee5\u4efb\u610f\uff0c\u7b2c\u4e09\u884c\u6307\u5b9a\u4e86 <code>class_id</code> \u4f5c\u4e3a\u5916\u952e\uff0c\u800c\u7b2c\u56db\u884c\u6307\u5b9a\u4e86\u8fd9\u4e2a\u5916\u952e\u5c06\u5173\u8054\u5230 <code>classes</code> \u8868\u7684\u4e3b\u952e <code>id</code>.</p> <ul> <li>\u5916\u952e\u7ea6\u675f\u53ef\u4ee5\u4fdd\u8bc1\u65e0\u6cd5\u63d2\u5165\u65e0\u6548\u7684\u6570\u636e\u3002\u5982\u679c <code>classes</code> \u8868\u4e2d\u4e0d\u5b58\u5728 <code>id=99</code> \u7684\u8bb0\u5f55\uff0c\u5219 <code>students</code> \u8868\u4e5f\u5c31\u65e0\u6cd5\u63d2\u5165 <code>class_id=99</code> \u7684\u8bb0\u5f55\u3002</li> <li>\u5916\u952e\u7ea6\u675f\u4f1a\u964d\u4f4e\u6570\u636e\u5e93\u7684\u6027\u80fd\uff0c\u5927\u90e8\u5206\u4e92\u8054\u7f51\u5e94\u7528\u7a0b\u5e8f\u4e3a\u4e86\u8ffd\u6c42\u901f\u5ea6\uff0c\u5e76\u4e0d\u8bbe\u7f6e\u5916\u952e\u7ea6\u675f\uff0c\u800c\u662f\u4ec5\u9760\u5e94\u7528\u7a0b\u5e8f\u81ea\u8eab\u6765\u4fdd\u8bc1\u903b\u8f91\u7684\u6b63\u786e\u6027\u3002</li> </ul> <p>\u5220\u9664\u5916\u952e\u7ea6\u675f\uff1a</p> <pre><code>ALTER TABLE students\nDROP FOREIGN KEY fk_class_id;\n</code></pre> <p>\u8fd9\u5e76\u4e0d\u4f1a\u5220\u9664\u5916\u952e\u8fd9\u4e00\u5217\u3002</p>"},{"location":"SQL/#_4","title":"\u7d22\u5f15","text":"<p>\u7d22\u5f15\u662f\u5173\u7cfb\u6570\u636e\u5e93\u4e2d\u5bf9\u67d0\u4e00\u5217\u6216\u591a\u4e2a\u5217\u7684\u503c\u8fdb\u884c\u9884\u6392\u5e8f\u7684\u6570\u636e\u7ed3\u6784\u3002\u901a\u8fc7\u4f7f\u7528\u7d22\u5f15\uff0c\u53ef\u4ee5\u8ba9\u6570\u636e\u5e93\u7cfb\u7edf\u4e0d\u5fc5\u626b\u63cf\u6574\u4e2a\u8868\uff0c\u800c\u662f\u76f4\u63a5\u5b9a\u4f4d\u5230\u7b26\u5408\u6761\u4ef6\u7684\u8bb0\u5f55\uff0c\u8fd9\u6837\u5c31\u5927\u5927\u52a0\u5feb\u4e86\u67e5\u8be2\u901f\u5ea6\u3002\u539f\u7406\u53c2\u89c1 \u77e5\u4e4e\uff1a\u6df1\u5165\u6d45\u51fa\u6570\u636e\u5e93\u7d22\u5f15\u539f\u7406\u3002</p> <pre><code>ALTER TABLE students\nADD INDEX idx_score (score);\n</code></pre> <p>\u8fd9\u4f7f\u7528\u5217 <code>score</code> \u7684\u540d\u79f0\u4e3a <code>idx_score</code> \u7684\u7d22\u5f15\u3002</p> <ul> <li>\u7d22\u5f15\u7684\u6548\u7387\u53d6\u51b3\u4e8e\u7d22\u5f15\u5217\u7684\u503c\u662f\u5426\u6563\u5217\uff0c\u5373\u8be5\u5217\u7684\u503c\u5982\u679c\u8d8a\u4e92\u4e0d\u76f8\u540c\uff0c\u90a3\u4e48\u7d22\u5f15\u6548\u7387\u8d8a\u9ad8\u3002</li> <li>\u7d22\u5f15\u7684\u4f18\u70b9\u662f\u63d0\u9ad8\u4e86\u67e5\u8be2\u6548\u7387\uff0c\u7f3a\u70b9\u662f\u5728\u63d2\u5165\u3001\u66f4\u65b0\u548c\u5220\u9664\u8bb0\u5f55\u65f6\uff0c\u9700\u8981\u540c\u65f6\u4fee\u6539\u7d22\u5f15\uff0c\u56e0\u6b64\uff0c\u7d22\u5f15\u8d8a\u591a\uff0c\u63d2\u5165\u3001\u66f4\u65b0\u548c\u5220\u9664\u8bb0\u5f55\u7684\u901f\u5ea6\u5c31\u8d8a\u6162\u3002</li> <li>\u5173\u7cfb\u6570\u636e\u5e93\u4f1a\u81ea\u52a8\u5bf9\u5176\u521b\u5efa\u4e3b\u952e\u7d22\u5f15\u3002\u4f7f\u7528\u4e3b\u952e\u7d22\u5f15\u7684\u6548\u7387\u662f\u6700\u9ad8\u7684\uff0c\u56e0\u4e3a\u4e3b\u952e\u4f1a\u4fdd\u8bc1\u7edd\u5bf9\u552f\u4e00\u3002</li> </ul> <p>\u53e6\u5916\u53ef\u4ee5\u6307\u5b9a <code>UNIQUE</code> \u6765\u521b\u5efa\u552f\u4e00\u7d22\u5f15\uff0c</p> <pre><code>ALTER TABLE students\nADD UNIQUE INDEX uni_name (name);\n</code></pre> <p>\u4e5f\u53ef\u4ee5\u53ea\u5bf9\u67d0\u4e00\u5217\u6dfb\u52a0\u4e00\u4e2a\u552f\u4e00\u7684\u7ea6\u675f\u800c\u4e0d\u521b\u5efa\u7d22\u5f15\u3002</p> <pre><code>ALTER TABLE students\nADD CONSTRAINT uni_name UNIQUE (name);\n</code></pre>"},{"location":"SQL/#operations-on-databases","title":"Operations on Databases","text":""},{"location":"SQL/#create","title":"create","text":"<p>the script is downloaded from init-test-data.sql</p> <pre><code>$ mysql -u root -p &lt; init-test-data.sql \nEnter password: \nresult:\nok\n</code></pre> <p>Warning</p> <p>The creation of databases require <code>root</code>, and other users would fail.</p> <p>ERROR 1044 (42000) at line 2: Access denied for user \u2018weiya\u2019@\u2019%\u2019 to database \u2018test\u2019</p>"},{"location":"SQL/#grant-privileges","title":"grant privileges","text":"<p>we can check the privileges of one user</p> <pre><code>mysql&gt; show grants for 'weiya'@'%';\n+------------------------------------------------------------------------------------------------------+\n| Grants for weiya@%                                                                                   |\n+------------------------------------------------------------------------------------------------------+\n| GRANT USAGE ON *.* TO 'weiya'@'%' IDENTIFIED BY PASSWORD '******************' |\n| GRANT ALL PRIVILEGES ON `FruitCupdb`.* TO 'weiya'@'%' WITH GRANT OPTION                              |\n+------------------------------------------------------------------------------------------------------+\n2 rows in set (0.00 sec)\n</code></pre> <p>where the <code>USAGE</code> in the first grant just means <code>no privileges</code>, see Why is a \u201cGRANT USAGE\u201d created the first time I grant a user privileges? for more details.</p> <ul> <li>grant all privileges to a user on a database</li> </ul> <pre><code>mysql&gt; grant all privileges on test.* to 'weiya'@'%';\n</code></pre> <p>where <code>test.*</code> means <code>database_name.table_name</code>.</p>"},{"location":"SQL/#query","title":"query","text":"<ul> <li>\u57fa\u672c\u67e5\u8be2\uff1a\u8fd4\u56de\u6240\u6709\u884c\u548c\u5217\uff1a<code>select * from test.students;</code><ul> <li>\u4e0d\u5e26 <code>from</code> \u5b50\u53e5\u7684 <code>select</code> \u8bed\u53e5\u53ef\u4ee5\u7528\u4e8e\u8ba1\u7b97\uff0c<code>select 100+100;</code>\uff0c\u6216\u8005\u7528\u4e8e\u5224\u65ad\u5f53\u524d\u5230\u6570\u636e\u5e93\u7684\u8fde\u63a5\u662f\u5426\u6709\u6548\uff0c\u6bd4\u5982\u7528<code>select 1;</code>\u3002</li> </ul> </li> <li>\u6761\u4ef6\u67e5\u8be2\uff1a<code>select * from &lt;table&gt; where [NOT] condition1 AND/OR condition2;</code></li> <li>\u6295\u5f71\u67e5\u8be2\uff1a<code>select col1, col2 from ...;</code><ul> <li>\u53ef\u4ee5\u91c7\u7528\u7a7a\u683c\u5bf9\u5217\u540d\u8fdb\u884c\u91cd\u547d\u540d\uff1a<code>select col1 newcol1, col2 from ...;</code></li> </ul> </li> <li>\u6392\u5e8f: <code>select col1 from ... ordered by colx [DESC] [, coly];</code> \u5176\u4e2d <code>DESC</code> \u8868\u793a\u964d\u5e8f</li> <li>\u5206\u9875\u67e5\u8be2\uff1a <code>select ... limit &lt;M&gt; offset &lt;N&gt;;</code> \u5176\u4e2d <code>offset</code> \u8868\u793a\u5f00\u59cb\u8ba1\u6570\u7684 index\uff0cSQL\u8bb0\u5f55\u96c6\u7684\u7d22\u5f15\u4ece0\u5f00\u59cb\uff0c<code>limit</code> \u8868\u793a\u6700\u591a\u7684\u6761\u6570\u3002</li> <li>\u805a\u5408\u67e5\u8be2\uff1a<code>select count(*) num from students;</code>, \u5176\u4e2d <code>num</code> \u4e3a\u8bbe\u7f6e\u7684\u522b\u540d\u3002<ul> <li>\u5176\u5b83\u805a\u5408\u51fd\u6570\uff0c<code>SUM()</code>, <code>AVG()</code>, <code>MAX()</code>, <code>MIN()</code>,\u524d\u4e24\u8005\u8981\u6c42\u6570\u503c\u7c7b\u578b\uff0c\u800c\u540e\u4e24\u4e2a\u53ef\u4ee5\u7528\u4e8e\u5b57\u7b26\u4e32</li> <li>\u5982\u679c <code>where</code> \u6761\u4ef6\u6ca1\u6709\u5339\u914d\u5230\u4efb\u4f55\u884c\uff0c\u5219 <code>count()</code> \u8fd4\u56de 0\uff0c\u800c\u5176\u5b83\u56db\u4e2a\u805a\u5408\u51fd\u6570\u8fd4\u56de <code>NULL</code>\u3002</li> </ul> </li> <li>\u591a\u8868\u67e5\u8be2\uff0c\u6bd4\u5982</li> </ul> <pre><code>SELECT\ns.id sid,\ns.name,\ns.gender,\ns.score,\nc.id cid,\nc.name cname\nFROM students s, classes c\nWHERE s.gender = 'M' AND c.id = 1;\n</code></pre> <ul> <li>\u8fde\u63a5 (join) \u67e5\u8be2\uff1a\u5148\u786e\u5b9a\u4e3b\u8868\uff0c\u7136\u540e\u628a\u53e6\u4e00\u4e2a\u8868\u7684\u6570\u636e\u9644\u52a0\u5230\u7ed3\u679c\u96c6\u4e0a<ul> <li>inner join: \u4e24\u5f20\u8868\u90fd\u5b58\u5728\u7684\u8bb0\u5f55</li> <li>left/right outer join: \u5de6\uff08\u53f3\uff09\u8868\u5b58\u5728\u7684\u8bb0\u5f55\uff0c\u4e0d\u5b58\u5728\u7684\u586b\u5145\u4e3a NULL</li> <li>full outer join: \u5de6\u53f3\u8868\u90fd\u5b58\u5728\u7684\u8bb0\u5f55</li> </ul> </li> </ul>"},{"location":"SQL/#modify","title":"modify","text":"<ul> <li>insert</li> </ul> <pre><code>INSERT INTO &lt;\u8868\u540d&gt; (\u5b57\u6bb51, \u5b57\u6bb52, ...) VALUES (\u503c1, \u503c2, ...);\n</code></pre> <ul> <li>update</li> </ul> <pre><code>UPDATE &lt;\u8868\u540d&gt; SET \u5b57\u6bb51=\u503c1, \u5b57\u6bb52=\u503c2, ... WHERE ...;\n</code></pre> <ul> <li>delete</li> </ul> <pre><code>DELETE FROM &lt;\u8868\u540d&gt; WHERE ...;\n</code></pre>"},{"location":"SQL/#manage","title":"manage","text":"<ul> <li><code>show databases;</code></li> <li><code>create/drop database XX;</code></li> <li><code>use XX;</code></li> <li><code>show tables;</code></li> <li><code>create/drop table XX;</code></li> <li>\u67e5\u770b\u8868\u7684\u7ed3\u6784\uff1a<code>DESC XX;</code></li> <li>\u67e5\u770b\u521b\u5efa\u8868\u7684sql\u8bed\u53e5\uff1a<code>show create table XX;</code></li> <li>\u65b0\u589e\u5217\uff1a<code>alter table XX add column XX VARCHAR(10) NOT NULL;</code></li> <li>\u4fee\u6539\u5217\uff1a<code>alter table XX change column XX YY VARCHAR(20) NOT NULL;</code></li> <li>\u5220\u9664\u5217\uff1a<code>alter table XX drop column XX;</code></li> </ul>"},{"location":"SQL/#other-tips","title":"other tips","text":"<ul> <li>\u63d2\u5165\u6216\u66ff\u6362\uff1a<code>REPLACE INTO students (id, class_id, name, gender, score) VALUES (1, 1, '\u5c0f\u660e', 'F', 99);</code></li> <li>\u63d2\u5165\u6216\u66f4\u65b0\uff1a<code>INSERT INTO students (id, class_id, name, gender, score) VALUES (1, 1, '\u5c0f\u660e', 'F', 99) ON DUPLICATE KEY UPDATE name='\u5c0f\u660e', gender='F', score=99;</code></li> <li>\u63d2\u5165\u6216\u5ffd\u7565\uff1a<code>INSERT IGNORE INTO students (id, class_id, name, gender, score) VALUES (1, 1, '\u5c0f\u660e', 'F', 99);</code></li> <li>\u5feb\u7167\uff1a<code>CREATE TABLE students_of_class1 SELECT * FROM students WHERE class_id=1;</code></li> <li>\u5199\u5165\u67e5\u8be2\u7ed3\u679c\u96c6\uff1a<code>INSERT INTO statistics (class_id, average) SELECT class_id, AVG(score) FROM students GROUP BY class_id;</code></li> <li>\u5f3a\u5236\u4f7f\u7528\u6307\u5b9a\u7d22\u5f15\uff1a<code>SELECT * FROM students FORCE INDEX (idx_class_id) WHERE class_id = 1 ORDER BY id DESC;</code></li> </ul>"},{"location":"SQL/#_5","title":"\u4e8b\u52a1","text":"<p>\u8fd9\u79cd\u628a\u591a\u6761\u8bed\u53e5\u4f5c\u4e3a\u4e00\u4e2a\u6574\u4f53\u8fdb\u884c\u64cd\u4f5c\u7684\u529f\u80fd\uff0c\u88ab\u79f0\u4e3a\u6570\u636e\u5e93\u4e8b\u52a1\u3002\u6570\u636e\u5e93\u4e8b\u52a1\u53ef\u4ee5\u786e\u4fdd\u8be5\u4e8b\u52a1\u8303\u56f4\u5185\u7684\u6240\u6709\u64cd\u4f5c\u90fd\u53ef\u4ee5\u5168\u90e8\u6210\u529f\u6216\u8005\u5168\u90e8\u5931\u8d25\u3002\u5982\u679c\u4e8b\u52a1\u5931\u8d25\uff0c\u90a3\u4e48\u6548\u679c\u5c31\u548c\u6ca1\u6709\u6267\u884c\u8fd9\u4e9bSQL\u4e00\u6837\uff0c\u4e0d\u4f1a\u5bf9\u6570\u636e\u5e93\u6570\u636e\u6709\u4efb\u4f55\u6539\u52a8\u3002</p>"},{"location":"SQL/#mysql","title":"MySQL","text":""},{"location":"SQL/#installation","title":"Installation","text":"<pre><code>$ sudo apt-get install mysql-server\n</code></pre> <p>\u5927\u6982\u662f\u5728\u505aFruitCup\u65f6\u5c31\u5df2\u7ecf\u5728 Aliyun \u7684 Ubuntu 14.04 \u4e0a\u88c5\u597d\u4e86 MySQL\uff0c\u5176\u7248\u672c\u4e3a</p> <pre><code>$ mysql --version\nmysql  Ver 14.14 Distrib 5.5.62, for debian-linux-gnu (x86_64) using readline 6.3\n</code></pre> <p>\u5728 WSL (Ubuntu 18.04.1 LTS) \u4e2d\u901a\u8fc7 <code>TAB</code> \u952e\uff0c\u53ef\u89c1\u5907\u9009\u53ef\u4ee5\u5b89\u88c5\u7684\u4e0e MySQL \u6709\u5173\u7684\u5305\u6709</p> <pre><code>$ sudo apt-get install mysql\nmysql-client           mysql-server-5.7       mysql-workbench\nmysql-client-5.7       mysql-server-core-5.7  mysql-workbench-data\nmysql-client-core-5.7  mysql-source-5.7       mysqltcl\nmysql-common           mysql-testsuite        mysqltuner\nmysql-sandbox          mysql-testsuite-5.7    \nmysql-server           mysql-utilities  </code></pre> <p>\u5728 T460P (Ubuntu 18.04) \u4e0a\u53ea\u88c5\u5ba2\u6237\u7aef\uff0c</p> <pre><code>~$ sudo apt install mysql-client-5.7\n~$ mysql --version\nmysql  Ver 14.14 Distrib 5.7.33, for Linux (x86_64) using  EditLine wrapper\n</code></pre> <p>2022-06-13</p> <p>\u56e0\u4e3a T460P \u7684\u78c1\u76d8\u7a7a\u95f4\u544a\u6025\uff0c\u6240\u4ee5\u60f3\u6e05\u7406\u4e0b\u4e0d\u5e38\u7528\u7684\u8f6f\u4ef6\uff08\u53e6\u89c1 \uff09\uff0c\u4e8e\u662f\u53d1\u73b0\u4e86\u5b83\uff0c\u6ce8\u610f\u5230\u6b64\u65f6\u7cfb\u7edf\u5df2\u7ecf\u66f4\u65b0\u4e3a Ubuntu 20.04.4 LTS</p> <pre><code>$ apt list --installed | grep local\nmysql-client-5.7/now 5.7.35-0ubuntu0.18.04.1 amd64 [installed,local]\nmysql-client-core-5.7/now 5.7.35-0ubuntu0.18.04.1 amd64 [installed,local]\n</code></pre> <p>\u5378\u8f7d\u524d</p> <pre><code>~$ df -h\n/dev/sda5       102G   92G  4.4G  96% /\n</code></pre> <p>\u4f7f\u7528\u4e0b\u9762\u547d\u4ee4\u5378\u8f7d\u540e</p> <pre><code>$ sudo apt purge mysql-client-5.7 \n$ sudo apt purge mysql-client-core-5.7 \n$ sudo apt autoremove </code></pre> <p>\u78c1\u76d8\u7a7a\u95f4\u7adf\u7136\u6ca1\u600e\u4e48\u53d8\u6362\uff0c\u539f\u6765 mysql \u5e76\u4e0d\u5927\u3002</p> <pre><code>$ df -h\n/dev/sda5       102G   92G  4.5G  96% /\n</code></pre>"},{"location":"SQL/#login-in","title":"Login in","text":"<ul> <li>login with explicit password: <code>mysql -u USERNAME -pXXXX</code>, where no spaces after <code>-p</code></li> <li>enter password invisibly: <code>mysql -u USERNAME -p</code></li> <li>login from local: <code>mysql -h IP -u USERNAME -p</code>, where the user requires to be accessed from <code>%</code> host, and make sure no firewall on the 3306 port.</li> </ul> <p>\u6ce8\u610f\u5230\uff0c<code>mysql</code> \u5b9e\u9645\u4e0a\u662f MySQL \u5ba2\u6237\u7aef\uff0c\u800c\u771f\u6b63\u7684 MySQL \u670d\u52a1\u5668\u7a0b\u5e8f\u662f mysqld. \u5728 Client \u7aef\u8f93\u5165\u7684 SQL \u8bed\u53e5\u901a\u8fc7 TCP \u8fde\u63a5\u53d1\u9001\u5230 MySQL Server\u3002\u9ed8\u8ba4\u7aef\u53e3\u53f7\u662f 3306\uff0c\u5373\u5982\u679c\u53d1\u9001\u5230\u672c\u673a\u7684 MySQL Server, \u5730\u5740\u5373\u4e3a <code>127.0.0.1:3306</code>.</p>"},{"location":"SQL/#forget-root-password","title":"Forget root password","text":"<p>Follow the steps in Step by step guide to reset root password in Mysql</p> <pre><code># login as root\n$ su\n$ service mysql stop # change to mysqld for centos\n$ mysqld_safe \u2013skip-grant-tables &amp; # the option is NOT recommended &amp; should only be done to reset the password\n# login to mysql\n$ mysql\n# update password\nmysql&gt; UPDATE mysql.user SET Password=PASSWORD('updated-password') WHERE User='root';\n# exit safely\nmysql&gt; flush privileges;\nmysql&gt; exit;\n# restart mysql \n$ service mysql restart\n</code></pre>"},{"location":"SQL/#manage-users","title":"Manage users","text":"<ul> <li>list all mysql user accounts</li> </ul> <pre><code>mysql&gt; select user, host from mysql.user;\n+------------------+-----------+\n| user             | host      |\n+------------------+-----------+\n| weiya            | %         |\n| root             | 127.0.0.1 |\n</code></pre> <p>where <code>%</code> means the user <code>weiya</code> can login the mysql from anywhere.</p> <ul> <li>change user password: similar as for the above root user</li> </ul> <pre><code>mysql&gt; update mysql.user set password=PASSWORD('XXXXXXXXX') where User='weiya';\n</code></pre> <p>refer to  - How to Create MySQL Users Accounts and Grant Privileges - How to Manage MySQL Databases and Users from the Command Line</p>"},{"location":"SQL/#sqlite","title":"SQLite\u8fde\u63a5\u5b57\u7b26\u4e32","text":"<p>\u53c2\u8003SQLite \u8fde\u63a5\u4e24\u4e2a\u5b57\u7b26\u4e32</p> <p>SQLite\u4e2d\uff0c\u8fde\u63a5\u5b57\u7b26\u4e32\u4e0d\u662f\u4f7f\u7528+\uff0c\u800c\u662f\u4f7f\u7528||</p> <pre><code>SELECT 'I''M '||'Chinese.' </code></pre> <p>notes: 1.  <pre><code>SELECT 'I''M '+'Chinese.' </code></pre> \u5c06\u8f93\u51fa0. 2. \u9ed8\u8ba4\u60c5\u51b5\u4e0b, \u2018\u662f\u5b57\u7b26\u4e32\u7684\u8fb9\u754c\u7b26, \u5982\u679c\u5728\u5b57\u7b26\u4e32\u4e2d\u5305\u542b\u2019, \u5219\u5fc5\u987b\u4f7f\u7528\u4e24\u4e2a\u2019, \u7b2c1\u4e2a\u2019\u5c31\u662f\u8f6c\u4e49\u7b26\u3002</p>"},{"location":"SQL/#sqlite_1","title":"\u53d6\u5f97sqlite\u6570\u636e\u5e93\u91cc\u6240\u6709\u7684\u8868\u540d &amp;\u590d\u5236\u8868","text":"<p>\u53d6\u5f97sqlite\u6570\u636e\u5e93\u91cc\u6240\u6709\u7684\u8868\u540d &amp;\u590d\u5236\u8868</p>"},{"location":"TeX/","title":"\u5173\u4e8e TeX","text":"<ul> <li>Online LaTeX Editor: https://latex.codecogs.com/eqneditor/editor.php</li> </ul>"},{"location":"TeX/#installation-of-texlive","title":"Installation of TeXLive","text":"<p>TL;DR</p> <p>Following the official instruction,</p> <ol> <li>download <code>install-tl</code></li> <li>run it, and optionally specify the mirror location for faster download speed</li> </ol>"},{"location":"TeX/#2021-on-rocky","title":"2021 on Rocky","text":"<p>did not click <code>create symlinks to standard directories</code> after running <code>./install-tl</code></p> <p>create module file, <code>/usr/share/Modules/modulefiles/texlive/2021</code>,</p> <pre><code>set     version         2021\nset     app             texlive\nset     modroot         /usr/local/$app/$version\n\nprepend-path PATH $modroot/bin/x86_64-linux\nprepend-path MANPATH $modroot/texmf-dist/doc/man\nprepend-path INFOPATH $modroot/texmf-dist/doc/info\n</code></pre> <p>then call it after loading the module,</p> <pre><code>$ which pdflatex\n/usr/bin/pdflatex\n$ module load texlive/2021 \n$ which pdflatex\n/usr/local/texlive/2021/bin/x86_64-linux/pdflatex\n</code></pre>"},{"location":"TeX/#2017-2020","title":"2017 -&gt; 2020","text":"<p>The TeXLive 2017 for Ubuntu cannot work for me, it reports</p> <p>fatal: Could not undump 6994 4-byte item(s) \u2026</p> <p>and try</p> <p>fmtutil-sys \u2013all</p> <p>refer to Error Message: \u201ctex: fatal: Could not undump 1 4-byte item(s) from\u201d, but does not work.</p> <p>And I also try uninstall and reinstall TexLive, but it still does not work.</p> <p>Then finally I decided to install the latest TeXLive 2020, TeX Live - Quick install, follow the instructions, but note that the mirror url should append <code>path/systems/texlive/tlnet</code>.</p> <pre><code>install-tl --location http://mirror.example.org/ctan/path/systems/texlive/tlnet\n</code></pre> <p>And note that the steps for completely removing the installed TeXLive.</p> <p>If without root privilege, when running <code>install-tl</code>, type <code>D</code> to change the directory, and actually changing the first <code>&lt;1&gt;</code> would change all other directories.</p>"},{"location":"TeX/#portable-mode","title":"portable mode","text":"<p>Info</p> <p>Date: Mar 22, 2019</p> <p>\u76ee\u524d\u7b14\u8bb0\u672c\u4e0a texlive \u8fd8\u662f 2015 \u7248\u7684\uff0c\u800c TikePictures.jl \u8981\u6c42\u7684 lualatex \u8dd1\u4e0d\u6210\u529f\uff0c\u6709 bug\u3002\u4e8e\u662f\u8003\u8651\u5b89\u88c5\u6700\u65b0\u7248 texlive 2018\uff0c\u53ea\u4e0d\u8fc7\u7b14\u8bb0\u672c\u786c\u76d8\u7a7a\u95f4\u4e0d\u591f\uff0c\u51b3\u5b9a\u5728\u79fb\u52a8\u786c\u76d8\u4e2d\u5b89\u88c5 texlive\u3002</p> <p>TexLive \u5b98\u65b9\u8bf4\u660e\u6587\u6863\u4e5f\u4ecb\u7ecd\u4e86 <code>-portable</code> \u7684\u5b89\u88c5\u9009\u9879\uff0c</p> <p></p> <p>\u5176\u4e0e\u6b63\u5e38\u5b89\u88c5\u65f6\u73af\u5883\u53d8\u91cf\u7565\u6709\u4e0d\u540c\uff0c\u6ca1\u6709\u5355\u72ec\u8bbe\u7f6e personal \u7684\u914d\u7f6e\u8def\u5f84\uff0c\u6216\u8bb8\u8fd8\u6709\u5176\u4ed6\u5730\u65b9\u7684\u533a\u522b\u3002</p> <p>\u53e6\u5916\u5b89\u88c5\u65f6\u78b0\u5230\u9ed8\u8ba4\u7684 mirror \u901f\u5ea6\u5f88\u6162\u7684\u60c5\u51b5\uff0c\u4e8e\u662f\u8003\u8651\u6362\u6210\u6700\u8fd1\u7684\u534e\u4e3a\u4e91\u3002</p> <pre><code>./install-tl -repository https://mirrors.huaweicloud.com/repository/toolkit/CTAN/systems/texlive/tlnet/\n</code></pre> <p>\u8def\u5f84\u8981\u6307\u5b9a\u6210</p> <pre><code>&lt;CTAN/mirror/root/URL&gt;/systems/texlive/tlnet\n</code></pre> <p>\u53c2\u8003 Change TeX Live Main Repository</p>"},{"location":"TeX/#basic","title":"Basic","text":"<ul> <li>space after LaTeX commands, </li> </ul> <pre><code>\\usepackage{xspace}\n\\newcommand\\foo{foo\\xspace}\n</code></pre> <ul> <li>non-breaking space <code>~</code> in <code>Figure~\\ref{fig:}</code>.</li> </ul>"},{"location":"TeX/#line-breaks","title":"line breaks","text":"<ul> <li><code>\\\\</code>, <code>\\newline</code>, <code>\\tabularnewline</code> : when writing a table, the first one can be confused, while the second one ends the line in a cell, and the latter ends the rows of the table. A good side is that when writing tex using julia, <code>raw\"\\command\"</code> does not need to escape <code>\\</code>, but it is still required to use <code>raw\"\\\\\\\\\"</code> to represent <code>\\\\</code>.</li> <li>break line in cells of table: <code>\\makecell{A\\\\ B}</code> after loading <code>\\usepackage{makecell}</code>. </li> </ul>"},{"location":"TeX/#at-the-end-of-lines","title":"<code>%</code> at the end of lines","text":"<p>since <code>%</code> starts a comment that goes to the end of the line, then the normal effect is that it does not insert the space (or a <code>par</code>) from the newline. It would be necessary when creating multiple figures horizontally using <code>subfigure</code> environment. An real example. More details can be found in What is the use of percent signs (%) at the end of lines?</p>"},{"location":"TeX/#fontsize","title":"fontsize","text":"<p>In the following command</p> <pre><code>\\documentclass[12pt]{article}\n</code></pre> <p>the option can be recongized only <code>10pt</code>, <code>11pt</code> and <code>12pt</code>.</p> <p>Refer to How is 14pt giving font size smaller than 12pt?</p>"},{"location":"TeX/#punctuation-in-formula","title":"punctuation in formula","text":"<p>Displayed equation usually are considered to be part of the preceding sentence, that is it will get the very same punctuation as if it was inline math</p> <p>Refer to For formal articles, should a displayed equation be followed by a punctuation to conform to the language grammar?</p>"},{"location":"TeX/#misc","title":"misc","text":"<ul> <li>symbols instead of numbers a footnote markers: <code>\\usepackage[symbol]{footmisc}</code></li> </ul>"},{"location":"TeX/#two-columns","title":"Two Columns","text":"<ul> <li>use star version <code>table*</code> and <code>figure*</code> to cross two columns, and note that not support <code>[H]</code> option. See also , </li> <li>use <code>\\columnwidth</code> instead of <code>\\textwidth</code> (or use <code>0.5\\textwidth</code>), see also </li> </ul>"},{"location":"TeX/#beamer","title":"Beamer","text":"<ul> <li>customize aspect ratio, from default 4:3 to 16:9 : <code>\\documentclass[aspectratio=169]{beamer}</code> </li> </ul>"},{"location":"TeX/#fragile-option","title":"fragile option","text":"<p>\u53c2\u8003 LaTeX \u6280\u5de7 573\uff1abeamer \u4e2d\u4f7f\u7528 Listings \u5305\u51fa\u73b0\u7684\u9519\u8bef</p> <p>\u9519\u8bef\u63cf\u8ff0</p> <pre><code>Runaway argument?\n! Paragraph ended before \\lst@next was complete.\n&lt;to be read again&gt;\n                   \\par\nl.68 \\end{frame}\n?\n</code></pre> <p>\u89e3\u51b3\u65b9\u6848</p> <pre><code>\\begin{frame}[fragile]\n\\frametitle{Your title}\n\n\\begin{lstlisting}\ncode\n\\end{lstlisting}\n\\end{frame}\n</code></pre>"},{"location":"TeX/#incompatible-with-enumitem","title":"incompatible with enumitem","text":"<p>\u8be6\u89c1lists - Trouble combining enumitem and beamer - TeX - LaTeX Stack Exchange</p> <p>\u6458\u5f55\u5176\u4e2d\u4e00\u53e5\u8bdd</p> <p>enumitem \u201cdisturbs\u201d beamer.</p> <p>\u800c\u5176\u4e2d <code>enumitem</code> \u53ef\u4ee5\u5b9e\u73b0\u5c06\u5217\u8868\u7684\u5e8f\u53f7\u7531\u6570\u5b57\u6539\u6210\u5b57\u6bcd\uff0c\u8be6\u89c1 How do I change the <code>enumerate</code> list format to use letters instead of the default Arabic numerals?</p>"},{"location":"TeX/#import-video","title":"import video","text":"<p>Can XeLaTeX | LuaTeX import movies?</p> <p>\u4e4b\u524d\u7528 xelatex + animate \u8bd5\u8fc7\u5c55\u793a\u52a8\u6001\u89c6\u9891\uff0c\u4f46\u662f\u53ea\u80fd\u5728 Acrobat Reader \u4e2d\u8d77\u4f5c\u7528\uff0c\u4e0d\u80fd\u5728 Ubuntu 18.04 \u4e0a\u901a\u8fc7 evince \u6216\u8005 okular \u64ad\u653e\u3002\u53c2\u8003 How to make Okular play embedded video\uff0c\u5efa\u8bae\u4f7f\u7528 multimedia \u5305\uff0c\u4f46\u662f\u8fd9\u4e2a\u5305\u4e0d\u652f\u6301 xelatex\uff0c\u4f1a\u62a5\u9519</p> <p>! Undefined control sequence.  \\pdfmark <p>\u53c2\u8003 multimedia \u7684\u6587\u6863\uff0c\u91cc\u9762\u786e\u5b9e\u5f3a\u8c03\u4e86\uff0c</p> <p>The package can be used together with both dvips plus ps2pdf and pdflatex, though the special sound support is available only in pdflatex.</p> <p>\u6240\u4ee5\u53ea\u80fd\u7528 pdflatex, \u4e0d\u8fc7\u6839\u636e Video in Beamer with multimedia, undefined control sequence, \u4f3c\u4e4e\u4e5f\u53ef\u4ee5\u7528 LuaLaTeX.</p>"},{"location":"TeX/#fonts","title":"Fonts","text":"<ul> <li>Overleaf: Font sizes, families, and styles</li> </ul>"},{"location":"TeX/#some-nice-font-family","title":"some nice font family","text":"<p>refer to Suggest a \u201cnice\u201d font family for my basic LaTeX template (text and math)</p> <p>and currently I prefer to <code>newpxtext</code> and <code>newpxmath</code>.</p>"},{"location":"TeX/#missing-font","title":"missing font","text":"<p>\u62a5\u9519\u4fe1\u606f\u5982\u4e0b\u56fe</p> <p></p> <p>\u89e3\u51b3\u65b9\u6848\u4e3a <pre><code>sudo apt-get install texlive-fonts-extra\n</code></pre></p> <p>\u6709\u65f6\u9700\u8981\u8003\u8651 <pre><code>sudo apt-get install texlive-fonts-recommand\n</code></pre></p>"},{"location":"TeX/#common-font-styles-in-math-formula","title":"common font styles in math formula","text":"<p>refer to What are all the font styles I can use in math mode?</p>"},{"location":"TeX/#bold-math-formula","title":"bold math formula","text":"<p>\u4f7f\u7528 <code>\\mathbf</code> \u52a0\u7c97\u5b8c\u540e\u659c\u4f53\u4e0d\u89c1\u4e86\uff0c\u8fd9\u4e0d\u662f\u60f3\u8981\u7684\u7ed3\u679c</p> <pre><code>\\usepackage{amsmath}\n\\boldmath\n$$\nf(x,y) = 3(x+y)y / (2xy-7)\n$$\n\\unboldmath\n</code></pre> <p>\u6216</p> <pre><code>\\usepackage{bm}\n$$\n\\bm{f(x,y) = 3(x+y)y / (2xy-7)}\n$$\n</code></pre> <p>\u53c2\u8003 LaTeX \u6570\u5b66\u5b57\u4f53\u52a0\u7c97\u95ee\u9898</p>"},{"location":"TeX/#use-serif-math-font-in-beamer","title":"use serif math font in beamer","text":"<p>\u9ed8\u8ba4\u6570\u5b66\u5b57\u4f53\u633a\u4e11\u7684\uff0c\u53ef\u4ee5\u5728\u5bfc\u8a00\u533a\u52a0\u5165</p> <pre><code>\\usefonttheme[onlymath]{serif}\n</code></pre> <p>\u4e0b\u9762\u6458\u5f55\u81ea Beamer \u4e2d\u6570\u5b66\u7b26\u53f7\u5b57\u4f53 </p> <p>\u5173\u4e8etex\u7684\u5b57\u4f53\u6837\u5f0f\uff0c\u5176\u5b9e\u662f\u901a\u7528\u7684\uff0c\u4e0ecss\u548cwindows\u5b57\u4f53\u7b49\uff0c\u90fd\u662f\u901a\u7528\u7684\u3002\u6765\u6e90\u4e8e\u897f\u65b9\u7684\u5b57\u6bcd\u5199\u6cd5\uff0c\u5927\u81f4\u53ef\u5206\u4e3a\u4e24\u7c7b\uff1aserif \uff08\u886c\u7ebf\uff09\u548csans-serif\uff08\u65e0\u886c\u7ebf\uff09\u3002</p> <p>\u6240\u8c13\u886c\u7ebf\u662f\u5b57\u4f53\u7684\u672b\u7aef\u52a0\u5f3a\uff0c\u4fbf\u4e8e\u9605\u8bfb\u3002\u5982\u901a\u5e38\u89c1\u7684Times New Roman, \u5b8b\u4f53\u3002sans-serif\uff08sans \u6e90\u81ea\u6cd5\u8bed\uff0c\u8868\u793a\u201c\u6ca1\u6709\u201d\uff09\u5b57\u4f53\u7684\u4ee3\u8868\u5982Arial\uff0c\u96b6\u4e66\uff0c\u5e7c\u5706\u3002\u7531\u4e8e\u886c\u7ebf\u7684\u5f3a\u5316\u4f5c\u7528\uff0cserif\u5b57\u4f53\u4f5c\u4e3a\u6b63\u6587\u5177\u6709\u6613\u8bfb\u6027\u3002\u56e0\u6b64\u5b58\u5728\u5927\u6bb5\u6587\u672c\u7684\u60c5\u51b5\u4e0b\uff0c\u5e38\u4f7f\u7528\u886c\u7ebf\u5b57\u4f53\u3002\u4f46\u505a\u5e7b\u706f\u7247\u7684\u8bdd\uff0c\u886c\u7ebf\u5b57\u4f53\u4f1a\u56e0\u5b57\u4f53\u7c97\u7ec6\u4e0d\u540c\uff0c\u53cd\u5012\u53ef\u80fd\u964d\u4f4e\u8fa8\u8bc6\u5ea6\u3002\u56e0\u6b64\u5efa\u8bae\u6807\u9898\u7528\u886c\u7ebf\u5b57\u4f53\uff0c\u6b63\u6587\u7528\u975e\u886c\u7ebf\u5b57\u4f53\u3002</p> <p>\u6570\u5b66\u7b26\u53f7\u7528\u886c\u7ebf\u5b57\u4f53\u76f8\u5bf9\u7f8e\u89c2\u4e00\u4e9b\uff0c\u800cBeamer\u5982\u679c\u4e0d\u53e6\u884c\u8bbe\u7f6e\uff0c\u9ed8\u8ba4\u5168\u6587\u4f7f\u7528sans-serif\u5b57\u4f53\u3002\u56e0\u6b64\u6309\u4e0a\u8ff0\u65b9\u5f0f\u8bbe\u7f6e\u4e00\u4e0b\u5373\u53ef\u3002</p>"},{"location":"TeX/#list","title":"List","text":""},{"location":"TeX/#item","title":"\u8bbe\u7f6eitem\u4e4b\u95f4\u7684\u95f4\u9694","text":"<p>\u76f4\u63a5\u7528<code>itemsep</code>\u547d\u4ee4\uff0c\u5982</p> <pre><code>\\begin{itemize}\n  \\setlength\\itemsep{1em}\n  \\item one\n  \\item two\n  \\item three\n\\end{itemize}\n</code></pre>"},{"location":"TeX/#enumerate","title":"enumerate \u7f16\u53f7 \u6837\u5f0f\u8bbe\u5b9a","text":"<p>\u53c2\u8003latex \u5217\u4e3e enumerate \u7f16\u53f7 \u6837\u5f0f\u8bbe\u5b9a</p>"},{"location":"TeX/#itemize-item","title":"itemize \u73af\u5883\u4e0b\u4e0d\u540c item \u4e2d\u6570\u5b66\u516c\u5f0f\u5bf9\u9f50","text":"<p>\u53c2\u8003Sharing alignment between equations in two different items</p>"},{"location":"TeX/#low-level","title":"Low-Level","text":"<ul> <li>category codes: What are category codes?</li> <li><code>@</code> in an <code>\\if</code> statement: When to use @ in an \\if statement</li> <li><code>\\makeatletter</code> and <code>\\makeatother</code>: What do \\makeatletter and \\makeatother do?</li> </ul>"},{"location":"TeX/#bibliography","title":"Bibliography","text":"<ul> <li><code>biber</code> and <code>bibtex</code> are external programs to process <code>.bib</code> file</li> <li><code>biblatex</code> and <code>natbib</code> are LaTeX packages that format citations and bibliographies<ul> <li><code>natbib</code> works only with <code>bibtex</code></li> <li><code>biblatex</code> works with both <code>biber</code> and <code>bibtex</code></li> </ul> </li> <li>rm <code>In:</code>: insert <code>\\renewbibmacro{in:}{}</code> after loading the package <code>biblatex</code>.</li> </ul> <p>Refer to Bibtex, Latex compiling - TeX - LaTeX Stack Exchange</p> <p>Based on my understanding and experience, <code>biber + biblatex</code> is more advanced, and it can easily handle accent characters.</p> <ul> <li>(2021-10-07 20:55:35) Just encountered that accented characters are correctly displayed in <code>.bib</code> file as UTF8 encoding, but after processing with <code>bibtex</code>, the accented characters are messy. (Refer to  for more details.)</li> </ul>"},{"location":"TeX/#biblatex-natbib","title":"biblatex -&gt; natbib","text":"<p>Info</p> <p>Post: 2021-10-07 21:13:41 See also: </p> <p>To switch from \u201cbiblatex + biber\u201d to \u201cnatbib + bibtex\u201d, </p> biblatex + bibernatbib + bibtex <pre><code>\\usepackage[backend=biber,citestyle=authoryear,sortcites=true,natbib,sorting=nyt,style=apa]{biblatex}\n\\DeclareLanguageMapping{american}{american-apa}\n</code></pre> <pre><code>\\usepackage[authoryear]{natbib}\n\\bibliographystyle{imsart-nameyear}\n</code></pre> <p>We can just modify the header definition without replacing the commands in the main document.</p> <p>The idea is to define the command in <code>natbib+bibtex</code> as <code>biblatex+biber</code>, and keep the main content unchanged. Specifically,</p> <pre><code>\\newcommand{\\parencite}[1]{\\citep{#1}}\n\\newcommand{\\textcite}[1]{\\citet{#1}}\n% \\addbibresource{ref_biblatex.bib}\n\\newcommand{\\printbibliography}{\\bibliography{ref_bibtex.bib}}\n</code></pre> <p>A well known issue for biber older than 2.2</p> <p>missing recode_data.xml file</p>"},{"location":"TeX/#bibtex","title":"bibtex\u6587\u732e\u52a0\u989c\u8272","text":"<p>\u4e24\u79cd\u65b9\u5f0f</p> <p>\u7b2c\u4e00\u79cd</p> <pre><code>\\hypersetup{\n    colorlinks,\n    citecolor=green,\n    linkcolor=black\n}\n</code></pre> <p>\u4f46\u8fd9\u4e2a\u53ea\u4f1a\u5bf9\u53c2\u8003\u6587\u732e\u4e2d\u53ef\u70b9\u51fb\u7684\u90e8\u5206\u8d77\u4f5c\u7528\uff0c\u6bd4\u5982\u5b9e\u9645\u4e2d\u53ea\u5bf9\u5e74\u4efd\u8d77\u4e86\u4f5c\u7528\u3002</p> <p>\u7b2c\u4e8c\u79cd\u53ef\u4ee5\u81ea\u5b9a\u4e49\u547d\u4ee4</p> <pre><code>\\DeclareCiteCommand{\\cite}\n  {\\color{red}\\usebibmacro{prenote}}%\n  {\\usebibmacro{citeindex}%\n   \\usebibmacro{cite}}\n  {\\multicitedelim}\n  {\\usebibmacro{postnote}}\n\n\\DeclareCiteCommand{\\parencite}[\\mkcolorbibparens]\n  {\\usebibmacro{prenote}}%\n  {\\usebibmacro{citeindex}%\n   \\usebibmacro{cite}}\n  {\\multicitedelim}\n  {\\usebibmacro{postnote}}\n</code></pre> <p>\u53c2\u8003 Beamer, Citation coloring</p> <p>\u5b9e\u6218\u4f8b\u5b50\uff1aszcf-weiya/zju-thesis</p>"},{"location":"TeX/#modify-style-of-specific-field","title":"modify style of specific field","text":"<p>\u4f8b\u5982\u60f3\u52a0\u7c97\u5e76\u7528\u6a59\u8272\u663e\u793a <code>note</code> field, \u5219\u53ef\u4ee5\u91c7\u7528</p> <pre><code>\\DeclareFieldFormat{note}{\\bfseries\\color{orange}{#1}}\n</code></pre> <p>\u4f8b\u5982 </p> <p>\u53e6\u89c1 Biblatex Change field format for a specific entry type - TeX - LaTeX Stack Exchange</p>"},{"location":"TeX/#_1","title":"\u5c06\u5f15\u7528\u7684\u5e74\u4efd\u7528\u62ec\u53f7\u6846\u8d77\u6765","text":"<p>\u53c2\u8003Put parentheses around year in citation</p> <p>\u91c7\u7528<code>natbib</code>\u4e2d\u7684<code>\\citet</code></p> <p>\u4f46\u82e5\u5df2\u7ecf\u6309\u7167\u4e0a\u4e2a\u95ee\u9898\u8bbe\u7f6e\u4e86\u989c\u8272\uff0c\u5219\u989c\u8272\u5931\u6548\u3002</p>"},{"location":"TeX/#biblatexbiber-fails-with-a-strange-error-about-missing-recode_dataxml-file","title":"Biblatex/biber fails with a strange error about missing recode_data.xml file","text":"<p>\u53c2\u8003Biblatex/biber fails with a strange error about missing recode_data.xml file</p>"},{"location":"TeX/#apa","title":"APA","text":"<ul> <li>APA \u5e26\u7f16\u53f7</li> </ul> <p>\u9ed8\u8ba4 APA \u683c\u5f0f\u7684\u53c2\u8003\u6587\u732e\u662f\u4e0d\u5e26\u6807\u53f7\u7684\uff0c\u5982\u679c\u9700\u8981\uff0c\u53c2\u8003</p> <p>APA bibliography style with numbers</p> <ul> <li>\u4fdd\u7559\u5927\u5c0f\u5199</li> </ul> <p>\u9664\u4e86\u7b2c\u4e00\u4e2a\u5355\u8bcd\u7684\u9996\u5b57\u6bcd\uff0c\u9ed8\u8ba4\u4f1a\u5c06 title \u4e2d\u5176\u5b83\u5355\u8bcd\u7684\u9996\u5b57\u6bcd\u7684\u5927\u5199\u6539\u6210\u5c0f\u5199\uff0c\u5982\u679c\u6ca1\u6709\u88ab <code>{{}}</code> \u4fdd\u62a4\u7684\u8bdd\u3002</p> <p>\u4f7f\u7528</p> <pre><code>\\DeclareFieldFormat{apacase}{#1}\n</code></pre> <p>\u4f8b\u5982 </p>"},{"location":"TeX/#export-to-bib-from-zotero","title":"export to <code>.bib</code> from Zotero","text":"<p>Tip</p> <p>The plugin Better BibTeX can keep the <code>.bib</code> file once new references are added. Also, it can be exported to either <code>biblatex</code> or <code>bibtex</code>. </p> <ul> <li>With <code>biblatex</code>, do not care about the accented characters, just use its original format</li> <li>With <code>bibtex</code>, it will automatically convert the accented characters with necessary backslashes.</li> </ul> <p>The original abstract field is,</p> <p>Karhunen\u2013Lo`{e}ve decomposition</p> <p>after exporting to <code>.bib</code> file, it becomes</p> <p>Karhunen\u2013Lo{\\textbackslash}`{e}ve decomposition</p> <p>and it throws an error when compiling,</p> <p>! File ended while scanning use of \\field.</p> <p>My first solution is to check if there are some setting when exporting to <code>.bib</code> file to drop some field, such as abstract here, but finally I failed to find one, and here is a discussion in the Zotero community.</p> <p>Then I try to replace</p> <p>`{e}</p> <p>with</p> <p>{`e}</p> <p>in the Zotero\u2019s abstract field as said in How to write \u201c\u00e4\u201d and other umlauts and accented letters in bibliography?, which also list several accented characters,</p> <p>{\"a} {\\^e} {`i} {.I} {\\o} {'u} {\\aa} {\\c c} {\\u g} {\\l} {~n} {\\H o} {\\v r} {\\ss} {\\r u}</p> <p></p> <p>but it still doesnt work.</p> <p>Finally, I directly correct the exported file using the above technique, and it works. But I still think it is not a good idea since I prefer to export without any further modifications. [TODO]</p>"},{"location":"TeX/#display-full-name","title":"display full name","text":"<p>For <code>natbib</code>, check the documentation of <code>natbib</code> by typing</p> <pre><code>texdoc natbib\n</code></pre> <p><code>longnamesfirst</code> option will display full name for the first citation of any given reference, but all subsequent ones will be used with <code>et al.</code></p> <ul> <li>without <code>longnamesfirst</code>, all citations would be <code>et al.</code></li> <li>with <code>\\citet*</code>, <code>\\citep*</code>, the citation would be full author list.</li> </ul> <p>For <code>biblatex</code>, seems that we can set the global argument <code>maxcitenames</code> to control the number of author in the citation, such as only display all authors, of multi-author works, the first time a citation is used with biblatex</p>"},{"location":"TeX/#declarelanguagemapping","title":"DeclareLanguageMapping","text":"<pre><code>\\DeclareLanguageMapping{american}{american-apa}\n</code></pre> <p>refer to Problem with \\mkbibdateapalongextra of biblatex-apa</p>"},{"location":"TeX/#printbibliography","title":"printbibliography","text":"<pre><code>\\usepackage[american]{babel}\n\\usepackage[style=apa,backend=biber]{biblatex}\n\\DeclareLanguageMapping{american}{american-apa} %Literaturverzeichnis american-apa style\n\\addbibresource{library.bib}\n\\usepackage[babel,threshold=2]{csquotes}\n</code></pre> <p>and then</p> <pre><code>\\printbibliography[heading=bibintoc,title=References]\n</code></pre> <p>refer to Problems with \\printbibliography</p>"},{"location":"TeX/#tikz","title":"TiKZ","text":"<ul> <li> <p><code>tikzset</code>, <code>tikzstyle</code>, or directly around <code>tikzpicture</code>. </p> </li> <li> <p><code>xshift</code> for arrow: Start line shifted from anchor point node</p> </li> <li> <p>border of a shape inside</p> </li> <li> <p>label in place:</p> </li> </ul> <pre><code>  \\tikzset{%\n    in place/.style={\n      auto=false,\n      fill=white,\n      inner sep=2pt,\n    },\n  }\n</code></pre> <p>refer to avoid overlapping of labels and arcs in Tikz - TeX - LaTeX Stack Exchange</p> <ul> <li>axis title position: use <code>every axis title/.style={..}</code>, refer to pgfplot axis title position</li> </ul>"},{"location":"TeX/#figures","title":"Figures","text":"<ul> <li>force subfigures to have same height and scale proportionally: <ul> <li>examples: </li> </ul> </li> </ul>"},{"location":"TeX/#formula","title":"Formula","text":""},{"location":"TeX/#some-ways-to-number-equations","title":"Some ways to number equations","text":"<ul> <li><code>split</code> for a single number</li> <li><code>multiline</code> for a single number</li> <li><code>align*</code> with <code>tag</code></li> </ul> <p>more details refer to A test of Equation Numbering</p>"},{"location":"TeX/#align-multi-cases","title":"align multi cases","text":"<p>refer to How can I align multiple cases environment simultaneously?</p> <p>Key point: enclose one of the entries in the first <code>cases</code> environment in a box whose width is that of the longest of the second <code>cases</code> environment.</p> <p>or use <code>\\hphantom{}</code>.</p>"},{"location":"TeX/#hat","title":"\u5e26 <code>\\hat</code> \u65f6\u7684\u4e0a\u6807","text":"<pre><code>\\hat\\beta^n\n</code></pre>  \\hat\\beta^n  <p>\u548c</p> <pre><code>\\hat\\beta{}^n\n</code></pre>  \\hat\\beta{}^n   \\hat\\beta{}^n  <p>\u53c2\u8003 Position of superscript when superscriptd item has \\hat over it</p>"},{"location":"TeX/#_2","title":"\u4e8c\u9636\u5bfc\u6570\u7b26\u53f7","text":"<p>\u5728tex\u4e2d\u4e00\u822c\u76f4\u63a5\u7528</p> <pre><code>$f''$\n</code></pre> <p>\u4f46\u662f\u5728md\u4e2d\uff0c\u5f53\u6e32\u67d3\u6210\u7f51\u9875\u540e\uff0c\u6709\u65f6\u4f1a\u6e32\u67d3\u6210\u4e86\u666e\u901a\u7684\u5f15\u53f7\uff0c\u5982\u4e0b\u56fe</p> <p></p> <p>\u53c2\u8003How to write doubleprime in latex</p> <ol> <li><code>\\dprime</code>\u548c<code>\\trprime</code>\u9700\u8981<code>unicode-math</code></li> <li><code>f^{\\prime\\prime}</code>\u4ee3\u66ff<code>f''</code>\u53ef\u4ee5\u89e3\u51b3\u95ee\u9898\u3002</li> </ol>"},{"location":"TeX/#_3","title":"\u6570\u5b66\u516c\u5f0f\u63d2\u5165\u56fe\u7247","text":"<p>\u53c2\u8003 Can I insert an image into an equation?</p>"},{"location":"TeX/#_4","title":"\u540c\u65f6\u5728\u7b49\u53f7\u4e0a\u4e0b\u6ce8\u660e","text":"<p>\u53c2\u8003 Writing above and below a symbol simultaneously </p>"},{"location":"TeX/#hat-f","title":"<code>\\hat f</code> \u7684\u811a\u6807\u592a\u8fdc","text":"<p>\u5f53\u5bf9 <code>f</code> \u540c\u65f6\u52a0\u4e0a <code>hat</code> \u548c\u811a\u6807\u65f6\uff0c\u811a\u6807\u4f1a\u79bb\u5f97\u5f88\u8fdc\uff0c\u611f\u89c9\u5f88\u4e11\uff0c\u5982</p> <p></p> <p>\u4e00\u79cd\u89e3\u51b3\u65b9\u6848\u5982\u56fe\u6240\u793a\uff0c\u5c06 <code>hat</code> \u6846\u4f4f\u811a\u6807\u3002\u5f53\u7136\u8fd9\u4e2a\u89e3\u51b3\u65b9\u6848\u5bf9\u4e8e\u5176\u5b83\u5b57\u7b26\u5e76\u4e0d\u9700\u8981\uff0c\u6bd4\u5982\u5bf9\u4e8e <code>pi</code>, \u53cd\u800c\u4e0d\u597d\u3002</p>"},{"location":"TeX/#theorem","title":"Theorem","text":""},{"location":"TeX/#bold-for-theorem-title","title":"bold for theorem title.","text":"<p>Without <code>amsthm</code>, the title is bold by default. Refer to Title of the theorem.</p> <p>With <code>amsthm</code>, one solution is to add these in the preamble.</p> <pre><code>\\usepackage{amsthm}\n\\makeatletter\n\\def\\th@plain{%\n  \\thm@notefont{}% same as heading font\n  \\itshape % body font\n}\n\\def\\th@definition{%\n  \\thm@notefont{}% same as heading font\n  \\normalfont % body font\n}\n\\makeatother\n</code></pre> <p>refer to How to make the optional title of a theorem bold with amsthm?</p>"},{"location":"TeX/#proof-by-parts","title":"proof by parts","text":"<pre><code>\\newtheorem{proofpart}{Part}\n\\newtheorem{theorem}{Theorem}\n\\makeatletter\n\\@addtoreset{proofpart}{theorem}\n\\makeatother\n</code></pre> <p>here <code>\\@addtoreset{foo}{bar}</code> is to add counter <code>foo</code> to the list of counters <code>\\cl@bar</code> to be reset when counter <code>bar</code> is stepped.</p> <p>Refer to Parts numbering in Proofs</p>"},{"location":"TeX/#sty","title":"\u7f3a\u5c11 <code>.sty</code> \u6587\u4ef6","text":"<p>\u6bd4\u5982\u7f3a\u5c11 <code>mhchem.sty</code></p> <p><pre><code>! LaTeX Error: File 'mhchem.sty' not found\n</code></pre> \u89e3\u51b3\u65b9\u6848\u4e3a <pre><code># 1. \u68c0\u67e5\u662f\u5426\u5b58\u5728 `mhchem.sty` \u6587\u4ef6\n$ locate mhchem.sty\n# 2. \u67e5\u627e\u9700\u8981\u5b89\u88c5\u7684 package\n$ apt-cache search mhchem | grep tex\n# texlive-science - TeX Live: Natural and computer sciences\n# 3. \u5b89\u88c5\u76f8\u5e94\u7684package\n$ sudo apt-get install texlive-science\n</code></pre></p> <p>\u53c2\u8003 Latex can\u2019t find .sty files altough packages are installed \u2014 TexLive, Ubuntu 12.04</p>"},{"location":"TeX/#_5","title":"\u8c03\u6574\u76ee\u5f55\u7684\u663e\u793a\u5c42\u6570","text":"<p>\u5728\u4f7f\u7528 <code>tableofcontents</code> \u547d\u4ee4\u7684\u65f6\u5019\uff0c\u53ef\u5206\u522b\u663e\u793a <code>chapter</code>\uff0c<code>section</code>\uff0c<code>subsection</code>\uff0c<code>subsubsection</code> \u7b49\u76ee\u5f55\uff0c\u6709\u65f6\u5019\uff0c\u4e0d\u5e0c\u671b\u663e\u793a\u7ea7\u522b\u8f83\u4f4e\u7684\u5185\u5bb9\uff0c\u6bd4\u5982\u53ea\u663e\u793a\u5230 <code>chapter</code> \u548c <code>section</code>\uff0c\u800c <code>subsection</code> \u548c <code>subsubsection</code> \u4e0d\u663e\u793a\uff0c\u8fd9\u65f6\u5019\u53ef\u901a\u8fc7\u547d\u4ee4 <code>setcounter</code> \u547d\u4ee4\u6765\u63a7\u5236\uff0c\u5177\u4f53\u505a\u6cd5\u5982\u4e0b\uff1a</p> <pre><code>\\setcounter{tocdepth}{2}\n</code></pre> <p>\u5373\u53ea\u663e\u793a\u4e24\u7ea7\u76ee\u5f55\u3002</p>"},{"location":"TeX/#pdf-metadata","title":"pdf \u6dfb\u52a0 Metadata \u4fe1\u606f","text":"<pre><code>\\usepackage[pdfauthor={Your Name},\n            pdftitle={The Title},\n            pdfsubject={The Subject},\n            pdfkeywords={Some Keywords},\n            pdfproducer={XeLateX with hyperref},\n            pdfcreator={Xelatex}]{hyperref}\n</code></pre>"},{"location":"TeX/#texi2dvi-command-not-found","title":"\u201ctexi2dvi\u201d command not found","text":"<pre><code>sudo apt-get install texinfo\n</code></pre>"},{"location":"TeX/#why-cant-the-end-code-of-an-environment-contain-an-argument","title":"Why can\u2019t the end code of an environment contain an argument?","text":"<p>\u53c2\u8003Why can\u2019t the end code of an environment contain an argument?</p>"},{"location":"TeX/#formatting-section-titles","title":"Formatting section titles","text":"<p>\u53c2\u8003Formatting section titles</p>"},{"location":"TeX/#table","title":"Table","text":""},{"location":"TeX/#multirow-and-multicolumn","title":"<code>multirow</code> and <code>multicolumn</code>","text":"<p>Example</p> <p>private project</p> <pre><code>\\usepackage{multirow}\n\\multirow{number of rows}{width}{text} % using `*` as width implies natural width\n\n% no extra package\n\\multicolumn{number of cols}{align}{text} % align `l, c, r`\n</code></pre> <p>refer to Multi-column and multi-row cells in LaTeX tables</p> <p>If we want to add line break in multi rows, we add specify the width, and also center the text, such as</p> <pre><code>\\multirow{3}{2cm}{\\centering some long sentences}\n</code></pre>"},{"location":"TeX/#midrule","title":"<code>midrule</code>","text":"<ul> <li>with <code>midrule</code> provided by <code>booktabs</code>, the vertical table lines become discontinuous. According to @egreg, that is by design, and it is suggested to use <code>\\cmidrule</code> to show the grouping of the header. practical example<ul> <li>to add gap between two midrule, use <code>\\cmidrule(lr){2-3}\\cmidrule(lr){4-5}</code>, refer to Table with gap between cmidrule\u2019s (extra space between two columns) and a practical example</li> </ul> </li> </ul>"},{"location":"TeX/#resizebox","title":"<code>resizebox</code>","text":"<p>It is defined in <code>graphics</code>, so it is necessary to load <code>\\usepackage{graphicx}</code>.</p> <pre><code>$ latexdef -f resizebox\n\n\\resizebox:\nundefined\n\n$ latexdef -p graphicx -f resizebox\n\\resizebox first defined in \"graphics.sty\".\n\n\\resizebox:\n\\protected macro:-&gt;\\leavevmode \\@ifstar {\\Gscale@@box \\totalheight }{\\Gscale@@box \\height }\n</code></pre> <p>Question</p> <p>In general, how can I find the packages that a command belongs to? Here is a dicussion, but seems not enough.</p> <p>the basic grammar is</p> <pre><code>\\begin{table}\n\\resizebox{\\textwidth}{!}{\n    \\begin{tabular}\n    ...\n  \\end{tabular}\n}\n\\end{table}\n</code></pre> <p>it works for images and tables</p> <p>For rescaling in general you can use a <code>resizebox</code> (from the <code>graphicx</code> package), which also works for <code>tikzpicture</code>. The first argument is the width, the second the height, or <code>!</code> to scale proportionally.</p> <p>source: @Marijn</p> <p>and application in </p> <ul> <li>Forcing subfigures to have same height and take overall X% of linewidth in LaTeX</li> <li>Is there a way to slightly shrink a table, including font size, to fit within the column boundaries? - TeX - LaTeX Stack Exchange</li> </ul> <p>Example</p> <ul> <li>in table</li> <li>use in beamer to shrink tables, and refer to  for alternative ways.</li> </ul> <p>Bug</p> <p>Error: extra alignment tab has been changed to \\cr</p> <p>check the number of columns.</p>"},{"location":"TeX/#_6","title":"\u66ff\u6362\u6362\u884c\u7b26","text":"<p>\u8be6\u89c1strings - Replacing substrings by linebreaks - TeX - LaTeX Stack Exchange</p> <p>\u8fd9\u662f zju-thesis \u6a21\u677f\u5141\u8bb8\u5c01\u9762\u6807\u9898\u6362\u884c\u7684\u5904\u7406\u7b56\u7565\uff0c\u540c\u65f6\u53c2\u89c1</p> <ol> <li>Line break inside \\makebox</li> </ol>"},{"location":"TeX/#fancyhdr-warning-headheight-is-too-small-after-setting-font-size","title":"fancyhdr warning headheight is too small after setting font size","text":"<p>Refer to headheight-problem</p>"},{"location":"TeX/#renewcommand","title":"[re]newcommand","text":""},{"location":"TeX/#capacity-exceeded-semantic-nest","title":"<code>Capacity exceeded [semantic nest \u2026]</code>","text":"<p>check your <code>newcommand</code> definition, to see if there is some silly definition such as</p> <pre><code>\\newcommand\\silly{\\silly}\n</code></pre> <p>refer to Capacity exceeded</p>"},{"location":"TeX/#avoid-space-after-command","title":"avoid space after command","text":"<p>with definition,</p> <pre><code>\\newcommand\\test{test}\n</code></pre> <p>will cause no space in the middle of text. A remedy is to use <code>\\test\\</code> in the middle of text, refer to </p> <ul> <li>Space after LaTeX commands - TeX - LaTeX Stack Exchange</li> <li>Drawbacks of csname method to avoid spaces after command - TeX - LaTeX Stack Exchange </li> </ul> <p>for other possible solutions. </p>"},{"location":"TeX/#standalone","title":"<code>standalone</code> \u73af\u5883","text":"<ol> <li>\u4e0d\u652f\u6301 <code>algorithm</code></li> <li>\u5bf9\u4e8e <code>algorithmic</code> \u8981\u52a0\u4e0a <code>varwidth</code> \u6216 <code>preview</code> \u9009\u9879\u3002</li> </ol> <p>\u53c2\u8003</p> <ul> <li>using standalone with algorithmicx or algorithm2e</li> <li>standalone does not work with algorithms</li> <li>algorithmicx crashes standalone</li> </ul>"},{"location":"TeX/#greek-symbols","title":"Greek Symbols","text":""},{"location":"TeX/#howto-bold","title":"howto bold","text":"<p><code>\\mathbf</code> \u53ea\u5bf9\u516c\u5f0f\u4e2d\u7684\u666e\u901a\u5b57\u6bcd <code>ABC...abcdef</code> \u7b49\u8d77\u4f5c\u7528\u3002</p> Method 1Method 2 <pre><code>\\usepackage{amsmath}\n\\boldsymbol{\\sigma}\n</code></pre> <pre><code>\\usepackage{bm}\n\\bm{\\sigma}\n</code></pre>"},{"location":"TeX/#variant-forms","title":"variant forms","text":"<p>\u8be6\u89c1 Variant forms of Greek symbols\u3002</p>"},{"location":"TeX/#operator","title":"Operator","text":""},{"location":"TeX/#operatorname-vs-mathrm","title":"<code>operatorname</code> vs <code>mathrm</code>","text":"<p><code>\\operatorname</code>:</p> <p>The argument is written in upright mode but with some additional space before and behind.</p> <p><code>\\mathrm</code>:</p> <p>It is like math mode (no spaces), but in upright mode. The font size isn\u2019t changed.</p> <p>What\u2019s the difference between \\mathrm and \\operatorname?</p>"},{"location":"TeX/#limits-is-allowed-only-on-operators","title":"<code>\\limits is allowed only on operators</code>","text":""},{"location":"TeX/#new-usage-of-cases","title":"New usage of <code>cases</code>","text":"<p>see</p> <pre><code>\\ind{A} = \\cases{\n        1 &amp; if $A$ is true,\\\\\n        0 &amp; otherwise,}\n</code></pre> <p>refer to Matching Content to MathJax, which originally for illustrating the typeface of mathjax.</p>"},{"location":"TeX/#make-a-love-heart","title":"Make a love heart","text":"<ul> <li>by equation:</li> <li>by pure latex</li> <li>by tikz based on filtered paths</li> </ul> <p>refer to Can we make a love heart with LaTeX?</p>"},{"location":"TeX/#change-section-title-without-altering-the-cleveref-cross-referencing-system","title":"Change section title without altering the cleveref cross-referencing system","text":"<p>Info</p> <p>Contributed by ZexiCAI on 2021-09-06.</p> <p>Suppose you </p> <ol> <li>want the section title to be \u201cGood Title 1\u201d, \u201cGood Title 2\u201d, etc., and </li> <li>you want cross-reference two sections at the same time as \u201cGood Titles 1 and 2\u201d instead of \u201cGood Title 1 and Good Title 2\u201d. Although one can do it mannually, the author is lazy and would like the cross-referencing system to do it automatically.</li> </ol> <p>The simplest way to do (1) is to change the <code>\\thesection</code> definition:</p> <pre><code>\\renewcommand{\\thesection}{Good Title \\arabic{section}}\n</code></pre> <p>However, when you do cross-referencing (\u201ccref\u201d or \u201cCref\u201d), it will appear to be \u201csection Good Title 1\u201d and \u201csection Good Title 2\u201d. A feasible way to do it is to directly modify the definition of <code>\\section</code> command. Its original definition is </p> <pre><code>\\newcommand\\section{\\@startsection {section}{1}{\\z@}%\n{-3.5ex \\@plus -1ex \\@minus -.2ex}%\n{2.3ex \\@plus.2ex}%\n{\\normalfont\\Large\\bfseries}}\n</code></pre> <p>We can modify it as</p> <pre><code>\\renewcommand\\section{\\@startsection {section}{1}{\\z@}%\n{-3.5ex \\@plus -1ex \\@minus -.2ex}%\n{2.3ex \\@plus.2ex}%\n{\\normalfont\\Large\\bfseries\\noindent Good Title~}}\n</code></pre> <p>This solves (1). To solve (2), we need to change the name of section when calling \u201ccref\u201d or \u201cCref\u201d, by doing</p> <pre><code>\\crefname{section}{Good Title}{Good Titles}\n\\Crefname{section}{Good Title}{Good Titles}\n</code></pre> <p>Warning</p> <p>Note that however this will change the name globally.</p>"},{"location":"TeX/CI/","title":"XeLaTeX on Travis CI","text":"<p>\u53c2\u8003</p> <ol> <li>Setup LaTeX PDF build using Travis CI</li> <li>Document building &amp; versioning with TeX document, Git, Continuous Integration &amp; Dropbox</li> </ol>"},{"location":"TeX/CI/#first-example","title":"first example","text":"<ul> <li>no chinese</li> <li>no other packages</li> </ul> <pre><code>before_install:\n  - \"sudo apt-get update &amp;&amp; sudo apt-get install --no-install-recommends texlive-fonts-recommended texlive-latex-extra texlive-fonts-extra texlive-latex-recommended dvipng\"\n\nscript:\n  - cd proposal\n  - xelatex test\n</code></pre> <p>It turns out that no xelatex.</p>"},{"location":"TeX/CI/#second-example","title":"second example","text":"<pre><code>before_install:\n  - \"sudo apt-get update &amp;&amp; sudo apt-get install --no-install-recommends texlive-fonts-recommended texlive-latex-extra texlive-fonts-extra texlive-latex-recommended texlive-xetex dvipng\"\n\nscript:\n  - cd proposal\n  - xelatex test\n</code></pre> <p>succeed!</p>"},{"location":"TeX/CI/#install-chinese-fonts","title":"install Chinese fonts","text":"<pre><code>sudo: required\ndist: trusty\nbefore_install:\n  - \"sudo apt-get update &amp;&amp; sudo apt-get install --no-install-recommends texlive-fonts-recommended texlive-latex-extra texlive-fonts-extra texlive-latex-recommended texlive-xetex dvipng\"\n  - \"wget -c https://sourceforge.net/projects/zjuthesis/files/fonts.tar.gz/download &amp;&amp; tar xzf fonts.tar.gz &amp;&amp; sudo mkdir -p /usr/share/fonts/truetype/custom/ &amp;&amp; mv fonts/* /usr/share/fonts/truetype/custom/ &amp;&amp; sudo fc-cache -f -v\"\n\nscript:\n  - cd proposal\n  - xelatex test\n</code></pre> <p>wrong error in wget. It should be</p> <pre><code>wget -c https://sourceforge.net/projects/zjuthesis/files/fonts.tar.gz/download -O fonts.tar.gz\n</code></pre> <p>and mv should add <code>sudo</code></p> <pre><code>sudo mv fonts/* /usr/share/fonts/truetype/custom/\n</code></pre> <p>succeed!</p>"},{"location":"TeX/CI/#use-xecjk","title":"use xeCJK","text":"<pre><code># test.tex\n\\documentclass{article}\n\\usepackage{xeCJK}\n\\setCJKmainfont{STFANGSO.TTF}\n\\begin{document}\ntest TeX on Travis CI via xelatex.\n\u6bd5\u4e1a\u8bba\u6587\uff08\u8bbe\u8ba1\uff09\u9898\u76ee\n\n\u6d59\u6c5f\u5927\u5b66\u672c\u79d1\u751f\u6bd5\u4e1a\u8bba\u6587\uff08\u8bbe\u8ba1\uff09\n\\end{document}\n\n# .travis.yml\nsudo: required\ndist: trusty\nbefore_install:\n  - \"sudo apt-get update &amp;&amp; sudo apt-get install --no-install-recommends texlive-fonts-recommended texlive-latex-extra texlive-fonts-extra texlive-latex-recommended texlive-xetex dvipng\"\n  - \"wget -c https://sourceforge.net/projects/zjuthesis/files/fonts.tar.gz/download -O fonts.tar.gz &amp;&amp; tar xzf fonts.tar.gz &amp;&amp; sudo mkdir -p /usr/share/fonts/truetype/custom/ &amp;&amp; sudo mv fonts/* /usr/share/fonts/truetype/custom/ &amp;&amp; sudo fc-cache -f -v\"\n\nscript:\n  - cd proposal\n  - xelatex test\n</code></pre> <p>It reports that</p> <pre><code>! Font EU1/lmr/m/n/10=[lmroman10-regular]:mapping=tex-text at 10.0pt not loadab\nle: Metric (TFM) file or installed font not found.\n</code></pre> <p>refer to ! Font EU1/lmr/m/n/10=[lmroman10-regular]:mapping=tex-text at 10.0pt not loadab le: Metric (TFM) file not found</p> <p>try to install <code>fonts-lmodern</code> fist.</p> <pre><code>sudo apt-get install fonts-lmodern\n</code></pre> <p>succeed!</p> <p>However, I cannot find <code>test.pdf</code> in releases, and it contains other files. So set</p> <pre><code>skip_cleanup: true\n</code></pre> <p>and fix typo from <code>tages</code> to <code>tags</code>.</p> <p>But it still cannot find the <code>test.pdf</code>, and even cannot find any release</p> <p>so I change <code>file: proposal/test.pdf</code> to <code>file: test.pdf</code>.</p> <p>It reports that <code>Skipping a deployment with the releases provider because this is not a tagged commit</code></p> <p>It still failed.</p> <p>Then use the normal method</p> <pre><code>git add .\ngit commit -m \"    \"\ngit tag \"test\"\ngit push origin master --tags\n</code></pre> <p>It succeed!</p> <p>Then I found that if use <code>before_deploy</code>, it seems that no need to set <code>on.tags = true</code>.</p>"},{"location":"TeX/CI/#test-maintex","title":"test main.tex","text":"<p>\u79f0\u7f3a\u5931 <code>xcolor.sty</code>\uff0c\u800c\u7528 <code>apt-cache search xcolor | grep tex</code> \u5f97\u5230\u7684\u5305\u4e3a extra \u548c recommended\uff0c\u4f46\u8fd9\u4e24\u4e2a\u5305\u5df2\u7ecf\u5b89\u88c5\u4e86\uff0c\u6240\u4ee5\u6000\u7591\u662f <code>--no-install-recommends</code>\u3002</p> <p>\u4e0d\u8fc7\u7a81\u7136\u60f3\u5230\uff0c\u7248\u672c\u4e0d\u5bf9\uff0c\u6211\u672c\u673a\u4e3a TeXlive 2015\uff0c\u800c Travis CI \u4e0a\u4e3a 2013\uff0c\u6240\u4ee5\u6211\u53c8\u5728\u670d\u52a1\u5668\u4e0a\u8fdb\u884c\u6d4b\u8bd5\uff0c\u53d1\u73b0 <code>xcolor</code> \u5728 <code>latex-xcolor</code> \u5305\u4e2d\u3002</p>"},{"location":"TeX/arxiv/","title":"Submit to arXiv","text":""},{"location":"TeX/arxiv/#second-submit","title":"Second Submit","text":"<p>Info</p> <p>Post: 2021-10-07 19:37:58</p> <p>\u7248\u672c\u66f4\u65b0\u5230\u4e86 TexLive 2020\uff0c\u7ee7\u7eed\u4f7f\u7528 <code>makisyu/texlive-2016</code> \u53cd\u800c\u4e0d\u884c\uff0c\u597d\u5728 T460P \u4e0a\u5df2\u7ecf\u88c5\u597d\u4e86 2020 \u7248\u672c\u7684\u3002\u6240\u4ee5\u5148\u901a\u8fc7 <code>xelatex + biber</code> \u7f16\u8bd1\u5f97\u5230 <code>.bbl</code> \u6587\u4ef6\uff0c\u7136\u540e\u8fde\u540c\u5176\u4ed6\u6e90\u6587\u4ef6\u4e00\u8d77\u4e0a\u4f20\u3002</p> <p>Warning</p> <p>\u53ef\u80fd\u56e0\u4e3a\u662f Windows \u670d\u52a1\u5668\uff0c\u6587\u4ef6\u540d\u4e0d\u652f\u6301\u65f6\u95f4\u6233\u4e2d\u7684 <code>:</code>\uff0c\u6240\u4ee5\u9700\u8981\u4fee\u6539\u6587\u4ef6\u3002</p>"},{"location":"TeX/arxiv/#first-submit","title":"First Submit","text":"<p>Info</p> <p>Post: 2020.08.10</p> <p>\u8bb0\u5f55\u4e0b\u63d0\u4ea4 tex \u6e90\u6587\u4ef6\u5230 arXiv \u4e0a\u8e29\u8fc7\u7684\u5751\u3002</p> <p>\u9996\u5148\uff0c\u5728 <code>Add Files</code> \u8bf4\u63d0\u4ea4\u7684\u6587\u4ef6\u53ef\u4ee5\u662f tex \u6216 pdf\uff0c</p> <p></p> <p>\u56e0\u4e3a\u8001\u677f\u8bf4\u5148\u4e0d\u628a appendix \u653e\u8fdb\u53bb\uff0c\u6240\u4ee5\u5728\u672c\u5730\u751f\u6210\u597d pdf \u6587\u4ef6\uff0c\u7136\u540e\u6309\u7167\u4e0b\u5217\u547d\u4ee4</p> <pre><code>$ pdftk full-pdf.pdf cat 1-30 output outfile.pdf\n</code></pre> <p>\u8fdb\u884c\u526a\u5207\uff0c\u518d\u4e0a\u4f20\uff0c\u7136\u540e\u5927\u6982\u8bf4\u8fd9\u4e0d\u662f tex \u4ea7\u751f\u7684\u6587\u4ef6\uff0c\u5e76\u4e14\u8bf4 partially rejected \u4e4b\u7c7b\u7684\uff0c\u4e0d\u80fd\u8fdb\u884c\u4e0b\u53bb\u4e86\u3002\u672c\u4ee5\u4e3a\u53ef\u80fd\u662f\u526a\u5207\u7684\u539f\u56e0\u3002\u540e\u6765\u672c\u5730\u624b\u52a8\u628a appendix tex \u53bb\u6389\uff0c\u7f16\u8bd1\u751f\u6210\u65b0\u7684 pdf\uff0c\u518d\u8fdb\u884c\u4e0a\u4f20\uff0c\u8fd8\u662f\u8bf4 partially rejected \u4e4b\u7c7b\u7684\u3002\u6240\u4ee5\u5927\u6982\u8fd8\u771f\u7684\u5982\u7f51\u53cb\u6240\u8bf4\u7684\uff0c\u53ea\u80fd\u4f20 tex \u5427\u3002\u53ea\u662f\u5982\u679c\u8fd9\u6837\uff0c\u5e72\u561b\u8981\u5199\u5176\u5b83\u53ef\u80fd\u6027\uff1f\uff01</p> <p>\u540e\u9762\u5c31\u4e56\u4e56\u4f20 tex\uff0c\u7136\u800c arxiv \u652f\u6301\u7684\u7248\u672c\u53ea\u6709 TeXLive2016\uff0c\u800c\u4e14\u7adf\u7136\u8981\u81ea\u5df1\u4e0a\u4f20 biber \u7f16\u8bd1\u597d\u7684 <code>.bbl</code> \u6587\u4ef6\uff0c\u6240\u4ee5\u7b2c\u4e00\u6b21\u62a5\u51fa\u7684\u9519\u8bef\u662f\u7248\u672c\u4e0d\u5339\u914d\uff0c\u8bf4\u671f\u5f85 biber 2.8\uff0c\u800c\u6211\u672c\u5730\u4e0a\u6b21\u66f4\u65b0\u88c5\u4e86 TeXLive 2020\uff0c\u5176\u4e2d biber \u662f 2.14\u3002\u540e\u6765\u7ffb\u4e86\u51e0\u4e2a\u670d\u52a1\u5668\uff0c\u8981\u4e48\u6839\u672c\u4e0d\u662f\u88c5\u7684 texlive\uff0c\u8981\u4e48\u662f\u6211\u540e\u6765\u624b\u52a8\u88c5\u7684 TeXLive 2018\u3002\u800c\u88c5\u4e00\u4e2a texlive \u7684\u65f6\u95f4\u4ee4\u4eba\u96be\u4ee5\u5fd8\u8bb0\uff0c\u5373\u4fbf\u73b0\u5728\u7f51\u901f\u6bd4\u8f83\u597d\uff0c\u4e5f\u4e0d\u5bb9\u4e50\u89c2\uff0c\u800c\u4e14\u53d1\u73b0\u5b58\u6709\u65e7\u7248\u672c texlive \u7684\u955c\u50cf\u4f3c\u4e4e\u53ea\u6709 US\u3001FR \u7b49\u5730\u5b64\u96f6\u96f6\u7684\u90a3\u51e0\u4e2a\uff0c\u800c\u4e0d\u50cf\u6700\u65b0\u7248\u672c\u90a3\u6837\u4e16\u754c\u5404\u5730\u90fd\u6709\u955c\u50cf\uff0c\u4f30\u6478\u7740\u7f51\u901f\u4e0d\u4f1a\u600e\u4e48\u6837\u3002</p> <p>\u9996\u5148\u60f3\u8bd5\u8bd5\u80fd\u4e0d\u80fd\u76f4\u63a5\u964d\u4f4e biber \u7684\u7248\u672c\uff0c\u4e5f\u786e\u5b9e\u53ef\u4ee5\u76f4\u63a5\u4ece github \u5355\u72ec\u5b89\u88c5 biber\uff0c\u7136\u800c\u4e00\u5f00\u59cb\u4ece SourceForge \u4e0b\u8f7d\u4e86 <code>.tar.gz</code> \u7684\u6e90\u6587\u4ef6\uff0c\u4e0b\u8f7d\u4e4b\u540e <code>bin/biber</code> \u5e76\u7528\u4e0d\u4e86\uff0c\u4e14\u62a5\u9519\uff0c</p> <p>Can\u2019t locate Biber.pm in @INC</p> <p>\u53ef\u4ee5\u5728 github \u4e0a\u627e\u5230\u7c7b\u4f3c\u7684\u95ee\u9898\uff0cplk/biber #214\uff0c\u4f3c\u4e4e\u662f\u6ca1\u6709\u7f16\u8bd1\uff0c\u4f46\u662f\u81ea\u5df1\u8fd0\u884c\u4e00\u904d <code>perl Build.PL</code>\uff0c\u8fd8\u662f\u6709\u9519\u8bef\u3002\u540e\u6765\u610f\u8bc6\u5230\u81ea\u5df1\u4e0b\u8f7d\u7684\u4e0d\u662f binary \u7248\u672c\uff0c\u4e8e\u662f\u8bd5\u4e86\u8bd5\u5df2\u7ecf\u7f16\u8bd1\u597d\u7684 biber\uff0c\u53ef\u4ee5\u8fd0\u884c <code>biber -v</code>\uff0c\u4f46\u662f\u7f16\u8bd1\u6587\u4ef6\u65f6\uff0c\u62a5\u51fa\u65b0\u9519\u8bef\u8bf4 biblatex \u7684\u7248\u672c\u4e0d\u5339\u914d\u3002\u8fd9\u6837\u641e\u4e0b\u53bb\u4e0d\u662f\u4e2a\u4e8b\u513f\uff0c\u8fd8\u662f\u5f97\u88c5\u4e2a texlive 2016.</p> <p>\u6b63\u5f53\u4e00\u7b79\u83ab\u5c55\u7684\u65f6\u5019\uff0c\u770b\u89c1\u4e86 docker \u7248\u672c\u7684 texlive 2016\uff01\u8fd9\u53ef\u662f\u4e00\u4e2a\u795e\u5668\uff0c\u6839\u636e\u5c11\u6570\u4e0d\u591a\u7684\u51e0\u4e2a\u7ecf\u5386\uff0c\u8fd9\u4e2a\u901f\u5ea6\u975e\u5e38\u5feb\u3002</p> <pre><code>$ docker pull makisyu/texlive-2016\n</code></pre> <p>\u4e8b\u5b9e\u8bc1\u660e\u4e5f\u786e\u5b9e\u5982\u6b64\uff0c\u4e00\u4e24\u5206\u949f\u5c31\u4e0b\u597d\u4e86\uff0c\u540e\u9762\u901f\u5ea6\u53d8\u6162\u662f\u56e0\u4e3a\u78c1\u76d8\u5feb\u6ee1\u4e86\uff0c\u5220\u6587\u4ef6\u7684\u901f\u5ea6\u90fd\u6bd4\u4e0d\u4e0a\u4e0b\u8f7d\u7684\u901f\u5ea6\uff0c\u78c1\u76d8\u5feb\u6ee1\u4e86\uff0c\u7136\u540e\u76f4\u63a5\u5361\u6389\u4e86\uff0c\u7136\u800c\u8fd9\u65f6\u4e5f\u5feb\u4e0b\u8f7d\u5b8c\u4e86\uff0c\u672c\u4ee5\u4e3a\u529f\u4e8f\u4e00\u7bd1\u7684\u65f6\u5019\uff0c\u7cfb\u7edf\u5f39\u51fa\u7a97\u53e3\u8bf4\uff0c\u78c1\u76d8\u7a7a\u95f4\u4e0d\u591f\u4e86\uff0c\u662f\u5426\u6e05\u7406\u5783\u573e\u7bb1\uff0c\u4e00\u70b9\u6e05\u7406\uff0c\u591a\u51fa\u4e86 2,3 G \u7684\u7a7a\u95f4\uff0c\u6700\u8fd1\u4e00\u76f4\u90fd\u6ca1\u6e05\u7406\u5783\u573e\u7bb1\u4e86\uff0c\u77ac\u95f4\u628a\u6211\u6551\u4e86\u56de\u6765\u3002</p> <p>\u4e66\u5230\u7528\u65f6\u65b9\u6068\u5c11\uff0c\u89c9\u5f97\u4e4b\u524d\u6ca1\u6709\u597d\u597d\u6574\u7406 docker \u7684\u7528\u6cd5\uff0c\u9996\u5148\u8fd0\u884c\u547d\u4ee4\u4e3a</p> <pre><code>$ docker run --rm --volume $PWD:/workdir --workdir /workdir makisyu/texlive-2016 pdflatex main.tex\n</code></pre> <p>\u8e29\u4e86\u4e00\u4e9b\u5751\uff0c\u624d\u660e\u767d</p> <ul> <li><code>$PWD:/workdir</code> \u8868\u793a\u6587\u4ef6\u5939\u6620\u5c04\uff0c\u5f53\u524d\u6240\u5728\u6587\u4ef6\u5939 <code>$PWD</code> \u6620\u5c04\u5230 docker \u4e2d\u7684 <code>workdir</code></li> </ul> <p>\u800c\u67e5\u770b\u751f\u6210\u7684\u6587\u4ef6\u9700\u8981\u8fdb\u5165 docker\uff0c</p> <pre><code>$ docker run -i -t --rm --volume $PWD:/workdir --workdir /workdir --user 1001:1001 makisyu/texlive-2016 /usr/bin/bash\n</code></pre> <p>\u53e6\u5916\u8fd8\u6709\u4e00\u4e2a\u5f88\u5173\u952e\u7684\u70b9\uff0c\u600e\u4e48\u628a\u751f\u6210\u7684\u6587\u4ef6\u5bfc\u51fa\u6765\uff0c</p> <pre><code>$ docker cp &lt;containerId&gt;:/file/path/within/container /host/path/target\n</code></pre> <p>\u5176\u4e2d <code>&lt;containerId&gt;</code> \u5e76\u4e0d\u662f <code>makisyu/texlive-2016</code>\uff0c\u800c\u662f\u901a\u8fc7 </p> <pre><code>$ docker container ls </code></pre> <p>\u67e5\u770b\u5230\u7684\uff0c\u8fd9\u91cc\u6ce8\u610f\u4e0d\u8981\u590d\u5236\u5230\u6620\u5c04\u7684\u6587\u4ef6\u91cc\u9762\uff0c\u4e0d\u7136\u4f1a\u51fa\u73b0\u65e0\u9650\u9012\u5f52\u3002</p> <p>\u5f53\u7136\u4e8b\u60c5\u5e76\u6ca1\u6709\u5230\u6b64\u7ed3\u675f\uff0c\u9996\u5148\u53d1\u73b0 biber \u7684\u7248\u672c\u662f 2.7\uff0c\u9690\u9690\u6709\u70b9\u62c5\u5fc3\uff0c\u4f46\u611f\u89c9\u95ee\u9898\u5e94\u8be5\u4e0d\u5927\u3002\u6240\u4ee5\u7ee7\u7eed\u7f16\u8bd1\uff0c\u7136\u540e\u7528\u6b64\u7248\u672c\u7684 biber \u7f16\u8bd1\u65f6\u624d\u53d1\u73b0 <code>.bib</code> \u6587\u4ef6\u4e2d\u6709\u5f88\u591a\u975e ascii \u7801\uff0c\u8fd9\u4e9b\u4f1a\u88ab\u8f6c\u5316\u6210 <code>\\x{...}</code> \u7684\u5f62\u5f0f\uff0c\u7ee7\u7eed pdflatex \u7f16\u8bd1\u65f6\u4fbf\u4f1a\u62a5\u9519\uff0c\u4e00\u5f00\u59cb\u62a5\u51fa <code>mathbf only in math mode</code> \u7684\u9519\u8bef\u65f6\uff0c\u8fd8\u4e00\u5934\u96fe\u6c34\uff0c\u548b\u8ddf mathbf \u6709\u5173\uff0c\u540e\u6765\u624d\u610f\u8bc6\u5230\u81ea\u5df1\u91cd\u5b9a\u4e49\u4e86 <code>\\x</code> \u4e3a <code>\\mathbf{x}</code>\uff0c\u4e5f\u987a\u85e4\u6478\u74dc\u624d\u53d1\u73b0\u975e ascii \u7801\u88ab\u8f6c\u6362\u6210\u4e86 <code>\\x{...}</code>\u3002</p> <p>\u672c\u4ee5\u4e3a\u975e ascii \u7801\u662f\u56e0\u4e3a\u82f1\u6587\u5b57\u6bcd\u9876\u4e0a\u7684\u5e3d\u5b50\u5e26\u6765\u7684\uff0c\u4f46\u662f\u6839\u636e\u8fd9\u4e2a\u5217\u8868\u4fee\u6539\u4e86\u5176\u4e2d\u4e00\u6761\u6587\u732e\u540e\uff0c\u624d\u53d1\u73b0\u81ea\u5df1\u60f3\u592a\u7b80\u5355\u4e86\uff0c\u4ecd\u7136\u4f1a\u62a5\u51fa\u8be5\u6761\u6587\u732e\u6709\u975e ascii \u7801\u3002\u540e\u6765\u624d\u610f\u8bc6\u5230\u6700\u7b80\u5355\u7684\u65b9\u6cd5\u662f\u76f4\u63a5\u5728 docker \u91cc\u9762\u6253\u5f00 <code>.bib</code>\uff0c\u8fd9\u4e2a\u6700\u597d\u5fc5\u987b\u5728 docker \u4e2d\u6253\u5f00\uff0c\u4f3c\u4e4e\u56e0\u4e3a\u6211\u672c\u5730\u8bed\u8a00\u73af\u5883\u53ef\u80fd\u4e0d\u4f1a\u6b63\u5e38\u5c55\u793a\u975e ascii \u5b57\u7b26\uff0c\u56e0\u4e3a\u9ed8\u8ba4\u652f\u6301\u4e86 UTF8\uff0c\u9664\u975e\u5728 vim \u4e2d\u7528 <code>/[^\\x00-\\x7F]</code> \u628a non-ascii \u9ad8\u4eae\u51fa\u6765\uff0c\u8fd9\u624d\u53d1\u73b0\u5f88\u591a\u5b57\u6bcd\u771f\u7684\u5e76\u4e0d\u662f\u6b63\u5e38\u7684\u82f1\u6587\u5b57\u6bcd\uff0c\u6bd4\u5982 <code>ef\ufb01cient</code> \u5e76\u4e0d\u662f <code>efficient</code>\uff0c\u8bf8\u5982\u6b64\u7c7b\u7684\u8fd8\u6709\u5f88\u591a\u3002\u8fd9\u4e9b\u4e00\u822c\u90fd\u662f abstract \u91cc\u9762\u7684\u5185\u5bb9\uff0c\u56e0\u4e3a\u4ece zotero \u5bfc\u51fa\u53c2\u8003\u6587\u732e\u65f6\u4f1a\u5305\u542b abstract\u3002\u5927\u80c6\u731c\u4e00\u4e0b\u539f\u56e0\uff0c\u53ef\u80fd\u662f\u56e0\u4e3a zotero \u91c7\u7528 ocr \u7b49\u6280\u672f\u8bc6\u522b\uff0c\u7136\u540e\u51fa\u73b0\u4e86\u504f\u5dee\uff1f\uff01\u770b\u6765\u65b0\u7248\u672c\u7684 texlive \u5bb9\u9519\u6027\u66f4\u5f3a\uff0c\u4e0d\u8fc7\u6211\u611f\u89c9\u4e3b\u8981\u662f\u8bed\u8a00\u652f\u6301\u7684\u95ee\u9898\u3002</p> <p>\u66ff\u6362\u6240\u6709\u7684 ascii \u8fd8\u662f\u82b1\u4e86\u4e00\u756a\u529f\u592b\u7684\uff0c\u5f53\u7136\u7b80\u5355\u7c97\u66b4\u7684\u662f\u5148\u628a abstract \u5220\u6389\uff0c\u7136\u540e\u518d\u6162\u6162\u66ff\u6362\uff0c\u540e\u9762\u89e3\u51b3\u6389\u8089\u773c\u53ef\u89c1\u7684\u975e ascii \u5b57\u7b26\u540e\uff0c\u8fd8\u662f\u6709\u95ee\u9898\uff0c\u76f4\u63a5\u5728 <code>.bbl</code> \u6587\u4ef6\u4e2d\u641c\u7d22 <code>\\x</code>\uff0c\u4e0d\u8fc7\u6ce8\u610f\u5230 <code>\\</code> \u9700\u8981\u8f6c\u4e49\uff0c\u6240\u4ee5\u641c\u7d22\u547d\u4ee4\u4e3a <code>/\\\\x</code>\uff0c\u628a\u8fd9\u4e00\u5207\u90fd\u66ff\u6362\u6389\uff0c\u7ec8\u4e8e\u80fd\u591f\u6210\u529f\u7f16\u8bd1\u4e86\u3002</p> <p>\u540e\u9762\u5c31\u518d\u4e0a\u4f20\u81f3 arxiv\uff0c\u8fd9\u6b21\u4e00\u4e0b\u901a\u8fc7\u4e86\uff0c\u4e4b\u524d biber2.7 \u7684\u987e\u8651\u4e5f\u88ab\u6253\u6d88\u4e86\u3002</p> <p>\u672c\u6765\u4ee5\u4e3a\u5c31\u4e00\u4e2a\u70b9\u51fb\u4e0a\u4f20\u7684\u4e8b\u513f\uff0c\u6ca1\u60f3\u5230\u6298\u817e\u4e86\u4e00\u65e9\u4e0a\u3002</p>"},{"location":"TeX/note-for-class/","title":"Note for class","text":"<ol> <li>\\newcommand vs \\DeclareRobustCommand</li> <li>increment-the-section-number</li> <li>line-spacing</li> <li>Align section with text body</li> <li>cleardoublepage</li> <li>New chapter top margin is large</li> <li>remove-spacing-before-chapter-in-latex</li> </ol>"},{"location":"TeX/note-for-class/#_1","title":"\u7384\u5b66\u95ee\u9898","text":"<ol> <li>\u6807\u9898\u52a0\u7c97</li> </ol> <pre><code>\\newcommand{\\sanhao}{\\fontsize{16pt}{\\baselineskip}\\selectfont\\bfseries} \n\\titleformat{\\chapter}{\\centering\\sanhao}{\\thechapter}{0em}{}\n</code></pre> <p>\u53ef\u4ee5\u52a0\u7c97</p> <p>\u800c</p> <p><pre><code>\\newcommand{\\sanhao}{\\fontsize{16pt}{\\baselineskip}\\selectfont} \n\\titleformat{\\chapter}{\\centering\\sanhao\\bfseries}{\\thechapter}{0em}{}\n</code></pre> \u4e0d\u53ef\u4ee5</p> <p>\u53c2\u8003 Bold and italic subsection title with custom font size</p>"},{"location":"TeX/note-for-class/#_2","title":"\u6570\u5b66\u7f29\u5199","text":"<p>\u5217\u8868\uff1ahttps://en.wikipedia.org/wiki/List_of_mathematical_abbreviations</p>"},{"location":"TeX/note-for-class/#matrix","title":"matrix","text":"<p>https://tex.stackexchange.com/questions/153615/help-me-input-a-column-vector</p> <p>http://latex.wikia.com/wiki/Matrix_environments</p>"},{"location":"TeX/note-for-class/#embed-source-files-into-the-generated-pdf","title":"Embed source files into the generated PDF","text":"<p>https://tex.stackexchange.com/questions/13187/is-there-some-way-to-embed-latex-source-code-in-a-pdf-file</p>"},{"location":"TeX/note-for-class/#_3","title":"\u7ae0\u8282\u5185\u5355\u72ec\u7f16\u53f7","text":"<ol> <li>https://tex.stackexchange.com/questions/356109/how-do-i-label-equations-without-the-chapter-number</li> <li>https://tex.stackexchange.com/questions/28333/continuous-v-per-chapter-section-numbering-of-figures-tables-and-other-docume</li> </ol>"},{"location":"TeX/note-for-class/#_4","title":"\u7f16\u53f7\u95ee\u9898","text":"<ol> <li>https://tex.stackexchange.com/questions/2597/how-do-i-turn-off-equation-auto-numbering</li> <li>https://tex.stackexchange.com/questions/17528/show-equation-number-only-once-in-align-environment</li> </ol>"},{"location":"TeX/note-for-class/#_5","title":"\u6587\u732e","text":"<ol> <li>https://stackoverflow.com/questions/2765209/latex-bibliography-per-chapter</li> <li> <p>https://tex.stackexchange.com/questions/130228/two-styles-in-biblatex-with-textcite-author-year-and-author-year</p> </li> <li> <p>https://tex.stackexchange.com/questions/369710/beamer-citation-coloring</p> </li> </ol> <p>\u6bcf\u7ae0\u4ece\u5934\u5f00\u59cb</p> <p>\\renewcommand{\\theequation}{\\arabic{equation}}</p> <p>\u72ec\u7acb\u4e8e\u6bcf\u7ae0</p> <p>\\RequirePackage{chngcntr} \\counterwithout{equation}{chapter} % without chapter number</p>"},{"location":"TeX/note-for-class/#page-break","title":"page break","text":"<ol> <li>https://tex.stackexchange.com/questions/74296/to-have-no-pagebreak-before-bibliography</li> <li>https://tex.stackexchange.com/questions/74296/to-have-no-pagebreak-before-bibliography?noredirect=1&amp;lq=1</li> </ol>"},{"location":"TeX/note-for-class/#others","title":"others","text":"<ol> <li>https://tex.stackexchange.com/questions/8351/what-do-makeatletter-and-makeatother-do</li> <li>https://tex.stackexchange.com/questions/246/when-should-i-use-input-vs-include</li> <li>https://tex.stackexchange.com/questions/25701/bibtex-vs-biber-and-biblatex-vs-natbib</li> <li>https://tex.stackexchange.com/questions/1050/whats-the-difference-between-newcommand-and-newcommand</li> <li>https://tex.stackexchange.com/questions/250159/how-to-pass-title-or-other-parameter-to-class-file?rq=1</li> </ol>"},{"location":"TeX/note-for-class/#_6","title":"\u6bcf\u7ae0\u5355\u72ec\u7684\u53c2\u8003\u6587\u732e","text":"<p>biblatex\uff1a 1. https://tex.stackexchange.com/questions/87414/per-chapter-bibliographies-in-biblatex</p> <p>natbib: 1. https://stackoverflow.com/questions/2765209/latex-bibliography-per-chapter</p>"},{"location":"TeX/note-for-class/#textcite","title":"textcite \u81ea\u5b9a\u4e49","text":"<ol> <li>https://tex.stackexchange.com/questions/306801/different-comma-placement-in-textcite-and-parencite</li> <li>https://tex.stackexchange.com/questions/359426/biblatex-using-and-within-textcite-within-parencite-within-bibliogr</li> <li>https://github.com/plk/biblatex/issues/373</li> </ol>"},{"location":"TeX/note-for-class/#table","title":"table","text":"<ol> <li>https://tex.stackexchange.com/questions/19589/how-to-specify-the-row-height-in-latex-table/19594</li> </ol>"},{"location":"TeX/note-for-class/#latex-command-line","title":"latex command line","text":"<ol> <li>https://tex.stackexchange.com/questions/147346/how-can-one-stop-latex-compilation</li> </ol>"},{"location":"TeX/note-for-class/#others_1","title":"others","text":"<ol> <li>https://askubuntu.com/questions/221962/how-can-i-extract-a-page-range-a-part-of-a-pdf</li> <li>https://tex.stackexchange.com/questions/5911/how-to-include-pdf-pages-without-a-newpage-before-the-first-page</li> <li>https://tex.stackexchange.com/questions/51682/is-it-possible-to-pagebreak-aligned-equations</li> <li>https://tex.stackexchange.com/questions/147346/how-can-one-stop-latex-compilation</li> <li>https://tex.stackexchange.com/questions/106964/could-not-insert-pdf-graphics</li> </ol>"},{"location":"TeX/note-for-class/#dtx","title":"dtx","text":"<ol> <li>https://tex.stackexchange.com/questions/344530/whats-the-point-of-ins-and-dtx-files</li> <li>beautiful fonts</li> </ol>"},{"location":"TeX/note-for-class/#different-chapter","title":"different chapter","text":"<ol> <li>https://tex.stackexchange.com/questions/195703/color-depending-on-section-number</li> <li>https://tex.stackexchange.com/questions/10326/how-to-set-the-chapter-style-in-report-class</li> <li>https://tex.stackexchange.com/questions/215249/why-in-the-discussion-of-the-definition-of-newif-are-the-following-things-true</li> <li>https://tex.stackexchange.com/questions/182569/how-to-manually-set-where-a-word-is-split</li> <li>https://tex.stackexchange.com/questions/86385/what-is-the-difference-between-relax-and</li> </ol>"},{"location":"TeX/note-for-class/#if-not-declareoption","title":"If not DeclareOption","text":"<p>\u53c2\u8003https://tex.stackexchange.com/questions/135248/if-not-declareoption \u6240\u4ee5\u4f3c\u4e4e\\ExecuteOptions\u4e0d\u662f\u5fc5\u8981\u7684\u3002 <pre><code>\\DeclareOptionX{fangfont}[emptyoption]{%\n    \\ifthenelse{\\equal{#1}{emptyoption}}{%\n        \\zju@fangfalse\n    }{%\n        \\def\\fangfont{#1}\n        \\zju@fangtrue\n    }\n}\n\\DeclareOptionX{heifont}[emptyoption]{%\n    \\ifthenelse{\\equal{#1}{emptyoption}}{%\n        \\zju@heifalse\n    }{%\n        \\def\\heifont{#1}\n        \\zju@heitrue\n    }\n}\n</code></pre> \u4f3c\u4e4e\u53ef\u4ee5\u7b80\u5316</p>"},{"location":"TeX/note-for-class/#about-table-and-figure","title":"about table and figure","text":"<ol> <li>https://tex.stackexchange.com/questions/44263/how-to-use-footnotesize-with-longtable-command</li> <li>https://tex.stackexchange.com/questions/219138/how-to-have-a-caption-on-top-of-longtable</li> <li></li> </ol>"},{"location":"TeX/note-for-class/#_7","title":"\u56fe\u8868\u6807\u9898\u52a0\u7c97","text":"<p>\u53c2\u8003figure-how-to-have-figure-1-5-in-bold</p> <pre><code>\\usepackage[labelfont=bf]{caption}\n</code></pre>"},{"location":"TeX/note-for-class/#longtable","title":"longtable \u6807\u9898\u5c45\u4e0a","text":"<p>\u53c2\u8003how to have a caption on top of longtable?</p>"},{"location":"TeX/note-for-class/#longtable_1","title":"longtable \u5185\u5b57\u4f53\u5927\u5c0f","text":"<p>\u53c2\u8003How to use \\footnotesize with longtable command?</p>"},{"location":"TeX/note-for-class/#_8","title":"\u56fe\u8868\u6807\u9898","text":"<p>\u53c2\u8003latex: \u6539\u53d8\u56fe\u7684caption Figure 1:\u4e3a Fig. 1.</p>"},{"location":"TeX/overleaf/","title":"Overleaf","text":""},{"location":"TeX/overleaf/#integration-with-gitgithub","title":"Integration with Git/GitHub","text":""},{"location":"TeX/overleaf/#passwordless","title":"Passwordless","text":"<p>Since it does not support SSH key, it requires to enter username and password everytime. Config <code>credential</code> as follows,</p> <pre><code>git config --global credential.https://git.overleaf.com.username YourOverleafAccount\ngit config --global credential.https://git.overleaf.com.helper store\n</code></pre> <p>The second line aims to store the password after the first input.</p> <p>Finally, no need to enter username and password.</p> <p>Refer to</p> <ul> <li>Why do I have problems with loging in to Overleaf via git</li> <li>gitcredentials - Providing usernames and passwords to Git</li> </ul>"},{"location":"TeX/overleaf/#sync-with-github","title":"Sync with GitHub","text":"<p>Directly operate on Overleaf via clicking the Menu button.</p>"},{"location":"TeX/overleaf/#github-as-backup","title":"GitHub as Backup","text":"<p>If there are frequent updates from local laptop, such as bib files and figures, it might be better to add GitHub as a backup repo.</p> <p>Suppose you have a project on overleaf.</p> <ol> <li>clone it to local laptop.</li> <li>create an empty repo on github, say <code>NewRepo</code></li> <li>add github as another remote repo: <code>git remote add backup git@github.com:szcf-weiya/NewRepo.git</code></li> <li>update from laptop to overleaf, such as uploading figures, updating bib: <code>git push origin master</code></li> <li>pull updates from overleaf: <code>git pull</code></li> <li>backup to github: <code>git push backup master</code></li> </ol>"},{"location":"TeX/vargreek/","title":"Variant forms of Greek symbols","text":"<p>Info</p> <ul> <li>Greek Handwriting \u2014 Handwritten letters in Greek</li> <li>Greek Letters, Symbols, English Alphabet Equivalents and Pronunciation</li> </ul>"},{"location":"TeX/vargreek/#attempt-1-minionpro","title":"Attempt 1: <code>MinionPro</code>","text":"<pre><code>\\documentclass{article}\n\\usepackage{MinionPro} %! FAIL TO INSTALL THE PACKAGE\n\\begin{document}\n    $\\epsilon\\varepsilon\\phi\\varphi\\theta\\vartheta\\kappa\\varkappa\\beta\\varbeta\\pi\\varpi\\rho\\varrho$\n\\end{document}\n</code></pre> <p>\u9996\u5148\u5728 T460p \u4e0a\u8fdb\u884c\u4e86\u5c1d\u8bd5\uff0c\u4e0d\u8fc7\u76f4\u63a5\u8fd0\u884c\u4f1a\u62a5\u51fa </p> <p>! LaTeX Error: File <code>MinionPro.sty</code> not found.</p> <pre><code>$ locate MinionPro.sty\n$ apt-cache search MinionPro\ntexlive-fonts-extra - TeX Live: Additional fonts\n</code></pre> <p>\u4e8e\u662f\u8bd5\u56fe\u88c5\u8fd9\u4e2a\u5305\uff0c\u4f46\u662f\u56e0\u4e3a\u63d0\u793a\u8bf4\u8981\u5360\u7528 1300+ MB \u7684\u7a7a\u95f4\u3002\u56e0\u4e3a\u5fc3\u75bc\u786c\u76d8\u5927\u5c0f\uff0c\u6240\u4ee5\u8f6c\u800c\u5728 G40 \u4e0a\u6d4b\u8bd5\uff0c</p> <pre><code>$ sudo apt install texlive-fonts-extra\nReading package lists... Done\nBuilding dependency tree       \nReading state information... Done\ntexlive-fonts-extra is already the newest version (2019.202000218-1).\n0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.\n</code></pre> <p>\u4f46\u662f\u663e\u793a\u5df2\u7ecf\u88c5\u597d\u7684\uff0c\u7136\u800c\u786e\u5b9e\u7f16\u8bd1\u8fc7\u7a0b\u4e2d\u627e\u4e0d\u5230\u8fd9\u4e2a\u5305\u3002\u751a\u81f3\u8bd5\u56fe\u91cd\u88c5\u4e5f\u662f\u6ca1\u6709\u8fd9\u4e2a\u5305\uff0c</p> <pre><code>$ sudo apt reinstall texlive-fonts-extra\nReading package lists... Done\nBuilding dependency tree       \nReading state information... Done\n0 upgraded, 0 newly installed, 1 reinstalled, 0 to remove and 0 not upgraded.\nNeed to get 460 MB of archives.\nAfter this operation, 0 B of additional disk space will be used.\nGet:1 http://cn.archive.ubuntu.com/ubuntu focal/universe amd64 texlive-fonts-extra all 2019.202000218-1 [460 MB]\nFetched 460 MB in 1min 30s (5,123 kB/s)                                                                                                                              (Reading database ... 619949 files and directories currently installed.)\nPreparing to unpack .../texlive-fonts-extra_2019.202000218-1_all.deb ...\nUnpacking texlive-fonts-extra (2019.202000218-1) over (2019.202000218-1) ...\nSetting up texlive-fonts-extra (2019.202000218-1) ...\nProcessing triggers for tex-common (6.13) ...\nRunning mktexlsr. This may take some time... done.\nRunning mtxrun --generate. This may take some time... done.\nRunning updmap-sys. This may take some time... done.\nRunning mktexlsr /var/lib/texmf ... done.\n$ locate MinionPro.sty\n</code></pre> <p>\u53e6\u5916\u6839\u636e\u5b89\u88c5\u6307\u793a\uff0c</p> <pre><code>  $ otfinfo -v MinionPro-Regular.otf\n  Version 2.012;PS 002.000;Core 1.0.38;makeotf.lib1.6.6565\n\n2) Copy your OpenType font files into the otf directory.\n\n  $ cp /some/path/*.otf otf\n</code></pre> <p>\u4f3c\u4e4e\u9700\u8981\u9884\u88c5 <code>MinionPro-Regular.otf</code> \u5b57\u4f53\uff0c\u7136\u800c\u6839\u636e Adobe fonts \u7ed9\u7684\u4fe1\u606f\uff0c\u8be5\u5b57\u4f53\u662f \u201cAvailable with CC\u201d\uff0c\u4e5f\u5c31\u662f\u8bf4\u9700\u8981 Adobe Creative Cloud subscription. \u7136\u800c\u4f3c\u4e4e\u5b66\u6821\u6ca1\u6709\u8ba2\u8d2d\uff0c\u529e\u516c\u5ba4\u7535\u8111\u4e5f\u6ca1\u6709\u627e\u5230\u8be5\u5b57\u4f53\u3002</p>"},{"location":"TeX/vargreek/#attempt-2-unicode-math","title":"Attempt 2: <code>unicode-math</code>","text":"<pre><code>\\documentclass{article}\n\\usepackage{unicode-math}\n\\begin{document}\n    Asana Math:\n    \\setmathfont{Asana Math}\n    $\\symbol{\"003D0}$\n\\end{document}\n</code></pre> <p>\u9700\u8981\u901a\u8fc7 <code>\\symbol</code> \u6765\u4f7f\u7528\u8be5\u7b26\u53f7\uff0c\u4e0d\u591f\u4fbf\u6377\u3002\u800c\u4e14\u5982\u679c\u4f7f\u7528\u5176\u5b83\u7684\u5b57\u7b26\uff0c\u8fd8\u8981\u9884\u5148\u77e5\u9053\u5176 unicode \u7801</p>"},{"location":"TeX/vargreek/#attempt-3-mathspec","title":"Attempt 3: <code>mathspec</code>","text":"<pre><code>\\documentclass{article}\n\\usepackage{mathspec}\n\\setmathfont(Greek){Asana-Math}\n\\begin{document}\n    $\\epsilon\\varepsilon\\phi\\varphi\\theta\\vartheta\\kappa\\varkappa\\beta\\varbeta\\pi\\varpi\\rho\\varrho$\n\\end{document}\n</code></pre> <p>\u8fd9\u4e2a\u5305\u7684\u6587\u6863\u4e2d\u6709\u5217\u51fa\u53ef\u7528\u7684 variant forms\uff0c\u4e0d\u8fc7 <code>\\epsilon</code> \u548c <code>\\varepsilon</code> \u8ddf\u6211\u4e4b\u524d\u7684\u8ba4\u77e5\u53cd\u8fc7\u6765\u4e86\u3002</p> <p></p> <p>\u4e00\u5f00\u59cb\u4fbf\u786e\u5b9a\u4e86 <code>Asana Math</code> \u80fd\u591f\u5f88\u597d\u5730\u652f\u6301\u8be5\u5b57\u4f53\uff0c\u800c\u4e14 <code>FreeMono</code> \u4e5f\u53ef\u4ee5\uff0c\u53ea\u4e0d\u8fc7\u5b57\u4f53\u6709\u70b9\u5dee\u5f02\u3002</p>"},{"location":"TeX/vargreek/#run-in-batch","title":"Run in Batch","text":"<p>\u4e3a\u4e86\u65b9\u4fbf\u6bd4\u8f83\u4e0d\u540c\u5b57\u4f53\u7684\u6548\u679c\uff0c\u9996\u5148\u5c1d\u8bd5\u5728\u6b63\u6587\u4e2d\u5207\u6362</p> <pre><code>\\setmathfont(Greek){Asana-Math}\n</code></pre> <p>\u4f46\u662f\u62a5\u9519\u63d0\u793a\u8bf4\u53ea\u80fd\u5728 preamble \u4e2d\u5b9a\u4e49\u3002\u4e0d\u8fc7\u6ce8\u610f\u5230\u5982\u679c\u4e0d\u52a0 <code>mathspec</code> package\uff0c\u5728\u6587\u5185 <code>\\setmathfont{...}</code> \u662f\u53ef\u4ee5\u7684\uff08\u6ce8\u610f\u6b64\u65f6\u6ca1\u6709\u6307\u5b9a Greek\uff09\u3002</p> <p>\u65e2\u7136\u65e0\u6cd5\u540c\u65f6\u5728\u4e00\u7bc7\u6587\u6863\u91cc\u9762\u5c55\u73b0\uff0c\u90a3\u5c31\u591a\u7bc7\u5457\u3002\u56e0\u4e3a <code>article</code> \u9ed8\u8ba4 A4 paper\uff0c\u4e5f\u770b\u8fc7 <code>geometry</code>\uff0c\u4f3c\u4e4e\u4e5f\u53ea\u63d0\u4f9b\u5e38\u89c1\u7684 paper \u5927\u5c0f\uff0c\u4e0d\u80fd\u50cf <code>standalone</code> \u73af\u5883\u90a3\u6837\uff0c\u7136\u800c\u76f4\u63a5\u4f7f\u7528 <code>standalone</code> \u53c8\u4e0d\u53ef\u884c\uff0c\u4f3c\u4e4e\u5b83\u53ea\u9002\u7528\u4e8e tikz\u3002\u4e8e\u662f\u4fbf\u60f3\u5230 crop pdf\u3002</p> <p>\u8fd9\u7bc7\u56de\u7b54Command line tool to crop PDF files \u63d0\u5230\uff0c latex \u672c\u8eab\u6709\u63d0\u4f9b\u547d\u4ee4 <code>pdfcrop</code>\uff0c\u67e5\u770b\u5176\u5e2e\u52a9\u6587\u6863\u4e0d\u80fd\u7528 <code>man</code>\uff0c\u800c\u662f\u7528 <code>texdoc</code>\uff0c\u4ece\u6587\u6863\u672c\u8eab\u4e86\u89e3\u5230 <code>--help</code> \u53ef\u4ee5\u770b\u5e2e\u52a9\u6587\u6863\u3002\u53c2\u6570 <code>--bbox</code> \u53ef\u4ee5\u6307\u5b9a\u88c1\u526a\u533a\u57df\uff0c\u800c\u8fd9\u4e2a\u53c2\u6570\u5b9a\u4e49\u53c8\u662f\u6765\u81ea\u4e8e ghostscript \u7684\uff0c\u6240\u4ee5\u9884\u5148\u9700\u8981\u4e86\u89e3\u8fd9\u4e9b\u53c2\u6570\u662f\u600e\u4e48\u5b9a\u4e49\u7684\uff0c</p> <pre><code>$ gs -sDEVICE=bbox vargreek.pdf \nGPL Ghostscript 9.26 (2018-11-20)\nCopyright (C) 2018 Artifex Software, Inc.  All rights reserved.\nThis software comes with NO WARRANTY: see the file PUBLIC for details.\nProcessing pages 1 through 1.\nPage 1\n%%BoundingBox: 149 139 308 714\n%%HiResBoundingBox: 149.867995 139.247996 307.295991 713.465978\n</code></pre> <p>\u5176\u4e2d <code>--box &lt;left&gt; &lt;bottom&gt; &lt;right&gt; &lt;top&gt;</code> \u56db\u4e2a\u53c2\u6570\u7684\u542b\u4e49\uff0872 \u4e2a points \u4e3a 1inch\uff09\u662f</p> <ul> <li><code>&lt;left&gt; &lt;bottom&gt;</code>: \u5de6\u4e0b\u89d2\uff0c\u8ddd\u79bb\u5de6\u8fb9\u8fb9\u754c <code>&lt;left&gt;</code> \u4e2a points\uff0c\u800c\u8ddd\u79bb\u5e95\u8fb9\u8fb9\u754c <code>&lt;bottom&gt;</code> \u4e2a points</li> <li><code>&lt;right&gt; &lt;top&gt;</code>: \u53f3\u4e0a\u89d2\uff0c\u8ddd\u79bb\u5de6\u8fb9\u8fb9\u754c <code>&lt;right&gt;</code> \u4e2a points\uff0c\u800c\u8ddd\u79bb\u5e95\u8fb9\u8fb9\u754c <code>&lt;top&gt;</code> \u4e2a points </li> </ul> <p>\u7136\u540e\u5f00\u59cb\u5199 Makefile\uff0c\u901a\u8fc7 <code>jobname</code> \u6307\u5b9a\u5b57\u4f53\u540d\uff0c\u8fd9\u6837\u6bcf\u6b21\u6dfb\u52a0\u4e00\u4e2a\u5b57\u4f53\u90fd\u8981\u65b0\u589e\u4e00\u4e2a object\uff0c\u4e0d\u591f\u667a\u80fd\uff0c\u60f3\u901a\u8fc7\u5199 for \u5faa\u73af\u6765\u5b9e\u73b0\u3002\u4e0d\u8fc7\u5728 Makefile \u5199\u5faa\u73af\u4e0d\u662f\u5f88\u719f\u6089\uff0c\u7d22\u6027\u76f4\u63a5\u5199 shell \u811a\u672c\u3002</p> <p>\u9996\u5148\u4fbf\u9700\u8981\u901a\u8fc7 <code>fc-list</code> \u63d0\u53d6\u5b57\u4f53\u540d\uff0c\u4e0d\u8fc7\u8fd9\u91cc\u9700\u8981\u6ce8\u610f\uff0c\u5b57\u4f53\u540d\u662f\u7528\u7a7a\u683c\u5206\u9694\u7684\uff0c\u6240\u4ee5\u9700\u8981\u52a0\u4e0a\u5f15\u53f7\uff0c\u4f46\u662f\u8fd9\u8fd8\u4e0d\u591f\uff0c\u5982\u679c\u91c7\u7528</p> <pre><code>for font in ${fonts[@]}; do\n$font\n</code></pre> <p><code>$font</code> \u4ecd\u4f1a\u4ee5\u7a7a\u683c\u8fdb\u884c\u5206\u9694\uff0c\u8fdb\u800c\u53ea\u63d0\u53d6\u7b2c\u4e00\u4e2a\u5143\u7d20\u3002\u9700\u8981\u6362\u6210</p> <pre><code>for ((i = 0; i &lt; ${#fonts[@]}; i++)); do\nfont=${fonts[$i]}\n</code></pre> <p>\u53c2\u8003 Bash array with spaces in elements</p> <p>\u4f46\u662f\u5982\u679c\u7528 <code>fc-list</code> \u63d0\u53d6\u7684\u8bdd\uff0c\u4e0d\u5982\u76f4\u63a5\u5c06\u7a7a\u683c\u6362\u6210 <code>-</code>\uff0c\u540e\u9762\u9700\u8981\u7528\u5230\u539f\u5f62\u5f0f\u65f6\u518d\u6362\u8fc7\u6765\u3002</p> <pre><code># orig=${font//[-]/ }\n# echo $font ${font//[-]/ }\n</code></pre> <p>\u8fd9\u4e2a\u6280\u5de7\u53c2\u8003Replacing some characters in a string with another character</p> <p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0clatex \u5982\u679c\u51fa\u9519\uff0c\u6bd4\u5982\u627e\u4e0d\u5230\u5b57\u4f53\u6587\u4ef6\uff0c\u4e3a\u4e86\u907f\u514d\u8fd9\u4e2a\u95ee\u9898\uff0c\u6dfb\u52a0\u53c2\u6570 <code>-halt-on-error</code> \u9047\u5230\u9519\u8bef\u5373\u9000\u51fa\uff0c\u7c7b\u4f3c\u53c2\u6570\u7684\u9009\u62e9\u89e3\u91ca\u8be6\u89c1 What is the difference between \u201c-interaction=nonstopmode\u201d and \u201c-halt-on-error\u201d?</p> <p>\u6700\u540e\uff0c\u518d\u5c06\u8fd9\u4e9b\u6587\u6863\u901a\u8fc7 <code>pdftk</code> \u7ed3\u5408\u5728\u4e00\u8d77\u3002</p> <p>\u6700\u7ec8\u6210\u529f\u7684\u7248\u672c\u5df2\u6574\u7406\u81f3\u4e2a\u4eba\u6a21\u677f\u4ed3\u5e93\u3002</p>"},{"location":"TeX/vargreek/#references","title":"References","text":"<ul> <li>Use the beta variant</li> </ul>"},{"location":"TeX/lualatex/","title":"LuaTex","text":""},{"location":"TeX/lualatex/#toy-example","title":"Toy example","text":"<p>Adopted from What is a simple example of something you can do with LuaTeX?</p>"},{"location":"autotools/","title":"Autotools","text":"<p>\u5173\u4e8eAutotools\u6709\u4e2a\u5f88\u68d2\u7684\u57fa\u7840\u77e5\u8bc6\u4ecb\u7ecd\u6587\u6863</p>"},{"location":"autotools/#ac","title":"\u7b2c\u4e00\u7bc7.ac","text":"<pre><code>dnl package name and version\nAC_INIT([depi], 0.2.0)\n\ndnl check gsl lib\n: ${GSL_LIBS=`gsl-config --libs`}\nif test -n \"${GSL_LIBS}\"; then\n  LIBS=\"${GSL_LIBS}\"\nelse\n  echo \"could find gsl\"\n  exit 1\nfi\n\nAC_SUBST(LIBS)\nAC_CONFIG_FILES([src/Makevars])\nAC_OUTPUT\n</code></pre> <p>\u51e0\u4e2a\u6ce8\u610f\u70b9 1. \u7b49\u53f7\u9644\u8fd1\u4e0d\u8981\u6709\u7a7a\u683c 2. \u60f3\u8981\u5b9e\u73b0\u5728\u547d\u4ee4\u884c\u4e2d\u8fd0\u884c<code>gsl-config --libs</code>\u7684\u6548\u679c\uff0c\u8bf7\u53c2\u7167\u4e0a\u8ff0\u4ee3\u7801\u7684\u5b9e\u73b0\u3002</p>"},{"location":"autotools/#make","title":"Make","text":"<ul> <li><code>$@</code>: \u76ee\u6807\u6587\u4ef6\uff0c\u6bd4\u5982 gsl_lm/ols/Makefile</li> <li><code>$^</code>: \u6240\u6709\u7684\u4f9d\u8d56\u6587\u4ef6\uff0c\u6bd4\u5982 G-squared/src/Makefile</li> <li><code>$&lt;</code>: \u7b2c\u4e00\u4e2a\u4f9d\u8d56\u6587\u4ef6</li> </ul> <p>and </p> <ul> <li>define functions: e.g., <code>mk</code> for compiling different tex files</li> <li>timestamp: <code>$(shell date -Idate)</code>, see also </li> <li>run <code>make uninstall</code> in the source folder</li> </ul> <p>see also:</p> <ul> <li>https://my.oschina.net/u/1413984/blog/199029</li> <li>Makefile \u7ecf\u5178\u6559\u7a0b(\u638c\u63e1\u8fd9\u4e9b\u8db3\u591f)</li> </ul>"},{"location":"biology/","title":"\u751f\u7269","text":"<ul> <li>JSmol displays interactive 3D molecular structures on devices that do not have Java installed.</li> <li>biopython</li> <li>CIRCOS can be used to draw fancy cycle-type figures. See also: Install circos on ubuntu 14.04 LTS</li> </ul>"},{"location":"biology/samtools/","title":"Installation Notes of Samtools","text":"<p>by Sheng Lian (20210818)</p>"},{"location":"biology/samtools/#introduction","title":"Introduction","text":"<ul> <li>Official Site: http://www.htslib.org/</li> </ul>"},{"location":"biology/samtools/#installation-without-root","title":"Installation without root","text":"<ul> <li>First install several libraries, e.g., zlib, bzip2, \u2026 </li> </ul> <p>(Basically follow the instruction here.)</p> <pre><code>tar xvf samtools-1.13.tar.bz2\ncd samtools-1.13\n./configure --prefix=$HOME/usr\nmake\nmake install\n</code></pre> <ul> <li> <p>To solve the problem in <code>./configure</code> results: \u2018No such file or directory\u2019 when installing bzip2: </p> </li> <li> <p>Download from SourceForge and <code>tar -zxvf bzip2-1.0.6.tar.gz</code>;</p> </li> <li> <p>Add Path (<code>bzip2-1.0.6</code>): </p> <pre><code>export CPPFLAGS=\"-I$HOME/usr/include -I$HOME/bzip2-1.0.6\"\nexport LDFLAGS=\"-L$HOME/usr/lib -L$HOME/usr/lib64 -L$HOME/bzip2-1.0.6\"\nexport LD_LIBRARY_PATH=$HOME/usr/lib:$HOME/usr/lib64:$HOME/bzip2-1.0.6\n</code></pre> </li> </ul>"},{"location":"biology/samtools/#using-conda","title":"Using Conda","text":"<ul> <li>Install Miniconda: </li> </ul> <pre><code>wget https://repo.continuum.io/miniconda/Miniconda3-latest-Linux-x86_64.sh\nsh Miniconda3-latest-Linux-x86_64.sh\n</code></pre> <ul> <li><code>conda install -c bioconda samtools</code></li> </ul>"},{"location":"comparisons/stat/","title":"Comparisons","text":"<ul> <li>R in Julia: <code>RCall.jl</code></li> <li>Python in Julia: <code>PyCall.jl</code></li> <li>Python in R: <code>reticulate</code></li> </ul> LANG Julia R Python Others padding zero on the left <code>lpad(1, 3, '0')</code> <code>f\"{1:03}\"</code> <code>printf \"%03d\" 1</code> (Shell) check if substring <code>occursin()</code> <code>in</code> sum an array along row <code>dims=1</code> <code>margin=2</code> <code>axis=0</code> read image <code>Images::load()</code> <code>cv2.imread()</code>/<code>skimage.io.imread()</code> <code>imread()</code> (Matlab) write image <code>save()</code> <code>cv2.imwrite()</code> <code>sort</code> and <code>argsort</code> <code>sort, sortperm</code> <code>sort(), order()</code> <code>sorted(), np.argsort()</code> Jupyter kernels <code>IJulia</code> <code>IRkernel</code> <code>ipykernel</code> too many open figures <code>inline</code> <code>rcParams</code> merge multiple slices <code>vcat</code> <code>np.r_</code> index of true elements <code>findall</code> <code>which</code> <code>np.where()[0]</code> freq table <code>StatsBase::countmap()</code> <code>table</code> <code>np.unique(return_counts=True)</code> contingency table <code>FreqTable::freqtable()</code> <code>table</code> figure size <code>size in pixel</code> <code>figsize in inch</code> straight line <code>Plots.abline!()</code> <code>abline()</code> get unique elements <code>unique(x)</code> <code>unique(x)</code> index for unique elements <code>unique(i-&gt;x[i], 1:length(x))</code> <code>which(!duplicated(x))</code> layout <code>@layout</code> <code>layout</code> priority of <code>:</code> <code>0.1+1:10-1 == (0.1+1):(10-1)</code> <code>0.1+1:10-1 == 0.1+(1:10)-1</code>"},{"location":"cuda/","title":"CUDA notes","text":""},{"location":"cuda/#tutorials","title":"Tutorials","text":"<ul> <li>An Even Easier Introduction to CUDA</li> <li>https://devblogs.nvidia.com/parallelforall/even-easier-introduction-cuda/</li> <li>https://devblogs.nvidia.com/parallelforall/easy-introduction-cuda-c-and-c/</li> <li>http://docs.nvidia.com/cuda/cusolver/index.html</li> </ul>"},{"location":"cuda/#error-handle","title":"Error Handle","text":""},{"location":"cuda/#unified-memory-profiling-failed","title":"unified memory profiling failed","text":"<p>\u53c2\u8003http://blog.csdn.net/u010837794/article/details/64443679</p> <pre><code>nvprof --unified-memory-profiling off ./add_cuda\n</code></pre>"},{"location":"cuda/#strange-output","title":"Strange Output","text":"<p>Pay attention to the size of vectors when running <code>cudaMemcpy()</code> .</p> <p>and don\u2019t mess up the order of dimensions.</p>"},{"location":"cuda/#cudamemcpy-fails","title":"cudaMemcpy fails","text":"<p>check whether the order of destination and source variables.</p>"},{"location":"cuda/#cudadevicereset","title":"cudaDeviceReset","text":"<p>think twice before adding the following code <pre><code>cudaDeviceReset\n</code></pre></p>"},{"location":"cuda/#free-invalid-next-size-fastnormal","title":"free(): invalid next size (fast/normal)","text":"<p>http://blog.sina.com.cn/s/blog_77f1e27f01019qq9.html</p>"},{"location":"cuda/#error-an-illegal-memory-access-was-encountered","title":"Error [an illegal memory access was encountered]","text":"<p>\u591a\u534a\u6570\u7ec4\u8d8a\u754c\uff0c\u53e6\u5916\uff0c\u6ce8\u610f\u5bf9\u4e8edouble\u7684\u6570\u503c\u578b\u6307\u9488\uff0c</p> <p>DO NOT</p> <pre><code>double *pone;\n</code></pre> <p>and DO NOT</p> <p><pre><code>double one;\ndouble *pone = &amp;one;\n</code></pre> YOU MUST <pre><code>double *pone = (double*)malloc(sizeof(double));\n*pone = 1.0;\n</code></pre></p>"},{"location":"cuda/#1","title":"\u95ee\u98981","text":"<ol> <li>\u91cd\u590d\u8fd0\u884c\u7ed3\u679c\u4e0d\u4e00\u6837</li> <li>\u5173\u4e8e\u4e24\u4e2afor\u5faa\u73af 3.</li> </ol>"},{"location":"cuda/#help","title":"help","text":"<ol> <li>Use of cudamalloc(). Why the double pointer? - Stack Overflow</li> <li>Element-by-element vector multiplication with CUDA</li> <li>Is there a cuda function to copy a row from a Matrix in column major?</li> <li>\u201cinvalid configuration argument \u201d error for the call of CUDA kernel? \u867d\u7136block\u6bcf\u884c\u6bcf\u5217\u7684thread\u6700\u5927\u503c\u4e3a512\uff0c\u9ad8\u7684thread\u6700\u5927\u503c\u4e3a62;\u4f46\u662f\u884c\u5217\u9ad8\u7684\u4e58\u79ef\u6700\u5927\u4e3a768\uff08\u6709\u4e9b\u786c\u4ef6\u4e3a1024\uff09 http://blog.csdn.net/dcrmg/article/details/54850766</li> <li>Incomplete output from printf() called on device</li> <li>\u5173\u4e8eCUDA\u4e2d__threadfence\u7684\u7406\u89e3</li> <li>Call cublas API from kernel</li> <li>CUDA Memory Hierarchy</li> <li>In a CUDA kernel, how do I store an array in \u201clocal thread memory\u201d?</li> <li>cublas handle reuse</li> <li>Does __syncthreads() synchronize all threads in the grid?</li> <li>How to call device function in CUDA with fewer threads</li> <li>CUDA threads for inner loop</li> <li>CUDA printf() crashes when large number of threads and blocks are launched</li> <li>Intro to image processing with CUDA</li> <li>CUDA parallelizing a nested for loop</li> <li>CUDA kernel - nested for loop</li> <li>For nested loops with CUDA</li> <li>CUDA kernel - nested for loop</li> <li>Converting \u201cfor\u201d loops into cuda parallelized code</li> <li>What does \u201cMisaligned address error\u201d mean?</li> <li>memory allocation inside a CUDA kernel</li> <li>NCSA GPU programming tutorial</li> <li>Complicated for loop to be ported to a CUDA kernel</li> <li>CUDA error message : unspecified launch failure</li> <li>Extracting matrix columns with CUDA?</li> <li>Is there a cuda function to copy a row from a Matrix in column major?</li> <li>Element-by-element vector multiplication with CUDA</li> <li> Converting C/C++ for loops into CUDA</li> <li>GPU\u5b66\u4e60\u7b14\u8bb0\u7cfb\u5217</li> <li>\u591a\u7ebf\u7a0b\u6709\u4ec0\u4e48\u7528\uff1f</li> <li>CUDA\u5e38\u89c1\u95ee\u9898\u4e0e\u89e3\u7b54</li> <li>cudaStreamSynchronize vs CudaDeviceSynchronize vs cudaThreadSynchronize</li> </ol>"},{"location":"cuda/#use-gsl-in-gnu","title":"use gsl in GNU","text":"<p>How to use the GNU scientific library (gsl) in nvidia Nsight eclipse </p>"},{"location":"cuda/#getting-started-with-parallel-mcmc","title":"Getting started with parallel MCMC","text":"<p>Getting started with parallel MCMC</p>"},{"location":"cuda/#multiple-definitions-error","title":"Multiple definitions Error","text":"<p>Some similar problems and explanations:</p> <ol> <li>multiple definition error c++</li> <li>Multple c++ files causes \u201cmultiple definition\u201d error?</li> <li>getting \u201cmultiple definition\u201d errors with simple device function in CUDA C</li> <li>CUDA multiple definition error during linking</li> </ol>"},{"location":"cuda/#first-try-separate-definition-and-implementations","title":"First Try: separate definition and implementations","text":"<p>According to Separate Compilation and Linking of CUDA C++ Device Code, it seems that it is reasonable to separate the device code header file with implementation into pure header file and implementation parts.</p> <p>But the template cannot be separated, refer to How to define a template class in a .h file and implement it in a .cpp file and Why can\u2019t templates be within extern \u201cC\u201d blocks?</p>"},{"location":"cuda/#second-try-add-extern-c","title":"Second Try: add <code>extern \"C\"</code>","text":"<p>A reference about <code>extern \"C\"</code>: C++\u9879\u76ee\u4e2d\u7684extern \u201cC\u201d {}</p> <p>There are several function names with different parameter list, it reports </p> <pre><code>more than one instance of overloaded function \"gauss1_pdf\" has \"C\" linkage\n</code></pre> <p>In one word, overloading is a C++ feature, refer to More than one instance overloaded function has C linkage.</p>"},{"location":"cuda/#last-try-add-inline","title":"Last Try: add <code>inline</code>","text":"<p>Succeed!</p> <p>Refer to C/C++ \u201cinline\u201d keyword in CUDA device-side code</p>"},{"location":"cuda/cookbook/","title":"Index","text":""},{"location":"cuda/cookbook/#chap-5-grids-blocks-and-threads","title":"Chap 5: Grids, Blocks, and Threads","text":"<p>The CUDA programming model groups threads into special groups it calls warps, blocks, and grids, which we will look at in turn.</p> <p></p>"},{"location":"cuda/cuSolver/","title":"cuSolver Tutorials","text":"<ol> <li>http://docs.nvidia.com/cuda/cusolver/index.html</li> </ol>"},{"location":"cuda/cuSolver/#gsl-vs-cusolver","title":"gsl vs. cusolver","text":"<p>Compare the LU decomposition by using gsl on CPU or using cusolver on GPU.</p> <p>Considering the solve Ax=b by LU decomposition, where AA\u2018s dimension is N\\times NN\\times N</p> <p>The test results are as follows:</p> <p>For gsl on CPU,</p> <p></p> <p>while for cusolver on GPU</p> <p></p> <p></p> <p>If we don\u2019t do LU decomposition, just generate random numbers, the elapse time are as follows</p> <p></p> <p>In a word, when NN is less than 2500, the speed of gsl is more fast, but when NN is larger than 2500, cusolver is more fast, and it seems that cusolver just takes about 3 seconds to finish calculation no matter what NN is.</p>"},{"location":"cuda/udacity/","title":"Index","text":""},{"location":"cuda/udacity/#introduction-to-parallel-programming-udacity","title":"Introduction to Parallel Programming @Udacity","text":"<ol> <li>\u8bfe\u7a0b\u4e3b\u9875\uff1ahttps://classroom.udacity.com/courses/cs344/</li> <li>Github\u4e3b\u9875\uff1ahttps://github.com/udacity/cs344</li> </ol>"},{"location":"dev/docker/","title":"Docker","text":""},{"location":"dev/docker/#tutorials","title":"Tutorials","text":"<ul> <li>Docker \u5165\u95e8\u6559\u7a0b \u2013 \u962e\u4e00\u5cf0</li> <li>Docker \u5fae\u670d\u52a1\u6559\u7a0b \u2013 \u962e\u4e00\u5cf0</li> </ul>"},{"location":"dev/docker/#installation","title":"Installation","text":"<p>Info</p> <p>The installation records on Rocky Server is here.</p> <p>Directly type <code>docker</code> in the terminal,</p> <pre><code>$ docker\n\nCommand 'docker' not found, but can be installed with:\n\nsudo snap install docker     # version 19.03.11, or\nsudo apt  install docker.io\n\nSee 'snap info docker' for additional versions.\n</code></pre> <p>then run</p> <pre><code>sudo apt install docker.io\n</code></pre> <p>Without permission, it will report the following message</p> <pre><code>$ docker version\nClient:\n Version:           19.03.6\n API version:       1.40\n Go version:        go1.12.17\n Git commit:        369ce74a3c\n Built:             Fri Feb 28 23:45:43 2020\nOS/Arch:           linux/amd64\n Experimental:      false\nGot permission denied while trying to connect to the Docker daemon socket at unix:///var/run/docker.sock: Get http://%2Fvar%2Frun%2Fdocker.sock/v1.40/version: dial unix /var/run/docker.sock: connect: permission denied\n</code></pre> <p>To avoid permission issue,</p> <pre><code>sudo usermod -aG docker $USER\n</code></pre> <p>But it is necessary to log out and log back in to re-evaluate the group membership.</p>"},{"location":"dev/docker/#change-the-root-folder","title":"change the root folder","text":"<p>to save space, I want to change the image installation directory:</p> <pre><code>$ sudo vi /etc/docker/daemon.json\n{\n\"data-root\": \"/new/path/to/docker-data\"\n}\n$ sudo systemctl daemon-reload\n$ sudo systemctl restart docker\n</code></pre> <p>where the official explanation is that</p> <ul> <li><code>data-root</code> is the path where persisted data such as images, volumes, and cluster state are stored. The default value is /var/lib/docker</li> </ul> <p>we can validate it with the <code>hello-world</code> image,</p> <pre><code>$ docker image pull hello-world\n# or docker image pull library/hello-world\n$ docker image ls\nREPOSITORY          TAG                 IMAGE ID            CREATED             SIZE\nhello-world         latest              d1165f221234        7 weeks ago         13.3kB\n$ docker image inspect d1165\n[\n{\n\"Id\": \"sha256:d1165f2212346b2bab48cb01c1e39ee8ad1be46b87873d9ca7a4e434980a7726\",\n        \"RepoTags\": [\n\"hello-world:latest\"\n...\n        \"GraphDriver\": {\n\"Data\": {\n\"MergedDir\": \"/media/weiya/PSSD/Programs/docker/overlay2/511d95f2c0f646ed080c006f99f8f738f967231d33aaa36a98e3e67109eb09be/merged\",\n                \"UpperDir\": \"/media/weiya/PSSD/Programs/docker/overlay2/511d95f2c0f646ed080c006f99f8f738f967231d33aaa36a98e3e67109eb09be/diff\",\n                \"WorkDir\": \"/media/weiya/PSSD/Programs/docker/overlay2/511d95f2c0f646ed080c006f99f8f738f967231d33aaa36a98e3e67109eb09be/work\"\n},\n...\n</code></pre>"},{"location":"dev/docker/#act","title":"act","text":"<p>Info</p> <p>Post on: 2023-01-07 19:52:47 -0500</p> <p><code>act</code>, which is based on docker, supports to run GitHub actions locally.</p> <p>Installation of act</p> <ol> <li>Download the binary package</li> <li><code>/usr/local/bin$ sudo ln -s /media/weiya/PSSD/Programs/act-0.2.35/act .</code></li> </ol> <p>If the container still exists, we can also open a terminal to access it like a server,</p> <pre><code>~$ docker container ls\nCONTAINER ID   IMAGE                           COMMAND               CREATED        STATUS        PORTS     NAMES\ne801ec7aed7f   catthehacker/ubuntu:act-20.04   \"tail -f /dev/null\"   23 hours ago   Up 23 hours             act-CI-Julia-1-8--ubuntu-20-04\n~$ docker exec -it e801 bash\n</code></pre>"},{"location":"dev/docker/#r","title":"R","text":""},{"location":"dev/docker/#r-base","title":"r-base","text":"<p>The images are hosted on Docker Official Images: r-base.</p> <p>Without pulling,</p> <pre><code>docker pull r-base:4.1.0\n</code></pre> <p>we can directly run the following code,</p> <pre><code>docker run -it r-base:4.1.0\n</code></pre> <p>then the R session would appear. We can install packages as usual, such as</p> <pre><code>&gt; install.packages(\"dplyr\")\n</code></pre> <p>but note that the modification would discard after quitting. So it is necessary to save the changes (refer to How to Commit Changes to a Docker Image with Examples) via</p> <pre><code>$ docker commit container-ID new-image-name\n</code></pre> <p>Next time, we can run with the installed packages,</p> <pre><code>$ docker run -it new-image-name\n</code></pre> <p>If we want to plot, then it is necessary to forward X11, see Alternatives to ssh X11-forwarding for Docker containers for more details. Or as @edd suggested in Enable plotting for r-base container via X-Forwarding, a better one might be to use a container with RStudio Server.</p>"},{"location":"dev/docker/#xampp","title":"XAMPP","text":"<p>XAMPP is a free and open-source cross-platform (X) web server solution stack package developed by Apache Friends, consisting mainly of the Apache HTTP Server (A), MariaDB database (M) (formerly MySQL), and interpreters for scripts written in the PHP (P) and Perl (P) programming languages.</p> <p>Info</p> <p>My DaSS Project</p> <p>Here is a great docker image!</p> <p>Start via</p> <pre><code>#$ docker pull tomsik68/xampp\n$ docker run --name myXAMPP -p 41061:22 -p 41062:80 -d -v ~/my_web_pages:/www tomsik68/xampp:8\n</code></pre> <p>Tip</p> <ul> <li><code>docker run</code> and <code>docker container run</code> are exactly the same </li> <li>since <code>docker run</code> will automatically download the image if no installed, then <code>docker pull</code> is unnecessary. </li> <li><code>-v /HOST-DIR:/CONTAINER-DIR</code> creates a bind mount.</li> <li><code>-p hostPort:containerPort</code> publishes the container\u2019s port to the host.</li> <li><code>-d</code> runs the container in the background and print the new container ID.</li> <li> More details can be checked via <code>man docker-run</code>.</li> </ul> <p>Then we can see the container via </p> <pre><code>$ docker container ls\nCONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS                                                    NAMES\n43e5a49cbfd5        tomsik68/xampp      \"sh /startup.sh\"    18 seconds ago      Up 17 seconds       3306/tcp, 0.0.0.0:41061-&gt;22/tcp, 0.0.0.0:41062-&gt;80/tcp   myXAMPP\n</code></pre> <p>Stop via</p> <pre><code>#$ docker container stop/kill [containerID]\n$ docker stop/kill [containerID]\n# then\n$ docker stop 43e5\n43e5\n$ docker container ls\nCONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES\n</code></pre> <p>Tip</p> <ul> <li>similarly, <code>docker container stop/kill</code> can be abbreviated as <code>docker stop/kill</code></li> <li><code>kill</code> \u5411\u5bb9\u5668\u91cc\u9762\u7684\u4e3b\u8fdb\u7a0b\u53d1\u51fa SIGKILL \u4fe1\u53f7\uff0c\u800c <code>stop</code> \u53d1\u51fa SIGTERM \u4fe1\u53f7\uff0c\u7136\u540e\u8fc7\u4e00\u6bb5\u65f6\u95f4\u518d\u53d1\u51fa SIGKILL \u4fe1\u53f7\u3002\u4e24\u8005\u5dee\u5f02\u662f\uff0c\u5e94\u7528\u7a0b\u5e8f\u6536\u5230 SIGTERM \u4fe1\u53f7\u540e\uff0c\u53ef\u4ee5\u81ea\u884c\u8fdb\u884c\u6536\u5c3e\u6e05\u7406\u5de5\u4f5c\uff0c\u4f46\u4e5f\u53ef\u4ee5\u4e0d\u7406\u4f1a\u8fd9\u4e2a\u4fe1\u53f7\u3002\u5982\u679c\u6536\u5230 SIGKILL \u4fe1\u53f7\uff0c\u5c31\u4f1a\u5f3a\u884c\u7acb\u5373\u7ec8\u6b62\uff0c\u90a3\u4e9b\u6b63\u5728\u8fdb\u884c\u7684\u64cd\u4f5c\u4f1a\u5168\u90e8\u4e22\u5931\u3002</li> <li><code>containerID</code> \u65e0\u9700\u5199\u5168\uff0c\u53ea\u8981\u80fd\u533a\u5206\u5373\u53ef</li> <li>since we have specified the name via <code>--name myXAMPP</code>, we can replace the containerID with such name.</li> </ul> <p>Restart via</p> <pre><code># find the container ID\n$ docker container ls -a\n$ docker container start [containerID]/[containerNAME]\n</code></pre> <p>Tip</p> <ul> <li><code>docker container ls</code> only shows the running ones, but <code>-a</code> will show all containers. More details can be found in <code>man docker-container-ls</code></li> </ul> <p>Establish a ssh connection,</p> <pre><code>$ ssh root@127.0.0.1 -p 41061\n</code></pre> <p>it sounds like the port-forwarding if we view the container as another linux machine.</p> <p>Info</p> <p>Both default username and password are <code>root</code>.</p> <p>Alternatively, we can get a shell terminal insider the container, just like ssh,</p> <pre><code>$ docker exec -it myXAMPP bash\n</code></pre> <p>Tip</p> <ul> <li><code>-t</code> allocates a pseudo-TTY.</li> <li><code>-i</code> keeps STDIN open even if not attached.</li> <li><code>docker [container] exec</code> \u7528\u4e8e\u8fdb\u5165\u4e00\u4e2a\u6b63\u5728\u8fd0\u884c\u7684 container. \u5982\u679c <code>docker run</code> \u547d\u4ee4\u8fd0\u884c\u5bb9\u5668\u65f6\uff0c\u6ca1\u6709\u4f7f\u7528 <code>-it</code>\uff0c\u5219\u9700\u8981\u8fd9\u4e2a\u547d\u4ee4\u8fdb\u5165\u5bb9\u5668\u3002</li> </ul> <p>If we are inside the container, we can export the path to use the commands provided by XAMPP,</p> <pre><code># inside docker container\nexport PATH=/opt/lampp/bin:$PATH\n# or add it to `.bashrc` of the container\n</code></pre> <p>If we modified the configuration of XAMPP, we need to restart the Apache server via</p> <pre><code>docker exec myXAMPP /opt/lampp/lampp restart\n</code></pre>"},{"location":"dev/docker/#python-for-a-non-internet-env","title":"Python (for a non-internet env)","text":"<p>First of all, write a dockerfile</p> <pre><code>cat Dockerfile\nFROM python:3.7\nRUN pip install jieba\n</code></pre> <p>then build it with</p> <pre><code>$ docker image build -t py37jieba:0.0.1 .\n</code></pre> <p>and test it locally with</p> <pre><code>$ docker run -it py37jieba:0.0.1 \nPython 3.7.10 (default, May 12 2021, 16:05:48) [GCC 8.3.0] on linux\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; import jieba\n&gt;&gt;&gt; jieba.cut(\"\u4ed6\u6765\u5230\u4e86\u7f51\u6613\u676d\u7814\u5927\u53a6\")\n&lt;generator object Tokenizer.cut at 0x7fda1c981bd0&gt;\n&gt;&gt;&gt; print(\", \".join(jieba.cut(\"\u4ed6\u6765\u5230\u4e86\u7f51\u6613\u676d\u7814\u5927\u53a6\")))\nBuilding prefix dict from the default dictionary ...\nDumping model to file cache /tmp/jieba.cache\nLoading model cost 0.924 seconds.\nPrefix dict has been built successfully.\n\u4ed6, \u6765\u5230, \u4e86, \u7f51\u6613, \u676d\u7814, \u5927\u53a6\n</code></pre> <p>save the image with</p> <pre><code>$ docker save py37jieba:0.0.1 | gzip &gt; py37jieba-0.0.1.tar.gz\n</code></pre> <p>refer to hubutui/docker-for-env-without-internet-access</p> <p>We can also treat it as a new server visiting from bash,</p> <pre><code>docker run -it --rm -v /tmp:/root -w /root py37jieba:0.0.5 bash\n</code></pre> <p>and open another terminal via</p> <pre><code>docker exec -it &lt;containerID&gt; bash\n</code></pre>"},{"location":"dev/docker/#tex","title":"TeX","text":"<ul> <li>Building LaTeX documents locally using Docker</li> <li>TeX Live docker image</li> </ul>"},{"location":"dev/docker/#no-space-left-on-device-unknown","title":"<code>no space left on device: unknown</code>","text":"<pre><code>$ docker system prune\n</code></pre> <p>refer to Docker error : no space left on device</p>"},{"location":"dev/docker/#ownership-of-generated-files","title":"ownership of generated files","text":"<p>The default ownership file is <code>root</code>, and fail to accessed.</p> <p>We can specify the owner if necessary,</p> <pre><code>$ docker run -v $PWD:/root -w /root -u $UID:$UID -it py37jieba:0.0.5 bash\n</code></pre> <p>where the valid formats from <code>man docker-run</code> include</p> <pre><code>          --user [user | user:group | uid | uid:gid | user:gid | uid:group ]\n</code></pre> <p>but a direct username <code>weiya</code> throws,</p> <pre><code>docker: Error response from daemon: unable to find user weiya: no matching entries in passwd file.\nERRO[0000] error waiting for container: context canceled </code></pre> <p>with a specific uid, the prompt displays</p> <pre><code>I have no name!@afea1a0b4bd7:/root$ echo \"own by weiya\" &gt; test_ownship.txt\n</code></pre> <p>Test with <code>1000</code> and <code>1000:1000</code> respectively, the results are</p> <pre><code>-rw-r--r-- 1 weiya weiya        13 Jul 14 13:36 test_ownship2.txt\n-rw-r--r-- 1 weiya root         13 Jul 14 12:04 test_ownship.txt\n</code></pre> <p>refer to Files created by Docker container are owned by root</p>"},{"location":"dev/docker/#run-in-background","title":"Run in background","text":"<p>Suppose I want to run a script in the background, the classical way is</p> <pre><code>$ python test.py &amp;\n</code></pre> <p>But with docker, the correct way is to add option <code>-d</code>.</p> <pre><code>$ docker run -d </code></pre> <p>refer to How to run a docker container in the background or detached mode in the terminal?</p> <ul> <li>directly appending <code>&amp;</code> did not work. </li> <li><code>nohup docker ... &amp;</code> also failed</li> </ul> <p>Info</p> <p>See SZmedinfo/issues/11 for some failed attempts</p> <p>Another related task is to run the script in the background of docker, which can keep the container running forever,</p> <pre><code>RUN bash -c \"sh script.sh &amp; tail -F /dev/null\"\n</code></pre> <p>refer to Run a background script inside a docker container</p> <pre><code>from time import sleep\nsleep(30)\nf = open(\"test.txt\", \"w\")\nf.write(\"test\")\nf.close()\n</code></pre> <p>write out log file, do not use the abbreviated version, <code>&amp;&gt;</code> since it is only supported in bash, and instead write the full format</p> <pre><code>RUN sh -c 'python test.py &gt; out.log 2&gt;&amp;1'\n</code></pre>"},{"location":"doc/markdown/","title":"Markdown","text":"<ul> <li>a simple example generated page via rmarkdown, see also ESL-CN Issue 242</li> </ul>"},{"location":"doc/markdown/#typora","title":"Typora","text":"<p>Personal Tips:</p> <ul> <li>copy image and then paste it into the editor, the image will also be copied into the cache folder of typora. To avoid that, just directly use the absolute path of the image. First copy the image file, and then paste it into the address bar in Chrome, which will display the absolute path like, <code>file://</code>.</li> </ul>"},{"location":"doc/markdown/#collapsible-section","title":"Collapsible Section","text":"<pre><code>&lt;details&gt;\n  &lt;summary&gt;Click to expand!&lt;/summary&gt;\n\n  ## Heading\n1. A numbered\n  2. list\n     * With some\n     * Sub bullets\n&lt;/details&gt;\n</code></pre> <p>an empty line after <code>&lt;/summary&gt;</code></p> <p>refer to pierrejoubert73/markdown-details-collapsible.md</p> <p>shortcut</p> <p>It is annoying to input the tag manually. Here are I found two shortcuts. ()</p> <ul> <li>bookmarklet (): add a javascript snippet as a bookmark.</li> <li>Text Blaze: a chrome extension. Just type the customized define command <code>/details</code>.</li> </ul>"},{"location":"doc/markdown/#mermaid-flowchart","title":"<code>mermaid</code>: flowchart","text":"<p>Homepage: https://mermaid-js.github.io/</p> <p>Private Examples</p> <ul> <li>2021-06-23.md</li> </ul> <ul> <li>add newline in the text, use <code>&lt;br /&gt;</code>. </li> </ul>"},{"location":"doc/mkdocs/","title":"Material for MkDocs","text":""},{"location":"doc/mkdocs/#superfences-for-admonition","title":"Superfences for Admonition","text":"<p>Want to add code block in admonition,</p>"},{"location":"finance/","title":"\u91d1\u878d\u7b14\u8bb0","text":""},{"location":"finance/#_2","title":"\u5b8f\u89c2\u7ecf\u6d4e","text":"<p>\u53c2\u8003 https://www.zhihu.com/question/19765287/answer/135239655</p> <ul> <li>CPI: \u5c45\u6c11\u6d88\u8d39\u4ef7\u683c\u6307\u6570</li> <li>\u4e00\u822c\u8bf4\u6765\u5f53CPI&gt;3%\u7684\u589e\u5e45\u65f6\u6211\u4eec\u79f0\u4e3aINFLATION\uff0c\u5c31\u662f\u901a\u8d27\u81a8\u80c0\uff1b\u800c\u5f53CPI&gt;5%\u7684\u589e\u5e45\u65f6\uff0c\u6211\u4eec\u628a\u4ed6\u79f0\u4e3aSERIOUS INFLATION\uff0c\u5c31\u662f\u4e25\u91cd\u7684\u901a\u8d27\u81a8\u80c0\u3002</li> <li>PPI: \u5de5\u4e1a\u751f\u4ea7\u8005\u51fa\u5382\u4ef7\u683c\u6307\u6570\u3002</li> <li>PMI\u53caPPI\u662f\u5148\u884c\u6307\u6807\uff0cCPI\u662f\u6ede\u540e\u6307\u6807\uff0c\u524d\u4e24\u8005\u5bf9\u540e\u8005\u4f1a\u6709\u4e00\u5b9a\u7684\u4f20\u5bfc\u6027</li> <li>PMI: \u91c7\u8d2d\u7ecf\u7406\u6307\u6570\u3002\u4e00\u822c\u4ee550\u4e3a\u754c\uff0c\u4f4e\u5219\u8870\uff0c\u9ad8\u5219\u8363\u3002</li> </ul>"},{"location":"finance/#_3","title":"\u80a1\u7968","text":"<ul> <li>\u722c\u53d6 S&amp;P 500 \u6307\u6570\u91cc\u9762\u6d89\u53ca\u7684 500 \u652f\u80a1\u7968\u8fd1 6 \u5e74\u6765\u6bcf\u5929\u7684\u5f00\u76d8\u4ef7\u683c\u548c\u6536\u76d8\u4ef7\u683c\uff0esource code</li> </ul>"},{"location":"finance/#_4","title":"\u76d8\u6574","text":"<p>\u53c2\u8003 \u767e\u5ea6\u767e\u79d1\uff1a\u76d8\u6574</p> <p>\u76d8\u6574\u662f\u80a1\u5e02\u5e38\u7528\u8bed\uff0c\u6307\u80a1\u4ef7\u5728\u4e00\u6bb5\u65f6\u95f4\u5185\u6ce2\u52a8\u5e45\u5ea6\u5c0f\uff0c\u65e0\u660e\u663e\u7684\u4e0a\u6da8\u6216\u4e0b\u964d\u8d8b\u52bf\uff0c\u80a1\u4ef7\u5448\u725b\u76ae\u6574\u7406\uff0c\u8be5\u9636\u6bb5\u7684\u884c\u60c5\u9707\u5e45\u5c0f\uff0c\u65b9\u5411\u4e0d\u6613\u628a\u63e1\uff0c\u662f\u6295\u8d44\u8005\u6700\u8ff7\u60d1\u7684\u65f6\u5019\u3002</p> <p>\u5176\u4e2d\u9047\u5230\u65b0\u8bcd\u201c\u725b\u76ae\u6574\u7406\u201d</p> <p>\u53c2\u8003 \u767e\u5ea6\u77e5\u9053\uff1a\u725b\u76ae\u6574\u7406</p> <p>\u4ef7\u683c\u4e0a\u5347\u6216\u8005\u4e0b\u964d\u7684\u5e45\u5ea6\u5f88\u5c0f\uff0c\u4ef7\u683c\u53d8\u5316\u4e0d\u5927\uff0c\u5e02\u4ef7\u50cf\u88ab\u9489\u4f4f\u4e86\u4f3c\u7684\uff0c\u5982\u725b\u76ae\u4e4b\u575a\u97e7\u3002\u5728\u725b\u76ae\u5e02\u4e0a\u5f80\u5f80\u6210\u4ea4\u91cf\u4e5f\u5f88\u5c0f\uff0c\u725b\u76ae\u5e02\u662f\u4e00\u79cd\u4e70\u5356\u53cc\u65b9\u5728\u529b\u91cf\u5747\u8861\u65f6\u7684\u4ef7\u683c\u884c\u5e02\u8868\u73b0\u3002</p>"},{"location":"finance/#_5","title":"\u5e03\u6797\u7ebf","text":""},{"location":"finance/#_6","title":"\u5b9a\u4e49","text":"<p>\u53c2\u8003\u5e03\u6797\u7ebf BOLL \u7528\u6cd5</p> <p>\u5e03\u6797\u7ebf\u662f\u80a1\u5e02\u4e2d\u7ecf\u5e38\u7528\u5230\u7684\u6280\u672f\u6307\u6807\u4e4b\u4e00\uff0c\u5b83\u53cd\u6620\u4e86\u80a1\u4ef7\u7684\u6ce2\u52a8\u72b6\u51b5\u3002\u5c71\u7248\u8f6f\u4ef6\u6307\u6807\u56fe\u4e2d\u7684\u5e03\u6797\u7ebf\u7531\u4e09\u6761\u7ec4\u6210\uff0c\u4e0a\u8fb9\u7684\u767d\u7ebf(up)\u662f\u963b\u529b\u7ebf\uff0c\u4e0b\u8fb9\u7684\u9ec4\u7ebf(down)\u662f\u652f\u6491\u7ebf\uff0c\u4e2d\u95f4\u7684\u7c89\u7ea2\u7ebf(mb)\u4e3a\u5e73\u5747\u7ebf.\u5f53\u80a1\u4ef7\u76d8\u6574\u65f6\uff0c\u963b\u529b\u7ebf\u548c\u652f\u6491\u7ebf\u6536\u7f29\uff0c\u79f0\u4e3a\u6536\u53e3\uff1b\u80a1\u4ef7\u5411\u4e0a\u6216\u5411\u4e0b\u7a81\u7834\u65f6\uff0c\u963b\u529b\u7ebf\u548c\u652f\u6491\u7ebf\u6253\u5f00\uff0c\u79f0\u4e3a\u5f00\u53e3\uff0c\u8bc1\u660e\u80a1\u4ef7\u5373\u5c06\u4ea7\u751f\u5927\u7684\u6ce2\u52a8\u3002</p> <p>\u5e03\u6797\u7ebf\u5e94\u7528\u89c4\u5219</p> <p>\u5e03\u6797\u7ebf\u4e00\u822c\u7684\u5e94\u7528\u89c4\u5219\u662f\uff0c\u5f53\u80a1\u4ef7\u5411\u4e0b\u51fb\u7a7f\u652f\u6491\u7ebf\uff08\u9ec4\u7ebfdown\uff09\u7684\u65f6\u5019\u4e70\u70b9\u51fa\u73b0\uff0c\u800c\u5411\u4e0a\u51fb\u7a7f\u963b\u529b\u7ebf\uff08\u767d\u7ebfup\uff09\u5356\u70b9\u51fa\u73b0\u3002\u800c\u5e73\u5747\u7ebf\uff08\u7c89\u7ea2\u7ebfmb\uff09\u662f\u8003\u9a8c\u4e00\u4e2a\u8d8b\u52bf(\u65e0\u8bba\u662f\u4e0a\u5347\u8fd8\u662f\u4e0b\u964d\u6216\u662f\u76d8\u6574)\u662f\u5426\u5f97\u4ee5\u7ee7\u7eed\u7684\u91cd\u8981\u652f\u6491\u6216\u963b\u529b\u3002</p>"},{"location":"finance/#_7","title":"\u8ba1\u7b97\u65b9\u6cd5","text":"<p>\u53c2\u8003BOLL\u6307\u6807\u7684\u539f\u7406\u548c\u8ba1\u7b97\u65b9\u6cd5</p>"},{"location":"finance/#rsi","title":"RSI","text":"<p>\u53c2\u8003\u4e92\u52a8\u767e\u79d1\uff1aRSI</p> <p>RSI \u7684\u539f\u7406\u7b80\u5355\u6765\u8bf4\u662f\u4ee5\u6570\u5b57\u8ba1\u7b97\u7684\u65b9\u6cd5\u6c42\u51fa\u4e70\u5356\u53cc\u65b9\u7684\u529b\u91cf\u5bf9\u6bd4\uff0c\u8b6c\u5982\u6709100\u4e2a\u4eba\u9762\u5bf9\u4e00\u4ef6\u5546\u54c1\uff0c\u5982\u679c50\u4e2a\u4eba\u4ee5\u4e0a\u8981\u4e70\uff0c\u7ade\u76f8\u62ac\u4ef7\uff0c\u5546\u54c1\u4ef7\u683c\u5fc5\u6da8\u3002\u76f8\u53cd\uff0c\u5982\u679c50\u4e2a\u4eba\u4ee5\u4e0a\u4e89\u7740\u5356\u51fa\uff0c\u4ef7\u683c\u81ea\u7136\u4e0b\u8dcc\u3002 \u5f3a\u5f31 \u6307\u6807\u7406\u8bba\u8ba4\u4e3a\uff0c\u4efb\u4f55\u5e02\u4ef7\u7684\u5927\u6da8\u6216\u5927\u8dcc\uff0c\u5747\u57280-100\u4e4b\u95f4\u53d8\u52a8\uff0c\u6839\u636e\u5e38\u6001\u5206\u914d\uff0c\u8ba4\u4e3aRSI\u503c\u591a\u572830-70\u4e4b\u95f4\u53d8\u52a8\uff0c\u901a\u5e3880\u751a\u81f390\u65f6\u88ab\u8ba4\u4e3a\u5e02\u573a\u5df2\u5230\u8fbe \u8d85\u4e70\u72b6\u6001\uff0c\u81f3\u6b64\u5e02\u573a\u4ef7\u683c\u81ea\u7136\u4f1a\u56de\u843d\u8c03\u6574\u3002\u5f53\u4ef7\u683c\u4f4e\u8dcc\u81f330\u4ee5\u4e0b\u5373\u88ab\u8ba4\u4e3a\u662f \u8d85\u5356\u72b6\u6001\uff0c\u5e02\u4ef7\u5c06\u51fa\u73b0\u53cd\u5f39\u56de\u5347</p> <p>RSI \u7684\u4ea4\u53c9\u60c5\u51b5</p> <p>\u77ed\u671f RSI \u662f\u6307\u53c2\u6570\u76f8\u5bf9\u5c0f\u7684 RSI\uff0c\u957f\u671f RSI \u662f\u6307\u53c2\u6570\u76f8\u5bf9\u8f83\u957f\u7684 RSI\u3002 \u6bd4\u5982,6 \u65e5 RSI \u548c 12 \u65e5 RSI \u4e2d ,6 \u65e5 RSI \u5373\u4e3a\u77ed\u671f RSI\uff0c12 \u65e5 RSI \u5373\u4e3a\u957f\u671f RSI\u3002\u957f\u77ed\u671f RSI \u7ebf\u7684\u4ea4\u53c9\u60c5\u51b5\u53ef\u4ee5\u4f5c\u4e3a\u6211\u4eec\u7814\u5224\u884c\u60c5\u7684\u65b9\u6cd5\u3002</p> <ol> <li>\u5f53\u77ed\u671f RSI &gt; \u957f\u671f RSI \u65f6\uff0c\u5e02\u573a\u5219\u5c5e\u4e8e\u591a\u5934\u5e02\u573a\uff1b</li> <li>\u5f53\u77ed\u671f RSI &lt; \u957f\u671f RSI \u65f6\uff0c\u5e02\u573a\u5219\u5c5e\u4e8e\u7a7a\u5934\u5e02\u573a\uff1b</li> <li>\u5f53\u77ed\u671f RSI \u7ebf\u5728\u4f4e\u4f4d\u5411\u4e0a\u7a81\u7834\u957f\u671f RSI \u7ebf\u65f6\uff0c\u4e00\u822c\u4e3a RSI \u6307\u6807\u7684\u201c\u9ec4\u91d1\u4ea4\u53c9\u201d\uff0c\u4e3a\u4e70\u5165\u4fe1\u53f7\uff1b</li> <li>\u5f53\u77ed\u671f RSI \u7ebf\u5728\u9ad8\u4f4d\u5411\u4e0b\u7a81\u7834\u957f\u671f RSI \u7ebf\u65f6\uff0c\u4e00\u822c\u4e3a RSI \u6307\u6807\u7684\u201c\u6b7b\u4ea1\u4ea4\u53c9\u201d\uff0c\u4e3a\u5356\u51fa\u4fe1\u53f7\u3002</li> </ol>"},{"location":"finance/#_8","title":"\u591a\u5934\u5e02\u573a","text":"<p>\u591a\u5934\u5e02\u573a\uff08bull market\uff09\u53c8\u79f0\u725b\u5e02\uff0c\u6307\u4ef7\u683c\u957f\u671f\u5448\u4e0a\u6da8\u8d8b\u52bf\u7684\u8bc1\u5238\u5e02\u573a\u3002\u4ef7\u683c\u53d8\u5316\u7684\u603b\u8d8b\u52bf\u662f\u4e0d\u65ad\u8d70\u9ad8\uff0c\u7279\u5f81\u662f\u5927\u6da8\u5c0f\u8dcc\u3002</p>"},{"location":"finance/#_9","title":"\u6536\u76d8\u4ef7","text":"<p>\u6536\u76d8\u4ef7\uff1a\u6caa\u5e02\u6536\u76d8\u4ef7\u4e3a\u5f53\u65e5\u8be5\u8bc1\u5238\u6700\u540e\u4e00\u7b14\u4ea4\u6613\u524d\u4e00\u5206\u949f\u6240\u6709\u4ea4\u6613\u7684\u6210\u4ea4\u91cf\u52a0\u6743\u5e73\u5747\u4ef7\uff08\u542b\u6700\u540e\u4e00\u7b14\u4ea4\u6613\uff09\u3002\u5f53\u65e5\u65e0\u6210\u4ea4\u7684\uff0c\u4ee5\u524d\u6536\u76d8\u4ef7\u4e3a\u5f53\u65e5\u6536\u76d8\u4ef7\u3002\u6df1\u5e02\u7684\u6536\u76d8\u4ef7\u901a\u8fc7\u96c6\u5408\u7ade\u4ef7\u7684\u65b9\u5f0f\u4ea7\u751f\u3002\u6536\u76d8\u96c6\u5408\u7ade\u4ef7\u4e0d\u80fd\u4ea7\u751f\u6536\u76d8\u4ef7\u7684\uff0c\u4ee5\u5f53\u65e5\u8be5\u8bc1\u5238\u6700\u540e\u4e00\u7b14\u4ea4\u6613\u524d\u4e00\u5206\u949f\u6240\u6709\u4ea4\u6613\u7684\u6210\u4ea4\u91cf\u52a0\u6743\u5e73\u5747\u4ef7(\u542b\u6700\u540e\u4e00\u7b14\u4ea4\u6613)\u4e3a\u6536\u76d8\u4ef7\u3002\u5f53\u65e5\u65e0\u6210\u4ea4\u7684\uff0c\u4ee5\u524d\u6536\u76d8\u4ef7\u4e3a\u5f53\u65e5\u6536\u76d8\u4ef7\u3002</p>"},{"location":"finance/#_10","title":"\u4ed3\u4f4d","text":"<p>\u53c2\u8003\u767e\u5ea6\u767e\u79d1</p> <p>\u4ed3\u4f4d\u662f\u6307\u6295\u8d44\u4eba\u5b9e\u6709\u6295\u8d44\u548c\u5b9e\u9645\u6295\u8d44\u8d44\u91d1\u7684\u6bd4\u4f8b\u3002\u5217\u4e3e\u4e2a\u4f8b\u5b50\uff1a\u6bd4\u5982\u4f60\u6709 10 \u4e07\u7528\u4e8e\u6295\u8d44\uff0c\u73b0\u7528\u4e86 4 \u4e07\u5143\u4e70\u57fa\u91d1\u6216\u80a1\u7968\uff0c\u4f60\u7684\u4ed3\u4f4d\u662f40%\u3002\u5982\u4f60\u5168\u4e70\u4e86\u57fa\u91d1\u6216\u80a1\u7968\uff0c\u4f60\u5c31\u6ee1\u4ed3\u4e86\u3002\u5982\u4f60\u5168\u90e8\u8d4e\u56de\u57fa\u91d1\u5356\u51fa\u80a1\u7968\uff0c\u4f60\u5c31\u7a7a\u4ed3\u4e86\u3002</p>"},{"location":"finance/#_11","title":"\u6301\u4ed3","text":"<p>\u5728\u671f\u8d27\u4ea4\u6613\u4e2d\uff0c\u65e0\u8bba\u662f\u4e70\u8fd8\u662f\u5356\uff0c\u51e1\u662f\u65b0\u5efa\u5934\u5bf8\u90fd\u53eb\u5f00\u4ed3\u3002\u4ea4\u6613\u8005\u5efa\u4ed3\u4e4b\u540e\u624b\u4e2d\u5c31\u6301\u6709\u5934\u5bf8\uff0c\u8fd9\u5c31\u53eb\u6301\u4ed3\u3002</p>"},{"location":"finance/#_12","title":"\u671f\u8d27","text":""},{"location":"finance/#_13","title":"\u539f\u6cb9\u671f\u8d27","text":"<p>\u89c6\u9891\uff1a\u674e\u6c38\u4e50\u8001\u5e08\u5b98\u65b9 \u2013 \u539f\u6cb9\u671f\u8d27\u4ef7\u683c-37\u7f8e\u5143/\u6876\uff01\u94b1\u8d54\u5149\u4e86\u8fd8\u6b20\u94f6\u884c\u94b1\uff01\u671f\u8d27\u98ce\u9669\u4e3a\u4f55\u8fd9\u4e48\u5927\uff1f</p> <ul> <li>\u8fdc\u671f\u5408\u7ea6</li> <li>\u8377\u5170\u90c1\u91d1\u9999\u3001\u6c5f\u6237\u5e55\u5e9c\u7a3b\u7c73</li> <li>\u95ee\u9898\uff1a\u6bc1\u7ea6\u3001\u8d28\u91cf\u3001\u4ea4\u6613\u4e0d\u53d8</li> <li>\u6807\u51c6\u671f\u8d27\u5408\u7ea6\uff1a\u8d28\u91cf\u3001\u6570\u91cf\u3001\u65f6\u95f4\u3001\u5730\u70b9\u3001\u573a\u5185\u4ea4\u6613</li> <li>1865 \u5e74\uff0c\u829d\u52a0\u54e5\u3002</li> <li>WTI \u539f\u6cb9\u671f\u8d27: \u8f7b\u8d28\u4f4e\u786b\u539f\u6cb9\uff0c1000\u6876\uff0c\u6bcf\u670820-25\u65e5\uff0c\u5eb7\u6b23</li> <li>\u671f\u8d27\u6295\u673a</li> <li>\u5408\u7ea6\u4ef7\u683c</li> <li>\u5f00\u4ed3 (P1)\u3001\u5e73\u4ed3 (P2)<ul> <li>\u82e5\u4ef7\u683c\u4e0a\u5347\uff0cP1 &lt; P2, \u591a\u65b9\uff08\u4e70\u65b9\uff09\u80dc</li> <li>\u82e5\u4ef7\u683c\u4e0b\u964d\uff0cP1 &gt; P2, \u7a7a\u65b9\uff08\u5356\u65b9\uff09\u80dc</li> </ul> </li> <li>\u4fdd\u8bc1\u91d1\uff1a\u4f8b\u5982 10%</li> <li>\u5230\u671f\u65e5\u3001\u4ea4\u5272</li> <li>\u5e73\u4ed3\u3001\u79fb\u4ed3\u6362\u6708\u3001\u4ea4\u5272</li> <li>\u591a\u65b9\uff1a\u4ee5\u67d0\u4e2a\u4ef7\u683c\u83b7\u5f971000\u6876\u539f\u6cb9<ul> <li>20-&gt;10-&gt;0.01-&gt;-37.63</li> </ul> </li> <li>\u6295\u8d44\u8005\uff1a1\u4e07\u7f8e\u5143\u4ee50.01\u7f8e\u5143\u4e70\u5165100w\u6876</li> </ul>"},{"location":"fresh/","title":"\u65b0\u9c9c\u4e8b","text":""},{"location":"fresh/#pclasso","title":"pclasso","text":"<p>Refer to pcLasso: a new method for sparse regression</p> <pre><code>set.seed(1234)\nn = 100; p = 10\nX = matrix(rnorm(n * p), nrow = n)\ny = rnorm(n)\nlibrary(pcLasso)\nfit &lt;- pcLasso(X, y, theta = 10)\n\npredict(fit, X[1:3, ])[, 5]\n\ngroups = list(1:5, 6:10)\nfit = pcLasso(X, y, theta = 10, groups = groups)\n\nfit = cv.pcLasso(X, y, theta = 10)\npredict(fit, X[1:3,], s = \"lambda.min\")\n</code></pre>"},{"location":"fresh/#emojis-in-scatterplot","title":"Emojis in scatterplot","text":"<p>References:</p> <ol> <li>Using emojis as scatterplot points</li> <li>dill/emoGG</li> </ol> <pre><code>library(ggplot2)\nlibrary(emoGG)\ndata(\"ToothGrowth\")\np1 &lt;- geom_emoji(data = subset(ToothGrowth, supp == \"OJ\"),\naes(dose + runif(sum(ToothGrowth$supp == \"OJ\"), min = -0.2, max = 0.2),\nlen), emoji = \"1f34a\")\np2 &lt;- geom_emoji(data = subset(ToothGrowth, supp == \"VC\"),\naes(dose + runif(sum(ToothGrowth$supp == \"OJ\"), min = -0.2, max = 0.2),\nlen), emoji = \"1f48a\")\n\nggplot() +\np1 + p2 +\nlabs(x = \"Dose (mg/day)\", y = \"Tooth length\")\n</code></pre>"},{"location":"fresh/#medians-in-high-dimensions","title":"Medians in high dimensions","text":"<p>Refer to Medians in high dimensions</p> <ul> <li>marginal median</li> <li>geometric median</li> <li>medoid</li> <li>centerpoint</li> <li>Tukey median</li> </ul>"},{"location":"fresh/#laplace-distribution-as-a-mixture-of-normal-distributions","title":"Laplace distribution as a mixture of normal distributions","text":"<p>Refer to Laplace distribution as a mixture of normals</p>  \\int_0^\\infty f_{X\\mid W=w}(x)f_W(w)dw=\\frac{1}{2b}\\exp\\Big(-\\frac{\\vert x\\vert}{b}\\Big)\\,."},{"location":"fresh/#gradient-descent-as-a-minimization-problem","title":"Gradient descent as a minimization problem","text":"<p>Refer to Gradient descent as a minimization problem</p> <p>put gradient decent into the optimization framework, then derive</p> <ul> <li>projected gradient descent</li> <li>proximal gradient methods</li> </ul>"},{"location":"fresh/#coordinate-descent-doesnt-always-work-for-convex-functions","title":"Coordinate descent doesn\u2019t always work for convex functions","text":"<p>Refer to Coordinate descent doesn\u2019t always work for convex functions</p> <p>A counterexample:</p>  z=\\max(x,y)+\\vert x-y\\vert   z=\\max(x,y)+\\vert x-y\\vert"},{"location":"fresh/#solution-to-a-sgn-equation","title":"Solution to a <code>sgn</code> equation","text":"<p>Refer to Soft-thresholding and the sgn function</p> <p>Give a proof of the solution of</p>  ax-b+c\\mathrm{sgn}(x)=0   ax-b+c\\mathrm{sgn}(x)=0  <p>where a&gt;0a&gt;0 and c\\ge 0c\\ge 0.</p>"},{"location":"fresh/#horvitzthompson-estimator","title":"Horvitz\u2013Thompson estimator","text":"<p>Refer to Horvitz\u2013Thompson estimator</p> <p>Perform an inverse probability weighting to (unbiasedly) estimate the total T=\\sum X_iT=\\sum X_i.</p>"},{"location":"fresh/#illustration-of-scad-penalty","title":"Illustration of SCAD penalty","text":"<p>Refer to The SCAD penalty</p> <p></p> <p>The dotted line is the y=xy=x line. The line in black represents soft-thresholding (LASSO estimates) while the line in red represents the SCAD estimates.</p>"},{"location":"fresh/#leverage-in-linear-regression","title":"Leverage in Linear regression","text":"<p>Refer to Bounds/constraints on leverage in linear regression</p> <p>The leverage of data point ii is the ii-th diagonal entry of the hat matrix.</p>"},{"location":"fresh/#modification-to-fundamental-sampling-formula","title":"Modification to fundamental sampling formula","text":"<p>Refer to Inverse transform sampling for truncated distributions</p> <p>We can draw sample X\\sim FX\\sim F conditional on X\\ge tX\\ge t.</p>"},{"location":"fresh/#borels-paradox","title":"Borel\u2019s Paradox","text":"<ul> <li>ETJ: PARADOXES OF PROBABILITY THEORY</li> <li>An Explanation of Borel\u2019s Paradox That You Can Understand</li> <li>Yarin Gal\u2019 slide: The Borel\u2013Kolmogorov paradox</li> <li>Edwin Thompson Jaynes\u2019s homepage</li> <li>ETJ\u2019s book</li> </ul>"},{"location":"fresh/#retire-statistical-significance","title":"Retire Statistical Significance","text":"<p>A petition</p>"},{"location":"fresh/#em-estimation-for-weibull-distribution","title":"EM estimation for Weibull distribution","text":"f_k(x) = k x^{k-1} e^{-x^k} \\quad x &gt;0   f_k(x) = k x^{k-1} e^{-x^k} \\quad x &gt;0  <p>Refer to EM maximum likelihood estimation for Weibull distribution</p> <p>A little confused about the answer</p>"},{"location":"fresh/#power-method-for-top-eigenvector","title":"Power method for top eigenvector","text":"<p>Power method for obtaining the top eigenvector</p>"},{"location":"fresh/#generalized-beta-prime","title":"Generalized Beta Prime","text":"<p>This distribution, characterized by one scale and three shape parameters, is incredibly flexible in that it can mimic behavior of many other distributions.</p> <p>GB2 exhibits power-law behavior at both front and tail ends and is a steady-state distribution of a simple stochastic differential equation.</p>"},{"location":"fresh/#julia-set","title":"Julia Set","text":"<p>\u5728\u590d\u6742\u52a8\u529b\u5b66\u91cc\uff0cJulia\u96c6\u662f\u4e2a\u8457\u540d\u7684\u201c\u6df7\u6c8c\u201d\u884c\u4e3a\u7684\u96c6\uff08\u4e0e\u4e4b\u5bf9\u5e94\u7684\u662fFatou\u96c6\uff0c\u201c\u975e\u6df7\u6c8c\u201d\u96c6\uff09</p> <p></p> <p>References:</p> <ul> <li>\u770b\u660e\u767dJulia\u96c6</li> <li>\u795e\u5947\u7684\u5206\u5f62\u827a\u672f\uff08\u56db\uff09\uff1aJulia\u96c6\u548cMandelbrot\u96c6</li> <li>Julia GPU plots Julia Set</li> </ul>"},{"location":"fresh/#_2","title":"\u9648\u7d20\u6570","text":"<p>\u9648\u7d20\u6570\u662f\u9648\u666f\u6da6\u7d20\u6570\u7684\u7b80\u79f0\uff0c\u7279\u6307\u7b26\u5408\u9648\u6c0f\u5b9a\u7406\u7684\u7d20\u6570\uff0c\u5373\uff1a\u5982\u679c\u4e00\u4e2a\u7d20\u6570 p \u662f\u9648\u7d20\u6570\uff0c\u90a3\u4e48 p+2 \u662f\u4e00\u4e2a\u7d20\u6570\u6216\u4e24\u4e2a\u7d20\u6570\u7684\u4e58\u79ef\uff0c\u5b83\u662f\u7d20\u6570\u7684\u5b50\u96c6\uff0c\u9648\u7d20\u6570\u6709\u65e0\u7a77\u591a\u4e2a\uff0c\u5df2\u7ecf\u88ab\u9648\u666f\u6da6\u8bc1\u660e\u3002</p> <p>source: https://zh.wikipedia.org/wiki/%E9%99%88%E7%B4%A0%E6%95%B0</p> <p>\u9648\u7d20\u6570\u6570\u5217\uff1aA109611@OEIS</p> <p>2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 47, 53, 59, 67, 71, 83, 89, 101, 107, 109, 113, 127, 131, 137, 139, 149, 157, 167, 179, 181, 191, 197, 199, 211, 227, 233, 239, 251, 257, 263, 269, 281, 293, 307, 311, 317, 337, 347, 353, 359, 379, 389, 401, 409</p>"},{"location":"fresh/#_3","title":"\u5b6a\u751f\u7d20\u6570","text":"<p>\u5b6a\u751f\u7d20\u6570\uff08\u82f1\u8bed\uff1atwin prime\uff09\uff0c\u4e5f\u79f0\u4e3a\u5b6a\u751f\u8d28\u6570\u3001\u53cc\u751f\u8d28\u6570\uff0c\u662f\u6307\u4e00\u5bf9\u7d20\u6570\uff0c\u5b83\u4eec\u4e4b\u95f4\u76f8\u5dee2\u3002\u4f8b\u59823\u548c5\uff0c5\u548c7\uff0c11\u548c13\uff0c10016957\u548c10016959\u7b49\u7b49\u90fd\u662f\u5b6a\u751f\u7d20\u6570\u3002</p> <p>\u4e0e\u4e4b\u76f8\u5173\u7684\uff0c\u4e24\u8005\u76f8\u5dee\u4e3a1\u7684\u7d20\u6570\u5bf9\u53ea\u6709 (2, 3)\uff1b\u4e24\u8005\u76f8\u5dee\u4e3a3\u7684\u7d20\u6570\u5bf9\u53ea\u6709 (2, 5)\u3002</p> <p>\u5b6a\u751f\u7d20\u6570\u731c\u60f3\uff1a\u5b6a\u751f\u7d20\u6570\u6709\u65e0\u7a77\u591a\u4e2a\u3002\u8fd9\u4e2a\u731c\u60f3\u81f3\u4eca\u4ecd\u672a\u88ab\u8bc1\u660e\u3002</p> <p>2013\u5e745\u670814\u65e5\uff0c\u300a\u81ea\u7136\u300b\u6742\u5fd7\u62a5\u9053\uff0c\u6570\u5b66\u5bb6\u5f20\u76ca\u5510\u8bc1\u660e\u5b58\u5728\u65e0\u7a77\u591a\u4e2a\u7d20\u6570\u5bf9\u76f8\u5dee\uff08\u4e0a\u754c\uff09\u90fd\u5c0f\u4e8e7000\u4e07\u3002\u8bba\u6587\u5df2\u88ab\u300a\u6570\u5b66\u5e74\u520a\u300b\uff08Annals of Mathematics\uff09\u63a5\u53d7\u3002\u622a\u81f32014\u5e7410\u67089\u65e5, \u7d20\u6570\u5bf9\u4e4b\u5dee\u88ab\u7f29\u5c0f\u4e3a &lt;=246\u3002\u53e6\u89c1\u679c\u58f3\u79d1\u666e\uff1a\u5b6a\u751f\u7d20\u6570\u731c\u60f3\uff0c\u5f20\u76ca\u5510\u7a76\u7adf\u505a\u4e86\u4e00\u4e2a\u4ec0\u4e48\u7814\u7a76\uff1f</p>"},{"location":"fresh/#minimax","title":"minimax @ \u77e5\u4e4e","text":"<p>\u5728\u7edf\u8ba1\u4e2d\uff0c\u4ec0\u4e48\u662fminimax risk \u5440\uff0c\u8fd9\u4e2a\u548c\u901a\u5e38\u7684\u6536\u655b\u901f\u5ea6\u6709\u4ec0\u4e48\u533a\u522b\uff1f</p>"},{"location":"fresh/#_4","title":"\u968f\u673a\u77e9\u9635","text":"<p>\u674e\u519b@zhihu - \u968f\u673a\u77e9\u9635\u7406\u8bba\u7efc\u8ff0</p> <p>\u672c\u6587\uff0c\u6211\u4eec\u6765\u8c08\u8c08\u968f\u673a\u77e9\u9635\u7406\u8bba\u7684\u5386\u53f2\u3001\u5df2\u6709\u7684\u7406\u8bba\u6210\u679c\u4ee5\u53ca\u4e00\u4e9b\u65b0\u7684\u7814\u7a76\u63a2\u7d22\u3002\u4e3a\u4e86\u65b9\u4fbf\u66f4\u591a\u4e0d\u540c\u5b66\u79d1\u80cc\u666f\uff0c\u4e0d\u540c\u77e5\u8bc6\u5c42\u7ea7\u7684\u540c\u5b66\u5b66\u4e60RMT\uff0c\u672c\u6587\u5185\u5bb9\u5c3d\u91cf\u5faa\u5e8f\u6e10\u8fdb\u3002\u7531\u4e8e\u5185\u5bb9\u4f17\u591a\uff0c\u8fd9\u91cc\u6211\u53ea\u5217\u51fa\uff0c\u5177\u4f53\u5185\u5bb9\u3001\u53c2\u8003\u6587\u732e\u4ee5\u53caPython\u5b9e\u73b0(\u672c\u4eba\u4e00\u4e2a\u4e2a\u7ec6\u81f4\u63a8\u6572\u5b9e\u73b0\uff0c\u4f46\u5f88\u591a\u5206\u5e03\u4ecd\u672a\u8fdb\u884c\u5f88\u597d\u7684normalization)\uff0c\u8bf7\u89c1\u6211\u7684Github\u3002\u7531\u4e8e\u65f6\u95f4\u6709\u9650\uff0c\u4e0d\u514d\u6709\u5f88\u591a\u5185\u5bb9\u6ca1\u6709\u8bb2\u5230\uff0c\u800c\u4e14RMT\u7406\u8bba\u53ca\u5e94\u7528\u6d89\u53ca\u4f17\u591a\u5b66\u79d1\u9886\u57df\uff0c\u66f4\u96be\u5b8c\u5168\u7f57\u5217\u4ecb\u7ecd\uff0c\u672c\u6587\u53ea\u9009\u62e9\u4e00\u4e9b\u91cd\u8981\u6210\u679c\u8fdb\u884c\u4ecb\u7ecd\uff0c\u53ea\u5bf9\u90e8\u5206\u5185\u5bb9\u8fdb\u884c\u4e86\u8f83\u7ec6\u81f4\u5206\u6790\uff0c\u66f4\u591a\u7684\u7406\u8bba\u63a8\u5bfc\u8bf7\u67e5\u9605\u76f8\u5173\u6587\u732e\u3002</p>"},{"location":"fresh/#_5","title":"\u4e8c\u5143\u4e8c\u6b21\u51fd\u6570\u6700\u503c","text":"<p>\u53c2\u8003 </p>"},{"location":"fresh/#three-leading-medical-journals","title":"Three leading medical journals","text":"<ul> <li>the Journal of the American Medical Association, </li> <li>the Lancet, and </li> <li>the New England Journal of Medicine</li> </ul>"},{"location":"fresh/#two-most-popular-creative-commons-cc-licences","title":"Two Most Popular Creative Commons (CC) licences","text":"<ul> <li>CC-BY-NC (Attribution-NonCommercial): letting others remix, tweak and build up your work non-commercially</li> <li>CC-BY-NC-SA (Attribution-NonCommercial-ShareAlike): letting others remix, tweak and build upon your work non-commercially, and the person also need to distribute their contributions under the same licence as the original.</li> </ul>"},{"location":"fresh/#license","title":"License","text":"<ul> <li>\u666e\u901a\u8bb8\u53ef\uff1anon-exclusive license</li> <li>\u6392\u4ed6\u8bb8\u53ef\uff1asole license</li> <li>\u72ec\u5360\u8bb8\u53ef\uff1aexclusive license</li> <li>\u5206\u552e\u8bb8\u53ef\uff1asub-license</li> <li>\u4ea4\u53c9\u8bb8\u53ef\uff1across license</li> </ul>"},{"location":"fresh/#dogleg-method-vs-dodge-option","title":"dogleg method vs <code>dodge</code> option","text":"<p><code>dodge</code> option in StatsPlots.jl</p> <pre><code>groupedbar(rand(10,3), bar_position = :dodge, bar_width=0.7)\n</code></pre> <p>while \u201cdogleg method\u201d refers to an approach in optimization.</p>"},{"location":"fresh/#_6","title":"\u6bd4\u7279\u5e01","text":"<p>\u6bd4\u7279\u5e01\u7b80\u660e\u6559\u7a0b</p>"},{"location":"guitar/","title":"\u5409\u4ed6\u81ea\u5b66","text":""},{"location":"guitar/#_2","title":"\u751f\u65e5\u5feb\u4e50","text":""},{"location":"guitar/#love-me-tender","title":"Love Me Tender","text":""},{"location":"guitar/#_3","title":"\u592a\u6e56\u8239","text":""},{"location":"guitar/#_4","title":"\u866b\u513f\u98de","text":"<ul> <li> \u722c\u683c\u5b50</li> <li>\u5409\u4ed6\u8c31\u600e\u4e48\u770b</li> <li>\u5c0f\u661f\u661f</li> </ul>"},{"location":"harmonica/","title":"Index","text":""},{"location":"harmonica/#sources","title":"Sources:","text":"<p>\u5e03\u9c81\u65af\u5341\u5b54\u53e3\u7434\u5927\u5168: https://zhuanlan.zhihu.com/p/64121668</p>"},{"location":"java/","title":"JAVA \u7b14\u8bb0","text":""},{"location":"java/#install-on-ubuntu-manually","title":"Install on Ubuntu Manually","text":"<p>In addition to get the default java (usually <code>openjdk</code>) via <code>apt</code>, we can download specific version from oracle and manually install it.</p> <pre><code># download jdk from oracle.\n$ wget ...\n# unzip package and mv it to a proper location\n$ sudo mkdir /usr/local/jvm\n$ sudo tar xzvf &lt;downloaded_package&gt; -C /usr/local/jvm\n# configure environment variables\n$ vi .bashrc\n# add the following lines\nexport JAVA_HOME=/usr/local/jvm/jdk1.8.0_91\nexport JRE_HOME=$JAVA_HOME/jre\nexport CLASSPATH=.:$CLASSPATH:$JAVA_HOME/lib:$JRE_HOME/lib\nexport PATH=$PATH:$JAVA_HOME/bin:$JRE_HOME/bin\n</code></pre> <p>The above procedure is the record for Ubuntu 14.04. Similar procedure can be done for other Ubuntu, such as How To Install Java with Apt on Ubuntu 18.04</p>"},{"location":"java/#jdk-jre-and-jvm","title":"JDK, JRE and JVM","text":"<p>Refer to JDK\u3001JRE\u3001JVM\u4e09\u8005\u95f4\u7684\u5173\u7cfb  </p> <ol> <li>JDK(Java Development Kit): \u9488\u5bf9\u5f00\u53d1\u5458\uff0c\u5305\u62ec\u4e86Java\u8fd0\u884c\u73af\u5883JRE\u3001Java\u5de5\u5177\u548cJava\u57fa\u7840\u7c7b\u5e93</li> <li>JRE(Java Runtime Environment): \u8fd0\u884cJAVA\u7a0b\u5e8f\u6240\u5fc5\u987b\u7684\u73af\u5883\u7684\u96c6\u5408\uff0c\u5305\u542bJVM\u6807\u51c6\u5b9e\u73b0\u53caJava\u6838\u5fc3\u7c7b\u5e93</li> <li>JVM(Java Virtual Machine): \u80fd\u591f\u8fd0\u884c\u4ee5Java\u8bed\u8a00\u5199\u4f5c\u7684\u8f6f\u4ef6\u7a0b\u5e8f\u3002JVM\u5c4f\u853d\u4e86\u4e0e\u5177\u4f53\u64cd\u4f5c\u7cfb\u7edf\u5e73\u53f0\u76f8\u5173\u7684\u4fe1\u606f\uff0c\u4f7f\u5f97Java\u7a0b\u5e8f\u53ea\u9700\u751f\u6210\u5728Java\u865a\u62df\u673a\u4e0a\u8fd0\u884c\u7684\u76ee\u6807\u4ee3\u7801\uff08\u5b57\u8282\u7801\uff09\uff0c\u5c31\u53ef\u4ee5\u5728\u591a\u79cd\u5e73\u53f0\u4e0a\u4e0d\u52a0\u4fee\u6539\u5730\u8fd0\u884c\u3002</li> </ol>"},{"location":"java/#arrayindex-vs-arrayindex","title":"<code>array[index++]</code> vs <code>array[++index]</code>","text":"<p>The code result++; and ++result; will both end in result being incremented by one. The only difference is that the prefix version (++result) evaluates to the incremented value, whereas the postfix version (result++) evaluates to the original value.</p> <p>\u53c2\u8003 array index and increment at the same line</p>"},{"location":"java/#code-coverage-of-javajuliarpython","title":"Code Coverage of Java/Julia/R/Python","text":"<p>\u6b64\u524d\u5728 Python/Julia/R \u4e2d\u73a9\u8fc7\u7b80\u5355\u7684 code coverage\uff0c\u6211\u7684\u5370\u8c61\u4e2d\u57fa\u672c\u5206\u4e3a\u4e24\u6b65</p> <ol> <li>\u751f\u6210\u6d4b\u8bd5\u6587\u4ef6</li> <li>\u4e0a\u4f20\u81f3 coveralls/codecov \u7b49 CI \u7f51\u7ad9</li> </ol> <p>\u4e0d\u540c\u7684\u8bed\u8a00\u6709\u4e0d\u540c\u7684 package \u53ef\u4ee5\u751f\u6210\u6d4b\u8bd5\u6587\u4ef6\uff0c\u5e76\u4e14\u4e0a\u4f20\u81f3\u7ed1\u5b9a\u597d\u7684\u7b2c\u4e09\u65b9 CI \u670d\u52a1\u4e2d\u3002R \u4e2d</p> <pre><code>library(covr); codecov()\n</code></pre> <p>\u4fbf\u53ef\u4e00\u952e\u4f20\u81f3 codecov\uff0c\u6bd4\u5982 szcf-weiya/fRLR.</p> <p>Julia \u53ef\u4ee5\u7528 <code>Coverage</code> \u5305\uff0c\u7136\u540e\u901a\u8fc7 <code>submit</code> \u51fd\u6570\u63d0\u4ea4\u81f3 CI \u670d\u52a1\u4e2d\uff0c\u5982 szcf-weiya/GradientBoost.jl</p> <p>\u5f53\u7136\u4e5f\u53ef\u4ee5\u5148\u5bfc\u51fa\u6d4b\u8bd5\u6587\u4ef6\uff0c<code>lcov.info</code>\uff0c\u7136\u540e\u518d\u4e0a\u4f20\uff0c\u76ee\u524d\u6211\u5728 github action \u662f\u91c7\u7528\u8fd9\u79cd\u914d\u7f6e\u6a21\u5f0f\uff0c\u800c\u4e14\u901a\u8fc7\u5728\u73af\u5883\u53d8\u91cf\u4e2d\u52a0\u5165 token\uff0c\u53ef\u4ee5\u9002\u7528\u4e8e private \u4ed3\u5e93\u3002</p> <p>Python \u4e5f\u7c7b\u4f3c\u6709 <code>coverage</code> \u5305\u3002</p> <p>\u5982\u679c\u4ed3\u5e93\u4e2d\u6709\u6df7\u5408\u4ee3\u7801\uff0c\u5219\u53ef\u4ee5\u5148\u5206\u522b\u751f\u6210\u6d4b\u8bd5\u6587\u4ef6\uff0c\u518d\u628a coverage \u7ed3\u679c\u62fc\u63a5\u8d77\u6765\u4e00\u8d77\u4e0a\u4f20\u81f3 CI \u670d\u52a1\u4e2d\uff0c\u4f46\u662f\u56e0\u4e3a\u4e0d\u540c package \u8f93\u51fa\u7684\u6d4b\u8bd5\u6587\u4ef6\u683c\u5f0f\u4e0d\u4e00\u6837\uff0c\u53ef\u80fd\u9700\u8981\u8fdb\u884c\u683c\u5f0f\u8f6c\u6362\u3002\u6bd4\u5982\u5728\u6211\u7684\u67d0\u4e2a Python + Julia \u6df7\u5408\u9879\u76ee\u4e2d\uff0c\u4e3b\u8981\u53c2\u8003 Multiple Language Support</p> <ul> <li>Julia \u90e8\u5206\u901a\u8fc7 <code>Coverage</code> \u5305\u5bfc\u51fa <code>lcov.info</code> \u6587\u4ef6</li> <li>\u901a\u8fc7 <code>coveralls-lcov</code> \u5c06 <code>lcov.info</code> \u8f6c\u6362\u6210 JSON \u683c\u5f0f <code>lcov.json</code></li> <li>python \u90e8\u5206\u901a\u8fc7 <code>coverage</code> \u5305\u8fdb\u884c\u6d4b\u8bd5\uff0c\u7136\u540e\u5728\u7528 <code>coveralls</code> \u63d0\u4ea4\u65f6\uff0c\u52a0\u4e0a <code>--merge=lcov.json</code> \u7684\u9009\u9879 </li> </ul> <p>\u5728 Java \u4e2d\uff0c\u4e5f\u4ee5\u4e3a\u4f1a\u6709\u8fd9\u79cd\u76f4\u63a5\u7684\u65b9\u5f0f\uff0c\u5f53\u7136 Java \u5982\u679c\u662f\u91c7\u7528 Maven \u7b49\u6846\u67b6\u7684\u8bdd\uff0c\u5e94\u8be5\u4f1a\u5f88\u76f4\u63a5\uff08\u56e0\u4e3a\u770b\u4e0a\u53bb\u4e5f\u662f\u4e00\u53e5\u8bdd\u7684\u4e8b\uff09\uff0c\u4f46\u662f\u6211\u7684 Java \u6c34\u5e73\u4ec5\u9650\u4e8e HelloWorld\uff0c\u6682\u65f6\u4e0d\u60f3\u4e5f\u6ca1\u5fc5\u8981\u6298\u817e Maven \u7b49\u6846\u67b6\uff0c\u800c\u4e14\u6211\u89c9\u5f97\u4ece\u96f6\u5f00\u59cb\u628a\u80cc\u540e\u7684\u903b\u8f91\u5f04\u6e05\u695a\u66f4\u6709\u610f\u4e49\u3002</p> <p>\u9996\u5148\u627e\u5230\u4e86\u5355\u5143\u6d4b\u8bd5 JUnit\uff0c\u8fd9\u4e2a\u7b26\u5408\u6211\u7684\u9884\u671f\uff0c\u4f46\u662f\u59cb\u7ec8\u6ca1\u80fd\u627e\u5230\u8f93\u51fa\u6d4b\u8bd5\u6587\u4ef6\u7684\u9009\u9879\uff0c\u5373\u53ea\u80fd\u5728\u547d\u4ee4\u884c\u8dd1\u5b8c\u5c55\u793a\u4e0b\u3002\u540e\u6765 google \u8bd5\u56fe\u627e\u5230\u76f4\u63a5\u4ece JUnit \u4e2d\u5bfc\u51fa\u6d4b\u8bd5\u7ed3\u679c\u7684\u5de5\u5177\uff0c\u4f46\u7adf\u7136\u6ca1\u6709\uff0c\u76f4\u5230\u7ffb\u5230\u8fd9\u4e2a\u7b54\u6848\u6253\u6d88\u4e86\u6211\u7684\u5ff5\u5934\uff0c\u91cc\u9762\u63d0\u5230\u4e86 <code>Ant</code>\uff0c\u5176\u5b9e\u6b64\u65f6\u6839\u672c\u5bf9 Ant \u548c Maven \u7b49\u7b49\u540d\u8bcd\u6ca1\u6709\u4efb\u4f55\u6982\u5ff5\uff0c\u5373\u4fbf\u770b\u4e86\u5b98\u65b9\u7684\u89e3\u91ca\uff0c\u4e5f\u8fd8\u662f\u4e00\u5934\u96fe\u6c34\u3002\u4e0d\u7ba1\u600e\u6837\uff0c\u8fd8\u662f\u51c6\u5907\u5b66\u4e0b <code>Ant</code>\uff0c\u4e00\u4e2a\u975e\u5e38\u5f62\u8c61\u7684\u7c7b\u522b\u2014\u2014Java\u4e2d\u7684make\u2014\u2014\u77ac\u95f4\u8ba9\u6211\u7406\u89e3\u4e86 <code>Ant</code> \u7684\u4f5c\u7528\uff0c\u7136\u540e\u63a5\u4e0b\u6765\u5c31\u50cf\u5199 Makefile \u4e00\u6837\u6765\u5b66\u7740\u5199 <code>build.xml</code>\uff0c\u6240\u4ee5\u5728\u770b\u5b98\u65b9\u6587\u6863\u4e4b\u524d\uff0c\u770b\u770b\u522b\u4eba\u7684\u603b\u7ed3\u4e5f\u8fd8\u662f\u5f88\u6709\u7528\u7684. \u5728 ant \u4e2d task <code>junit</code> \u53ef\u4ee5\u6307\u5b9a\u8f93\u51fa\u9009\u9879\uff0c\u539f\u4ee5\u4e3a\u8fd9\u65f6\u5927\u529f\u544a\u6210\uff0c\u4f46\u662f\u6700\u540e\u4e0a\u4f20\u81f3 codecov \u65f6\uff0c\u4ecd\u7136\u8868\u793a\u89e3\u6790\u62a5\u544a\u51fa\u9519\uff0c\u540e\u6765\u7ec6\u770b\u4e86\u4e86 <code>report.xml</code> \u624d\u53d1\u73b0\u91cc\u9762\u6839\u672c\u5305\u542b\u4e0d\u4e86 coverage \u7684\u4fe1\u606f\uff0c\u6362\u8a00\u4e4b\uff0c\u5f88\u53ef\u80fd JUnit \u53ea\u662f\u8d77\u4e86 test \u7684\u4f5c\u7528\uff0c\u5e76\u4e0d\u80fd\u5206\u6790 coverage\u3002</p> <p>\u8fd9\u65f6\u4fbf\u9700\u8981\u53e6\u5916\u6362\u5de5\u5177\u4e86\uff0c\u5176\u5b9e\u5728\u770b\u5230 JUnit \u65f6\uff0c\u4e5f\u770b\u5230\u4e86 <code>JaCoCo</code>\uff0c\u5b83\u4e5f\u53ef\u4ee5\u901a\u8fc7 ant \u5b9e\u73b0\uff0c\u53ea\u4e0d\u8fc7\u591a\u4e86\u4e00\u4e9b\u5b9a\u4e49\uff0c\u6240\u4ee5\u4e0d\u662f\u5f88\u96be\u3002\u4e8e\u662f\u7ee7\u7eed\u5bf9\u7167\u793a\u4f8b\u6587\u6863\u5199 <code>build.xml</code>\uff0c\u5f97\u5230\u7684 <code>report.xml</code> \u786e\u5b9e\u4e5f\u5305\u542b\u4e86 coverage \u7684\u4fe1\u606f\uff0c\u4f46\u662f\u4e0a\u4f20\u81f3 codecov\uff0c\u4ecd\u7136\u8868\u793a\u4e0d\u80fd\u89e3\u6790\u62a5\u544a\u3002\u6700\u540e\u8ddf\u793a\u4f8b\u6587\u4ef6\u6bd4\u7167 <code>build.xml</code> \u4ee5\u53ca <code>report.xml</code>\uff0c\u53d1\u73b0\u6211\u5728 <code>report.xml</code> \u4e2d\u6ca1\u6709 sourcefiles \u4ee5\u53ca classfiles \u7684\u4fe1\u606f\uff0c\u800c\u8fd9\u4e9b\u662f\u901a\u8fc7\u5728 <code>build.xml</code> \u4e2d\u8bbe\u7f6e <code>debug=true</code> \u4ea7\u751f\u7684\u3002\u5f53\u628a\u8fd9\u4e2a\u9009\u9879\u52a0\u4e0a\u53bb\uff0c\u7ec8\u4e8e\u80fd\u5728 codecov \u770b\u5230 coverage \u4fe1\u606f\u4e86\uff01</p> <p>\u987a\u5e26\u63d0\u4e00\u4e0b\u6df7\u5408\u4ee3\u7801\u7684\u95ee\u9898\uff0c\u5bf9\u4e8e Java\uff0c\u4f3c\u4e4e\u5f88\u96be\u6709\u65b9\u5f0f\u8ba9\u5b83\u4e0e\u5176\u4ed6\u4ee3\u7801\u7684\u6d4b\u8bd5\u7ed3\u679c\u62fc\u8d77\u6765\uff0c\u4f46\u662f\u5b8c\u5168\u53ef\u4ee5\u7528\u4e24\u4e2a\u4e0d\u540c\u7684 CI \u670d\u52a1\u6765\u5c55\u793a\u4e0d\u540c\u8bed\u8a00\u4ee3\u7801\u7684 coverage\uff0c\u6bd4\u5982 Java \u653e\u5728 codecov\uff0cJulia \u7684\u653e\u5728 Coveralls.</p>"},{"location":"js/","title":"JavaScript\u76f8\u5173","text":"<p>JavaScript\u662fWeb\u7684\u7f16\u7a0b\u8bed\u8a00\u3002</p> <p>\u83dc\u9e1f\u6559\u7a0b</p> <p>JavaScript \u4e0e Java \u662f\u4e24\u79cd\u5b8c\u5168\u4e0d\u540c\u7684\u8bed\u8a00\uff0c\u65e0\u8bba\u5728\u6982\u5ff5\u4e0a\u8fd8\u662f\u8bbe\u8ba1\u4e0a\u3002 Java\uff08\u7531 Sun \u53d1\u660e\uff09\u662f\u66f4\u590d\u6742\u7684\u7f16\u7a0b\u8bed\u8a00\u3002</p> <p>ECMA-262 \u662f JavaScript \u6807\u51c6\u7684\u5b98\u65b9\u540d\u79f0\u3002</p> <p>JavaScript \u7531 Brendan Eich \u53d1\u660e\u3002\u5b83\u4e8e 1995 \u5e74\u51fa\u73b0\u5728 Netscape \u4e2d\uff08\u8be5\u6d4f\u89c8\u5668\u5df2\u505c\u6b62\u66f4\u65b0\uff09\uff0c\u5e76\u4e8e 1997 \u5e74\u88ab ECMA\uff08\u4e00\u4e2a\u6807\u51c6\u534f\u4f1a\uff09\u91c7\u7eb3\u3002</p> <p>\u6458\u81eaJavaScript \u7b80\u4ecb</p> <p>Note</p> <p>JavaScript \u662f\u811a\u672c\u8bed\u8a00\u3002\u6d4f\u89c8\u5668\u4f1a\u5728\u8bfb\u53d6\u4ee3\u7801\u65f6\uff0c\u9010\u884c\u5730\u6267\u884c\u811a\u672c\u4ee3\u7801\u3002\u800c\u5bf9\u4e8e\u4f20\u7edf\u7f16\u7a0b\u6765\u8bf4\uff0c\u4f1a\u5728\u6267\u884c\u524d\u5bf9\u6240\u6709\u4ee3\u7801\u8fdb\u884c\u7f16\u8bd1\u3002</p>"},{"location":"js/#_1","title":"\u4e00\u4e9b\u672f\u8bed","text":"<ul> <li>DOM: Document Object Model(\u6587\u6863\u5bf9\u8c61\u6a21\u578b) \u662f\u7528\u4e8e\u8bbf\u95ee HTML \u5143\u7d20\u7684\u6b63\u5f0f W3C \u6807\u51c6\u3002</li> </ul>"},{"location":"js/#js","title":"js\u8f93\u51fa\u6570\u636e\u7684\u65b9\u5f0f","text":"<ul> <li><code>window.alert()</code></li> <li><code>document.write()</code></li> <li><code>innerHTML</code></li> <li><code>console.log()</code></li> </ul>"},{"location":"js/#js-scriptasync","title":"js script\u4e2d\u7684async","text":"<p>\u53c2\u8003js\u4e4bscript\u5c5e\u6027async\u4e0edefer</p>"},{"location":"js/#jsheadbody","title":"JS\u653e\u5728head\u548c\u653e\u5728body\u4e2d\u7684\u533a\u522b","text":"<p>\u53c2\u8003JS\u653e\u5728head\u548c\u653e\u5728body\u4e2d\u7684\u533a\u522b</p>"},{"location":"js/#_2","title":"\u767e\u5ea6\u7ad9\u957f\u81ea\u52a8\u63a8\u9001","text":"<pre><code>(function(){\nvar bp = document.createElement('script');\nvar curProtocol = window.location.protocol.split(':')[0];\nif (curProtocol === 'https'){\nbp.src = 'https://zz.bdstatic.com/linksubmit/push.js';\n}\nelse{\nbp.src = 'http://push.zhanzhang.baidu.com/push.js';\n}\nvar s = document.getElementsByTagName(\"script\")[0];\ns.parentNode.insertBefore(bp, s);\n})();\n</code></pre> <p>\u5f53 <code>curProtocol === 'https'</code>\uff0c\u5176 <code>push.js</code> \u4e3a</p> <pre><code>!function(){\nvar e = /([http|https]:\\/\\/[a-zA-Z0-9\\_\\.]+\\.baidu\\.com)/gi,\nr = window.location.href,\nt = document.referrer;\nif(!e.test(r)){\nvar o = \"https://sp0.baidu.com/9_Q4simg2RQJ8t7jm9iCKT-xh_/s.gif\";\nt?(o += \"?r=\"+encodeURIComponent(document.referrer),r&amp;&amp;(o+=\"&amp;l=\"+r)):r&amp;&amp;(o+=\"?l=\"+r);\nvar i=new Image;\ni.src=o\n}\n}(window);\n</code></pre>"},{"location":"js/#_3","title":"\u533f\u540d\u51fd\u6570","text":"<p>\u9996\u5148\uff0c\u8fd9\u662f\u4e00\u4e2a\u533f\u540d\u51fd\u6570\uff0c\u53ef\u4ee5\u53c2\u8003js\u533f\u540d\u51fd\u6570\u3002</p> <p>\u53c2\u8003\u7684\u535a\u5ba2\u91cc\u9762\u603b\u7ed3\u5230\uff0c\u6709\u4e09\u79cd\u4f7f\u7528\u533f\u540d\u51fd\u6570\u7684\u65b9\u5f0f</p> <ol> <li>\u58f0\u660e\u533f\u540d\u51fd\u6570\uff0c\u76f4\u63a5\u8d4b\u503c\u7ed9\u67d0\u4e00\u4e2a\u4e8b\u4ef6</li> </ol> <pre><code>window.onload = function(){\nalert(123);\n}\n</code></pre> <ol> <li>\u4f7f\u7528\u533f\u540d\u51fd\u6570\u8868\u8fbe\u5f0f\uff0c\u5c06\u533f\u540d\u51fd\u6570\u8d4b\u503c\u7ed9\u67d0\u4e2a\u53d8\u91cf</li> </ol> <pre><code>var func = function(){\nalert(123);\n}\nfunc();\n</code></pre> <ol> <li>\u81ea\u6267\u884c\u51fd\u6570</li> </ol> <p>a) \u4f7f\u7528<code>!</code>\u5f00\u5934</p> <pre><code>!function(){\nalert(123);\n}();\n</code></pre> <p>b) \u4f7f\u7528<code>()</code>\u5c06\u51fd\u6570\u53ca\u51fd\u6570\u540e\u7684\u62ec\u53f7\u5305\u88f9</p> <pre><code>(function(){\nalert(123);\n}());\n</code></pre> <p>c) \u4f7f\u7528<code>()</code>\u5305\u88f9\u51fd\u6570\u503c</p> <pre><code>(function(){\nalert(123);\n})();\n</code></pre> <p>\u767e\u5ea6\u7ad9\u957f\u91c7\u7528\u7684\u662fc)\u3002</p>"},{"location":"js/#browser-object-model-bom","title":"\u6d4f\u89c8\u5668\u5bf9\u8c61\u6a21\u578b(Browser Object Model (BOM))","text":"<p>\u4e0a\u8ff0\u4ee3\u7801\u4e2d\u6d89\u53ca\u5230<code>window.location</code>\uff0c\u800cwindow.location\u5c5e\u4e8eBOM\uff0c\u4e00\u822c\u7528\u4e8e\u83b7\u5f97\u5f53\u524d\u9875\u9762\u7684\u5730\u5740 (URL)\uff0c\u5e76\u628a\u6d4f\u89c8\u5668\u91cd\u5b9a\u5411\u5230\u65b0\u7684\u9875\u9762\u3002\u53c2\u8003JavaScript Window Location</p> <ul> <li>location.hostname \u8fd4\u56de web \u4e3b\u673a\u7684\u57df\u540d</li> <li>location.pathname \u8fd4\u56de\u5f53\u524d\u9875\u9762\u7684\u8def\u5f84\u548c\u6587\u4ef6\u540d</li> <li>location.port \u8fd4\u56de web \u4e3b\u673a\u7684\u7aef\u53e3 \uff0880 \u6216 443\uff09</li> <li>location.protocol \u8fd4\u56de\u6240\u4f7f\u7528\u7684 web \u534f\u8bae\uff08http:// \u6216 https://\uff09</li> </ul>"},{"location":"js/#_4","title":"\u5b57\u7b26\u4e32\u5904\u7406","text":"<p>\u5177\u4f53\u53c2\u8003JavaScript \u5b57\u7b26\u4e32\uff08String\uff09 \u5bf9\u8c61</p>"},{"location":"js/#insertbefore","title":"insertBefore()","text":"<p>\u53c2\u8003HTML DOM insertBefore() \u65b9\u6cd5</p>"},{"location":"js/#_5","title":"\u6b63\u5219\u8868\u8fbe\u5f0f","text":"<p>\u53c2\u8003JavaScript RegExp \u5bf9\u8c61</p> <p>\u5b9a\u4e49\u4e00\u4e2aRegExp\u5bf9\u8c61\u5982\u4e0b</p> <pre><code>var patt=new RegExp(pattern,modifiers);\n// or more directly\nvar patt=/pattern/modifiers;\n</code></pre> <p>\u5176\u4e2d\u6709\u4e24\u79cd\u4fee\u9970\u5668</p> <ul> <li>i: \u7528\u6765\u6267\u884c\u4e0d\u533a\u5206\u5927\u5c0f\u5199\u7684\u5339\u914d</li> <li>g: \u7528\u4e8e\u6267\u884c\u5168\u6587\u7684\u641c\u7d22\uff08\u800c\u4e0d\u662f\u5728\u627e\u5230\u7b2c\u4e00\u4e2a\u5c31\u505c\u6b62\u67e5\u627e,\u800c\u662f\u627e\u5230\u6240\u6709\u7684\u5339\u914d\uff09</li> </ul> <p><code>test()</code>\u65b9\u6cd5\u641c\u7d22\uff0c\u6839\u636e\u7ed3\u679c\u8fd4\u56detrue\u6216false; <code>exec()</code>\u65b9\u6cd5\u8fd4\u56de\u5339\u914d\u7684\u7ed3\u679c\uff0c\u4f46\u5176\u8ddf\u662f\u5426\u5168\u5c40\u5339\u914d\u6709\u5f88\u591a\u5173\u7cfb\uff0c\u5177\u4f53\u53c2\u8003js\u6b63\u5219\u8868\u8fbe\u5f0f\u4e4bexec\u65b9\u6cd5\u8bb2\u89e3\u3002\u5728\u5168\u5c40\u5339\u914d\u4e0b\uff0c\u8fd9\u4e2a\u673a\u5236\u901a\u8fc7<code>lastIndex</code>\u5b9e\u73b0\uff0c\u7528\u4e8e\u89c4\u5b9a\u4e0b\u6b21\u5339\u914d\u8d77\u59cb\u4f4d\u7f6e\uff0c\u53c2\u8003JavaScript lastIndex \u5c5e\u6027\u3002 \u5982</p> <p><pre><code>var patt1 = /hello/gi;\nvar str = \"HELLO world, Hello weiya.\"\nconsole.log(patt1.test(str));\n// match the second one, because the lastIndex skip the first one.\nconsole.log(patt1.exec(str));\n</code></pre> \u8fd0\u884c\u7ed3\u679c\u4e3a</p> <p></p> <p><pre><code>var patt1 = /hello/gi;\nvar str = \"HELLO world, Hello weiya.\"\nconsole.log(patt1.exec(str));\nconsole.log(patt1.exec(str));\n</code></pre> \u8fd0\u884c\u7ed3\u679c\u4e3a</p> <p></p>"},{"location":"js/#html-dom-document","title":"HTML DOM Document \u5bf9\u8c61","text":"<p>\u53c2\u8003HTML DOM Document \u5bf9\u8c61</p> <p>\u672c\u4f8b\u4e2d\uff0c<code>document.referrer</code>\u7528\u6765\u8fd4\u56de\u8f7d\u5165\u5f53\u524d\u6587\u6863\u7684\u6587\u6863\u7684 URL\u3002</p>"},{"location":"js/#remove-disqus-ads","title":"Remove Disqus Ads","text":"<p>Info</p> <p>Original records on the usage: remove ads #7 </p> <pre><code>  (function($){\nsetInterval(() =&gt; {\n$.each($('iframe'), (arr,x) =&gt; {\nlet src = $(x).attr('src');\nif (src &amp;&amp; src.match(/(ads-iframe)|(disqusads)/gi)) {\n$(x).remove();\n}\nlet title = $(x).attr('title');\nif (!src &amp;&amp; title == \"Disqus\") {\n$(x).remove();\n}\n});\n}, 300);\n})(jQuery);\n</code></pre>"},{"location":"js/#js_1","title":"\u547d\u4ee4\u884c\u538b\u7f29js","text":"<p>\u53c2\u8003command line - Minify tool that can be executed through terminal - Ask Ubuntu</p> <pre><code>sudo apt-get install yui-compressor\nyui-compressor myfile.js &gt; myfile.min.js\n</code></pre>"},{"location":"js/#_6","title":"\u53cc\u611f\u53f9\u53f7","text":"<p>\u53c2\u8003JavaScript\u4e2d\u53cc\u53f9\u53f7(!!)\u4f5c\u7528\u793a\u4f8b\u4ecb\u7ecd_javascript\u6280\u5de7_\u811a\u672c\u4e4b\u5bb6</p> <p>\u4e3e\u4e2a\u4f8b\u5b50</p> <pre><code>var a;\nvar b=!!a;\n</code></pre> <p><code>a</code>\u9ed8\u8ba4\u662f<code>undefined</code>\u3002<code>!a</code>\u4e3a<code>true</code>\uff0c<code>!!a</code>\u5219\u4e3a<code>false</code>\u3002</p> <p><code>!!</code>\u4e00\u822c\u7528\u6765\u5c06\u540e\u9762\u7684\u8868\u8fbe\u5f0f\u5f3a\u5236\u8f6c\u6362\u4e3a\u5e03\u5c14\u7c7b\u578b\u7684\u6570\u636e\u3002</p> <p>\u56e0\u4e3aJavaScript\u662f\u5f31\u7c7b\u578b\u7684\u8bed\u8a00\uff08\u53d8\u91cf\u6ca1\u6709\u56fa\u5b9a\u7684\u6570\u636e\u7c7b\u578b\uff09\uff0c\u6240\u4ee5\u6709\u65f6\u9700\u8981\u5f3a\u5236\u8f6c\u6362\u4e3a\u76f8\u5e94\u7684\u7c7b\u578b\uff0c\u5982</p> <pre><code>a=parseInt(\u201c1234\u2033) a=\u201d1234\u2033-0 //\u8f6c\u6362\u4e3a\u6570\u5b57 \nb=1234+\u201d\u201d //\u8f6c\u6362\u4e3a\u5b57\u7b26\u4e32 \nc=someObject.toString() //\u5c06\u5bf9\u8c61\u8f6c\u6362\u4e3a\u5b57\u7b26\u4e32\n</code></pre> <p>\u5176\u4e2d\u7b2c1\u79cd\u3001\u7b2c4\u79cd\u4e3a\u663e\u5f0f\u8f6c\u6362\uff0c2\u30013\u4e3a\u9690\u5f0f\u8f6c\u6362 </p>"},{"location":"js/#_7","title":"\u5e03\u5c14\u7c7b\u578b\u7684\u8f6c\u6362","text":""},{"location":"js/#settimeout","title":"setTimeout \u8fd4\u56de\u503c","text":"<ol> <li>js promise\u600e\u4e48\u8fd4\u56de\u503c\uff1f</li> </ol>"},{"location":"js/#_8","title":"\u7bad\u5934\u51fd\u6570","text":"<p>js\u4e2d =&gt; \u7684\u542b\u4e49</p>"},{"location":"julia/","title":"Julia \u7b14\u8bb0","text":"<ul> <li>\u4e3b\u9875</li> <li>My New Workflow with Julia 1.0, mainly focus on how to develop a Julia package.</li> <li>Timing in Julia</li> <li>Publication quality plots in Julia</li> </ul>"},{"location":"julia/#version-control","title":"Version Control","text":"<ol> <li>download the \u201cGeneric Linux Binaries for x86 (64-bit)\u201d of a particular version from Download Julia</li> <li>put it into customed folder, such as <code>src</code> under home directory,</li> <li>link it to the system path, such as</li> </ol> <pre><code>cd /usr/local/bin\nsudo ln -s /home/weiya/src/julia-1.3.1/bin/julia julia1.3.1\n</code></pre> <p>Currently, I have installed the following different versions.</p> <pre><code>$ ll | grep julia\nlrwxrwxrwx  1 root root      37 8\u6708  31  2018 julia -&gt; /home/weiya/src/julia-1.0.0/bin/julia*\nlrwxrwxrwx  1 root root      37 7\u6708  30  2019 julia1.1.1 -&gt; /home/weiya/src/julia-1.1.1/bin/julia*\nlrwxrwxrwx  1 root root      37 9\u6708  18 15:28 julia1.2.0 -&gt; /home/weiya/src/julia-1.2.0/bin/julia*\nlrwxrwxrwx  1 root root      37 3\u6708  18 10:25 julia1.3.1 -&gt; /home/weiya/src/julia-1.3.1/bin/julia*\n</code></pre> <p>The source folders can be freely moved to another place, and only need to update the symbol links, which can be firstly deleted and then created, or use</p> <pre><code>sudo ln -sf TARGET LINK_NAME\n</code></pre> <p>to override current link. But, if the links is to a folder, then <code>-n</code> need to be added to override,</p> <pre><code>sudo ln -sfn TARGET LINK_NAME\n</code></pre> <p>otherwise, a soft link with the filename of <code>TARGET</code> will be created in the folder <code>LINK_NAME</code>.</p> <p>since </p> <ul> <li><code>-f</code>: remove existing destination files</li> <li><code>-n</code>: treat LINK_NAME as a normal file if it is a symbolic link to a directory</li> </ul> <p>refer to How to change where a symlink points</p> <p>If <code>LINK_NAME</code> is <code>.</code>, then it would be the same file/folder name as in the <code>TARGET</code> by removing the path, and no need to specify <code>-n</code> for folders.</p> <p>Also, note that the link to a folder should be deleted with</p> <pre><code>rm folder\n</code></pre> <p>instead of</p> <pre><code>rm -r folder/ # delete the original folder\n</code></pre>"},{"location":"julia/#array","title":"Array","text":"<ul> <li>drop dimensions: <code>dropdims</code>, see  for discussion on the necessity to specify the dims to drop</li> <li>iterate each row of matrix: <code>eachrow()</code></li> <li>tuple to array: <code>collect()</code> or <code>[i for i in t]</code></li> <li>index of unique elements: <code>unique(i-&gt;x[i], 1:length(x))</code>, used in </li> </ul>"},{"location":"julia/#pretty-println","title":"pretty println","text":"<pre><code>julia&gt; println(a)\n[0.4850429731437079 0.1694257866946448; 0.36463804331828364 0.6757027403913352; 0.1855162834299503 0.8954169294007691]\n\njulia&gt; display(a)\n3\u00d72 Matrix{Float64}:\n0.485043  0.169426\n0.364638  0.675703\n0.185516  0.895417\n</code></pre> <p>More advanced, maybe we can rewrite <code>show</code> to display as you want.</p> <p>see also: https://stackoverflow.com/questions/35536437/how-to-not-print-types-in-julia</p>"},{"location":"julia/#vs-when-assigning-a-rowcolumn-vector","title":"<code>.=</code> vs <code>=</code> when assigning a row/column vector","text":"<pre><code>using StatsBase\na = zeros(2, 2)\nb = randn(3, 2)\nc = mean(b, dims = 1) # 1\u00d72 Array{Float64,2}\na[1, :] = c # OK!\na[:, 1] = c # OK!\na[1, :] .= c # DimensionMismatch(\"cannot broadcast array to have fewer dimensions\")\na[:, 1] .= c # DimensionMismatch(\"cannot broadcast array to have fewer dimensions\")\n</code></pre> <p>similarly for column vector,</p> <pre><code>d = mean(randn(2, 2), dims = 2) # 2\u00d71 Array{Float64,2}\na[1, :] .= d # DimensionMismatch(\"cannot broadcast array to have fewer dimensions\")\n</code></pre> <p>one remedy is to reduce the dimension of the row/column vector</p> <pre><code>a[1, :] = c[:] # OK!\na[1, :] .= c[:] # OK!\n</code></pre> <p>an interesting phenomenon is the type returned after assigning regardless <code>a[1,:]</code> or <code>a[:,1]</code></p> <pre><code>julia&gt; a[:, 1] = c 1\u00d72 Array{Float64,2}:\njulia&gt; a[:, 1] = c[:]\n2-element Array{Float64,1}:\njulia&gt; a[:, 1] .= c[:]\n2-element view(::Array{Float64,2}, :, 1) with eltype Float64:\n</code></pre>"},{"location":"julia/#dims1","title":"<code>dims=1</code>","text":"<p>\u603b\u662f\u8bb0\u4e0d\u592a\u6e05 <code>sum</code>, <code>mean</code> \u7684\u65f6\u5019 <code>dims=1</code> \u662f\u6309\u884c\u6c42\u548c\u8fd8\u662f\u6309\u5217\u6c42\u548c\uff0c\u7ecf\u5e38\u5148\u73a9\u4e2a toy example \u624d\u80fd\u5206\u8fa8\u51fa\u6765\u3002\u6bd4\u5982\uff0c</p> <pre><code>julia&gt; a = rand(4, 3)\n4\u00d73 Array{Float64,2}:\n0.279181  0.0903167  0.148329\n0.486691  0.869156   0.0538834\n0.110781  0.836284   0.486467\n0.810343  0.208659   0.759561\n\njulia&gt; sum(a, dims=1)\n1\u00d73 Array{Float64,2}:\n1.687  2.00442  1.44824\n</code></pre> <p>\u5373\u628a <code>dims</code> \u6240\u4ee3\u8868\u7684\u7ef4\u5ea6\u5143\u7d20\u52a0\u8d77\u6765\uff0c\u6216\u8005\u8bf4\u6cbf\u7740 dims \u8fdb\u884c\u8fd0\u7b97\u3002\u8fd9\u4e00\u70b9\u4e0e <code>R</code> \u7684\u51fd\u6570 <code>apply</code> \u4e2d <code>margin</code> \u53c2\u6570\u4f5c\u7528\u521a\u597d\u76f8\u53cd\uff0c</p> <pre><code>&gt; a = matrix(rnorm(12), 4, 3)\n&gt; a\n[,1]        [,2]       [,3]\n[1,]  1.1535199  0.03198768  0.2857126\n[2,] -1.3616720  0.32325598  1.9242805\n[3,] -0.6519595 -1.14800119 -0.3635221\n[4,]  1.2713182  0.98515312  0.2269218\n&gt; apply(a, 1, sum)\n[1]  1.4712202  0.8858644 -2.1634828  2.4833932\n</code></pre> <p>\u800c Python \u7684\u884c\u4e3a\u4e0e Julia \u7c7b\u4f3c\uff0c\u5148\u6309\u5217\u6c42\u548c\uff0c\u518d\u6309\u884c\u6c42\u548c\uff0c\u4f46\u6ce8\u610f\u5176\u6307\u6807\u4ece 0 \u5f00\u59cb\uff0c</p> <pre><code>&gt;&gt;&gt; a = np.random.rand(3, 4);\n&gt;&gt;&gt; a\narray([[0.47982003, 0.44339329, 0.08865359, 0.30770283],\n       [0.03171438, 0.82452326, 0.62909043, 0.95733624],\n       [0.51522304, 0.65602682, 0.95936926, 0.51930784]])\n&gt;&gt;&gt; np.sum(a, axis = 0)\narray([1.02675744, 1.92394337, 1.67711328, 1.78434691])\n&gt;&gt;&gt; np.sum(a, axis = 0, keepdims = True)\narray([[1.02675744, 1.92394337, 1.67711328, 1.78434691]])\n&gt;&gt;&gt; np.sum(a, axis = 1)\narray([1.31956975, 2.44266431, 2.64992695])\n&gt;&gt;&gt; np.sum(a, axis = 1, keepdims = True)\narray([[1.31956975],\n       [2.44266431],\n       [2.64992695]])\n</code></pre> <p>\u53e6\u5916\uff0cJulia \u4e2d\u7ef4\u5ea6\u9ed8\u8ba4\u4e0d\u4f1a\u9000\u5316\uff0c\u5373\u5bf9\u5e94 Python \u4e2d <code>keepdims = False</code>.</p>"},{"location":"julia/#array-in-functions","title":"array in functions","text":"<pre><code>julia&gt; function g(x)\nx += [1, 2]\nend\ng (generic function with 1 method)\njulia&gt; function g!(x)\nx .+= [1, 2]\nend\ng! (generic function with 1 method)\njulia&gt; x = [1,2];\n\njulia&gt; g(x)'\n1\u00d72 Adjoint{Int64,Array{Int64,1}}:\n2  4\n\njulia&gt; x'\n1\u00d72 Adjoint{Int64,Array{Int64,1}}:\n1  2\n\njulia&gt; g!(x)'\n1\u00d72 Adjoint{Int64,Array{Int64,1}}:\n2  4\n\njulia&gt; x'\n1\u00d72 Adjoint{Int64,Array{Int64,1}}:\n2  4\n</code></pre> <p>Note that sometimes <code>.+=</code> may make the program much slower, such as en/code/2019-06-14-ML/GD2.jl</p>"},{"location":"julia/#no-reduction-with-11","title":"no reduction with <code>[1:1]</code>","text":"<p>Sometimes, I do not want to the array of array reduces to a single array, then <code>[1:1]</code> would help, instead of <code>[1]</code>, see the following toy example.</p> <pre><code>julia&gt; x\n2-element Array{Array{Int64,1},1}:\n[1, 2, 3]\n[1, 2]\n\njulia&gt; x[1]\n3-element Array{Int64,1}:\n1\n2\n3\n\njulia&gt; x[1:1]\n1-element Array{Array{Int64,1},1}:\n[1, 2, 3]\n</code></pre>"},{"location":"julia/#convert-a-matrix-into-an-array-of-array","title":"convert a matrix into an array of array","text":"<pre><code>julia&gt; a = zeros(3, 4)\n3\u00d74 Array{Float64,2}:\n0.0  0.0  0.0  0.0\n0.0  0.0  0.0  0.0\n0.0  0.0  0.0  0.0\n\njulia&gt; mapslices(x-&gt;[x], a, dims = 2)\n3\u00d71 Array{Array{Float64,1},2}:\n[0.0, 0.0, 0.0, 0.0]\n[0.0, 0.0, 0.0, 0.0]\n[0.0, 0.0, 0.0, 0.0]\n\njulia&gt; mapslices(x-&gt;[x], a, dims = 2)[:]\n3-element Array{Array{Float64,1},1}:\n[0.0, 0.0, 0.0, 0.0]\n[0.0, 0.0, 0.0, 0.0]\n[0.0, 0.0, 0.0, 0.0]\n</code></pre> <p>refer to</p> <p>Converting a matrix into an array of arrays</p> <p>Conversely, we can converting the array of arrays to a matrix, refer to How to convert an array of array into a matrix?</p> <pre><code>julia&gt; b = mapslices(x-&gt;[x], a, dims = 2)[:]\njulia&gt; hcat(b...)\n4\u00d73 Array{Float64,2}:\n0.0  0.0  0.0\n0.0  0.0  0.0\n0.0  0.0  0.0\n0.0  0.0  0.0\njulia&gt; reduce(hcat, b)\n4\u00d73 Array{Float64,2}:\n0.0  0.0  0.0\n0.0  0.0  0.0\n0.0  0.0  0.0\n0.0  0.0  0.0\n</code></pre>"},{"location":"julia/#index-from-0","title":"index from 0","text":"<p>using <code>OffsetArrays</code> package, refer to</p> <p>Github: OffsetArrays</p>"},{"location":"julia/#base","title":"Base","text":""},{"location":"julia/#disable-warning","title":"disable warning","text":"<pre><code>julia&gt; @warn 1+1\n\u250c Warning: 2\n\u2514 @ Main REPL[1]:1\n\njulia&gt; using Logging\n\njulia&gt; Logging.disable_logging(Logging.Warn)\nLogLevel(1001)\n\njulia&gt; @warn 1+1\n</code></pre> <p>refers to the official documentation</p> <p>also tried the command options, <code>-g</code>, <code>--warn-scope</code>, but not work</p>"},{"location":"julia/#__dir__","title":"<code>@__DIR__</code>","text":"<p>It expands to the folder of the current file, no matter where we call the script. However, with RCall or PyCall, the expansion would be the folder that executes the script. To expand to the folder of the script, we can first assign it to a variable. </p> <pre><code>using RCall\nusing PyCall\n\n\nprintln(\"R: \", rcopy(R\"$(@__DIR__)\"))\nprintln(\"Python\", py\"$(@__DIR__)\")\nprintln(\"Julia:\", @__DIR__)\n\nprintln()\nprintln(\"Assign @__DIR__ to a variable:\")\nprintln()\n\ncurrent_folder = @__DIR__\n\nprintln(\"R: \", rcopy(R\"$(current_folder)\"))\nprintln(\"Python\", py\"$(current_folder)\")\nprintln(\"Julia:\", current_folder)\n</code></pre> <p>Run the above scripts from <code>~</code>, it outputs</p> <pre><code>~$ julia1.8 ~/github/techNotes/docs/julia/MWE/dirpath/main.jl R: /home/weiya\nPython/home/weiya\nJulia:/home/weiya/github/techNotes/docs/julia/MWE/dirpath\n\nAssign @__DIR__ to a variable:\n\nR: /home/weiya/github/techNotes/docs/julia/MWE/dirpath\nPython/home/weiya/github/techNotes/docs/julia/MWE/dirpath\nJulia:/home/weiya/github/techNotes/docs/julia/MWE/dirpath\n</code></pre>"},{"location":"julia/#relative-path-in-include-vs-read","title":"Relative path in <code>include</code> vs <code>read</code>","text":"<p>Suppose we have two files</p> <pre><code># file: relpath/a.jl\nf(x) = x + 1\n</code></pre> <p>and</p> <pre><code># file: relpath/a.jl\ninclude(\"a.jl\")\n\nprintln(f(1))\n\nprintln(String(read(\"a.jl\")))\n</code></pre> <p>If we run the scripts from <code>docs/julia/MWE</code></p> <pre><code># file: relpath/b.jl\n$ julia relpath/b.jl\n</code></pre> <p>it will throw an error that <code>a.jl</code> is not found. But note that <code>include</code> also use the same relative path. The reason is that</p> <pre><code>help?&gt; include\n...During including, a task-local include path is set to the\ndirectory containing the file.\n</code></pre>"},{"location":"julia/#_1","title":"\u8fde\u7b49\u53f7\u8d4b\u503c","text":"<p>\u5982\u679c\u91c7\u7528 <code>a=b=c=ones(10)</code> \u5f62\u5f0f\u8d4b\u503c\u7684\u8bdd\uff0c\u5219\u5982\u679c\u540e\u9762\u6539\u53d8 <code>a</code> \u7684\u503c\uff0c<code>b</code> \u548c <code>c</code> \u7684\u503c\u4e5f\u5c06\u968f\u4e4b\u6539\u53d8\u3002</p> <p>\u4f46\u5982\u679c <code>a=b=c=1</code> \u4e3a\u5e38\u503c\u7684\u8bdd\uff0c\u5219\u4e09\u4e2a\u53d8\u91cf\u7684\u503c\u8fd8\u662f\u72ec\u7acb\u7684\u3002</p>"},{"location":"julia/#error-expected-typet","title":"ERROR: <code>expected Type{T}</code>","text":"<p>\u53c2\u8003 ERROR: LoadError: TypeError: Type{\u2026} expression: expected Type{T}, got Module</p> <p>\u5176\u4e2d\u4e3e\u4e86\u4e00\u4e2a\u5c0f\u4f8b\u5b50</p> <pre><code>module Foo end\nFoo{Int64}\n</code></pre> <p>\u4f1a\u7206\u51fa\u8fd9\u6837\u7684\u9519\u8bef\u3002\u4f46\u662f\u4e00\u5f00\u59cb\u7adf\u7136\u6ca1\u6709\u4ed4\u7ec6\u7c7b\u6bd4\uff0c\u6700\u540e\u5728 REPL \u4e2d\u9010\u884c\u8bd5\u9a8c\u624d\u53d1\u73b0\u662f\uff0c<code>using SharedArrays</code> \u540e\u76f4\u63a5\u7528 <code>SharedArrays{Float64}(10)</code>\uff0c\u8fd9\u4e0e\u4e0a\u9762 <code>Foo</code> \u7684\u9519\u8bef\u5f62\u5f0f\u5b8c\u5168\u4e00\u6837\uff0c\u7adf\u7136\u6ca1\u6709\u4ed4\u7ec6\u7c7b\u6bd4\u3002\u54ce\uff0c\u770b\u6765\u4ee5\u540e\u591a\u601d\u8003\u4e00\u4e0b\u9519\u8bef\u53ef\u80fd\u7684\u539f\u56e0\uff0c\u4e0d\u8981\u4e00\u5473\u86ee\u529b\u8bd5\u9a8c\u3002</p>"},{"location":"julia/#type-instance-and-object","title":"type, instance, and object","text":"<p>\u770b\u4e24\u4e2a\u53e5\u5b50\uff1a</p> <ol> <li>A type union is a special abstract type which includes as objects all instances of any of its argument types</li> <li><code>Nothing</code> is the singleton type whose only instance is the object <code>nothing</code>.</li> </ol> <p>\u4ece\u4e2d\u5206\u6790\u77e5\u9053\uff0cinstance \u76f8\u5bf9\u4e8e types\uff0c\u800c object \u76f8\u5bf9 instance\u3002\u4e00\u4e2a type \u53ef\u80fd\u6709\u591a\u4e2a instance\uff0c\u6bcf\u4e2a instance \u79f0\u4e4b\u4e3a object\u3002</p> <ol> <li>instance of some types</li> <li>object of some instances</li> </ol>"},{"location":"julia/#control-flow","title":"Control Flow","text":""},{"location":"julia/#priority-of","title":"priority of <code>&amp;</code>","text":"<p>use</p> <pre><code>(x[1] &lt;= width) &amp; (x[1] &gt;= 0) &amp; (x[2] &lt;= height) &amp; (x[2] &gt;=0)\n</code></pre> <p>instead of</p> <pre><code>x[1] &lt;= width &amp; x[1] &gt;= 0 &amp; x[2] &lt;= height &amp; x[2] &gt;=0\n</code></pre>"},{"location":"julia/#ifelse-vs","title":"<code>ifelse</code> vs <code>?</code>","text":"<p><code>ifelse</code> differs from <code>?</code> or <code>if</code> in that it is an ordinary function, so all the arguments are evaluated first.</p> <p>For example, it will try to evaluate the second clause, </p> <pre><code>julia&gt; isnothing(nothing) ? \"\" : @sprintf \"%.4f\" nothing\n\"\"\n\njulia&gt; ifelse(isnothing(nothing), \"\" , @sprintf \"%.4f\" nothing)\nERROR: MethodError: no method matching isfinite(::Nothing)\n</code></pre> <p>Adopted from Clouds#32</p> <p>Tip</p> <p>The specifiers in <code>@sprintf</code> should be consists of ones in C++, and the detailed explanation refers to Print Format \u2013 C/C++</p> <p>Note that, <code>%g</code> uses the shorter representation between <code>%e</code> and <code>%f</code>.</p>"},{"location":"julia/#for-in-array","title":"<code>for</code> in array","text":"<pre><code>julia&gt; for i = 1:3\na = [i for i = i:3]\nprintln(a)\nend\n[1, 2, 3]\n[2, 3]\n[3]\n</code></pre> <p>same iterative variable <code>i</code>, but it works well.</p>"},{"location":"julia/#distributed","title":"Distributed","text":""},{"location":"julia/#distributed_1","title":"<code>@distributed</code>","text":"<p>\u5982\u679c\u914d\u5408 <code>sharedarrays</code> \u4f7f\u7528\u65f6\uff0c\u9700\u8981\u52a0\u4e0a <code>@sync</code>, \u53c2\u8003@fetch</p>"},{"location":"julia/#sync-vs-async","title":"<code>@sync</code> vs <code>@async</code>","text":"<pre><code>julia&gt; @time sleep(2)\n2.003579 seconds (5 allocations: 128 bytes)\n\njulia&gt; @time @async sleep(2)\n0.015021 seconds (6.57 k allocations: 379.004 KiB)\nTask (runnable) @0x00007f24428409d0\n\njulia&gt; @time @sync @async sleep(2)\n2.008425 seconds (1.62 k allocations: 79.125 KiB)\nTask (done) @0x00007f24429ebd00\n</code></pre> <ul> <li><code>@async</code>: for whatever falls within its scope, Julia will start this task running but then proceed to whatever comes next in the script without waiting for the task to be complete</li> <li><code>@sync</code>: wait until all lexically-enclosed uses of <code>@async</code>, <code>@spawn</code>, <code>@spawnat</code> and <code>@distributed</code> are complete, where complete matters how you define the tasks within the scope, such as <code>remotecall_fetch</code> (only finished when it gets the message from the worker that its task is complete) vs <code>remotecall</code> (finished once it has sent the worker the job to do)</li> </ul> <p>With setting</p> <pre><code>using Distributed\ncell(N) = Vector{Any}(undef, N)\n\naddprocs(2)\n</code></pre> Nonesync + asyncNone + asyncasync + Nonesync+async + None <pre><code>julia&gt; @time begin\na = cell(nworkers())\nfor (idx, pid) in enumerate(workers())\na[idx] = remotecall_fetch(sleep, pid, 2)\nend\nend\n4.270026 seconds (28.35 k allocations: 1.384 MiB)\n</code></pre> <pre><code>julia&gt; @time begin\na = cell(nworkers())\n@sync for (idx, pid) in enumerate(workers())\n@async a[idx] = remotecall_fetch(sleep, pid, 2)\nend\nend\n2.031801 seconds (2.50 k allocations: 144.907 KiB)\n</code></pre> <pre><code>julia&gt; @time begin\na = cell(nworkers())\nfor (idx, pid) in enumerate(workers())\nprintln(\"sending work to $pid\")\n@async a[idx] = remotecall_fetch(sleep, pid, 2)\nend\nend\nsending work to 2\nsending work to 3\n0.020147 seconds (2.10 k allocations: 121.017 KiB)\n\njulia&gt; a\n2-element Array{Any,1}:\n#undef\n#undef\n\n# wait around 2 seconds\njulia&gt; a\n2-element Array{Any,1}:\nnothing\nnothing\n</code></pre> <pre><code>julia&gt; @time begin\na = cell(nworkers())\n@async for (idx, pid) in enumerate(workers())\nprintln(\"sending work to $pid\")\na[idx] = remotecall_fetch(sleep, pid, 2)\nend\nend\nsending work to 2\n0.000141 seconds (32 allocations: 2.867 KiB)\nTask (runnable) @0x00007f2442843d00\n\n# wait around 2 seconds, it prints\njulia&gt; sending work to 3\n</code></pre> <pre><code>julia&gt; @time begin\na = cell(nworkers())\n@sync @async for (idx, pid) in enumerate(workers())\na[idx] = remotecall_fetch(sleep, pid, 2)\nend\nend\n4.017451 seconds (13.96 k allocations: 692.136 KiB)\nTask (done) @0x00007f2442dfdfc0\n</code></pre> <p>refer to How and When to Use @async and @sync in Julia - Stack Overflow</p> <p>And as the official documentation said, </p> <p>@async is similar to @spawnat, but only runs tasks on the local process. We use it to create a \u201cfeeder\u201d task for each process. Each task picks the next index that needs to be computed, then waits for its process to finish, then repeats until we run out of indices. Note that the feeder tasks do not begin to execute until the main task reaches the end of the @sync block, at which point it surrenders control and waits for all the local tasks to complete before returning from the function. </p> <p>Info</p> <p>Applications in my project: parallel.job, where it is much like the feeder, although it might be quite fast.</p>"},{"location":"julia/#gurobi","title":"Gurobi","text":"<ul> <li>Currently (2022-09-23) no way to enable Gurobi.jl in GitHub Actions. </li> <li>hide message of <code>Set parameter ...</code>: <code>GRBsetintparam(GRB_ENV, GRB_INT_PAR_OUTPUTFLAG, 0)</code>. Inspired by the way for C++ API of Gurobi,  and </li> </ul>"},{"location":"julia/#jld-vs-jld2","title":"JLD vs JLD2","text":"<p>JLD depends on HDF5, whose installation requires to login in, while JLD2 avoid the dependence of HDF5.</p> <p>Source</p>"},{"location":"julia/#juno","title":"Juno","text":"<p>Info</p> <p>An IDE on Atom.</p>"},{"location":"julia/#shortcuts","title":"Shortcuts","text":"<ul> <li><code>Ctrl+J Ctrl+E</code>: switch from REPL to editor, refer to the correct shortcut is be Ctrl-J Ctrl-E (and the command is called Julia Client: Focus Last Editor), an inspiration is that I can check it via <code>Ctrl-Shift-P</code>.</li> </ul>"},{"location":"julia/#bug-when-cltr-enter","title":"Bug when <code>Cltr + Enter</code>","text":"<p>\u5f53\u6211\u4f7f\u7528 <code>Ctrl + Enter</code> \u8fd0\u884c\u4e0b\u5217\u8bed\u53e5\u65f6\uff0c</p> <pre><code>using Images, ImageView\nimg = load(download(\"https://juliaimages.org/latest/assets/segmentation/horse.jpg\"));\nimshow(img)\n</code></pre> <p>REPL \u51bb\u4f4f\u4e86\uff0c\u4e00\u76f4\u505c\u5728</p> <pre><code>Dict{String,Any} with 4 entries:\n</code></pre> <p>\u800c\u6211\u5982\u679c\u76f4\u63a5\u5c06\u4e0a\u8ff0\u8bed\u53e5\u590d\u5236\u5230 REPL \u4e2d\u8fd0\u884c\u65f6\uff0c\u4e00\u5207 OK\uff0c\u6b63\u5e38\u663e\u793a\u4e3a</p> <pre><code>Dict{String,Any} with 4 entries:\n\"gui\"         =&gt; Dict{String,Any}(\"window\"=&gt;GtkWindowLeaf(name=\"\", parent, wi\u2026\n\"roi\"         =&gt; Dict{String,Any}(\"redraw\"=&gt;50: \"map(clim-mapped image, input\u2026\n  \"annotations\" =&gt; 3: \"input-2\" = Dict{UInt64,Any}() Dict{UInt64,Any}\n  \"clim\"        =&gt; 2: \"CLim\" = CLim{RGB{Float64}}(RGB{Float64}(0.0,0.0,0.0), RG\u2026\n</code></pre> <p>\u627e\u5230\u7c7b\u4f3c\u7684 Issue: [BUG] Evaluation in Editor freezes Atom occasionally</p> <p>\u867d\u7136\u5176\u89e3\u51b3\u65b9\u6848\u4e0d\u592a\u6e05\u695a\uff0c\u662f\u6709\u5173 notification-daemon\uff0c\u4f46\u662f\u7ef4\u62a4\u8005 @pfitzseb \u7684\u56de\u590d</p> <p>OS level notifications are disabled completly in the latest Juno release because they were causing crashes on Mac and didn\u2019t really seem to work on other platforms.</p> <p>\u63d0\u9192\u6211\u6216\u8bb8\u662f\u56e0\u4e3a Juno \u7684\u7248\u672c\u95ee\u9898\uff0c\u5f53\u524d\u7248\u672c\u4e3a v0.7.2, \u6700\u65b0\u7248\u672c\u4e3a v0.8.1</p> <p>\u4ec5\u4ec5\u66f4\u65b0 Juno.jl \u7684\u7248\u672c\u4f3c\u4e4e\u8fd8\u4e0d\u884c\uff0c\u53e6\u5916\u5c06 Atom.jl \u4ece v0.12.8 \u66f4\u65b0\u5230 v0.12.9</p> <p>\u6700\u540e\u7adf\u7136\u771f\u7684\u89e3\u51b3\u4e86\uff01</p>"},{"location":"julia/#system-proxy","title":"System Proxy","text":"<p>\u5f53\u5728 <code>.bashrc</code> \u6dfb\u52a0 <code>http_proxy</code> \u548c <code>https_proxy</code> \u4e2d\u5e76 source \u4e4b\u540e\uff0c\u76f4\u63a5\u5728 shell \u91cc\u9762\u5f00\u7684 julia session \u4e2d\uff0c\u9a8c\u8bc1\u5f53\u524d ip</p> <pre><code>run(`curl ifconfig.me`)\n</code></pre> <p>\u6216\u8005\u76f4\u63a5\u67e5\u770b</p> <pre><code>ENV[\"http_proxy\"]\n</code></pre> <p>\u53d1\u73b0\u53ef\u4ee5\u4f7f\u7528\u7cfb\u7edf\u4ee3\u7406\u3002\u4f46\u662f\u5728 Atom \u4e2d\u5f00\u7684 julia\uff0c\u5219\u4e0d\u884c\u3002\u627e\u5230 Atom \u4e00\u6761\u76f8\u5173\u7684 issue: [Atom 1.32.0] Does not inherit environment variables when launched not from the command line\uff0c\u4f46\u662f\u6211\u5df2\u7ecf\u662f\u6700\u65b0\u7248\u4e86\uff0c\u4e0d\u5e94\u8be5\u5b58\u5728\u8fd9\u4e2a\u95ee\u9898\u3002\u4f46\u662f\u5f53\u6211\u901a\u8fc7 <code>Ctrl-Shift-i</code> \u6253\u5f00 devtools\uff0c\u9a8c\u8bc1 <code>process.env[\"http_proxy\"]</code>\uff0c\u663e\u793a undefined\uff1b\u800c\u4e14\u76f4\u63a5\u5728 source \u4e4b\u540e\u7684 terminal \u4e2d\u6253\u5f00\uff0c\u4e5f\u663e\u793a undefined\u3002\u731c\u60f3\uff0c\u53ea\u5bf9 PATH \u6709\u6548\uff1f\u6216\u8005\u56e0\u4e3a Juno.jl?</p> <p>\u8df3\u8fc7\u8fd9\u4e2a\u95ee\u9898\uff0c\u6700\u540e\u76f4\u63a5\u5728 <code>startup.jl</code> \u6587\u4ef6\u4e2d\u6dfb\u52a0</p> <pre><code>ENV[\"http_proxy\"] =\nENV[\"https_proxy\"]\n</code></pre> <p>\u8fdb\u884c\u8bbe\u7f6e\uff0c\u8fd9\u53c2\u8003\u4e86 Install packages behind the proxy</p>"},{"location":"julia/#function","title":"Function","text":""},{"location":"julia/#calculation-in-arguments","title":"calculation in arguments","text":"<pre><code>julia&gt; f(x; n = 10, m=n/2) = x+m\nf (generic function with 1 method)\n\njulia&gt; f(1)\n6.0\n</code></pre> <p>where <code>m = n/2</code> is allowed. But Python does not support this feature.</p> <p>Bug</p> <pre><code>&gt;&gt;&gt; def f(x, n = 10, m = n/2):\n...     x + m\n... \nTraceback (most recent call last):\nFile \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nNameError: name 'n' is not defined\n</code></pre>"},{"location":"julia/#function-redefinition-in-if","title":"function redefinition in <code>if</code>","text":"WrongCorrect: anonymous functions <pre><code>julia&gt; function f()\nflag = true\nif flag\ng(x) = 1\nelse\ng(x) = 2\nend\nprintln(g(1))\nend\nWARNING: Method definition g(Any) in module Main at REPL[1]:4 overwritten at REPL[1]:6.\nf (generic function with 1 method)\n\njulia&gt; f()\n2\n</code></pre> <pre><code>julia&gt; function f()\nflag = true\nif flag\ng = x-&gt;1\nelse\ng = x-&gt;2\nend\nprintln(g(1))\nend\nf (generic function with 1 method)\n\njulia&gt; f()\n1\n</code></pre> <p>The correct way is to use the anonymous function, see also Defining a function inside if\u2026else..end NOT as expected? - New to Julia - JuliaLang</p>"},{"location":"julia/#invoke-function-via-string","title":"invoke function via string","text":"<pre><code>julia&gt; getfield(Main, Symbol(\"exp\"))(1)\n2.718281828459045\n</code></pre> <p>refer to reflection - Julia: invoke a function by a given string - Stack Overflow</p>"},{"location":"julia/#default-argument-and-optional-arguments","title":"default argument and optional arguments","text":"<pre><code>julia&gt; function f(x, y=nothing; z=1)\nif isnothing(y)\nprintln(\"x + z = $(x+z)\")\nelse\nprintln(\"x + y + z = $(x+y+z)\")\nend\nend\n\njulia&gt; f(1)\nx + z = 2\n\njulia&gt; f(1, 2)\nx + y + z = 4\n</code></pre> <p>with this format, we can avoid define two functions <code>f(x; )</code> and <code>f(x, y;)</code> respectively.</p>"},{"location":"julia/#function-in-function","title":"function in function","text":"<pre><code>julia&gt; function f2()\na = 10\nfunction g()\na = a+10\nend\ng()\nprintln(a)\nend\nf2 (generic function with 1 method)\n\njulia&gt; f2()\n20\n</code></pre> <p>but</p> <pre><code>julia&gt; function f2()\na = 10\ng() = a + 10\ng()\nprintln(a)\nend\nf2 (generic function with 1 method)\n\njulia&gt; f2()\n10\n</code></pre> <p>since the first one does not have <code>return</code>, but <code>g()</code> has <code>return</code> and the addition is not on <code>a</code>.</p>"},{"location":"julia/#pkg","title":"Pkg","text":"<ul> <li>Pkg + BinaryBuilder: binary objects that are not Julia packages</li> <li>[<code>dev</code> + <code>test</code>]: test project instead of <code>include</code> scripts. Specifically, open a Julia session without <code>--project</code> option in the project folder, and then switch into the Pkg environment, type <code>dev .</code> &amp; <code>test YourProjectName</code>. See more attempts.</li> </ul>"},{"location":"julia/#pycall","title":"PyCall","text":""},{"location":"julia/#update-matplotlib","title":"Update Matplotlib","text":"<p>Info</p> <p>Post: 2022-04-09 19:13:48</p> <pre><code>julia&gt; pyplot()\n[ Info: Precompiling PyPlot [d330b81b-6aea-500a-939a-2ce795aea3ee]\n\u250c Warning: You are using Matplotlib 3.1.3, which is no longer\n\u2502 officialy supported by the Plots community. To ensure smooth Plots.jl\n\u2502 integration update your Matplotlib library to a version &gt;= 3.4.0\n\u2502 \u2502 If you have used Conda.jl to install PyPlot (default installation),\n\u2502 upgrade your matplotlib via Conda.jl and rebuild the PyPlot.\n\u2502 \u2502 If you are not sure, here are the default instructions:\n\u2502 \u2502 In Julia REPL:\n\u2502 ```\n\u2502 import Pkg;\n\u2502 Pkg.add(\"Conda\")\n\u2502 import Conda\n\u2502 Conda.update()\n\u2502 Pkg.build(\"PyPlot\")\n\u2502 ```\n\u2502 \u2514 @ Plots ~/.julia/packages/Plots/9C6z9/src/backends/pyplot.jl:29\n</code></pre> <p>Then follow the instruction,</p> <pre><code>julia&gt; import Conda\n\njulia&gt; Conda.update()\n[ Info: Running `conda update -y --all conda` in root environment\nCollecting package metadata (current_repodata.json): done\nSolving environment: done\n\n## Package Plan ##\n\nenvironment location: /home/weiya/.julia/conda/3\n\nadded / updated specs:\n- conda\n</code></pre> <p>it implies that the env created by <code>Conda.jl</code> is <code>~/.julia/conda/3</code></p> <p>If I check all env in the shell, it returns</p> <pre><code>$ conda env list\n# conda environments:\n#\n/home/weiya/.julia/conda/3\n                         /home/weiya/.julia/conda/3/envs/_ORCA_jl_\nbase                     /home/weiya/anaconda3\npy37                     /home/weiya/anaconda3/envs/py37\n...\n</code></pre>"},{"location":"julia/#couldnt-find-libpython-error","title":"Couldn\u2019t find libpython error","text":"<pre><code>ENV[\"PYTHON\"]=\"\"; Pkg.build(\"PyCall\")\n</code></pre> <p>to install its own private Miniconda distribution for you, in a way that won\u2019t interfere with your other Python installations.</p> <p>Refer to Couldn\u2019t find libpython error #199</p> <p>Actually, using <code>PyPlot</code> also encounters the similar question, cannot find <code>matplotlib</code>, then I changed to the conda environment contained such package, and then</p> <pre><code>ENV[\"PYTHON\"]=\"the-python-path\";\n# change to package command line\nbuild PyCall\n</code></pre> <p>it works. And it seems that it does NOT depend on conda environment any more, i.e., <code>PyPlot</code> still works for different conda environment, even without <code>matplotlib</code> package in such environment.</p> <p>In the words of the official documentation,</p> <p>If you use Python virtualenvs, then be aware that PyCall uses the virtualenv it was built with by default, even if you switch virtualenvs. If you want to switch PyCall to use a different virtualenv, then you should switch virtualenvs and run rm(Pkg.dir(\u201cPyCall\u201d,\u201ddeps\u201d,\u201dPYTHON\u201d)); Pkg.build(\u201cPyCall\u201d).</p> <p>which supports my above guess.</p>"},{"location":"julia/#record-for-install-pycall","title":"Record for install <code>PyCall</code>","text":"<p>Switch to <code>py37</code> conda environment, then run <code>julia1.2.0</code></p> <pre><code>(v1.2) pkg&gt; add PyCall\n</code></pre> <p>Then test to import module in the same REPL,</p> <pre><code>julia&gt; using PyCall\n[ Info: Recompiling stale cache file /home/weiya/.julia/compiled/v1.2/PyCall/GkzkC.ji for PyCall [438e738f-606a-5dbb-bf0a-cddfbfd45ab0]\n\njulia&gt; math = pyimport(\"math\")\nPyObject &lt;module 'math' from '/home/weiya/anaconda3/lib/python3.7/lib-dynload/math.cpython-37m-x86_64-linux-gnu.so'&gt;\n</code></pre> <p>Now open a new julia session under different conda environment (or no any conda environment), re-run the above code</p> <pre><code>julia&gt; using PyCall\n\njulia&gt; math = pyimport(\"math\")\nPyObject &lt;module 'math' from '/home/weiya/anaconda3/lib/python3.7/lib-dynload/math.cpython-37m-x86_64-linux-gnu.so'&gt;\n</code></pre> <p>As you can see, no any compiling info when using <code>PyCall</code>, and return the same <code>math</code> module. However such module does not corresponds to the <code>py37</code> conda environment. The official documentation says</p> <p>On GNU/Linux systems, PyCall will default to using the python3 program (if any, otherwise <code>python</code>) in your PATH.</p> <p>Then to specify the version of python such as</p> <pre><code>julia&gt; ENV[\"PYTHON\"] = Sys.which(\"python\")\n\"/home/weiya/anaconda3/envs/py37/bin/python3.7\"\n</code></pre> <p>and rebuild, note that need to restart the julia session to recompiling,</p> <pre><code>julia&gt; using PyCall\n[ Info: Recompiling stale cache file /home/weiya/.julia/compiled/v1.2/PyCall/GkzkC.ji for PyCall [438e738f-606a-5dbb-bf0a-cddfbfd45ab0]\n\njulia&gt; pyimport(\"math\")\nPyObject &lt;module 'math' from '/home/weiya/anaconda3/envs/py37/lib/python3.7/lib-dynload/math.cpython-37m-x86_64-linux-gnu.so'&gt;\n</code></pre> <p>then the module corresponds to the specified conda environment, and then like the above test, it also can be used in other conda environment without recompiling.</p>"},{"location":"julia/#rcall","title":"RCall","text":"<ul> <li><code>rcopy(NA)</code> return <code>missing</code>, </li> </ul> <pre><code>julia&gt; rcopy(R\"lm($dop ~ 0 + $H)$coefficients\")\n100-element reshape(::Array{Union{Missing, Float64},1}, 100) with eltype Union{Missing, Float64}:\nmissing\n-1.909321682273283e-23\n</code></pre> <p>A related error is</p> <pre><code>julia&gt; Array{Float64}(rcopy(R\"lm($dop ~ 0 + $H)$coefficients\"))\nERROR: MethodError: Cannot `convert` an object of type Missing to an object of type Float64\nClosest candidates are:\nconvert(::Type{T}, ::T) where T&lt;:Number at number.jl:6\nconvert(::Type{T}, ::Number) where T&lt;:Number at number.jl:7\nconvert(::Type{T}, ::Base.TwicePrecision) where T&lt;:Number at twiceprecision.jl:250\n</code></pre>"},{"location":"julia/#random","title":"Random","text":"<p>Warning</p> <p>Caution for <code>Random.seed!()</code>. Be careful to use it in a function. Adapt it from </p>"},{"location":"julia/#case-1-two-files","title":"Case 1: Two files","text":"<p>Suppose I have the following two files,</p> a.jlb.jl <pre><code>using Random\nimport StatsBase.sample\nfunction g(seed = 1234)\nprintln(sample(Random.seed!(seed), 1:5, 5))\nend\n</code></pre> <pre><code>include(\"a.jl\")\n\nfunction f()\nprintln(rand(3))\ng(1234)\nprintln(rand(3))\nend\n</code></pre> <p>after first different results, it repeats to show the same results.</p> <pre><code>julia&gt; include(\"b.jl\")\nf (generic function with 1 method)\n\njulia&gt; f()\n[0.8484503038106239, 0.6270935436096212, 0.8958165220379257]\n[3, 4, 5, 4, 1]\n[0.3728458178193992, 0.2631210819875911, 0.9886904946486306]\n\njulia&gt; f()\n[0.4898584067326506, 0.4252112774882528, 0.37976500269509095]\n[3, 4, 5, 4, 1]\n[0.3728458178193992, 0.2631210819875911, 0.9886904946486306]\n\njulia&gt; f()\n[0.4898584067326506, 0.4252112774882528, 0.37976500269509095]\n[3, 4, 5, 4, 1]\n[0.3728458178193992, 0.2631210819875911, 0.9886904946486306]\n</code></pre>"},{"location":"julia/#case-2-a-single-file","title":"Case 2: a single file","text":"<p>The above phenomenon can be observed in a single file,</p> <pre><code>using Random\n\nfunction f(seed)\nprintln(rand(Random.seed!(seed)))\nend\n\nfunction g(seed)\nprintln(rand())\nf(seed)\nprintln(rand())\nend\n</code></pre> <pre><code>julia&gt; include(\"c.jl\")\ng (generic function with 1 method)\n\njulia&gt; g(1)\n0.8797616728308622\n0.23603334566204692\n0.34651701419196046\n\njulia&gt; g(1)\n0.3127069683360675\n0.23603334566204692\n0.34651701419196046\n\njulia&gt; g(1)\n0.3127069683360675\n0.23603334566204692\n0.34651701419196046\n</code></pre>"},{"location":"julia/#a-correct-way","title":"A Correct Way","text":"<p>replace <code>Random.seed!(seed)</code> with <code>MersenneTwister</code></p> <pre><code>using Random\n\nfunction f(seed)\nprintln(rand(MersenneTwister(seed)))\nend\n\nfunction g(seed)\nprintln(rand())\nf(seed)\nprintln(rand())\nend\n</code></pre> <p>it behaves as expected,</p> <pre><code>julia&gt; include(\"d.jl\")\ng (generic function with 1 method)\n\njulia&gt; g(1)\n0.12495220703448995\n0.23603334566204692\n0.41171274946529546\n\njulia&gt; g(1)\n0.7243446710747494\n0.23603334566204692\n0.3672395293576307\n\njulia&gt; g(1)\n0.5368102592873767\n0.23603334566204692\n0.6466136938696847\n</code></pre>"},{"location":"julia/#revise","title":"Revise","text":""},{"location":"julia/#is-there-a-way-to-undo-using-in-julia","title":"Is there a way to undo <code>using</code> in Julia?","text":"<p>NO</p> <ol> <li>https://stackoverflow.com/questions/33927523/can-i-make-julia-forget-a-method-from-the-repl</li> <li>https://stackoverflow.com/questions/36249313/is-there-a-way-to-undo-using-in-julia</li> </ol> <p>Although we cannot remove some defined function, with the powerful Revise.jl, we can update the functions without reloading the scripts.</p>"},{"location":"julia/#statistics-statsbase-distributions","title":"Statistics (StatsBase, Distributions)","text":""},{"location":"julia/#mean","title":"\u5173\u4e8e <code>mean()</code>","text":"<ol> <li><code>using Statistics</code> \u540e\u624d\u80fd\u7528 <code>mean()</code>\uff0c\u800c <code>using Distributions</code> \u540e\u4e5f\u80fd\u7528 <code>mean()</code>\u3002\u524d\u8005\u8868\u793a <code>generic function with 5 methods</code>\uff0c\u540e\u8005\u79f0 <code>generic function with 78 methods</code>.</li> </ol>"},{"location":"julia/#normal-0","title":"<code>Normal</code> \u4e2d\u6807\u51c6\u5dee\u4e3a 0 \u7684\u95ee\u9898","text":"<p>\u53ef\u77e5\uff0c\u6700\u4f4e\u53ef\u4ee5\u652f\u6301 <code>1e-323</code>\uff0c\u6240\u4ee5\u4f3c\u4e4e\u4e5f\u652f\u6301 <code>sqrt(1e-646)</code>\uff0c\u4f46\u5e76\u6ca1\u6709\uff0c\u800c\u4e14\u5f53 <code>sqrt(1e-324)</code> \u65f6\u7cbe\u5ea6\u5c31\u4e0d\u591f\u4e86\uff0c\u4f3c\u4e4e <code>sqrt(x)</code> \u7684\u7cbe\u5ea6\u4e0e <code>x</code> \u7684\u7cbe\u5ea6\u76f8\u5f53\u3002</p>"},{"location":"julia/#sympy-symbolic-math","title":"SymPy: Symbolic Math","text":"<pre><code>julia&gt; using SymPy\n[ Info: Precompiling SymPy [24249f21-da20-56a4-8eb1-6a02cf4ae2e6]\nERROR: InitError: PyError (PyImport_ImportModule\n\nThe Python package sympy could not be imported by pyimport. Usually this means\nthat you did not install sympy in the Python version being used by PyCall.\n\nPyCall is currently configured to use the Python version at:\n\n/home/weiya/anaconda3/envs/py37/bin/python3.7\n\nand you should use whatever mechanism you usually use (apt-get, pip, conda,\netcetera) to install the Python package containing the sympy module.\n\njulia&gt; @vars x\n(x,)\n\njulia&gt; exp(-x^2/2)/sqrt(2pi)\n2 -x  \u2500\u2500\u2500\u2500\n2  0.398942280401433\u22c5\u212f    julia&gt; f(x) = exp(-x^2/2)/sqrt(2pi)\nf (generic function with 1 method)\n\njulia&gt; integrate(f(x), x)\n\u239b\u221a2\u22c5x\u239e\n0.199471140200716\u22c5\u221a2\u22c5\u221a\u03c0\u22c5erf\u239c\u2500\u2500\u2500\u2500\u239f\n\u239d 2  \u23a0\n\njulia&gt; integrate(f(x), (x, -Inf, Inf))\n0.398942280401433\u22c5\u221a2\u22c5\u221a\u03c0\n\njulia&gt; integrate(x*f(x), (x, -Inf, Inf))\n0\n\njulia&gt; integrate(x*f(x), x)\n2 -x  \u2500\u2500\u2500\u2500\n2  -0.398942280401433\u22c5\u212f    julia&gt; integrate(x*f(x), (x, -Inf, Inf))\n0\n\njulia&gt; integrate(f(x)^2, (x, -Inf, Inf))\n0.159154943091895\u22c5\u221a\u03c0\n\njulia&gt; integrate(f(x)^2, x)\n0.0795774715459477\u22c5\u221a\u03c0\u22c5erf(x)\n</code></pre> <p>where <code>erf</code> is https://en.wikipedia.org/wiki/Error_function</p>"},{"location":"julia/#parallel","title":"parallel","text":"<p>references</p> <ol> <li>Julia parallel computing over multiple nodes in cluster</li> <li>Using julia -L startupfile.jl, rather than machinefiles for starting workers.</li> <li>Help setting up Julia on a cluster</li> </ol>"},{"location":"julia/#pbsdsh-unsolved","title":"pbsdsh (unsolved)","text":"<p>Submit a pbsdsh job and specify multiply nodes with multiply cores, say <code>nodes=2:ppn=4</code></p> <p>error log file (see full file in the cluster: <code>dshmcmc.e21907</code>):</p> <pre><code>fatal: error thrown and no exception handler available.\nInitError(mod=:Base, error=ArgumentError(msg=\"Package Sockets not found in current path:\n- Run `Pkg.add(\"Sockets\")` to install the Sockets package.\n\"))\nrec_backtrace at /buildworker/worker/package_linux64/build/src/stackwalk.c:94\nrecord_backtrace at /buildworker/worker/package_linux64/build/src/task.c:246\njl_throw at /buildworker/worker/package_linux64/build/src/task.c:577\nrequire at ./loading.jl:817\ninit_stdio at ./stream.jl:237\njfptr_init_stdio_4446.clone_1 at /opt/share/julia-1.0.0/lib/julia/sys.so (unknown line)\njl_apply_generic at /buildworker/worker/package_linux64/build/src/gf.c:2182\nreinit_stdio at ./libuv.jl:121\n__init__ at ./sysimg.jl:470\njl_apply_generic at /buildworker/worker/package_linux64/build/src/gf.c:2182\njl_apply at /buildworker/worker/package_linux64/build/src/julia.h:1536 [inlined]\njl_module_run_initializer at /buildworker/worker/package_linux64/build/src/toplevel.c:90\n_julia_init at /buildworker/worker/package_linux64/build/src/init.c:811\njulia_init__threading at /buildworker/worker/package_linux64/build/src/task.c:302\nmain at /buildworker/worker/package_linux64/build/ui/repl.c:227\n__libc_start_main at /lib64/libc.so.6 (unknown line)\n_start at /opt/share/julia-1.0.0/bin/julia (unknown line)\n</code></pre> <p>But when I just use single node, and arbitrary cores, say <code>nodes=1:ppn=2</code>, it works well.</p>"},{"location":"julia/#references","title":"references","text":"<ol> <li>PBSDSH - High Performance Computing at NYU - NYU Wikis</li> <li>pbsdsh usage</li> </ol>"},{"location":"julia/#julia-local-package","title":"julia local package \u5931\u8d25\u6298\u817e\u8bb0\u5f55","text":"<ol> <li>no error after <code>add ~/GitHub/adm.jl</code>, but <code>using adm</code> cannot work. refer to Adding a local package</li> <li>set <code>startup.jl</code> but still not work. refer to How does Julia find a module?</li> <li>one possible way: Finalizing Your Julia Package: Documentation, Testing, Coverage, and Publishing</li> </ol>"},{"location":"julia/#variable-scopes","title":"Variable Scopes","text":""},{"location":"julia/#for-loop","title":"<code>for</code> loop","text":"mwe1.jlmwe2.jlmwe3.jl <pre><code>i = 0\nfor j = 1:2\nif j != i\nprintln(\"ok\")\nend\nend\n</code></pre> <pre><code>i = 0\nfor j = 1:2\nif j != i\nprintln(\"ok\")\nend\ni = j\nend\n</code></pre> <pre><code>i = 0\nfor j = 1:2\nif j != i\nprintln(\"ok\")\nend\nglobal i = j\nend\n</code></pre> <p>The results are</p> <pre><code>$ julia mwe1.jl\nok\nok\n$ julia mwe2.jl\nERROR: LoadError: UndefVarError: i not defined\n# more information given in julia1.5.2\n$ julia1.5.2 mwe2.jl\n\u250c Warning: Assignment to `i` in soft scope is ambiguous because a global variable by the same name exists: `i` will be treated as a new local. Disambiguate by using `local i` to suppress this warning or `global i` to assign to the existing global variable.\nERROR: LoadError: UndefVarError: i not defined\n$ julia mwe3.jl\nok\nok\n</code></pre> <p>Thus, the reason is that i is a global variable, we cannot modify a global variable in a local block without <code>global</code> keyword, i.e., <code>global i = i + 1</code>, but we can read <code>i</code> in the <code>for</code> loop.</p> <p>Alternatively, we can use <code>let</code> block,</p> <pre><code>let\ni = 0\nfor j = 1:2\ni = i + 1\nend\ni\nend\n</code></pre> <p>then <code>i</code> isn\u2019t really a global variable anymore.</p> <p>References:</p> <ol> <li>REPL and for loops (scope behavior change)</li> <li>Scope of variables in Julia</li> <li>Manual: Scope of Variables</li> </ol>"},{"location":"julia/#while-loop","title":"<code>while</code> loop","text":"<pre><code>function test_while(flag)\nif flag\na = 1\nelse\nwhile true\na = 2\nbreak\nend\nend\nprintln(a)\nend\nfunction test_while2(flag)\nwhile true\na = 2\nbreak\nend\nprintln(a)\nend\n</code></pre> <p>the results are</p> <pre><code>julia&gt; test_while(false)\n2\n\njulia&gt; test_while2(false)\nERROR: UndefVarError: a not defined\n</code></pre>"},{"location":"julia/#and-hash","title":"\u81ea\u5b9a\u4e49 <code>==</code> and <code>hash()</code>","text":"<p>\u5bf9\u4e8e\u81ea\u5b9a\u4e49\u7684 mutable struct, \u76f4\u63a5\u7528 <code>==</code> \u8fd4\u56de <code>false</code>\uff0c\u56e0\u6b64\u9700\u8981\u81ea\u5df1\u5b9a\u4e49\u7b49\u53f7\uff0c\u6bd4\u5982</p> <pre><code>Base.:(==)(x::Reaction, y::Reaction) = all([\nx.substrate == y.substrate,\nx.product == y.product,\nx.reversible == y.reversible,\nx.species == y.species])\n</code></pre> <p>\u800c\u5982\u679c\u60f3\u7528 <code>unique</code> \u51fd\u6570\u7684\u8bdd\uff0c\u5176\u57fa\u4e8e <code>isequal</code> \u51fd\u6570\uff0c\u800c <code>isequal</code> \u662f\u901a\u8fc7\u5224\u65ad hash \u503c\u6765\u5224\u5b9a\u7684\uff0c\u6240\u4ee5\u4ec5\u4ec5\u5b9a\u4e49\u4e86 <code>==</code> \u4ecd\u4e0d\u591f\uff0c\u8fd8\u9700\u8981\u5b9a\u4e49 <code>hash</code> \u51fd\u6570\uff0c\u8fd9\u5f88\u7b80\u5355\uff0c\u6bd4\u5982</p> <pre><code>function Base.hash(obj::Reaction, h::UInt)\nreturn hash((obj.substrate, obj.product, obj.reversible, obj.species), h)\nend\n</code></pre> <p>hash\uff08\u6563\u5217\u3001\u6742\u51d1\uff09\u51fd\u6570\uff0c\u662f\u5c06\u4efb\u610f\u957f\u5ea6\u7684\u6570\u636e\u6620\u5c04\u5230\u6709\u9650\u957f\u5ea6\u7684\u57df\u4e0a\u3002\u76f4\u89c2\u89e3\u91ca\u8d77\u6765\uff0c\u5c31\u662f\u5bf9\u4e00\u4e32\u6570\u636em\u8fdb\u884c\u6742\u7cc5\uff0c\u8f93\u51fa\u53e6\u4e00\u6bb5\u56fa\u5b9a\u957f\u5ea6\u7684\u6570\u636eh\uff0c\u4f5c\u4e3a\u8fd9\u6bb5\u6570\u636e\u7684\u7279\u5f81\uff08\u6307\u7eb9\uff09\u3002</p> <p>or</p> <p>HASH\u51fd\u6570\u662f\u8fd9\u4e48\u4e00\u79cd\u51fd\u6570\uff0c\u4ed6\u63a5\u53d7\u4e00\u6bb5\u6570\u636e\u4f5c\u4e3a\u8f93\u5165\uff0c\u7136\u540e\u751f\u6210\u4e00\u4e32\u6570\u636e\u4f5c\u4e3a\u8f93\u51fa\uff0c\u4ece\u7406\u8bba\u4e0a\u8bf4\uff0c\u8bbe\u8ba1\u826f\u597d\u7684HASH\u51fd\u6570\uff0c\u5bf9\u4e8e\u4efb\u4f55\u4e0d\u540c\u7684\u8f93\u5165\u6570\u636e\uff0c\u90fd\u5e94\u8be5\u4ee5\u6781\u9ad8\u7684\u6982\u7387\u751f\u6210\u4e0d\u540c\u7684\u8f93\u51fa\u6570\u636e\uff0c\u56e0\u6b64\u53ef\u4ee5\u4f5c\u4e3a\u201c\u6307\u7eb9\u201d\u4f7f\u7528\uff0c\u6765\u5224\u65ad\u4e24\u4e2a\u6587\u4ef6\u662f\u5426\u76f8\u540c\u3002     \u6570\u636e ----&gt;\u8f93\u5165 HASH \u51fd\u6570  ----&gt;\u8f93\u51fa\u6307\u7eb9\u6570\u636e</p> <p>\u53c2\u8003</p> <ol> <li>Hash function for custom type</li> <li>Surprising struct equality test</li> <li>What is the difference between \u201cusing\u201d and \u201cimport\u201d?</li> </ol> <p>import vs using</p> <p>Instead of explicitly redefine function with <code>Module.function</code> name, we can first import it, e.g., <code>pdf</code>, we need to use <code>import Distributions.pdf</code>. </p>"},{"location":"julia/#methoderror-objects-of-type-module-are-not-callable","title":"<code>MethodError: objects of type Module are not callable</code>","text":"<p>check if the function is mistaken by the module name, such as <code>AxisArray</code> vs. <code>AxisArrays</code>.</p>"},{"location":"julia/#libx86_64-linux-gnulibzso1-versionzlib_129-not-found","title":"<code>/lib/x86_64-linux-gnu/libz.so.1: version</code>ZLIB_1.2.9\u2019 not found`","text":"<p>ref to https://stackoverflow.com/questions/48306849/lib-x86-64-linux-gnu-libz-so-1-version-zlib-1-2-9-not-found</p>"},{"location":"julia/#work-with-gpu","title":"work with GPU","text":"<ul> <li>An Introduction to GPU Programming in Julia</li> <li>Re-build after install cudnn, refer to GPU on cluster: conversion to pointer not defined for CuArray{Float32,2}</li> </ul>"},{"location":"julia/#load-imageview-on-server","title":"load <code>ImageView</code> on Server","text":"<p>when <code>using ImageView</code>, it throws an error,</p> <p>ERROR: LoadError: InitError: Cannot open display:</p> <p>fixed by <code>ssh -X</code>. If further ssh on the node, it still works.</p>"},{"location":"julia/#-i-vs-l","title":"<code>-i</code> vs <code>-L</code>","text":"<p>if need to REPL and also arguments, then <code>-i</code> would be suitable.</p> <p>And note that <code>--</code> should be separated the switches and program files. (but seems not necessary)</p> <p>Julia docs: Getting Started</p>"},{"location":"julia/#unable-to-display-plot-using-the-repl-gks-errors","title":"Unable to display plot using the REPL. GKS errors","text":"<p>The reason would be relate to the <code>GR</code> package,</p> <pre><code>cd .julia/packages/GR/ZI5OE/deps/gr/bin/\nldd gksqt\n</code></pre> <p>and then get</p> <pre><code>linux-vdso.so.1 =&gt;  (0x00007ffdc1e58000)\nlibQt5Widgets.so.5 =&gt; not found\nlibQt5Gui.so.5 =&gt; not found\nlibQt5Network.so.5 =&gt; not found\nlibQt5Core.so.5 =&gt; not found\nlibGL.so.1 =&gt; /lib64/libGL.so.1 (0x00002ae608a73000)\nlibpthread.so.0 =&gt; /lib64/libpthread.so.0 (0x00002ae608ce5000)\nlibstdc++.so.6 =&gt; /lib64/libstdc++.so.6 (0x00002ae608f01000)\nlibm.so.6 =&gt; /lib64/libm.so.6 (0x00002ae609209000)\nlibgcc_s.so.1 =&gt; /lib64/libgcc_s.so.1 (0x00002ae60950b000)\nlibc.so.6 =&gt; /lib64/libc.so.6 (0x00002ae609721000)\nlibexpat.so.1 =&gt; /lib64/libexpat.so.1 (0x00002ae609aef000)\nlibxcb-dri3.so.0 =&gt; /lib64/libxcb-dri3.so.0 (0x00002ae609d19000)\nlibxcb-xfixes.so.0 =&gt; /lib64/libxcb-xfixes.so.0 (0x00002ae609f1c000)\nlibxcb-present.so.0 =&gt; /lib64/libxcb-present.so.0 (0x00002ae60a125000)\nlibxcb-sync.so.1 =&gt; /lib64/libxcb-sync.so.1 (0x00002ae60a328000)\nlibxshmfence.so.1 =&gt; /lib64/libxshmfence.so.1 (0x00002ae60a52f000)\nlibglapi.so.0 =&gt; /lib64/libglapi.so.0 (0x00002ae60a733000)\nlibselinux.so.1 =&gt; /lib64/libselinux.so.1 (0x00002ae60a963000)\nlibXext.so.6 =&gt; /lib64/libXext.so.6 (0x00002ae60ab8a000)\nlibXdamage.so.1 =&gt; /lib64/libXdamage.so.1 (0x00002ae60ad9d000)\nlibXfixes.so.3 =&gt; /lib64/libXfixes.so.3 (0x00002ae60afa0000)\nlibX11-xcb.so.1 =&gt; /lib64/libX11-xcb.so.1 (0x00002ae60b1a6000)\nlibX11.so.6 =&gt; /lib64/libX11.so.6 (0x00002ae60b3a9000)\nlibxcb.so.1 =&gt; /lib64/libxcb.so.1 (0x00002ae60b6e7000)\nlibxcb-glx.so.0 =&gt; /lib64/libxcb-glx.so.0 (0x00002ae60b90f000)\nlibxcb-dri2.so.0 =&gt; /lib64/libxcb-dri2.so.0 (0x00002ae60bb2b000)\nlibXxf86vm.so.1 =&gt; /lib64/libXxf86vm.so.1 (0x00002ae60bd30000)\nlibdrm.so.2 =&gt; /lib64/libdrm.so.2 (0x00002ae60bf36000)\nlibdl.so.2 =&gt; /lib64/libdl.so.2 (0x00002ae60c148000)\n/lib64/ld-linux-x86-64.so.2 (0x0000557abc358000)\nlibXau.so.6 =&gt; /lib64/libXau.so.6 (0x00002ae60c34c000)\nlibpcre.so.1 =&gt; /lib64/libpcre.so.1 (0x00002ae60c551000)\n</code></pre> <p>(refer to one comment in Error: GKS: can\u2019t connect to GKS socket application)</p> <p>So it seems that it is due to the missing of <code>libqt5</code>. If I have the <code>sudo</code> privilege, maybe just type</p> <pre><code>sudo apt-get install qt5-default\n</code></pre> <p>but I cannot. But I noticed that I have installed <code>miniconda3</code>, and the <code>qt</code> is installed,</p> <pre><code>qmake -v\n# QMake version 3.1\n# Using Qt version 5.9.7 in /users/xxx/miniconda3/lib\n</code></pre> <p>So a natural way is to append the library path of <code>qt</code> to <code>LD_LIBRARY_PATH</code>, that is,</p> <pre><code># in .bashrc\nexport LD_LIBRARY_PATH=/users/xxx/miniconda3/lib:$LD_LIBRARY_PATH\n</code></pre> <p>then rebuild <code>GR</code> package in the julia REPL.</p> <p>This solution should work, but actually it failed at the first time. Do not be too frustrated, I found the reason is that I type <code>miniconda3</code> as <code>minconda3</code> in the path.</p> <p>It works now, although it still throw an error,</p> <pre><code>julia&gt; libGL error: unable to load driver: swrast_dri.so\nlibGL error: failed to load driver: swrast\n</code></pre>"},{"location":"julia/#reset-kw-value","title":"reset <code>kw...</code> value","text":"<p>In the following situation, I want to reset a particular argument in <code>kw...</code>.</p> <pre><code>function f(; kw...)\ng(; kw...)\nend\n</code></pre> <p>Note that the type of <code>kw</code> is <code>Base.Iterators.Pairs</code>, firstly I want to directly reset the value via</p> <pre><code>h(;kw...) = kw\nh(a=1).data.a = 2\n</code></pre> <p>but it throws</p> <pre><code>ERROR: setfield! immutable struct of type NamedTuple cannot be changed\nStacktrace:\n [1] setproperty!(::NamedTuple{(:a,),Tuple{Int64}}, ::Symbol, ::Int64) at ./Base.jl:21\n [2] top-level scope at none:0\n</code></pre> <p>So I need to find new method, or give up such idea. Fortunately, the official documentation of Julia says</p> <p>The nature of keyword arguments makes it possible to specify the same argument more than once. For example, in the call <code>plot(x, y; options..., width=2)</code> it is possible that the options structure also contains a value for <code>width</code>.</p> <p>Thus, I can write</p> <p><pre><code>function f(; kw...)\ng(; kw..., b = 6)\nend\n</code></pre> to solve my problem, where <code>b</code> is the argument I want to reset.</p>"},{"location":"julia/#some-interesting-behavior","title":"some interesting behavior","text":"<pre><code>d = Dict{Int, Int}()\nd[1] = 1\n</code></pre> <p>if we access</p> <pre><code>d.vals\n# d.keys\n</code></pre> <p>it will return a <code>16-element Array{Int64,1}</code>, but if we use</p> <pre><code>values(d)\nkeys(d)\n</code></pre> <p>it correctly returns the exactly one elements, but with type <code>Base.ValueIterator for a Dict{Int64,Int64} with 1 entry</code>.</p>"},{"location":"julia/#pass-array-into-function","title":"pass array into function","text":"<pre><code>julia&gt; a = [1,2]\n2-element Array{Int64,1}:\n1\n2\n\njulia&gt; function f(a)\na = a .+ 1\nend\nf (generic function with 1 method)\n\njulia&gt; f(a)\n2-element Array{Int64,1}:\n2\n3\n\njulia&gt; a\n2-element Array{Int64,1}:\n1\n2\n\njulia&gt; function g(a)\na .= a .+ 1\nend\ng (generic function with 1 method)\n\njulia&gt; g(a)\n2-element Array{Int64,1}:\n2\n3\n\njulia&gt; a\n2-element Array{Int64,1}:\n2\n3\n</code></pre>"},{"location":"julia/#check-whether-array-entry-is-undef","title":"check whether array entry is undef","text":"<pre><code>b = Array{Array{Int, 1}}(undef, 3)\nisdefined(b, 1)\n# or\nisassigned(b, 1)\n# not\n# isdefined(b[1])\n</code></pre> <p>refer to Julia: check whether array entry is undef</p>"},{"location":"julia/#memory-allocation","title":"Memory Allocation","text":""},{"location":"julia/#usage-of-gcgc","title":"Usage of <code>GC.gc()</code>","text":"<p>Manually run <code>GC.gc()</code> can release the occupied memory,</p> <p>The experiments are as follows,</p> <ul> <li>open a <code>julia1.6</code> session</li> <li>run <code>tseries = zeros(1024,1024, 5, 50);</code>, it allocates 1.953GB, roughtly <code>1.953/16 = 12%</code>, while the column <code>MEM%</code> displayed by <code>htop</code> indeed show <code>11.4</code>.</li> <li>repeat to run, then <code>MEM%</code> increses to <code>21.5</code></li> <li>run <code>GC.gc()</code>, then <code>MEM%</code> decreases to <code>11.0</code></li> <li>repeat to run 2 times, then <code>MEM%</code> increases to <code>31.2</code></li> <li>run <code>GC.gc()</code>, then <code>MEM%</code> decreases to <code>11.0</code></li> <li>set <code>tseries = nothing</code>, and run <code>GC.gc()</code>, it disappears from the top line of <code>htop</code>, i.e., (nearly) zero memory.</li> </ul> <p>Refer to the following video for the whole experiments.</p> <p>Another experiments are for <code>for</code> loop,</p> <pre><code>julia&gt; for i = 1:6\ntseries = zeros(1024,1024, 5, 50);\nsleep(3)\nif i % 3 == 0\nprintln(\"gc...\")\nGC.gc(); sleep(3)\nend\nend\n</code></pre> <p>It can be observed that <code>MEM%</code> increses from ~10 to ~20, and then ~30, then decreases to ~10 after first GC.</p> <p>With monitoring the memory from <code>top</code>, we can use the following <code>memuse()</code> function to get the memory usage of the current process.</p> <pre><code>function memuse()\npid = getpid()\nreturn round(Int,parse(Int,read(`ps -p $pid -o rss=`, String))/1024)\nend\n\nprintln(\"init mem = \", memuse(), \"MB\")\nfor i = 1:6\n# tseries = zeros(1024,1024, 5, 50);\nr = R\"rnorm(1024*1024*5*50)\"\n# sleep(3)\nprintln(\"i = \", i, \", mem = \", memuse(), \"MB\")\nif i % 3 == 0\nfinalize(r)\nGC.gc(); GC.gc(); GC.gc(); GC.gc(); R\"gc()\"; R\"gc()\";\nsleep(3)\nprintln(\"after gc..., mem = \", memuse(), \"MB\")\nend\nend\n</code></pre> <pre><code>function test()\nfor i = 1:2   println(\"\\ni=$i\")\na = rand(10000,10000)\nprintln(\"Created a $(memuse())\")\na = 0\nGC.gc()\nprintln(\"Release a $(memuse())\\n\")\n\nb = rand(10000,10000)\nprintln(\"Created b $(memuse())\")\nb = 0\nGC.gc()\nprintln(\"Release b $(memuse())\\n\")\n\nc = rand(10000,10000)\nprintln(\"Created c $(memuse())\")\nc =0\nGC.gc()\nprintln(\"Release c $(memuse())\\n\")\nend\nend\n</code></pre> <p>See also:</p> <ul> <li>Running GC.gc() multiple times</li> <li>Understanding when GC.gc() frees memory and doesn\u2019t</li> </ul> <p>Note</p> <p>The most possible reason for abnormally increasing memory is due to memory leak instead of insufficient <code>gc()</code>. This part is my exploration when I encounter (possibly) memory leak with <code>ECOS</code>, but the issue disappears when I switched it to <code>Gurobi</code>. Refer to this private commit for more details.</p>"},{"location":"julia/#memory-allocation-of-undef","title":"memory allocation of <code>undef</code>","text":"<pre><code>julia&gt; @time Array{Array{Int, 1}, 2}(undef, 100, 100);\n0.000024 seconds (6 allocations: 78.359 KiB)\njulia&gt; @time zeros(100,100, 1);\n0.000014 seconds (6 allocations: 78.359 KiB)\njulia&gt; @time zeros(100,100, 10);\n0.000077 seconds (6 allocations: 781.484 KiB)\n</code></pre>"},{"location":"julia/#wrong-arrangement-of-multiple-figures-in-a-grid","title":"wrong arrangement of multiple figures in a grid","text":"<p>Hi, I am confused by the arrangement of multiple figures in a grid. I begin with the example code in the README,</p> <pre><code>gui = imshow_gui((300, 300), (2, 1))  # 2 columns, 1 row of images (each initially 300\u00d7300)\ncanvases = gui[\"canvas\"]\nimshow(canvases[1,1], testimage(\"lighthouse\"))\nimshow(canvases[1,2], testimage(\"mandrill\"))\nGtk.showall(gui[\"window\"])\n</code></pre> <p>it throws an error when accessing <code>canvases[1,2]</code></p> <pre><code>julia&gt; imshow(canvases[1,2], testimage(\"mandrill\"))\nERROR: BoundsError: attempt to access 2\u00d71 Array{Any,2} at index [1, 2]\n</code></pre> <p>and I check the size of <code>canvases</code> is</p> <pre><code>julia&gt; size(canvases)\n(2, 1)\n</code></pre> <p>it seems that the canvases will arrage by column while the gui declares it should be by rows.</p> <p>On the other hand, if I run</p> <pre><code>gui = imshow_gui((300, 300), (2, 1))  # 2 columns, 1 row of images (each initially 300\u00d7300)\ncanvases = gui[\"canvas\"]\nimshow(canvases[1,1], testimage(\"lighthouse\"))\nimshow(canvases[2,1], testimage(\"mandrill\"))\nGtk.showall(gui[\"window\"])\n</code></pre> <pre><code>gui = imshow_gui((300, 300), (1, 2))  # 2 columns, 1 row of images (each initially 300\u00d7300)\ncanvases = gui[\"canvas\"]\nimshow(canvases[1,1], testimage(\"lighthouse\"))\nimshow(canvases[1,2], testimage(\"mandrill\"))\nGtk.showall(gui[\"window\"])\n</code></pre> <p>Then I guess it might due to the version of some packages\u2026</p>"},{"location":"julia/#package","title":"\u540c\u65f6\u5b89\u88c5\u591a\u4e2a package","text":"<p>\u7528\u7a7a\u683c\u9694\u5f00\uff0c\u5982</p> <pre><code>add Distributions Combinatorics MATLAB PyPlot LightGraphsFlows LightGraphs Clp Plots\n</code></pre>"},{"location":"julia/#_2","title":"\u5185\u5730\u955c\u50cf\u6e90","text":"<p>\u5b89\u88c5 PkgMirrors\uff0c\u5219\u53ef\u4ee5\u7528\u4e2d\u79d1\u5927\u6216\u8005\u6d59\u5927\u7684\u955c\u50cf\u6e90\u4e86</p> <p>\u521d\u6b21\u8bbe\u7f6e\u540e\uff0c\u4ee5\u540e\u76f4\u63a5 <code>using PkgMirrors</code> \u4fbf\u5207\u6362\u5230\u8bbe\u7f6e\u597d\u7684\u955c\u50cf\uff0c\u4ee5\u540e\u76f4\u63a5\u901a\u8fc7\u955c\u50cf\u6e90\u5b89\u88c5\u3002</p>"},{"location":"julia/#select-text-in-the-output-pdf","title":"select text in the output pdf","text":"<p>Several weeks ago, the text, such as the label, title or legend, in the output pdf via <code>savefig(\"xxx.pdf\")</code> can be selected, but recently I found that I cannot select the text in the pdf. The reason would be the version of the packages.</p> <p>I had tried <code>GRUtils</code>, and <code>GRUtils.savefig</code> can output pdf to select the texts, so I think the reason is some changes in <code>Plots</code> package.</p> <p>And I found that with <code>Plots@0.27.0</code> in <code>Julia1.0</code>, I can select the text, but currently the newer <code>Plots@1.2.0</code> cannot produce such pdf. To determine the change, maybe I need more effort to try different versions. But now I can downgrade the version to satisfy my requirement.</p>"},{"location":"julia/#colorviews-for-images","title":"<code>colorviews</code> for images","text":"<p>check the help document by <code>?colorviews</code>, and there are some examples to illustrate its usage, but here I add some examples that I used in my projects.</p> <pre><code>julia&gt; colorview(RGB, rand(3,10,10))\n10\u00d710 reshape(reinterpret(RGB{Float64}, ::Array{Float64,3}), 10, 10) with eltype RGB{Float64}:\n</code></pre> <p>and we need to permutate the dims such that the first dim matches with RGB.</p> <pre><code>julia&gt; colorview(RGB, permutedims(rand(10, 10, 3), (3, 1, 2)))\n10\u00d710 reshape(reinterpret(RGB{Float64}, ::Array{Float64,3}), 10, 10) with eltype RGB{Float64}:\n</code></pre> <p>we also can append the alpha channel to an image, such as</p> <pre><code>julia&gt; colorview(RGBA, colorview(RGB, rand(3, 10, 10)), rand(10, 10))\n10\u00d710 mappedarray(RGBA{Float64}, ImageCore.extractchannels, reshape(reinterpret(RGB{Float64}, ::Array{Float64,3}), 10, 10), ::Array{Float64,2}) with eltype RGBA{Float64}:\n</code></pre> <p>but directly append the array does not work,</p> <pre><code>julia&gt; colorview(RGBA, rand(3, 10, 10), rand(10, 10))\nERROR: DimensionMismatch(\"arrays do not all have the same axes (got (Base.OneTo(3), Base.OneTo(10), Base.OneTo(10)) and (Base.OneTo(10), Base.OneTo(10)))\")\n</code></pre> <p>which should be replaced with</p> <pre><code>julia&gt; colorview(RGBA, rand(4, 10, 10))\n10\u00d710 reshape(reinterpret(RGBA{Float64}, ::Array{Float64,3}), 10, 10) with eltype RGBA{Float64}:\n</code></pre> <p>To use <code>RGB{N0f8}</code>, the input array should be <code>UInt8</code> not <code>Int</code>,</p> <pre><code>julia&gt; colorview(RGB{N0f8}, Array{UInt8}(fill(1,3,10,10)))\n10\u00d710 reshape(reinterpret(RGB{N0f8}, view(::Array{UInt8,3}, [1, 2, 3], :, :)), 10, 10) with eltype RGB{Normed{UInt8,8}}:\n</code></pre>"},{"location":"julia/#return-values-of-function","title":"return values of function","text":"<pre><code>julia&gt; versioninfo()\nJulia Version 1.4.0\nCommit b8e9a9ecc6 (2020-03-21 16:36 UTC)\nPlatform Info:\nOS: Linux (x86_64-pc-linux-gnu)\nCPU: Intel(R) Core(TM) i5-6300HQ CPU @ 2.30GHz\nWORD_SIZE: 64\nLIBM: libopenlibm\nLLVM: libLLVM-8.0.1 (ORCJIT, skylake)\n\njulia&gt; function f(a, b, c, d)\nreturn a, b, c, d\nend\njulia&gt; a = f(1,2,3,4);\n\njulia&gt; a\n(1, 2, 3, 4)\n\njulia&gt; a, b = f(1,2,3,4);\n\njulia&gt; a\n1\n\njulia&gt; b\n2\n\njulia&gt; a, b, c = f(1,2,3,4);\n\njulia&gt; a\n1\n\njulia&gt; b\n2\n\njulia&gt; c\n3\n</code></pre>"},{"location":"julia/#string","title":"String","text":""},{"location":"julia/#padding-zero-on-the-left","title":"padding zero on the left","text":"<p>For example, convert \u201c1\u201d to \u201c001\u201d,</p> JuliaPython <pre><code>julia&gt; lpad(1, 3, '0')\n\"001\"\n</code></pre> <pre><code>&gt;&gt;&gt; a = 1\n&gt;&gt;&gt; f\"{a:03}\"\n'001'\n</code></pre>"},{"location":"julia/#check-if-substring","title":"check if substring","text":"JuliaPython <pre><code>julia&gt; occursin(\"tech\", \"techNotes\")\ntrue\n</code></pre> <pre><code>&gt;&gt;&gt; \"tech\" in \"techNotes\"\nTrue\n</code></pre>"},{"location":"julia/#singledouble-quoting","title":"single/double quoting","text":"<pre><code>julia&gt; a = 'www'\nERROR: syntax: invalid character literal\n\njulia&gt; a = 'w'\n'w': ASCII/Unicode U+0077 (category Ll: Letter, lowercase)\n\njulia&gt; a = \"ww\"\n\"ww\"\n</code></pre> <p>refer to #105.</p>"},{"location":"julia/#run-command-line","title":"run command line","text":"<p>For example, to combine different figures,</p> <pre><code>run(`convert p1.png p2.png +append p12.png`)\n</code></pre> <p>but if there are two many figures to combine, the correct way is to keep the multiple figure name as an array,</p> <pre><code>figs = \"p\" .* string.(1:10) .* \".png\"\nrun(`convert $figs +append pall.png`)\n</code></pre> <p>instead of trying to convert the array to a string,</p> <pre><code># WRONG!!!\njulia&gt; figs = prod(\"p\" .* string.(1:10) .* \".png \")\njulia&gt; run(`convert $figs +append pall.png`)\nconvert: unable to open image 'p1.png p2.png ... p10.png '\n</code></pre> <p>or writting all command as a string</p> <pre><code># WRONG!!!\ncommand = \"convert \" * prod(\"p\" .* string.(1:10) .* \".png \") * \"+append pall.png\"\nrun(`$command`)\n</code></pre> <p>Special characters <code>#{}()[]&lt;&gt;|&amp;*?~;</code> need to be quoted,</p> <pre><code>julia&gt; run(`ls *.toml`)\nERROR: LoadError: parsing command `ls *.toml`: special characters \"#{}()[]&lt;&gt;|&amp;*?~;\" must be quoted in commands\n</code></pre> <p>the quote is not just for the special character, which will fix the filename in the above example,</p> <pre><code>julia&gt; run(`ls \"*.toml\"`)\nls: cannot access '*.toml': No such file or directory\n</code></pre> <p>but quoting is not enough, </p> <pre><code>julia&gt; run(`\"ls *.toml\"`)\nERROR: IOError: could not spawn `'ls *.toml'`: no such file or directory (ENOENT)\n</code></pre> <p>the right way is </p> <pre><code>julia&gt; run(`bash -c \"ls *.toml\"`)\nManifest.toml  Project.toml\nProcess(`bash -c 'ls *.toml'`, ProcessExited(0))\n</code></pre> <p>refer to Quoting in shell commands - General Usage - JuliaLang</p>"},{"location":"julia/#foreach","title":"foreach","text":"<pre><code>julia&gt; foreach(readdir(\".\")) do filename\nprintln(filename)\nend\n# or a more concise way\njulia&gt; foreach(println, readdir(\".\"))\n</code></pre> <p>an example</p>"},{"location":"julia/#regex","title":"Regex","text":"<pre><code>julia&gt; split(\"juliaxxxjulia\", \"julia\")\n3-element Array{SubString{String},1}:\n\"\"\n\"xxx\"\n\"\"\n\n# ^ requires `Regex`\njulia&gt; split(\"juliaaaajulia\", \"^julia\")\n1-element Array{SubString{String},1}:\n\"juliaaaajulia\"\n\n\njulia&gt; split(\"juliaxxxjulia\", Regex(\"^julia\"))\n2-element Array{SubString{String},1}:\n\"\"\n\"xxxjulia\"\n\njulia&gt; x = \"xxx\"\n\"xxx\"\n\njulia&gt; split(\"juliaxxxjulia\", Regex(\"^julia$x\"))\n2-element Array{SubString{String},1}:\n\"\"\n\"julia\"\n</code></pre> <p>adopted from <code>pattern = Regex(\"^\"*pattern)</code></p>"},{"location":"julia/#underscores","title":"Underscores","text":"<pre><code>julia&gt; function ff()\nreturn 1, 2, 3\nend\nff (generic function with 1 method)\n\njulia&gt; _, _, a = ff()\n(1, 2, 3)\n\njulia&gt; a\n3\n\njulia&gt; _\nERROR: all-underscore identifier used as rvalue\n</code></pre> <p>where the formal definition for <code>rvalue</code> refers to Value categories</p>"},{"location":"julia/dev_package/","title":"Workflow of Writing a Package","text":""},{"location":"julia/dev_package/#start-with-empty","title":"Start with Empty","text":"<pre><code>$ julia1.7\n_\n_       _ _(_)_     |  Documentation: https://docs.julialang.org\n(_)     | (_) (_)    |\n_ _   _| |_  __ _   |  Type \"?\" for help, \"]?\" for Pkg help.\n| | | | | | |/ _` |  |\n  | | |_| | | | (_| |  |  Version 1.7.0 (2021-11-30)\n _/ |\\__'_|_|_|\\__'_|  |  Official https://julialang.org/ release\n|__/                   |\n\n(@v1.7) pkg&gt; generate MonoDecomp.jl\n  Generating  project MonoDecomp:\n    MonoDecomp.jl/Project.toml\n    MonoDecomp.jl/src/MonoDecomp.jl\n\njulia&gt; \n</code></pre>"},{"location":"julia/dev_package/#starting-with-existing-folder","title":"Starting with existing folder","text":"<ol> <li>create a github repo, say <code>xfun.jl</code></li> <li>open a Julia session, and then run <code>] generate xfun.jl</code>, which will generate a subfolder <code>xfun.jl</code>, obtain the resulting <code>Project.toml</code>, and wrap the source code by module as shown in the generated code <code>src/xfun.jl</code>. </li> <li>discard the generated <code>xfun.jl</code> subfolder.</li> <li>two choices for adding dependencies for testing<ul> <li>use <code>extras</code> and <code>targets</code> </li> <li>use <code>test/Project.toml</code></li> </ul> </li> <li>register package: follow the instruction at https://github.com/JuliaRegistries/General#registering-a-package-in-general<ul> <li>use https://github.com/JuliaRegistries/Registrator.jl</li> <li>first click <code>install app</code></li> <li>via the web interface: login with GitHub account, and then fill the form.</li> </ul> </li> </ol> <ul> <li>local package can be added via the path, but note that the version is also controlled by git, that is, a uncommitted version cannot be updated.</li> </ul> <p>refer to</p> <ul> <li>Generating a package with PkgTemplate for existing code</li> <li>5. Creating Packages \u2013 Pkg.jl</li> <li>Example: StatsBase.jl</li> </ul>"},{"location":"julia/dev_package/#update-package","title":"Update package","text":"<ol> <li>update code and add related test cases</li> <li>the package is added via local path instead of github repo</li> <li>run <code>git add</code> and <code>git commit</code> to let the changes take effects</li> <li>update xfun in julia, <code>up xfun</code></li> <li>open a new julia session, and then run <code>using xfun</code>, which will load the new commits</li> <li>run the tests from command line</li> <li>if anything wrong, edit and perform a soft reset and then re-commit, <code>git reset --soft HEAD^</code></li> <li>finally, push the new commits</li> </ol>"},{"location":"julia/plot/","title":"Plot","text":""},{"location":"julia/plot/#plot-from-server","title":"Plot from server","text":"<pre><code>local $ ssh -X rocky\nrocky $ tmux ... # open a tmux session if you like\nrocky $ julia # call julia, then plot as usual\njulia&gt; using Plots\njulia&gt; plot(1:10)\n</code></pre> <p>Without <code>-X</code> option, it will throws</p> <pre><code>qt.qpa.xcb: could not connect to display qt.qpa.plugin: Could not load the Qt platform plugin \"xcb\" in \"\" even though it was found.\nThis application failed to start because no Qt platform plugin could be initialized. Reinstalling the application may fix this problem.\n\nAvailable platform plugins are: linuxfb, minimal, offscreen, vnc, xcb.\n\nconnect: Connection refused\nGKS: can't connect to GKS socket application\n\n\nsignal (11): Segmentation fault\nin expression starting at none:0\n</code></pre> <p>By the way, the same error was also thrown when just plot into a file instead of popping up, a magic trick can be tried,</p> <pre><code># https://discourse.julialang.org/t/generation-of-documentation-fails-qt-qpa-xcb-could-not-connect-to-display/60988/4\nENV[\"GKSwstype\"] = \"100\"\n</code></pre>"},{"location":"julia/plot/#math-formula","title":"Math formula","text":"<ul> <li>only formula: <code>L\"\\alpha\"</code></li> <li>consists of plain text and formula: <code>latexstring(\"Growth Curve (\\$\\\\sigma = 1.5\\$)\")</code></li> </ul>"},{"location":"julia/plot/#violin-plot","title":"Violin Plot","text":"<pre><code>using StatsPlots\nviolin(repeat([1,2,3],outer=100),randn(300), alpha = 0.5)\nviolin!(repeat([1,2,3],outer=100),randn(300), alpha = 0.5)\n</code></pre> <p>applications: proj_offset</p>"},{"location":"julia/plot/#contour","title":"\u7b49\u9ad8\u7ebf\u56fe (contour)","text":"<pre><code>using Plots\nusing Distributions\n\nx_grid = range(-2, 2, length=100)\ny_grid = range(-2, 2, length=100)\nSigma = [1 0.9; 0.9 1];\ncontour(x_grid, y_grid, (x, y)-&gt;pdf(MvNormal([0, 0], Sigma), [x, y]), cbar=false)\n</code></pre>"},{"location":"julia/plot/#3d","title":"\u7f51\u683c 3D \u56fe","text":"<p>\u8981\u6c42\u989c\u8272\u968f\u7740\u9ad8\u5ea6\u6e10\u53d8\uff0c\u8fd9\u5305\u542b\u4e24\u90e8\u5206\u7684\u6e10\u53d8\uff0c</p> <ul> <li>\u4e0d\u540c\u7eac\u5ea6\u4e0a\u7684\u6bcf\u4e00\u4e2a\u622a\u9762\u5706\u6307\u5b9a\u989c\u8272</li> <li>\u7ecf\u7ebf\u7684\u7684\u4e0d\u540c\u7ef4\u5ea6\u9700\u8981\u5206\u6bb5\u6307\u5b9a\u989c\u8272</li> </ul> <p></p> <p>\u7b2c\u4e00\u70b9\u5176\u5b9e\u5f88\u7b80\u5355\uff0c\u5f53\u751f\u6210\u597d\u4e00\u7ec4\u6e10\u53d8\u989c\u8272\u540e\uff0c\u6bd4\u5982</p> <pre><code>colors = cgrad(:summer, nz, categorical = true)\n</code></pre> <p>\u66f4\u591a\u7684\u9009\u62e9\u8be6\u89c1 Colorschemes</p> <p>\u5728\u5faa\u73af\u753b\u56fe\u65f6\uff0c\u6bcf\u6b21\u6307\u5b9a\u4e00\u79cd\u989c\u8272\u4fbf OK \u4e86\u3002</p> <p>\u7b2c\u4e8c\u70b9\u5176\u5b9e\u4e5f\u5f88\u7b80\u5355\uff0c\u5728\u753b\u4e00\u6761\u66f2\u7ebf\u65f6\uff0c\u5982\u679c linecolor \u6307\u5b9a\u4e3a\u989c\u8272\u5217\u5411\u91cf\uff0c\u6bd4\u5982 <code>[:red, :green, :orange]</code>\uff0c\u5219\u6bcf\u4e00\u6bb5\u7684\u989c\u8272\u4f1a\u5faa\u73af\u91c7\u7528\u8be5\u5217\u5411\u91cf\u4e2d\u7684\u989c\u8272\uff0c\u5219\u5f53\u5217\u5411\u91cf\u957f\u5ea6\u521a\u597d\u7b49\u4e8e\u533a\u95f4\u6bb5\u7684\u4e2a\u6570\uff0c\u5219\u6bcf\u4e00\u6bb5\u90fd\u4f1a\u4ee5\u4e0d\u540c\u7684\u989c\u8272\u7ed8\u5236\u3002\u9700\u8981\u6ce8\u610f\u5230\u662f\uff0c\u989c\u8272\u884c\u5411\u91cf\u7528\u4e8e\u753b\u591a\u6761\u66f2\u7ebf\u65f6\u4e3a\u6bcf\u4e00\u6761\u66f2\u7ebf\u6307\u5b9a\u4e0d\u540c\u7684\u989c\u8272\u3002</p> <p>\u4f46\u6700\u540e\u7b2c\u4e8c\u70b9\u6298\u817e\u4e86\u6709\u70b9\u4e45\uff0c\u76f4\u63a5\u628a <code>colors</code> \u5e26\u8fdb\u53bb\u5e76\u4e0d\u884c\uff0c\u540e\u6765\u624d\u53d1\u73b0\u5b83\u4e0d\u662f\u7b80\u5355\u7684\u989c\u8272\u5217\u5411\u91cf\uff0c\u91cc\u9762\u8fd8\u5305\u542b\u5176\u5b83\u4fe1\u606f\uff0c\u6700\u540e\u91c7\u7528 <code>colors.colors.colors</code> \u624d\u6210\u529f\u3002\u8be6\u89c1 ESL-CN/code/SOM/wiremesh.jl</p> <p>\u53e6\u5916\uff0c\u4e5f\u5c1d\u8bd5\u8fc7\u5b98\u65b9\u6587\u6863\u4f8b\u5b50\u4e2d <code>zcolor</code> \u53c2\u6570\uff0c\u4f46\u662f\u4f3c\u4e4e\u53ea\u9488\u5bf9 marker \u8d77\u4f5c\u7528\uff0c\u5f53\u7136\u662f\u8ddf <code>m =</code> \u53c2\u6570\u914d\u5408\u7684\u6548\u679c\uff0c\u7b2c\u4e00\u4e2a\u5143\u7d20\u4ee3\u8868\u5927\u5c0f\uff0c\u7b2c\u4e8c\u4e2a\u900f\u660e\u5ea6\u3002\u6240\u4ee5\u7406\u8bba\u4e0a\u628a <code>m =</code> \u6362\u6210 <code>line</code> \u6216\u8bb8\u4e5f\u80fd\u8fbe\u5230\u6548\u679c\uff0c\u4f46\u5982\u679c\u4e0d\u80fd\u76f4\u63a5\u901a\u8fc7 <code>zcolor</code> \u4f7f\u5f97\u4e0d\u540c\u9ad8\u5ea6\u7684\u989c\u8272\u4e0d\u4e00\u6837\uff08\u6211\u672c\u4ee5\u4e3a\u53ef\u4ee5\uff09\uff0c\u90a3\u5e72\u8106\u76f4\u63a5\u6307\u5b9a\u989c\u8272\u3002 </p>"},{"location":"julia/plot/#axis-off","title":"axis off","text":"<pre><code>plot(..., axis = nothing)\n</code></pre> <p>and similar grammar is</p> <pre><code>plot(..., ticks=nothing, border=nothing)\n</code></pre> <p>refer to How can I implement \u201caxis off\u201d? #428</p> <p>In practice, I adopted <code>axis = nothing, border = :none</code>.</p>"},{"location":"julia/plot/#plot-kernel-density","title":"plot kernel density","text":"<p>refer to Kernel density estimation status</p>"},{"location":"julia/plot/#pyplot","title":"PyPlot","text":"<ul> <li>grid_plot_acc_vs_rate_revisit and demo<ul> <li>multiple subplots with <code>sharex=\"all\", sharey=\"all\"</code></li> <li><code>ax0 = fig.add_subplot(111, frameon=false)</code></li> <li><code>plt.text</code></li> </ul> </li> </ul>"},{"location":"julia/plot/#multiple-labels","title":"Multiple labels","text":"<p>In Julia 1.4.0 with Plots.jl v1.0.14,</p> WrongCorrect <pre><code>using Plots\nx = rand(10, 2)\nplot(1:10, x, label = [\"a\", \"b\"])\n</code></pre> <p>will produce</p> <p></p> <p>where these two lines share the same label instead of one label for one line. </p> <p>But if replacing the column vector with row vector,</p> <pre><code>plot(1:10, x, label = [\"a\" \"b\"])\n</code></pre> <p>will return the correct result,</p> <p></p> <p>Refer to Plots (plotly) multiple series or line labels in legend, which also works <code>GR</code> backend.</p>"},{"location":"julia/plot/#suptitle-for-subplots","title":"suptitle for subplots","text":"<p>currently\uff0c no a option to set a suptitle for subplots, but we can use <code>@layout</code> to plot the title in a grid, such as szcf-weiya/TB</p> <p>refer to Super title in Plots and subplots</p>"},{"location":"julia/plot/#pgfplotsx","title":"PGFPlotsX","text":"<p>Tips:</p> <ul> <li> do not set <code>pgfplotsx()</code> in a function , otherwise it throws</li> </ul> <pre><code>ERROR: MethodError: no method matching _show(::IOStream, ::MIME{Symbol(\"application/pdf\")}, ::Plots.Plot{Plots.PGFPlotsXBackend}) </code></pre> <ul> <li> <p> rebuild <code>GR</code> if <code>ERROR: could not load library \"libGR.so\"</code>. Possible reason is that the version (such as <code>BwGt2</code>) to use has not been correctly built, although it was working well in other versions, such as <code>yMV3y</code>.</p> </li> <li> <p></p> </li> </ul> <p>when using layout with setting like <code>@layout([a{0.05w} b; _ c{0.05h}])</code></p> <pre><code>! Package pgfplots Error: Error: Plot width `15.99043pt' is too small. This can\nnot be implemented while maintaining constant size for labels. Sorry, label sizes \nare only approximate. You will need to adjust your width..\n</code></pre> <p>set a larger size, say, increasing 0.05 to 0.2.</p>"},{"location":"julia/plot/#gr-too-many-open-files","title":"GR: Too many open files","text":"<p>The complete error message is </p> <pre><code>No XVisualInfo for format QSurfaceFormat(version 2.0, options QFlags&lt;QSurfaceFormat::FormatOption&gt;(), depthBufferSize -1, redBufferSize 1, greenBufferSize 1, blueBufferSize 1, alphaBufferSize -1, stencilBufferSize -1, samples -1, swapBehavior QSurfaceFormat::SwapBehavior(SingleBuffer), swapInterval 1, profile  QSurfaceFormat::OpenGLContextProfile(NoProfile))\nFalling back to using screens root_visual.\nsocket: Too many open files\nGKS: can't connect to GKS socket application\n</code></pre> <p>see the private repo for more details. The issue has been discussed in GKS file open error: Too many open files #1723, the solution is</p> <pre><code>GR.inline(\"png\")\n</code></pre> <p>I also came across similar issue with <code>matplotlib.pyplot</code>, but it just throws a warning, and one solution is to set</p> <pre><code>plt.rcParams.update({'figure.max_open_warning': 0})\n</code></pre> <p>refer to warning about too many open figures</p>"},{"location":"julia/plot/#legend","title":"Legend","text":"<ul> <li><code>legendtitle</code></li> <li>as a subplot: <code>plot(p1, p2, p3, p4, plegend, layout = @layout([a b [c{0.6h}; [d e{0.3w}]] ]))</code> <ul> <li>example in the Cell-Video project</li> <li>shared legend for two subplots: example in the Clouds project</li> </ul> </li> <li>horizontal legend: currently (2022-06-14 17:37:45) only for PGFPlotsX backend<ul> <li>feature request for other backend, which includes my comment for usage with PGFPlotsX </li> <li>an example, motivated by </li> </ul> </li> <li>left alignment in PGFPlotsX backend: by default, it aligned to the center. <code>legend_cell_align = \"left\", extra_kwargs = :subplot</code>, but note that it seems each command should add such options.<ul> <li>examples: </li> </ul> </li> </ul>"},{"location":"julia/plot/#two-yaxis","title":"two yaxis","text":"<pre><code>plot(rand(10),\n# if necessary, set the margin since \n# I came across that part of the right label on the axis are invisible\n#margin=20Plots.mm \n)\nplot!(twinx(),100rand(10))\n</code></pre> <p>refer to julia - Multiple Axis with Plots.jl - Stack Overflow</p>"},{"location":"links/","title":"Links","text":""},{"location":"links/#homepages","title":"Homepages","text":""},{"location":"links/#academic","title":"Academic","text":"<ul> <li>Larry Wasserman\u2019s blog</li> <li>Zhou Fan @ Yale</li> <li>Ting Ye @Wisc</li> <li>Yanjun Han @ Stanford</li> <li>lifengfan</li> <li>Yixuan\u2019s Blog</li> <li>Tengyuan Liang</li> <li>Zijun Zhang, UCLA, University of California Los Angeles, Computational Biology, Bioinformatics, Splicing, Alternative Splicing, CLIP-seq, Deep Learning, Genetics, Genomics, CLAM, DARTS</li> </ul>"},{"location":"links/#life","title":"Life","text":"<ul> <li>Chiyuan Zhang &amp; his blog</li> <li>\u542c\u96e8\u4eba &amp; Zeyu Zhao</li> </ul>"},{"location":"links/#uncategorized","title":"Uncategorized","text":"<ul> <li>Chip Huyen</li> <li>\u5218\u601d\u5586@\u8d1d\u5409\u5854\u884c\u661f</li> <li>Dirk Eddelbuettel</li> <li>Jerry Qu</li> <li>\u8303\u51fd\u5b50</li> <li>Gao HR (\u9ad8\u4f1a\u7136) \u2013 GIS</li> <li>\u963f\u9053\u514b</li> <li>\u627e\u5bfb\u6700\u521d\u7684\u7f8e, by Xingyu Zhou</li> </ul>"},{"location":"links/#online-books","title":"Online Books","text":"<ul> <li>\u770b\u89c1\u7edf\u8ba1</li> </ul>"},{"location":"links/#research","title":"Research","text":"<ul> <li>Social Science Research Network (SSRN): \u201cEcon/Finance/Law\u65b9\u9762\uff0c\u6700\u5f00\u653e\uff0c\u63a5\u53d7\u5ea6\u6700\u9ad8\u7684working paper\u53d1\u5e03\u5e73\u53f0\u3002\u201d \u2013 \u6709\u54ea\u4e9b\u9ad8\u54c1\u8d28\u514d\u8d39\u5b66\u672f\u62a5\u544a\u6765\u6e90\uff1f - vivealex\u7684\u56de\u7b54 - \u77e5\u4e4e</li> </ul>"},{"location":"links/#videos","title":"Videos","text":"<ul> <li>That\u2019s Why I Chose Yale</li> </ul>"},{"location":"links/#interesting-words","title":"Interesting words","text":"<ol> <li>Mirzakhani, \u201cIt is like being lost in a jungle and trying to use all the knowledge that you can gather to come up with some new tricks, and with some luck you might find a way out.\u201d  from http://news.stanford.edu/2017/07/15/maryam-mirzakhani-stanford-mathematician-and-fields-medal-winner-dies/</li> </ol>"},{"location":"links/#useful-websites","title":"Useful Websites","text":"<ol> <li>http://downforeveryoneorjustme.com/</li> <li>http://ujjwalkarn.github.io/Machine-Learning-Tutorials/</li> <li>\u5728\u7ebf\u5904\u7406\u56fe\u7247\uff1ahttp://funny.pho.to/sketch/</li> <li>\u7b26\u53f7\u8ba1\u7b97</li> <li>\u7535\u5b50\u4e66\u4e0b\u8f7d</li> <li>RSS feeds for mathematics and statistics</li> <li>Univariate Distribution Relationships</li> <li>GPUSS - GPU Stochastic Simulation for statistical data analysis</li> <li>\u7edf\u8ba1\u672f\u8bed\u82f1\u6c49\u5bf9\u7167\u8868</li> <li>\u5fc3\u7406\u5b66\u76f8\u5173\u63a8\u8350</li> </ol> <ul> <li>An Introduction to Applied Bioinformatics</li> </ul>"},{"location":"links/#some-video","title":"Some Video","text":"<ul> <li>\u3010\u4eba\u7269 | \u9648\u4e39\u7426\u3011\u6e05\u534e\u59da\u73ed\uff0c\u65af\u5766\u798f\u535a\u58eb\u6bd5\u4e1a</li> </ul>"},{"location":"links/#informative-posts","title":"Informative Posts","text":"<ol> <li>\u957f\u671f\u66f4\u65b0-\u597d\u8bba\u6587\u89e3\u8bfb\u6536\u85cf</li> </ol>"},{"location":"links/#online-courses","title":"Online Courses","text":"<ol> <li>\u54c8\u4f5b\u5927\u5b66\u516c\u5f00\u8bfe\uff1a\u5e78\u798f\u8bfe</li> </ol>"},{"location":"links/#todo","title":"TODO","text":"<ol> <li>\u5927\u7406\u56db\u7edd\u2013\u201c\u98ce\u82b1\u96ea\u6708\u201d-\u4e0b\u5173\u98ce\uff0c\u4e0a\u5173\u82b1\uff0c\u82cd\u5c71\u96ea\uff0c\u6d31\u6d77\u6708</li> </ol>"},{"location":"links/#_1","title":"\u6709\u7528\u4f46\u5e0c\u671b\u4e0d\u4f1a\u7528\u5230\u7684\u7f51\u7ad9","text":"<ol> <li>\u4e2d\u56fd\u533b\u9662\u53ca\u4e13\u79d1\u58f0\u8a89\u6392\u884c\u699c</li> </ol>"},{"location":"links/weblinks/","title":"Weblinks","text":"<p>James Brofos @Yale: http://brofos.org/index.html; https://github.com/JamesBrofos</p> <p>Jenkin Tsui @Yale: http://www.jenkintsui.com</p> <p>Xinyi Zhong @Yale: https://traceyzhong.github.io/; https://github.com/TraceyZhong</p> <p>Yu Bai @Stanford: http://yubai.org/</p> <p>Feng Ruan @Stanford: http://web.stanford.edu/~fengruan/</p> <p>Ismael Lemhadri @Stanford: https://ilemhadri.wordpress.com; https://ismael.lemhadri.org/; https://github.com/ilemhadri</p> <p>Kenneth Tay @Stanford: http://kjytay.github.io/; https://statisticaloddsandends.wordpress.com/; https://techandpublicgood.com/</p> <p>Mona Azadkia @Stanford: http://stanford.edu/~mazadkia/</p> <p>Rina Friedberg @Stanford: https://web.stanford.edu/~rsf/; https://github.com/rinafriedberg</p> <p>Matteo Sesia @Stanford: https://web.stanford.edu/~msesia/</p> <p>Stephen Bates @Stanford: http://web.stanford.edu/~stephen6/index.html</p> <p>Nima Hamidi @Stanford: http://stanford.edu/~hamidi/</p> <p>Evan Rosenman @Stanford: http://evanrosenman.com/index.php</p> <p>Alex Chin @Stanford: https://ajchin.github.io/</p> <p>Eugene Katsevich @Stanford: http://web.stanford.edu/~ekatsevi/</p> <p>Pragya Sur @Stanford: https://web.stanford.edu/~pragya/index.html</p> <p>Jelena Markovic @Stanford: https://jelena-markovic.github.io/</p> <p>Paulo Orenstein @Stanford: http://stanford.edu/~pauloo/</p>"},{"location":"mi/","title":"\u5c0f\u7c73\u624b\u673a\u548c\u5e73\u677f\u6298\u817e\u65e5\u5fd7","text":""},{"location":"mi/#install-gapps-for-mi-pad-2","title":"install GApps for Mi Pad 2","text":"<p>solutions</p> <ol> <li>download and install Google Services Framework, pay attention to the version of android. For me, I need to download the apk whose vesion is 4.4.4, rather than the apk in the reference web page.</li> <li>download and install Google Account Manager, also need to pay attention the version</li> <li>download and install Google Play services, it is necessary to differ the CPU Architecture no matter what the version it is.</li> <li>download and install Google Play Store, you can pick the latest version and do not worry about the version or CPU Architecture.</li> </ol> <p>After you\u2019ve installed these four APK\u2019s, then go to settings -&gt; autostart -&gt; add autostart apps and \u201callow\u201d these 4 installed apps (exactly only the 2 services is also sufficient). After that restart your tablet and start Play Store and enjoy!</p>"},{"location":"mi/#root-mi-pad","title":"root Mi Pad","text":"<p>refer to http://www.miui.com/thread-3414388-1-1.html</p> <p>the info of my mi pad</p> <p></p>"},{"location":"mi/#synergy-with-android","title":"synergy with android","text":"<p>download from https://sourceforge.net/projects/synergyandroid/</p> <p>dont be scared by the cm, which is another one.</p> <p>and the destdock is too bad. cannot work.</p>"},{"location":"mi/#google-apps","title":"google apps","text":"<p>Installing Google Apps for Android 7.0 Nougat Without Root!</p> <p>Google play store stuck on \u201cChecking Info\u201d</p>"},{"location":"misc/live/","title":"\u751f\u6d3b\u7b14\u8bb0","text":""},{"location":"misc/live/#_2","title":"\u8c41\u514d\u6052\u751f\u4fe1\u7528\u5361\u903e\u671f\u8fd8\u6b3e\u7f5a\u91d1","text":"<p>\u81f4\u7535 <code>23980000</code>\uff0c\u7136\u540e\u6839\u636e\u63d0\u793a\u9009\u62e9\u8bed\u8a00 <code>2 \u666e\u901a\u8bdd</code>\uff0c\u6025\u6027\u6839\u636e\u63d0\u793a\u9009\u62e9 <code>8 \u8ddf\u4eba\u5de5\u5ba2\u670d\u5bf9\u8bdd</code>\uff0c\u518d\u9009\u62e9 <code>4 \u5176\u5b83\u670d\u52a1</code>\uff0c\u6b64\u65f6\u4f1a\u8981\u6c42\u8f93\u5165\u4fe1\u7528\u5361\u53f7\uff0c\u8f93\u5165\u5b8c\u6bd5\u540e\u9700\u8981\u8f93\u5165\u5bf9\u5e94\u7684\u7535\u8bdd\u5bc6\u7801\uff0c\u56e0\u4e3a\u6211\u6ca1\u6709\u4f7f\u7528\u8fc7\uff0c\u6240\u4ee5\u6839\u636e\u63d0\u793a\u9009\u62e9\u4e86\u65e0\u3002\u540e\u6765\u4fbf\u63a5\u901a\u4e86\u4eba\u5de5\u670d\u52a1\uff0c\u63cf\u8ff0\u5b8c\u81ea\u5df1\u7684\u670d\u52a1\uff0c\u4fbf\u4f1a\u901a\u8fc7\u63d0\u4f9b\u624b\u673a\u9a8c\u8bc1\u7801\u786e\u8ba4\u8eab\u4efd\uff0c\u7136\u540e\u7ea6\u6478\u7b49\u5f85\u4e24\u4e09\u5206\u949f\uff0c\u4fbf\u544a\u77e5\u56e0\u4e3a\u8fd8\u6b3e\u8bb0\u5f55\u826f\u597d balabala\uff0c\u903e\u671f\u6b3e\u9879\u4f1a\u88ab\u8c41\u514d\uff0c\u6ce8\u610f\u67e5\u770b\u4e0b\u671f\u8d26\u5355\u3002\u53c2\u8003 \u9072\u4ea4\u5361\u6578 \u81f4\u96fb\u9280\u884c\u6216\u53ef\u8c41\u514d\u4fe1\u7528\u5361\u7f70\u6b3e</p> <p>\u6bd4\u5982 202011 \u8d26\u5355\u4e2d\u5c55\u793a\u4e86\u5982\u4e0b\u903e\u671f\u7f5a\u91d1\u4fe1\u606f\uff0c</p> <p></p> <p>\u7533\u8bf7\u8c41\u514d\u540e\uff0c202012 \u8d26\u5355\u4e2d\u6709\u9000\u6b3e\u4fe1\u606f\uff0c</p> <p></p>"},{"location":"misc/report/","title":"\u90a3\u4e9b\u5e74\u62a2\u8fc7\u7684\u8bb2\u5ea7","text":"<p>\u521a\u521a\u62a5\u4e86\u6700\u540e\u4e00\u4e2a\u8bb2\u5ea7\uff0c\u611f\u89c9\u662f\u65f6\u5019\u5199\u70b9\u4e1c\u897f\u4e86\u3002</p>"},{"location":"misc/report/#_2","title":"\u90ae\u4ef6\u63d0\u9192","text":"<p>\u5982\u56fe</p> <p></p> <p>\u5927\u81f4\u5b9e\u73b0\u601d\u8def\u5982\u4e0b\uff1a</p> <ol> <li>\u5b9e\u65f6\u6293\u53d6\u8bb2\u5ea7\u5217\u8868</li> <li>\u82e5\u53d1\u73b0\u51fa\u73b0\u65b0\u94fe\u63a5\uff0c\u53d1\u9001\u5230\u90ae\u7bb1</li> </ol> <p>\u5f53\u7136\u4e2d\u95f4\u8e29\u4e86\u597d\u591a\u5751\uff0c\u4e0d\u5f97\u4e0d\u5410\u7cdf\u4e00\u4e0b\u6570\u9662\u7684\u7f51\u7ad9\uff0c\u91cc\u9762\u7684\u7f51\u9875\u6807\u7b7e\u8d85\u7ea7\u4e71\uff0c<code>BeautifulSoup</code> \u4e5f\u4e0d\u80fd\u6309\u7167\u6b63\u5e38\u601d\u8def\u6765\u89e3\u6790\uff0c\u7ecf\u5e38\u662f\u4eca\u5929\u8fd9\u4e2a\u683c\u5f0f ok\uff0c\u4e0d\u66fe\u60f3\u4e0b\u6b21\u7f51\u9875\u7684\u6807\u7b7e\u53c8\u53d8\u4e86\uff0c\u8bf8\u5982 <code>p</code>\uff0c<code>span</code>\uff0c<code>tr</code> \u7684\u6df7\u5408\u4f7f\u7528\u3002</p>"},{"location":"misc/report/#_3","title":"\u624b\u673a\u63d0\u9192","text":"<p>\u6bd5\u7adf\u90ae\u4ef6\u63d0\u9192\u4e5f\u4e0d\u662f\u5f88\u65b9\u4fbf\uff0c\u9042\u60f3\u76f4\u63a5\u53d1\u5230\u624b\u673a\u4e0a\u3002\u5982\u56fe</p> <p></p> <p>\u5f53\u7136\u8fd9\u90e8\u5206\u6ca1\u6709\u65b0\u7684\u7a0b\u5e8f\uff0c\u53ea\u662f\u5229\u7528\u4e86 139 \u90ae\u7bb1\u7684\u81ea\u52a8\u8f6c\u53d1\u5230\u624b\u673a\u4e0a\u7684\u529f\u80fd\u3002</p>"},{"location":"misc/report/#_4","title":"\u5fae\u4fe1\u5c0f\u7a0b\u5e8f","text":"<p>\u4e0a\u5b66\u671f\u56de\u56fd\u540e\uff0c\u60f3\u8d77\u8bb2\u5ea7\u8fd8\u6ca1\u542c\u5b8c\uff0c\u4e8e\u662f\u6253\u7b97\u7ee7\u7eed\u73a9\u73a9\u4ee5\u524d\u7684\u7a0b\u5e8f\u3002\u7136\u540e\u5f53\u65f6\u5c0f\u7a0b\u5e8f\u633a\u706b\u7684\uff0c\u5982\u56fe\uff08\u672c\u6765\u662f\u5e94\u8be5\u622a\u8fd0\u884c\u9875\u9762\u7684\uff0c\u4f46\u6211\u5df2\u7ecf\u628a\u540e\u7aef\u670d\u52a1\u5668\u7ed9\u64a4\u4e86\uff0c\u53ea\u80fd\u8fdb\u5165\u9996\u9875\u4e86\uff09</p> <p></p> <p>\u8e29\u8fc7\u5f88\u591a\u5751\uff0c\u8be6\u89c1\u5fae\u4fe1\u5c0f\u7a0b\u5e8f\u5f00\u53d1\u8bb0\u5f55\u3002\u5fc5\u987b\u5730\u5410\u7cdf\u4e00\u4e0b\uff0c\u5fae\u4fe1\u5bf9\u4e2a\u4eba\u5f00\u53d1\u8005\u633a\u4e0d\u53cb\u597d\u7684\uff0c\u5f00\u653e\u7684\u6743\u9650\u8d85\u7ea7\u6709\u9650\u3002\u5f53\u65f6\u53ea\u5b8c\u6210\u4e86\u56fe\u4e2d\u7684\u5237\u65b0\u8bb2\u5ea7\u4fe1\u606f\u7684\u529f\u80fd\uff0c\u81ea\u52a8\u62a5\u540d\u8fd8\u672a\u5b9e\u73b0\u3002\u4f46\u4ece\u90a3\u65f6\u5f00\u59cb\uff0c\u6570\u9662\u5c0f\u4f19\u4f34\u4eec\u75af\u72c2\u5728\u7fa4\u91cc\u62a2\u8bb2\u5ea7\u4e86\uff0c\u6240\u4ee5\u5237\u65b0\u8bb2\u5ea7\u4fe1\u606f\u5176\u5b9e\u633a\u9e21\u808b\u7684\uff0c\u56e0\u4e3a\u5f00\u59cb\u5728\u7fa4\u91cc\u540c\u6b65\u8bb2\u5ea7\u62a5\u540d\u94fe\u63a5\u4e86\u3002\u4f46\u6211\u65e9\u5df2\u517b\u6210\u4e86\u4e0d\u7528 Windows \u7684~\u597d~\u4e60\u60ef\uff0c\u6240\u4ee5\u4e5f\u4e0d\u518d\u53d7 QQ \u7684\u837c\u6bd2\u3002</p>"},{"location":"misc/report/#_5","title":"\u81ea\u52a8\u62a5\u540d","text":"<p>\u4f46\u5230\u4e86\u4e09\u6708\u4efd\uff0c\u53d1\u73b0\u81ea\u5df1\u8bb2\u5ea7\u6ca1\u542c\u5b8c\uff08\u4e3b\u8981\u662f\u4e0a\u5b66\u671f\u4e0d\u5728\u5b66\u6821\uff09\uff0c\u6240\u4ee5\u89c9\u5f97\u8fd8\u662f\u5f97\u7ee7\u7eed\u6298\u817e\u3002</p> <p>\u6e90\u7801</p> <p>\u8fd9\u4e2a\u9636\u6bb5\u4ee5\u524d\u7684\u90e8\u5206\u6e90\u7801\u653e\u5728\u4e86Github: szcf-weiya/ReportInfo\u3002\u81ea\u52a8\u62a5\u540d\u90e8\u5206\u7684\u6e90\u7801\u8fd8\u5728\u672c\u5730\u3002</p> <p>\u6bd4\u8f83\u6210\u529f\u7684\u7248\u672c\u5982\u4e0b\uff1a</p> <p></p> <p>\u90a3\u4e2a\u6709 <code>registered!!</code> \u8868\u793a\u5df2\u7ecf\u5e2e\u4f60\u81ea\u52a8\u62a5\u540d\u4e86\u3002</p> <p>\u4f46\u968f\u7740\u8bb2\u5ea7\u53d1\u5e03\u4eba\u4e0d\u65ad\u66f4\u6539\u8868\u5355\u7c7b\u578b\uff0c\u4e5f\u7ecf\u5e38\u51fa\u73b0\u65e0\u6cd5\u8bfb\u53d6\u6570\u636e\uff0c\u63d0\u4ea4\u5931\u8d25\u7b49 bug\u3002\u6bd4\u5982\u5176\u4e2d\u7684\u8868\u5355\u7c7b\u578b\u4e0d\u65ad\u53d8\u5316\uff0c\u4ece\u201c23\u201d\u53d8\u5230\u201c6\u201d\uff0c\u4ece\u201c8\u201d\u53d8\u5230\u201c6\u201d\u7b49\u7b49\uff1b\u53e6\u5916\u8fd8\u6709\u524d\u51e0\u5929\u52a0\u5165\u7684\u5b9a\u65f6\u53d1\u5e03\u8868\u5355\u529f\u80fd\uff0c\u4e5f\u4e0d\u5f97\u4e0d\u8ba9\u6211\u5927\u6539\u7a0b\u5e8f\u3002</p>"},{"location":"misc/report/#qq","title":"QQ \u7fa4","text":"<p>\u73b0\u5728\u5f88\u5c11\u7528 Windows \u4e86\uff0c\u624b\u673a\u4e5f\u4e0d\u4f1a\u53bb\u67e5\u770b QQ \u6d88\u606f\uff0c\u6240\u4ee5\u9519\u8fc7\u4e86\u4e00\u4e9b\u8bb2\u5ea7\u6269\u5bb9\u3002\u4eca\u5929\u7528\u4e86\u4e00\u4e0b Windows\uff0c\u771f\u662f\u65e0\u5fc3\u63d2\u67f3\uff0c\u6628\u5929\u7684\u4e00\u4e2a\u8bb2\u5ea7\u6269\u5bb9\u4e86\uff08\u6628\u5929\u56e0\u4e3a\u8868\u5355\u5f62\u5f0f\u53c8\u53d1\u751f\u4e86\u53d8\u6362\uff0c\u6ca1\u6709\u81ea\u52a8\u62a5\u540d\uff09\uff0c\u800c\u521a\u597d\u90a3\u6bb5\u65f6\u95f4\u7fa4\u91cc\u6ca1\u5565\u4eba\uff0c\u5c31\u62a5\u4e0a\u4e86\u3002</p> <p></p> <p>\u5c31\u8fd9\u6837\u62a5\u4e0a\u4e86\u6700\u540e\u4e00\u573a\u8bb2\u5ea7\u3002</p>"},{"location":"misc/report/#_6","title":"\u540e\u7eed","text":""},{"location":"misc/report/#_7","title":"\u5927\u5bb6\u592a\u75af\u72c2\u4e86","text":""},{"location":"misc/terms/","title":"\u540d\u8bcd\u89e3\u91ca","text":""},{"location":"misc/terms/#_2","title":"\u9ad8\u79d1\u6280","text":"<ul> <li>L4 \u81ea\u52a8\u9a7e\u9a76\uff1a\u81ea\u52a8\u9a7e\u9a76\u6280\u672f\u6709 6 \u4e2a\u5c42\u7ea7\uff0cL0 \u81f3 L5\uff0c\u5176\u4e2d L0 \u65e0\u4efb\u4f55\u81ea\u52a8\u5316\u80fd\u529b\uff0c\u800c L5 \u4e3a\u5728\u6240\u6709\u6761\u4ef6\u4e0b\u90fd\u80fd\u5b8c\u6210\u6240\u6709\u9a7e\u9a76\u4efb\u52a1\u3002\u76ee\u524d\u7814\u7a76\u6700\u5e7f\u6cdb\u7684\u662f L4\uff0c\u201c\u81ea\u52a8\u7cfb\u7edf\u5728\u67d0\u4e9b\u73af\u5883\u548c\u7279\u5b9a\u6761\u4ef6\u4e0b\uff0c\u80fd\u591f\u5b8c\u6210\u9a7e\u9a76\u4efb\u52a1\u5e76\u76d1\u63a7\u9a7e\u9a76\u73af\u5883\uff0c\u8fd9\u4e2a\u9636\u6bb5\u4e0b\uff0c\u5728\u81ea\u52a8\u9a7e\u9a76\u53ef\u4ee5\u8fd0\u884c\u7684\u8303\u56f4\u5185\uff0c\u9a7e\u9a76\u76f8\u5173\u7684\u6240\u6709\u4efb\u52a1\u548c\u9a7e\u4e58\u4eba\u5df2\u7ecf\u6ca1\u5173\u7cfb\u4e86\u3002\u4f46\u4f3c\u4e4e\u9a7e\u9a76\u8231\u8fd8\u662f\u5fc5\u4e0d\u53ef\u5c11\u7684\uff0c\u4e0d\u80fd\u5b8c\u5168\u53d6\u6d88\u6389\u8ba4\u4e3a\u63a7\u5236\u7684\u64cd\u4f5c\u90e8\u4ef6\u3002\u201d Refer to L4\u81ea\u52a8\u9a7e\u9a76\u6280\u672f - \u5434\u5efa\u660ewujianming\u7684\u6587\u7ae0 - \u77e5\u4e4e</li> </ul>"},{"location":"misc/wx/","title":"\u5fae\u4fe1\u5c0f\u7a0b\u5e8f\u5f00\u53d1\u8bb0\u5f55","text":"<p>\u6ce8\u610f\u540e\u53f0\u670d\u52a1\u5668\u7684\u57df\u540d\u9700\u8981\u5907\u6848\u5e76\u4e14\u9700\u8981\u8d2d\u4e70\u8bc1\u4e66\u5b9e\u73b0 https\uff0c\u77ed\u671f\u4e0d\u884c\u3002\u5e78\u8fd0\u7684\u662f\uff0chotapp\u63d0\u4f9b\u4e86\u66ff\u4ee3\u65b9\u6848\u3002\uff08\u5b9e\u9645\u4e0a\u4e0d\u884c\uff09</p>"},{"location":"misc/wx/#_2","title":"\u53c2\u8003\u7f51\u5740","text":"<ol> <li>\u5b98\u65b9\u6587\u6863</li> <li>HotApp \u6700\u540e\u5e76\u6ca1\u6709\u7528\u5230 HotApp</li> <li>Ubuntu 16.04 \u4e0b\u90e8\u7f72Node.js+MySQL\u5fae\u4fe1\u5c0f\u7a0b\u5e8f\u5546\u57ce</li> <li>enable https</li> </ol>"},{"location":"misc/wx/#nginx","title":"\u914d\u7f6enginx","text":"<p>\u5f88\u7b80\u5355\uff0c\u53ea\u9700\u8981 <pre><code>sudo apt-get install nginx\n</code></pre></p> <p>\u63a5\u7740\u5728\u6d4f\u89c8\u5668\u4e2d\u8f93\u5165\u7f51\u5740\uff0c\u4fbf\u53ef\u4ee5\u770b\u5230Welcome\u754c\u9762\u3002</p> <p>\u53c2\u8003  1. \u57fa\u4e8e\u963f\u91cc\u4e91\u642d\u5efa\u5fae\u4fe1\u5c0f\u7a0b\u5e8f\u670d\u52a1\u5668(HTTPS) 2. \u5728\u963f\u91cc\u4e91 ECS \u642d\u5efa nginx https nodejs \u73af\u5883 (\u4e00\u3001 nginx)</p>"},{"location":"misc/wx/#nginx-web","title":"\u4fee\u6539Nginx web\u670d\u52a1\u5668\u6839\u76ee\u5f55","text":"<p>\u53c2\u8003 Nginx\u7f51\u7ad9\u6839\u76ee\u5f55\u66f4\u6539\u53ca\u5bfc\u81f4403 forbidden\u7684\u95ee\u9898\u89e3\u51b3_nginx</p>"},{"location":"misc/wx/#nodejs","title":"\u5b89\u88c5nodejs","text":"<p>\u53c2\u8003 \u90e8\u7f72Node.js\u9879\u76eeCentOS</p> <p>\u6d4b\u8bd5\uff1a</p> <ol> <li>\u53ef\u4ee5\u5728\u4efb\u610f\u4f4d\u7f6e\u7f16\u5199 example.js\uff0c\u6ce8\u610f\u7aef\u53e3\u53f7\u4e0d\u80fd\u4ecd\u7528 80\u3002</li> <li>\u4e0d\u8981\u5bf9\u9759\u6001\u7f51\u9875\u8fdb\u884c post\uff0cpost \u7684\u65f6\u5019\u52a0\u4e0a\u76f8\u5bf9\u5e94\u7684\u7aef\u53e3\u3002</li> </ol>"},{"location":"misc/wx/#nodejs-python","title":"nodejs \u8c03\u7528 python \u811a\u672c","text":"<p>nodejs \u6536\u53d1\u6570\u636e</p>"},{"location":"misc/wx/#_3","title":"\u817e\u8baf\u4e91\u6298\u817e","text":"<ol> <li><code>python main.py 80</code> \u62a5\u9519\uff0c\u539f\u56e0\u5e94\u8be5\u662f\u666e\u901a\u7528\u6237\u4e0d\u884c\uff0c\u9700\u8981\u52a0\u4e0a <code>sudo</code>\uff0c\u800c <code>8080</code> \u53e3\u666e\u901a\u7528\u6237\u53ef\u76f4\u63a5\u8bbf\u95ee\u3002\u53c2\u8003 \u817e\u8baf\u4e91\u8bbf\u95ee\u4e0d\u4e8680\u7aef\u53e3\uff0c\u4e0e8080\u95ee\u9898</li> </ol>"},{"location":"misc/wx/#443-3000","title":"443 \u7aef\u53e3\u8f6c\u53d1\u52303000\u7aef\u53e3","text":"<p>node.js - How to run nodejs server over 443 ensuring nginx doesnt stop working - Stack Overflow</p> <p>\u540c\u6837\u7684\u65b9\u6cd5\u5bf9\u4e8e 80 \u7aef\u53e3\u4f3c\u4e4e\u4e0d\u7ba1\u7528\uff0c\u53ef\u80fd\u539f\u56e0</p> <ol> <li>\u4e4b\u524d\u64cd\u4f5c\u8fc7\u4e00\u6b21 iptables\uff0c\u53c2\u89c1 Binding a Node.js App to Port 80 with Nginx\u3002</li> <li>\u5176\u4ed6\u539f\u56e0</li> </ol> <p>\u53e6\u5916\u6ce8\u610f\u7528 https \u7684\u65f6\u5019\uff0c\u4e0d\u8981\u76f4\u63a5\u5199 IP\uff0c\u4e0d\u7136 python \u4f1a\u62a5\u9519</p> <pre><code>SSLError: hostname '112.74.43.59' doesn't match 'seminar.hohoweiya.xyz'\n</code></pre>"},{"location":"misc/wxjssdk/","title":"\u5fae\u4fe1\u81ea\u5b9a\u4e49\u5206\u4eab\u94fe\u63a5\u7684\u5185\u5bb9\uff08\u8bbe\u7f6e\u56fe\u7247\uff09","text":"<p>\u6298\u817e\u5386\u7a0b 2018.3.13-2018.3.14</p>"},{"location":"misc/wxjssdk/#php","title":"\u540e\u7aef\u4e3a php","text":"<p>\u670d\u52a1\u5668\u540e\u7aef\u901a\u8fc7 php \u83b7\u53d6 access_token, ticket, \u5e76\u8ba1\u7b97\u7b7e\u540d\uff0c\u7136\u540e\u7f51\u9875\u901a\u8fc7 ajax \u8bbf\u95ee\u83b7\u53d6 wx.config \u7684\u4fe1\u606f\uff0c\u7ecf\u6d4b\u8bd5\u80fd\u591f\u5927\u81f4\u5b9e\u73b0\uff0c\u4f46\u662f\u5f53\u5728\u53c8\u62cd\u4e91\u4e2d\u7533\u8bf7\u5b8c https \u8bc1\u4e66\uff0c\u901a\u8fc7 https \u8bbf\u95ee\u670d\u52a1\u5668\uff0c\u603b\u662f\u62a5\u51fa\u5982\u4e0b\u7684\u9519\u8bef\u4fe1\u606f</p> <pre><code>{\"msg\":\"connection refused\",\"code\":\"50302004\",\"id\":\"6ace947be627cf38ecd5065e36f9f25f\"}\n</code></pre> <p>\u8fd9\u6837\u4e0d\u80fd\u7528 https \u7684\u8bdd\uff0c\u5728\u535a\u5ba2\u9875\u9762\u4e0a\u8bbf\u95ee http \u7684\u8d44\u6e90\u4e0d\u591f\u6e05\u771f\u3002</p>"},{"location":"misc/wxjssdk/#flask","title":"\u540e\u7aef\u4e3a flask","text":"<p>\u4e00\u5f00\u59cb\u5176\u5b9e\u662f\u51c6\u5907\u7528 flask\uff0c\u4f46\u8003\u8651\u5230\u7aef\u53e3\u8f6c\u53d1\u6ca1\u5f04\uff0c\u540e\u6765\u624d\u53d1\u73b0\u7aef\u53e3\u8f6c\u53d1\u5176\u5b9e\u5f88\u7b80\u5355\uff0cphp \u672c\u8eab\u4e0d\u4e5f\u662f\u7aef\u53e3\u8f6c\u53d1\u4e48\uff1f\u7528 python \u8fd8\u662f\u6bd4\u8f83\u6e05\u771f\u7684\u3002\u4f46\u4f3c\u4e4e https \u4ecd\u5b58\u5728\u95ee\u9898\uff0c\u6211\u73b0\u5728\u6000\u7591\u5f88\u53ef\u80fd\u662f\u5f53\u65f6\u6709\u6b21\u914d\u7f6e\u9519\u4e86\uff0c\u5bfc\u81f4\u6301\u7eed\u53cd\u5e94\u4e0d\u8fc7\u6765\uff0c\u56e0\u4e3a\u5076\u5c14\u662f\u6b63\u5e38\u7684\u3002\u641e\u5b9a\u4e86\u57fa\u672c\u4ee3\u7801</p>"},{"location":"misc/wxjssdk/#_2","title":"\u963f\u91cc\u4e91\u7684\u514d\u8d39\u8bc1\u4e66\u597d\u96be\u627e","text":"<p>\u867d\u7136\u4e4b\u524d\u770b\u5230\u6709\u8bf4\u963f\u91cc\u4e91\u7684\u514d\u8d39\u8bc1\u4e66\uff0c\u4f46\u4e00\u76f4\u5728\u8bc1\u4e66\u9875\u9762\u6ca1\u6709\u663e\u793a\u514d\u8d39\u7684\u9009\u9879\uff0c\u7d22\u6027\u4f5c\u7f62\uff0c\u8fd9\u8fd8\u662f\u6211\u8f6c\u800c\u9009\u62e9\u53c8\u62cd\u4e91\u7684\u4e00\u4e2a\u56e0\u7d20\u3002\u4f46\u4eca\u5929\u5947\u8ff9\u5730\u53d1\u73b0\u514d\u8d39\u8bc1\u4e66\u9009\u9879\u4e00\u76f4\u5728\u90a3\u91cc\uff0c\u9700\u8981\u591a\u70b9\u51e0\u4e0b\uff0c\u624d\u80fd\u5207\u6362\u5904\u7406\u3002\u6211\u7684\u5929\u54ea\uff01\u8fd9\u6837\u7684\u8bdd\uff0c\u6211\u76f4\u63a5\u4e3a\u670d\u52a1\u5668\u7533\u8bf7 CA \u8bc1\u4e66\uff0c\u4e0d\u9700\u8981\u901a\u8fc7 CDN \u4e2d\u8f6c\uff0c\u633a\u987a\u5229\u7684\uff01</p>"},{"location":"misc/wxjssdk/#_3","title":"\u6210\u529f\u4e86\u5417","text":"<p>\u73b0\u5728\u597d\u50cf\u4ec0\u4e48\u90fd\u51c6\u5907\u597d\u4e86\uff0c\u7136\u800c\u7528 web \u5fae\u4fe1\u8c03\u8bd5\u5de5\u5177\uff0c\u5206\u4eab\u65f6\u4e00\u76f4\u5728\u62a5 error\uff0c\u4f46\u662f\u63d0\u793a\u4fe1\u606f\u786e\u5b9e\u5206\u4eab\u6210\u529f\uff0c\u91cd\u590d\u8bd5\u9a8c\u597d\u591a\u6b21\uff0c\u90fd\u662f\u8fd9\u4e2a\u7ed3\u679c\uff0c\u90fd\u8981\u5d29\u6e83\u4e86\u3002\u7d22\u6027\u4e0d\u5f04\u4e86\uff0c\u53bb\u8ddf\u5ba4\u53cb\u6253\u7fbd\u6bdb\u7403\u4e86\u3002</p>"},{"location":"misc/wxjssdk/#_4","title":"\u4e00\u573a\u7a7a","text":"<p>\u6d17\u5b8c\u6fa1\u53d1\u73b0\uff0c\u539f\u6765\u6211\u538b\u6839\u5c31\u6ca1\u6709\u5206\u4eab\u7684\u6743\u9650\uff0c\u5728\u516c\u4f17\u53f7\u7684\u5f00\u53d1\u6743\u9650\u90a3\u513f\u67e5\u770b\u3002\u54ce\uff0c\u8fd9\u5c31\u662f\u547d\u554a\uff01</p> <p>\uff08\u5b8c\uff09</p>"},{"location":"misc/wxjssdk/#_5","title":"\u53c2\u8003\u94fe\u63a5","text":"<ol> <li>\u624b\u628a\u624b\u5e26\u4f60\u4f7f\u7528JS-SDK\u81ea\u5b9a\u4e49\u5fae\u4fe1\u5206\u4eab\u6548\u679c - \u5f52\u96f6back - \u535a\u5ba2\u56ed</li> <li>\u5fae\u4fe1JS SDK\u63a5\u5165\u7684\u51e0\u70b9\u6ce8\u610f\u4e8b\u9879 - \u96c6\u541b - \u535a\u5ba2\u56ed</li> <li>Nginx \u5b9e\u73b0\u7aef\u53e3\u8f6c\u53d1 - \u661f\u6cb3\u8d75 - \u535a\u5ba2\u56ed</li> </ol>"},{"location":"phantomjs/","title":"Phantomjs","text":""},{"location":"phantomjs/#phantomjs","title":"phantomjs","text":"<p>\u53c2\u8003\u94fe\u63a5</p> <ol> <li>PhantomJS Issue writing to file fs. Can\u2019t find variable: fs</li> <li>write</li> </ol>"},{"location":"phantomjs/#while","title":"while","text":"<p>\u53c2\u8003 Phantomjs while iteration incrementation </p>"},{"location":"python/","title":"Python Notes","text":""},{"location":"python/#base","title":"Base","text":""},{"location":"python/#xrange-vs-range","title":"xrange vs range","text":"<p>\u57fa\u672c\u90fd\u5728\u5faa\u73af\u65f6\u4f7f\u7528\uff0c\u8f93\u51fa\u7ed3\u679c\u4e5f\u662f\u4e00\u6837\u7684\uff0c\u4f46\u7565\u6709\u5dee\u5f02</p> <ul> <li>range \u76f4\u63a5\u751f\u6210\u4e00\u4e2a list \u5bf9\u8c61</li> <li>xrange \u8fd4\u56de\u4e00\u4e2a\u751f\u6210\u5668\u3002\u6027\u80fd\u4f1a\u6bd4 range \u597d\uff0c\u7279\u522b\u662f\u5f88\u5927\u7684\u65f6\u5019\u3002</li> </ul> <p>\u53c2\u8003Python\u4e2drange\u548cxrange\u7684\u533a\u522b</p>"},{"location":"python/#-m","title":"<code>-m</code>","text":"<p><code>python -m</code> lets you run modules as scripts, and it reflects the motto\u2013\u201cbatteries included\u201d. Here are some powerful features/functions, such as creating a simple http server</p> python 3python 2 <pre><code>python3 -m http.server 80\n</code></pre> <pre><code>python -m SimpleHTTPServer 80\n</code></pre>"},{"location":"python/#-u","title":"<code>-u</code>","text":"<p>For the following scripts,</p> <pre><code>import time\n\n\ndef slow_function():\n    for i in range(100):\n        time.sleep(1)\n        print(f\"iter {i}: para = ...\")\n\n\nslow_function()\n</code></pre> <p>The output file for</p> <pre><code>python main.py &gt; output.txt &amp;\n</code></pre> <p>is only created after the program finished. For a real-time version, add <code>-u</code> option, i.e.,</p> <pre><code>python -u main.py &gt; output.txt &amp;\n</code></pre> <p>refer to </p> <p>Python: significance of -u option?</p> <p>It seems related to <code>sys.stdout.flush()</code>.</p> <p>A data buffer is a region of physical memory storage used to temporarily store data while it is being moved from one place to another. The data is stored in a buffer as it is retrieved from an input device or just before it is sent to an output device or when moving data between processes within a computer. Python\u2019s standard out is buffered. This means that it collects some data before it is written to standard out and when the buffer gets filled, then it is written on the terminal or any other output stream.</p> <p>https://www.geeksforgeeks.org/python-sys-stdout-flush/</p> new line every seconda line after alla line every second <pre><code>import sys\nimport time\n\nfor i in range(3):\n    print(i)\n    time.sleep(i)\n</code></pre> <pre><code>import sys\nimport time\n\nfor i in range(3):\n    print(i, end=' ')\n    time.sleep(i)\n</code></pre> <pre><code>import sys\nimport time\n\nfor i in range(3):\n    print(i, end=' ')\n    sys.stdout.flush()\n\n    ## equivalent to\n    #print(i, end=' ', flush=True)\n\n    time.sleep(i)\n</code></pre>"},{"location":"python/#with-statement","title":"with statement","text":"<p>\u53c2\u8003</p> <ul> <li>Python with\u8bed\u53e5</li> <li>with statement in Python</li> </ul> <p>\u7b80\u8a00\u4e4b\uff0c\u201c\u4f7f\u7528with\u540e\u4e0d\u7ba1with\u4e2d\u7684\u4ee3\u7801\u51fa\u73b0\u4ec0\u4e48\u9519\u8bef\uff0c\u90fd\u4f1a\u8fdb\u884c\u5bf9\u5f53\u524d\u5bf9\u8c61\u8fdb\u884c\u6e05\u7406\u5de5\u4f5c\u3002\u201d</p> <p>\u8fd9\u4e5f\u5c31\u662f\u4e3a\u4ec0\u4e48\u5728\u7528 MySQLdb \u7684\u65f6\u5019\uff0c\u79f0\u201cWith the with keyword, the Python interpreter automatically releases the resources. It also provides error handling.\u201d \u8be6\u89c1MySQL Python tutorial - programming MySQL in Python</p> <p>\u53e6\u5916\uff0c\u73b0\u5728\u7ecf\u5e38\u5728\u795e\u7ecf\u7f51\u7edc\u4e2d\u78b0\u5230\uff0c\u5982</p> <pre><code>import tensorflow as tf\nx = tf.Variable(3.0)\nwith tf.GradientTape() as tape:\n    y = x**2    \ndy_dx = tape.gradient(y, x)\n</code></pre>"},{"location":"python/#usage-of-yield","title":"usage of <code>yield</code>","text":"<p>We should use yield when we want to iterate over a sequence, but don\u2019t want to store the entire sequence in memory.</p> <p>More details refer to When to use yield instead of return in Python?</p> <p>An example gave in Squaring all elements in a list</p> <pre><code>&gt;&gt;&gt; def square(list):\n...     for i in list:\n...             yield i ** 2\n... \n&gt;&gt;&gt; square([1,2])\n&lt;generator object square at 0x7f343963dca8&gt;\n&gt;&gt;&gt; for i in square([1,2]):\n...     print(i)\n... \n1\n4\n</code></pre> <p>along with other methods to square a list,</p> <pre><code>&gt;&gt;&gt; list = [1, 2]\n&gt;&gt;&gt; [i**2 for i in list]\n[1, 4]\n&gt;&gt;&gt; map(lambda x: x**2, list)\n&lt;map object at 0x7f3439642f60&gt;\n&gt;&gt;&gt; for i in map(lambda x: x**2, list):\n...     print(i)\n... \n1\n4\n&gt;&gt;&gt; ret = []\n&gt;&gt;&gt; for i in list:\n...     ret.append(i**2)\n... \n&gt;&gt;&gt; ret\n[1, 4]\n</code></pre>"},{"location":"python/#class","title":"Class","text":""},{"location":"python/#vs-class-classname-vs-class-classnameobject","title":"\u65b0\u5f0f\u7c7b vs \u7ecf\u5178\u7c7b (<code>class ClassName</code> vs <code>class ClassName(object)</code>)","text":"<ul> <li>python 2.x \u4e2d\uff0c\u9ed8\u8ba4\u4e3a\u7ecf\u5178\u7c7b\uff0c\u53ea\u6709\u5f53\u5199\u6210 <code>class A(object)</code> \u624d\u6210\u4e3a\u65b0\u5f0f\u7c7b</li> <li>python 3.x \u4e2d\uff0c\u9ed8\u8ba4\u4e3a\u65b0\u5f0f\u7c7b</li> </ul> <p>\u8be6\u89c1 python\u65b0\u5f0f\u7c7b\u548c\u7ecf\u5178\u7c7b\u7684\u533a\u522b\uff1f</p> <ol> <li>In python 2.x, when you inherit from \u201cobject\u201d you class is a \u201cnew style\u201d class; the non inheriting from \u201cobject\u201d case creates an \u201cold style\u201d class.</li> <li>In python 3.x, all classes are new style - no need to set the metaclass.</li> </ol> <p>refer to class ClassName versus class ClassName(object)</p>"},{"location":"python/#__getitem__-and-__setitem__","title":"<code>__getitem__</code> and <code>__setitem__</code>","text":"<p>I came across the usage of <code>__getitem__</code> here, which seems powerful, and not only accept</p> <pre><code>T[x, y]\n</code></pre> <p>also supports</p> <pre><code>T[[x, y]]\n</code></pre> <p>in my code, where <code>T</code> is an instance of a class and <code>[x, y]</code> is the coordinate. The <code>[]</code> is enabled due to the <code>__getitem__</code> method.</p> <pre><code>class TildCoder():\n    def __init(...):\n        ...\n\n    def __getitem__(self, x):\n        ...\n</code></pre> <p>Then I found more detailed explanation for the usage.</p> <p>The <code>[]</code> syntax for getting item by key or index is just syntax sugar. When you evaluate <code>a[i]</code>, Python calls <code>a.__getitem__(i)</code> or <code>type(a).__getitem__(a, i)</code>.</p>"},{"location":"python/#staticmethod-vs-classmethod","title":"@staticmethod vs @classmethod","text":"<p>\u53c2\u8003</p> <ol> <li> <p>Difference between @staticmethod and @classmethod in Python</p> </li> <li> <p>The definitive guide on how to use static, class or abstract methods in Python</p> </li> </ol>"},{"location":"python/#cli-options","title":"CLI Options","text":""},{"location":"python/#sysargv","title":"<code>sys.argv</code>","text":"<p>The arguments are stored in the array <code>sys.argv</code>, where the first element is the script name itself.</p> <pre><code>import sys\nfrom glob import glob\n\nif __name__ == '__main__':\n    print(sys.argv)\n</code></pre> <p>With quote, the character <code>*</code> would expanding before passing into the argument.</p> <pre><code>$ python star_arg.py ../*.png\n['star_arg.py', '../error_jupyter_1.png', '../error_jupyter.png', '../err_theano.png', '../ipython.png', '../spyder-qtconsole.png']\n$ python star_arg.py \"../*.png\"\n['star_arg.py', '../*.png']\n</code></pre> <p>If we want to wrap it with a bash function,</p> <pre><code>$ star_arg() { python star_arg.py $1 ; }\n</code></pre> <p>The quote for the pattern containing <code>*</code> is also necessary, otherwise it first expands and just passes the first matched filename due to <code>$1</code>,</p> <pre><code>$ star_arg ../*.png\n['star_arg.py', '../error_jupyter_1.png']\n$ star_arg \"../*.png\"\n['star_arg.py', '../error_jupyter_1.png', '../error_jupyter.png', '../err_theano.png', '../ipython.png', '../spyder-qtconsole.png']\n</code></pre> <p>But note that the above bash function does not wrap <code>$1</code>. With quote, the original string can be passed into python script</p> <pre><code>$ star_arg2() { python star_arg.py \"$1\" ; }\n$ star_arg2 \"../*.png\"\n['star_arg.py', '../*.png']\n$ star_arg2 ../*.png\n['star_arg.py', '../error_jupyter_1.png']\n</code></pre>"},{"location":"python/#argparse","title":"<code>argparse</code>","text":"<p>Documentation: argparse \u2014 Parser for command-line options, arguments and sub-commands</p> <p>An example: jieba/main.py</p>"},{"location":"python/#click","title":"<code>click</code>","text":"<p>Info</p> <p>More related code can be found in My Code Results on GitHub</p> <p>It enables to use command line arguments. For example, </p> <pre><code>import click # DO NOT NAME THE FILE AS THE SAME NAME\n\n@click.command()\n@click.option(\"--a\", default = 1)\n@click.option(\"--b\", is_flag = True, default = False)\n@click.option(\"--c\", default = 2, type = float)\ndef main(a, b, c):\n    print(f\"a = {a}, b = {b}, c = {c}\")\n\nif __name__ == '__main__':\n    main()\n</code></pre> <pre><code>$ python3 ex_click.py --a 1 --b\na = 1, b = True\n$ python3 ex_click.py --a 1\na = 1, b = False\n$ python3 ex_click.py --a 2\na = 2, b = False\n</code></pre> <p>Warning</p> <p>The script filename cannot be the same as the module name, <code>click.py</code>. Otherwise, it throws, <pre><code>$ python3 click.py --a 1 --b\nTraceback (most recent call last):\nFile \"click.py\", line 1, in &lt;module&gt;\n    import click\nFile \"/media/weiya/Seagate/GitHub/techNotes/docs/python/ex/click.py\", line 3, in &lt;module&gt;\n    @click.command()\nAttributeError: module 'click' has no attribute 'command'\n</code></pre></p> <p>float value</p> <p>With  <pre><code>@click.option(\"--c\", default = 2)\n</code></pre> it throws <pre><code>$ python ex_click.py --a 1 --b --c 2.0\nUsage: ex_click.py [OPTIONS]\nTry 'ex_click.py --help' for help.\n\nError: Invalid value for '--c': 2.0 is not a valid integer\n</code></pre></p> <p><code>type = float</code> needs to be specified.</p>"},{"location":"python/#fileio","title":"FileIO","text":""},{"location":"python/#read-two-files-simultaneously","title":"read two files simultaneously","text":"<pre><code>with open(\"file1.txt\") as f1, open(\"file2.txt) as f2:\n    for l1, l2 in zip(f1, f2):\n        l1.strip() # rm `\\n`\n        l2.strip()\n</code></pre> <p>refer to Reading two text files line by line simultaneously - Stack Overflow</p> <p>Info</p> <p>A practical example</p>"},{"location":"python/#non-ascii","title":"\u5199\u5165 non-ascii \u5b57\u7b26","text":"<pre><code>f = open(\"filename\", \"w\")\nwrite_str = u'''\nsome non ascii symbols\n'''\nf.write(write.str)\n</code></pre> <p>\u4f1a\u62a5\u9519</p> <pre><code>'ascii' codec can't encode character\n</code></pre> <p>\u53c2\u8003 Python: write a list with non-ASCII characters to a text file \u91c7\u7528 <code>codecs.open(, \"w\", encoding=\"utf-8\")</code> \u53ef\u4ee5\u89e3\u51b3\u9700\u6c42\u3002</p>"},{"location":"python/#url-string-to-normal-string","title":"URL string to normal string","text":"<p>\u53c2\u8003transform-url-string-into-normal-string-in-python-20-to-space-etc</p> <ol> <li>python2</li> </ol> <pre><code>import urllib2\nprint urllib2.unquote(\"%CE%B1%CE%BB%20\")\n</code></pre> <ol> <li>python3</li> </ol> <pre><code>from urllib.parse import unquote\nprint(unquote(\"%CE%B1%CE%BB%20\"))\n</code></pre>"},{"location":"python/#u5","title":"<code>&lt;U5</code>","text":"<p>I met this term in How to convert numpy object array into str/unicode array?</p> <p>I am confused about the official english documentation</p> <p>A Chinese answer solves my question,</p> <ul> <li><code>&lt;</code> \u8868\u793a\u5b57\u8282\u987a\u5e8f\uff0c\u5c0f\u7aef\uff08\u6700\u5c0f\u6709\u6548\u5b57\u8282\u5b58\u50a8\u5728\u6700\u5c0f\u5730\u5740\u4e2d\uff09</li> <li><code>U</code> \u8868\u793aUnicode\uff0c\u6570\u636e\u7c7b\u578b</li> <li><code>5</code> \u8868\u793a\u5143\u7d20\u4f4d\u957f\uff0c\u6570\u636e\u5927\u5c0f</li> </ul>"},{"location":"python/#uu-rr-b-in-string","title":"<code>u/U</code>, <code>r/R</code>, <code>b</code> in string","text":"<ul> <li> <p>u/U: \u8868\u793aunicode\u5b57\u7b26\u4e32\u3002\u4e0d\u662f\u4ec5\u4ec5\u662f\u9488\u5bf9\u4e2d\u6587, \u53ef\u4ee5\u9488\u5bf9\u4efb\u4f55\u7684\u5b57\u7b26\u4e32\uff0c\u4ee3\u8868\u662f\u5bf9\u5b57\u7b26\u4e32\u8fdb\u884cunicode\u7f16\u7801\u3002\u4e00\u822c\u82f1\u6587\u5b57\u7b26\u5728\u4f7f\u7528\u5404\u79cd\u7f16\u7801\u4e0b, \u57fa\u672c\u90fd\u53ef\u4ee5\u6b63\u5e38\u89e3\u6790, \u6240\u4ee5\u4e00\u822c\u4e0d\u5e26u\uff1b\u4f46\u662f\u4e2d\u6587, \u5fc5\u987b\u8868\u660e\u6240\u9700\u7f16\u7801, \u5426\u5219\u4e00\u65e6\u7f16\u7801\u8f6c\u6362\u5c31\u4f1a\u51fa\u73b0\u4e71\u7801\u3002\u5efa\u8bae\u6240\u6709\u7f16\u7801\u65b9\u5f0f\u91c7\u7528utf8</p> </li> <li> <p>r/R: \u975e\u8f6c\u4e49\u7684\u539f\u59cb\u5b57\u7b26\u4e32\uff0c\u5e38\u7528\u4e8e\u6b63\u5219\u8868\u8fbe\u5f0f re \u4e2d\u3002</p> </li> <li> <p>b:bytes:</p> <ul> <li>python3.x\u91cc\u9ed8\u8ba4\u7684str\u662f(py2.x\u91cc\u7684)unicode, bytes\u662f(py2.x)\u7684str, b\u201d\u201c\u524d\u7f00\u4ee3\u8868\u7684\u5c31\u662fbytes</li> <li>python2.x\u91cc, b\u524d\u7f00\u6ca1\u4ec0\u4e48\u5177\u4f53\u610f\u4e49\uff0c \u53ea\u662f\u4e3a\u4e86\u517c\u5bb9python3.x\u7684\u8fd9\u79cd\u5199\u6cd5</li> </ul> </li> </ul> <p>\u53e6\u5916</p> <ul> <li><code>str</code> -&gt; <code>bytes</code>: encode</li> <li><code>bytes</code> -&gt; <code>str</code>: decode </li> </ul> <pre><code># python 3.6: str \u4e3a Unicode\n&gt;&gt;&gt; \"\u4e2d\u6587\".encode(\"utf8\")\nb'\\xe4\\xb8\\xad\\xe6\\x96\\x87'\n&gt;&gt;&gt; \"\u4e2d\u6587\".encode(\"utf8\").decode(\"utf8\")\n'\u4e2d\u6587'\n\n# python 2.7\uff1a str \u4e3a bytes\n&gt;&gt;&gt; \"\u4e2d\u6587\"\n'\\xe4\\xb8\\xad\\xe6\\x96\\x87'\n&gt;&gt;&gt; \"\u4e2d\u6587\".decode(\"utf8\")\nu'\\u4e2d\\u6587'\n&gt;&gt;&gt; print(\"\u4e2d\u6587\".decode(\"utf8\"))\n\u4e2d\u6587\n</code></pre> <p>\u53c2\u8003:</p> <ul> <li>python\u5b57\u7b26\u4e32\u524d\u9762\u52a0u,r,b\u7684\u542b\u4e49</li> <li>\u6d45\u6790Python3\u4e2d\u7684bytes\u548cstr\u7c7b\u578b - Chown-Jane-Y - \u535a\u5ba2\u56ed</li> <li>convert-bytes-to-a-string</li> </ul>"},{"location":"python/#function","title":"Function","text":""},{"location":"python/#args-and-args","title":"<code>*args</code> and <code>**args</code>","text":"<ul> <li><code>*args</code>: pass a non-keyword and variable-length argument list to a function.</li> <li><code>**args</code>: pass a keyworded, variable-length argument list, actually <code>dict</code></li> </ul> <p>refer to <code>*args</code> and <code>**kwargs</code> in Python, and Asterisks in Python: what they are and how to use them</p> <p>One example,</p> <pre><code>    def feature_size(self):\n        return self.conv3(self.conv2(self.conv1(torch.zeros(1, *self.input_shape)))).view(1, -1).size(1)\n</code></pre> <p>where <code>*self.input_shape</code> aims to unpacking something like <code>[3, 4, 5]</code> to <code>3, 4, 5</code>.</p>"},{"location":"python/#annotations","title":"annotations","text":"<p>When I am writing the custom loss function in XGBoost, there are some new syntax in the example function,</p> <pre><code>def squared_log(predt: np.ndarray,\n                dtrain: xgb.DMatrix) -&gt; Tuple[np.ndarray, np.ndarray]:\n</code></pre> <p>what is the meaning of <code>:</code> and <code>-&gt;</code>. Then I found that they are functional annotations.</p> <p>By itself, Python does not attach any particular meaning or significance to annotations. </p> <p>The only way that annotations take on meaning is when they are interpreted by third-party libraries. </p>"},{"location":"python/#no-tuple-here","title":"No <code>Tuple</code> here","text":"<p>Actually, seems no need to add <code>Tuple</code> before <code>[np.ndarray, np.ndarray]</code>, which will throws an error </p> <p>NameError: name \u2018Tuple\u2019 is not defined</p> <p>Ohhh, to avoid such problem, </p> <pre><code>from typing import Tuple, Dict, List\n</code></pre> <p>refer to custom_rmsle.py#L16</p>"},{"location":"python/#ipython","title":"IPython","text":""},{"location":"python/#built-in-magic-commands","title":"Built-in magic commands","text":"<p>Refer to  for more details.</p> <ul> <li><code>%matplotlib inline</code> enables the inline backend for usage with the IPython notebook.</li> <li><code>!ls</code> simply calls system\u2019s <code>ls</code>, but <code>!!ls</code> also returns the result formatted as a list, which is equivalent to <code>%sx ls</code>.</li> <li><code>%sx</code>: shell execute, run shell command and capture output, and <code>!!</code> is short-hand.</li> </ul>"},{"location":"python/#remote-ipython-kernel","title":"remote ipython kernel","text":"<p>\u4e00\u76f4\u60f3\u73a9 jupyter \u7684\u8fdc\u7a0b ipython kernel \u8fde\u63a5\uff0c\u8fd9\u6837\u53ef\u4ee5\u51cf\u8f7b\u672c\u673a\u7684\u538b\u529b\u3002</p> <p>\u8fd9\u4e24\u7bc7\u4ecb\u7ecd\u5f97\u5f88\u8be6\u7ec6\uff0c\u4f46\u662f\u6700\u540e\u8bbe\u7f6e ssh \u90a3\u4e00\u6b65\u603b\u662f\u62a5\u9519\uff0c\u603b\u662f\u8bf4\u65e0\u6cd5\u8fde\u63a5\u3002</p> <ul> <li>Connecting Spyder IDE to a remote IPython kernel</li> <li>How to connect your Spyder IDE to an external ipython kernel with SSH PuTTY tunnel</li> </ul> <p>\u56e0\u4e3a\u6211\u662f\u76f4\u63a5\u628a <code>id_rsa.pub</code> \u6587\u4ef6\u5f53\u4f5c <code>.pem</code> \u6587\u4ef6\uff0c\u4f46\u5982\u679c\u6211\u6362\u6210\u5bc6\u7801\u767b\u5f55\u540e\u5c31\u6210\u529f\u4e86\u3002</p> <p>\u800c\u5982\u679c\u76f4\u63a5\u547d\u4ee4\u884c\u64cd\u4f5c\uff0c\u5219\u5c31\u50cf\u6b63\u5e38 ssh \u4e00\u6837\uff0c\u4e5f\u4f1a\u6210\u529f\u3002</p> <p>\u6240\u4ee5\u4e2d\u95f4\u7684\u5dee\u5f02\u5e94\u8be5\u5c31\u662f <code>.pem</code> \u4e0e <code>id_rsa.pub</code> \u4e0d\u7b49\u540c\u3002\u5177\u4f53\u6bd4\u8f83\u8be6\u89c1 what is the difference between various keys in public key encryption</p>"},{"location":"python/#json","title":"JSON","text":""},{"location":"python/#convert-string-to-json","title":"convert string to json","text":"<pre><code>payload='{'name': weiya}'\n# payload='payload = {'name': weiya}'\n</code></pre> <p>\u6362\u6210json</p> <pre><code>json.loads(payload)\n</code></pre> <p>Warning</p> <p>\u6ce8\u610f\u4e0d\u80fd\u91c7\u7528\u6ce8\u91ca\u6389\u7684\u90e8\u5206\u3002</p>"},{"location":"python/#jsondumps-jsondump","title":"json.dumps() \u548c json.dump() \u7684\u533a\u522b","text":"<p>\u7b80\u8a00\u4e4b\uff0c<code>dumps()</code>\u548c<code>loads()</code>\u90fd\u662f\u9488\u5bf9\u5b57\u7b26\u4e32\u800c\u8a00\u7684\uff0c\u800c<code>dump()</code>\u548c<code>load()</code>\u662f\u9488\u5bf9\u6587\u4ef6\u800c\u8a00\u7684\u3002\u5177\u4f53\u7ec6\u8282\u53c2\u89c1python json.dumps()  json.dump()\u7684\u533a\u522b - wswang - \u535a\u5ba2\u56ed</p>"},{"location":"python/#flask-jsonify-jsondumps","title":"flask \u4e2d jsonify \u548c json.dumps \u7684\u533a\u522b","text":"<p>\u53c2\u8003\u5728flask\u4e2d\u4f7f\u7528jsonify\u548cjson.dumps\u7684\u533a\u522b</p> <p>\u53e6\u5916 flask \u7684\u5165\u95e8\u6587\u6863\u89c1</p> <p>\u5feb\u901f\u5165\u95e8 \u2014 Flask 0.10.1 \u6587\u6863</p>"},{"location":"python/#jupyter","title":"Jupyter","text":""},{"location":"python/#github","title":"GitHub \u8bed\u8a00\u6bd4\u4f8b\u8fc7\u5206\u503e\u659c","text":"<p>LInguist is reporting my project as a Jupyter Notebook</p>"},{"location":"python/#jupyter-notebook","title":"jupyter notebook \u51fa\u9519","text":"<p>\u53ef\u4ee5\u901a\u8fc7 <pre><code>rm -r .pki\n</code></pre> \u89e3\u51b3</p>"},{"location":"python/#jupyter-notebook_1","title":"\u521b\u5efa jupyter notebook \u6743\u9650\u95ee\u9898","text":"<p>\u539f\u56e0\u662f\u6240\u7ed9\u7684\u8def\u5f84\u7684\u7528\u6237\u6743\u9650\u4e0d\u4e00\u81f4\uff0cjupyter\u7684\u7528\u6237\u53ca\u7528\u6237\u7ec4\u5747\u4e3aroot\uff0c\u4e3a\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u76f4\u63a5\u66f4\u6539\u7528\u6237\u6743\u9650</p> <p><pre><code>sudo chown weiya jupyter/ -R\nsudo chgrp weiya jupyter/ -R\n</code></pre> \u5176\u4e2d-R\u8868\u793a\u9012\u5f52\u8c03\u7528\uff0c\u4f7f\u5f97\u6587\u4ef6\u5939\u4e2d\u6240\u6709\u5185\u5bb9\u7684\u7528\u6237\u6743\u9650\u90fd\u8fdb\u884c\u66f4\u6539\u3002</p>"},{"location":"python/#nbconvert-failed-validate-got-an-unexpected-keyword-argument-relax_add_props","title":"<code>nbconvert failed: validate() got an unexpected keyword argument 'relax_add_props'</code>","text":"<p>refer to nbconvert failed: validate() got an unexpected keyword argument \u2018relax_add_props\u2019 #2901</p> <p>\u5176\u5b9e\u6211\u7684\u7248\u672c\u662f\u4e00\u81f4\u7684\uff0c\u4f46\u53ef\u80fd\u7531\u4e8e\u6211\u8fdb\u5165 Jupyter notebook \u65b9\u5f0f\u4e0d\u4e00\u6837\u3002</p> <ul> <li>\u4e00\u5f00\u59cb\uff0c\u76f4\u63a5\u4ecebase \u8fdb\u5165\uff0c\u7136\u540e\u9009\u62e9 snakes \u7684 kernel\uff0c\u5bfc\u51fa\u5931\u8d25\uff0c\u9519\u8bef\u539f\u56e0\u5982\u4e0a</li> <li>\u76f4\u63a5\u5728 snakes \u8fdb\u5165 Jupyter notebook\uff0c\u8fd9\u6837\u53ef\u4ee5\u6210\u529f\u5bfc\u51fa</li> </ul>"},{"location":"python/#different-kernels","title":"different kernels","text":""},{"location":"python/#python","title":"Python","text":"<p>\u5176\u5b9e\u4e0d\u7528\u5bf9\u6bcf\u4e2a environment \u5b89\u88c5\u5355\u72ec\u7684 jupyter\uff0c\u53ea\u8981\u5b89\u88c5 <code>ipykernel</code> \u5c31\u597d\uff0c\u8fd9\u6837\u90fd\u80fd\u4ece base environment \u4e2d\u901a\u8fc7 jupyter \u6765\u9009\u62e9\u4e0d\u540c kernel\uff0c\u8be6\u89c1 Kernels for different environments</p> <pre><code>$ conda activate myenv\n$ conda install ipykernel\n$ python -m ipykernel install --user --name myenv --display-name \"Python (myenv)\"\n</code></pre>"},{"location":"python/#julia","title":"Julia","text":"<p>\u6253\u5f00\u7279\u5b9a\u7248\u672c\u7684 Julia\uff0c</p> <pre><code>&gt; add IJulia\n</code></pre>"},{"location":"python/#r","title":"R","text":"<pre><code>install.packages('IRkernel')\n#IRkernel::installspec()\nIRkernel::installspec(name=\"3.6.0\", displayname = \"R 3.6.0\")\n</code></pre> <p>\u53e6\u89c1 using R in JupyterLab</p>"},{"location":"python/#management","title":"management","text":"<p>\u5217\u51fa\u6240\u6709\u5b89\u88c5\u7684 kernel\uff0c</p> <pre><code>$ jupyter kernelspec list\nAvailable kernels:\n  3.6.0        /home/project09/.local/share/jupyter/kernels/3.6.0\n  ir           /home/project09/.local/share/jupyter/kernels/ir\n  julia-1.1    /home/project09/.local/share/jupyter/kernels/julia-1.1\n  julia-1.4    /home/project09/.local/share/jupyter/kernels/julia-1.4\n  mu-lux-cz    /home/project09/.local/share/jupyter/kernels/mu-lux-cz\n  sam          /home/project09/.local/share/jupyter/kernels/sam\n  python3      /home/project09/miniconda3/share/jupyter/kernels/python3\n</code></pre> <p>\u4f46\u662f\u6ca1\u6709\u663e\u793a\u51fa display name\uff0c\u5176\u5b9a\u4e49\u5728\u6587\u4ef6\u5939\u4e0b\u7684 <code>kernel.json</code> \u6587\u4ef6\u4e2d\uff08refer to How to Change Jupyter Notebook Kernel Display Name\uff09</p> <pre><code>$ jupyter kernelspec list | sed -n '2,$p' | awk '{print $2}' | xargs -I {} grep display {}/kernel.json\n  \"display_name\": \"R 3.6.0\",\n  \"display_name\": \"R\",\n  \"display_name\": \"Julia 1.1.1\",\n  \"display_name\": \"Julia 1.4.2\",\n \"display_name\": \"py37\",\n \"display_name\": \"py37 (sam)\",\n \"display_name\": \"Python 3\",\n</code></pre> <p>\u4e3a\u4e86\u6253\u5370\u51fa\u5bf9\u5e94\u7684 env \u540d\uff0c</p> <pre><code>$ paste &lt;(jupyter kernelspec list | sed -n '2,$p') &lt;(jupyter kernelspec list | sed -n '2,$p' | awk '{print $2}' | xargs -I {} grep display {}/kernel.json)\n3.6.0        /home/project09/.local/share/jupyter/kernels/3.6.0     \"display_name\": \"R 3.6.0\",\n  ir           /home/project09/.local/share/jupyter/kernels/ir    \"display_name\": \"R\",\n  julia-1.1    /home/project09/.local/share/jupyter/kernels/julia-1.1     \"display_name\": \"Julia 1.1.1\",\n  julia-1.4    /home/project09/.local/share/jupyter/kernels/julia-1.4     \"display_name\": \"Julia 1.4.2\",\n  mu-lux-cz    /home/project09/.local/share/jupyter/kernels/mu-lux-cz    \"display_name\": \"py37\",\n  sam          /home/project09/.local/share/jupyter/kernels/sam  \"display_name\": \"py37 (sam)\",\n  python3      /home/project09/miniconda3/share/jupyter/kernels/python3  \"display_name\": \"Python 3\",\n</code></pre> <p>Question</p> <p>\u6b64\u5904\u5f88\u4e0d\u4f18\u96c5\u5730\u91cd\u65b0\u590d\u5236\u4e86\u4e00\u4e0b <code>jupyter kernelspec list | sed -n '2,$p'</code>\uff0c\u5728 pipeline \u4e2d\u662f\u5426\u6709\u66f4\u76f4\u63a5\u7684\u65b9\u6cd5\uff1f</p>"},{"location":"python/#list","title":"List","text":""},{"location":"python/#find-index-of-an-item","title":"find index of an item","text":"<pre><code>&gt;&gt;&gt; [1, 1].index(1)\n0\n&gt;&gt;&gt; [i for i, e in enumerate([1, 2, 1]) if e == 1]\n[0, 2]\n&gt;&gt;&gt; g = (i for i, e in enumerate([1, 2, 1]) if e == 1)\n&gt;&gt;&gt; next(g)\n0\n&gt;&gt;&gt; next(g)\n2\n</code></pre> <p>refer to Finding the index of an item given a list containing it in Python</p>"},{"location":"python/#index-a-list-with-another-list","title":"index a list with another list","text":"<pre><code>L = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h']\nIdx = [0, 3, 7]\nT = [L[i] for i in Idx]\n</code></pre> <p>refer to In Python, how do I index a list with another list?</p>"},{"location":"python/#getting-indices-of-true","title":"getting indices of true","text":"<pre><code>&gt;&gt;&gt; t = [False, False, False, False, True, True, False, True, False, False, False, False, False, False, False, False]\n&gt;&gt;&gt; [i for i, x in enumerate(t) if x]\n[4, 5, 7]\n</code></pre> <p>refer to Getting indices of True values in a boolean list</p>"},{"location":"python/#remove-by-index","title":"remove by index","text":"<p><code>del</code></p> <p>refer to How to remove an element from a list by index?</p>"},{"location":"python/#typeerror-unhashable-type-list","title":"<code>TypeError: unhashable type: 'list'</code>","text":""},{"location":"python/#convert-a-nested-list-to-a-list","title":"convert a nested list to a list","text":"<pre><code>Python 3.6.9 (default, Apr 18 2020, 01:56:04) \n[GCC 8.4.0] on linux\n&gt;&gt;&gt; set([1,2,3,4,[5,6,7],8,9])\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nTypeError: unhashable type: 'list'\n&gt;&gt;&gt; set([1,2,3,4,(5,6,7),8,9])\n{1, 2, 3, 4, (5, 6, 7), 8, 9}\n</code></pre>"},{"location":"python/#hash-a-nested-list","title":"hash a nested list","text":"<pre><code>&gt;&gt;&gt; hash([1, 2, 3, [4, 5,], 6, 7])\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nTypeError: unhashable type: 'list'\n&gt;&gt;&gt; hash(tuple([1, 2, 3, [4, 5,], 6, 7]))\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nTypeError: unhashable type: 'list'\n&gt;&gt;&gt; hash(tuple([1, 2, 3, tuple([4, 5,]), 6, 7]))\n-7943504827826258506\n&gt;&gt;&gt; hash([1, 2, 3, tuple([4, 5,]), 6, 7])\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nTypeError: unhashable type: 'list'\n</code></pre> <p>refer to Python: TypeError: unhashable type: \u2018list\u2019</p>"},{"location":"python/#convert-list-of-lists-to-list","title":"convert list of lists to list","text":"<pre><code>&gt;&gt;&gt; a = [[1, 2], [3, 4]]\n&gt;&gt;&gt; [y for x in a for y in x]\n[1, 2, 3, 4]\n</code></pre> <p>refer to How to make a flat list out of a list of lists?</p>"},{"location":"python/#matplotlibpyplot","title":"matplotlib.pyplot","text":"<ul> <li><code>plt.show()</code> is necessary when plotting in the REPL.</li> </ul>"},{"location":"python/#seaborn","title":"seaborn","text":"<p>Homepage: seaborn: statistical data visualization</p> <p>Seaborn\u7684\u5e95\u5c42\u662f\u57fa\u4e8eMatplotlib\u7684\uff0c\u4ed6\u4eec\u7684\u5dee\u5f02\u6709\u70b9\u50cf\u5728\u70b9\u9910\u65f6\u9009\u5957\u9910\u8fd8\u662f\u81ea\u5df1\u70b9\u7684\u533a\u522b\uff0cMatplotlib\u662f\u72ec\u7acb\u70b9\u83dc\uff0c\u53ef\u80fd\u8d39\u65f6\u8d39\u5fc3\uff08\u5c24\u5176\u662f\u5bf9\u6211\u8fd9\u79cd\u9009\u62e9\u56f0\u96be\u75c7\u60a3\u8005\u2026\uff09\u4f46\u6700\u540e\u4e0a\u684c\u7684\u83dc\u5168\u662f\u7279\u522b\u9002\u5408\u81ea\u5df1\u7684\uff1b\u800cSeaborn\u662f\u70b9\u5957\u9910\uff0c\u7279\u522b\u7b80\u5355\uff0c\u4e00\u5207\u90fd\u662f\u914d\u597d\u7684\uff0c\u867d\u7136\u7701\u65f6\u7701\u5fc3\uff0c\u4f46\u53ef\u80fd\u5957\u9910\u91cc\u603b\u6709\u4e9b\u83dc\u662f\u4e0d\u90a3\u4e48\u5408\u81ea\u5df1\u53e3\u5473\u7684\u3002</p> <p> Jack Sun @ \u77e5\u4e4e</p>"},{"location":"python/#order-of-xy","title":"order of xy","text":"<p><code>imshow</code> \u4e2d\u7684 origin and extent</p> <p>Generally, for an array of shape (M, N), the first index runs along the vertical, the second index runs along the horizontal. The pixel centers are at integer positions ranging from 0 to N\u2019 = N - 1 horizontally and from 0 to M\u2019 = M - 1 vertically. <code>origin</code> determines how to the data is filled in the bounding box.</p> <p>an illustrative example,</p> <pre><code>import matplotlib.pyplot as plt\nimport matplotlib.cbook as cbook\n\nimgf = cbook.get_sample_data(\"ada.png\")\nimg = plt.imread(imgf)\nfig, ((ax1, ax2), (ax3, ax4)) = plt.subplots(2,2)\nax1.imshow(img, origin = \"upper\")\nax2.imshow(img, origin = \"lower\")\n# img.shape (803, 512, 4), then transpose \n# he first two axes from (0, 1, 2) to (1, 0, 2)\nax3.imshow(img.transpose(1, 0, 2), origin=\"upper\")\nax4.imshow(img.transpose(1, 0, 2), origin=\"lower\")\n</code></pre> <p></p> <p>which is adapted from matplotlib: coordinates convention of image imshow incompatible with plot</p>"},{"location":"python/#subplots","title":"subplots \u7684\u95f4\u8ddd","text":"<p><code>plt.tight_layout()</code> \u53ef\u4ee5\u8c03\u8282\u95f4\u8ddd\uff0c\u5982\u679c\u6709\u5fc5\u8981\uff0c\u53ef\u4ee5\u5e26\u4e0a\u53c2\u6570\uff0c\u6bd4\u5982\uff0cB spline in R, C++ and Python</p> <pre><code>plt.tight_layout(pad = 3.0)\n</code></pre>"},{"location":"python/#equal-axis-aspect-ratio","title":"equal axis aspect ratio","text":"<p>According to the official documentation,</p> <pre><code>fig, ax = plt.subplots(1, 3)\nax[0].plot(3*np.cos(an), 3*np.sin(an))\nax[1].plot(3*np.cos(an), 3*np.sin(an))\nax[1].axis(\"equal\")\nax[2].plot(3*np.cos(an), 3*np.sin(an))\nax[2].set_aspect(\"equal\", \"box\")\n</code></pre> <p></p> <p>we prefer to the last one. If we want to directly call <code>plt</code> instead of <code>fig, ax</code>, then</p> <pre><code>plt.plot(3*np.cos(an), 3*np.sin(an))\nplt.gca().set_aspect(\"equal\", \"box\")\n</code></pre> <p>note the middle <code>gca()</code>.</p>"},{"location":"python/#scatter-size","title":"scatter size","text":"<p>the size is defined by the area, pyplot scatter plot marker size</p>"},{"location":"python/#interactive-mode","title":"interactive mode","text":"<ul> <li>How to pause a for loop and waiting for user input matplotlib</li> <li>Event handling and picking</li> </ul> <p>Info</p> <p>Related projects: - pause for stopping and resuming to plot - plot every X seconds</p>"},{"location":"python/#math-symbols","title":"math symbols","text":"<pre><code>plt.xlabel(r\"\\lambda\")\n</code></pre> <p>refer to Writing mathematical expressions</p>"},{"location":"python/#show-matplotlib-plots-in-ubuntu-windows-subsystem-for-linux","title":"Show matplotlib plots in Ubuntu (Windows subsystem for Linux)","text":"<p>\u53c2\u8003 Show matplotlib plots in Ubuntu (Windows subsystem for Linux)</p>"},{"location":"python/#numpy","title":"NumPy","text":""},{"location":"python/#r-1-vs-r","title":"<code>(R, 1)</code> vs <code>(R, )</code>","text":"<p>The best way to think about NumPy arrays is that they consist of two parts, a data buffer which is just a block of raw elements, and a view which describes how to interpret the data buffer. </p> <pre><code>&gt;&gt;&gt; np.shape(np.ones((3, 1)))\n(3, 1)\n&gt;&gt;&gt; np.shape(np.ones((3, )))\n(3,)\n&gt;&gt;&gt; np.shape(np.ones((3)))\n(3,)\n&gt;&gt;&gt; np.shape(np.ones(3))\n(3,)\n&gt;&gt;&gt; np.shape(np.ones(3, 1)) # ERROR!\n</code></pre>"},{"location":"python/#array-operation","title":"array operation","text":"<pre><code>&gt;&gt;&gt; a = np.sum([[0, 1.0], [0, 5.0]], axis=1)\n&gt;&gt;&gt; c = np.sum([[0, 1.0], [0, 5.0]], axis=1, keepdims=True)\n&gt;&gt;&gt; a/c\narray([[ 1. ,  5. ],\n       [ 0.2,  1. ]])\n&gt;&gt;&gt; a\narray([ 1.,  5.])\n&gt;&gt;&gt; c\narray([[ 1.],\n       [ 5.]])\n&gt;&gt;&gt; d\narray([[ 1,  5],\n      [ 0, 10]])\n&gt;&gt;&gt; d/c\narray([[ 1.,  5.],\n      [ 0.,  2.]])\n&gt;&gt;&gt; d/a\narray([[ 1.,  1.],\n      [ 0.,  2.]])\n</code></pre>"},{"location":"python/#arrays-with-different-size","title":"arrays with different size","text":"<ul> <li>nested list</li> </ul> <pre><code>[[1,2,3],[1,2]]\n</code></pre> <ul> <li>numpy</li> </ul> <pre><code>numpy.array([[0,1,2,3], [2,3,4]], dtype=object)\n</code></pre> <p>refer to How to make a multidimension numpy array with a varying row size?</p>"},{"location":"python/#npnewaxis","title":"<code>np.newaxis</code>","text":"<p>add new dimensions to a numpy array .</p> <pre><code>&gt;&gt;&gt; a = np.ones((2, 3))\n&gt;&gt;&gt; np.shape(a[:, :, None])\n(2, 3, 1)\n&gt;&gt;&gt; np.shape(a[:, :, np.newaxis])\n(2, 3, 1)\n</code></pre>"},{"location":"python/#array-of-falsetrue","title":"array of FALSE/TRUE","text":"<pre><code>np.zeros(10, dtype = bool)\n</code></pre>"},{"location":"python/#array-of-array","title":"Array of Array","text":"<pre><code>In [29]: a\nOut[29]: \narray([[ 83.,  11.],\n       [316.,  19.],\n       [372.,  35.]])\n\nIn [30]: np.hstack([a, a])\nOut[30]: \narray([[ 83.,  11.,  83.,  11.],\n       [316.,  19., 316.,  19.],\n       [372.,  35., 372.,  35.]])\n\nIn [31]: b = np.array([a, a])\n\nIn [32]: b[1]\nOut[32]: \narray([[ 83.,  11.],\n       [316.,  19.],\n       [372.,  35.]])\n</code></pre>"},{"location":"python/#print-numpy-objects-without-line-breaks","title":"print numpy objects without line breaks","text":"<pre><code>import numpy as np\nx_str = np.array_repr(x).replace('\\n', '')\nprint(x_str)\n</code></pre> <p>refer to How to print numpy objects without line breaks</p>"},{"location":"python/#merge-multiple-slices","title":"merge multiple slices","text":"<pre><code>x = np.empty((15, 2))\nx[np.r_[0:5, 10:15],:]\n</code></pre> <p>refer to Numpy: An efficient way to merge multiple slices</p> <p>but it does not allow the iterator to construct the list,</p> <pre><code>In: [i:i+3 for i in 1:3]\n  File \"&lt;ipython-input-247-8e21d57e8f2d&gt;\", line 1\n    [i:i+3 for i in 1:3]\n      ^\nSyntaxError: invalid syntax\n\nIn: np.r_[i:i+3 for i in 1:3]\n  File \"&lt;ipython-input-246-02f2b1ded12b&gt;\", line 1\n    np.r_[i:i+3 for i in 1:3]\n                ^\nSyntaxError: invalid syntax\n</code></pre> <p>As a comparison, Julia seems more flexible,</p> <pre><code>julia&gt; vcat([i:i+3 for i in 1:3]...)'\n1\u00d712 adjoint(::Vector{Int64}) with eltype Int64:\n1  2  3  4  2  3  4  5  3  4  5  6\n</code></pre>"},{"location":"python/#_1","title":"<code>/=</code>","text":"<p>According to the builtin manual, <code>help('/=')</code>,</p> <p>An augmented assignment expression like \u201cx += 1\u201d can be rewritten as \u201cx = x + 1\u201d to achieve a similar, but not exactly equal effect. In the augmented version, \u201cx\u201d is only evaluated once. Also, when possible, the actual operation is performed in-place, meaning that rather than creating a new object and assigning that to the target, the old object is modified instead.</p> <p>So it would be cautious when using it on arrays,</p> <pre><code>&gt;&gt;&gt; a = np.array([[1, 2, 3], [4, 5, 6]])\n&gt;&gt;&gt; a1 = a[0, ]\n&gt;&gt;&gt; a1 /= 0.5\n&gt;&gt;&gt; a1\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n&lt;ipython-input-106-71f04990b2bb&gt; in &lt;module&gt;\n      1 a = np.array([[1, 2, 3], [4, 5, 6]])\n      2 a1 = a[0, ]\n----&gt; 3 a1 /= 0.5\n      4 a1\n\nTypeError: ufunc 'true_divide' output (typecode 'd') could not be coerced to provided output parameter (typecode 'l') according to the casting rule ''same_kind''\n</code></pre> <p>The above error is due to incompatible type, so it can be avoided by specifying the element type of the array, but the original array also has been updated,</p> <pre><code>&gt;&gt;&gt; a = np.array([[1, 2, 3], [4, 5, 6]], dtype = float)\n&gt;&gt;&gt; a1 = a[0, ]\n&gt;&gt;&gt; a1 /= 0.5\n&gt;&gt;&gt; a1\narray([2., 4., 6.])\n&gt;&gt;&gt; a\narray([[2., 4., 6.],\n       [4., 5., 6.]])\n</code></pre> <p>In contrast, <code>/</code> would retain the original array.</p> <pre><code>&gt;&gt;&gt; a = np.array([[1, 2, 3], [4, 5, 6]], dtype = float)\n&gt;&gt;&gt; a1 = a[0, ]\n&gt;&gt;&gt; a1 = a1 / 0.5\n&gt;&gt;&gt; a1\narray([2., 4., 6.])\n&gt;&gt;&gt; a\narray([[1., 2., 3.],\n       [4., 5., 6.]])\n</code></pre>"},{"location":"python/#re","title":"<code>re</code>","text":""},{"location":"python/#extract-the-starting-position","title":"extract the starting position","text":"<p>Given an error message returns by <code>decode(\"utf8\")</code> on a problematic characters, such as</p> <pre><code>&gt;&gt;&gt; \"\u7f16\u7a0b\".encode(\"utf8\")\nb'\\xe7\\xbc\\x96\\xe7\\xa8\\x8b'\n&gt;&gt;&gt; b\"\\xe7\\xbc\".decode(\"utf8\")\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nUnicodeDecodeError: 'utf-8' codec can't decode bytes in position 0-1: unexpected end of data\n&gt;&gt;&gt; e = \"'utf-8' codec can't decode bytes in position 0-1: invalid continuation byte\"\n</code></pre> <p>I want to get the starting position. Suppose only one byte is wrong, and since a Chinese character is encoded by 3 bytes, then there are only two possible cases,</p> <ul> <li><code>xoo</code> and <code>oox</code>: position <code>n</code>-<code>n+1</code></li> <li><code>oxo</code>: position <code>n</code></li> </ul> <pre><code>&gt;&gt;&gt; re.search(\"position ([0-9]{1,3})\", e).group(1)\n'0'\n&gt;&gt;&gt; re.search(\"position ([0-9]{1,3})\", e).group(0)\n'position 0'\n</code></pre> <p>where <code>()</code> is used to group, and <code>group(1)</code> returns the first group, while <code>group(0)</code> returns the whole match.</p>"},{"location":"python/#_2","title":"\u53c8\u62cd\u4e91\u7684\u77ed\u4fe1\u5e73\u53f0","text":"<p>\u53c2\u8003\u6587\u732e</p> <ol> <li>Python \u4f7f\u7528requests\u53d1\u9001POST\u8bf7\u6c42 - CSDN\u535a\u5ba2</li> <li>Python-\u722c\u866b-requests\u5e93\u7528\u8bedpost\u767b\u5f55</li> </ol>"},{"location":"python/#mdx_math","title":"mdx_math\u5b89\u88c5\u547d\u4ee4","text":"<p>\u53c2\u8003manage-your-cms-using-mkdocs</p> <pre><code>sudo pip install python-markdown-math\n</code></pre>"},{"location":"python/#how-can-i-use-conda-to-install-mysqldb","title":"How can I use Conda to install MySQLdb?","text":"<p>\u53c2\u8003How can I use Conda to install MySQLdb?</p>"},{"location":"python/#mysql","title":"\u8fdc\u7a0b\u8fde\u63a5 mysql","text":"<p>\u9996\u5148\u9700\u8981\u5728\u670d\u52a1\u5668\u7aef\uff0c\u5728<code>my.cnf</code> \u4e2d\u6ce8\u91ca\u6389</p> <pre><code># bind-address = 127.0.0.1\n</code></pre> <p>\u5e76\u4e14\u5728 mysql \u4e2d\u521b\u5efa\u7528\u6237\u5e76\u8bbe\u7f6e\u6743\u9650\uff0c\u5982</p> <pre><code>create user 'test'@'%' identified by 'test123';\ngrant all privileges on testdb.* to 'test'@'%' with grant option;\n</code></pre> <p>\u53c2\u8003</p> <ol> <li>Host \u2018xxx.xx.xxx.xxx\u2019 is not allowed to connect to this MySQL server</li> <li>How to allow remote connection to mysql</li> </ol>"},{"location":"python/#sphinx","title":"sphinx \u76f8\u5173","text":""},{"location":"python/#init","title":"init","text":"<p>https://stackoverflow.com/questions/5599254/how-to-use-sphinxs-autodoc-to-document-a-classs-init-self-method</p>"},{"location":"python/#thread-vs-process","title":"thread vs process","text":"<p>\u53c2\u8003 \u4e00\u9053\u9762\u8bd5\u9898\uff1a\u8bf4\u8bf4\u8fdb\u7a0b\u548c\u7ebf\u7a0b\u7684\u533a\u522b</p> <pre><code># -*- coding: utf-8 -*-\n\n# https://foofish.net/thread-and-process.html\n\nimport os\n\n# \u8fdb\u7a0b\u662f\u8d44\u6e90\uff08CPU\u3001\u5185\u5b58\u7b49\uff09\u5206\u914d\u7684\u57fa\u672c\u5355\u4f4d\uff0c\u5b83\u662f\u7a0b\u5e8f\u6267\u884c\u65f6\u7684\u4e00\u4e2a\u5b9e\u4f8b\u3002\n# \u7a0b\u5e8f\u8fd0\u884c\u65f6\u7cfb\u7edf\u5c31\u4f1a\u521b\u5efa\u4e00\u4e2a\u8fdb\u7a0b\uff0c\u5e76\u4e3a\u5b83\u5206\u914d\u8d44\u6e90\uff0c\u7136\u540e\u628a\u8be5\u8fdb\u7a0b\u653e\u5165\u8fdb\u7a0b\u5c31\u7eea\u961f\u5217\uff0c\n# \u8fdb\u7a0b\u8c03\u5ea6\u5668\u9009\u4e2d\u5b83\u7684\u65f6\u5019\u5c31\u4f1a\u4e3a\u5b83\u5206\u914dCPU\u65f6\u95f4\uff0c\u7a0b\u5e8f\u5f00\u59cb\u771f\u6b63\u8fd0\u884c\u3002\n\nprint(\"current process: %s start...\" % os.getpid())\npid = os.fork()\nif pid == 0:\n    print('child process: %s, parent process: %s' % (os.getpid(), os.getppid()))\nelse:\n    print('process %s create child process: %s' % (os.getpid(), pid) )\n\n# fork\u51fd\u6570\u4f1a\u8fd4\u56de\u4e24\u6b21\u7ed3\u679c\uff0c\u56e0\u4e3a\u64cd\u4f5c\u7cfb\u7edf\u4f1a\u628a\u5f53\u524d\u8fdb\u7a0b\u7684\u6570\u636e\u590d\u5236\u4e00\u904d\uff0c\n# \u7136\u540e\u7a0b\u5e8f\u5c31\u5206\u4e24\u4e2a\u8fdb\u7a0b\u7ee7\u7eed\u8fd0\u884c\u540e\u9762\u7684\u4ee3\u7801\uff0cfork\u5206\u522b\u5728\u7236\u8fdb\u7a0b\u548c\u5b50\u8fdb\u7a0b\u4e2d\u8fd4\u56de\uff0c\n# \u5728\u5b50\u8fdb\u7a0b\u8fd4\u56de\u7684\u503cpid\u6c38\u8fdc\u662f0\uff0c\u5728\u7236\u8fdb\u7a0b\u8fd4\u56de\u7684\u662f\u5b50\u8fdb\u7a0b\u7684\u8fdb\u7a0bid\u3002\n\n\n# \u7ebf\u7a0b\u662f\u7a0b\u5e8f\u6267\u884c\u65f6\u7684\u6700\u5c0f\u5355\u4f4d\uff0c\u5b83\u662f\u8fdb\u7a0b\u7684\u4e00\u4e2a\u6267\u884c\u6d41\uff0c\n# \u662fCPU\u8c03\u5ea6\u548c\u5206\u6d3e\u7684\u57fa\u672c\u5355\u4f4d\uff0c\u4e00\u4e2a\u8fdb\u7a0b\u53ef\u4ee5\u7531\u5f88\u591a\u4e2a\u7ebf\u7a0b\u7ec4\u6210\uff0c\n# \u7ebf\u7a0b\u95f4\u5171\u4eab\u8fdb\u7a0b\u7684\u6240\u6709\u8d44\u6e90\uff0c\u6bcf\u4e2a\u7ebf\u7a0b\u6709\u81ea\u5df1\u7684\u5806\u6808\u548c\u5c40\u90e8\u53d8\u91cf\u3002\n</code></pre>"},{"location":"python/#kite","title":"Kite \u4f7f\u7528\u4f53\u9a8c","text":"<p>Copilot \u4e00\u76f4 detect \u4e0d\u51fa spyder\uff0c\u53ea\u6709\u521a\u5f00\u59cb\u88c5\u7684\u65f6\u5019\u68c0\u6d4b\u5230\u4e86\uff0c\u4f46\u90a3\u65f6\u5019\u4e5f\u6ca1\u6709\u8d77\u4f5c\u7528\u3002\u800c kite \u672c\u8eab\u4e00\u76f4\u5728 spyder \u53f3\u4e0b\u89d2\u7684\u72b6\u6001\u680f\u4e2d\u3002</p>"},{"location":"python/#pip","title":"<code>pip</code>","text":"<ul> <li><code>pip list</code>: \u67e5\u770b\u5df2\u5b89\u88c5\u7684\u5305</li> <li><code>pip install -U</code>: upgrade\uff0c\u4f46\u6ce8\u610f <code>-U</code> \u4e0d\u80fd\u63d2\u5728 <code>pip</code> \u4e0e <code>install</code> \u4e2d\u95f4\u3002</li> <li><code>pip unstall</code>: \u4e5f\u53ef\u4ee5\u5378\u8f7d\u901a\u8fc7 <code>python setup.py install</code> \u5b89\u88c5\u7684\u5305</li> </ul>"},{"location":"python/#set-mirror-in-mainland-china","title":"set mirror in mainland China","text":"<p>\u5728win10\u4e0b\u8bbe\u7f6e\uff0c\u53c2\u8003Python pip \u56fd\u5185\u955c\u50cf\u5927\u5168\u53ca\u4f7f\u7528\u529e\u6cd5</p> <p>\u5728\u7528\u6237\u6587\u4ef6\u5939\u4e0b\u65b0\u5efapip\u6587\u4ef6\u5939\uff0c\u91cc\u9762\u65b0\u5efapip.ini\u6587\u4ef6</p> <pre><code>[global]\nindex-url=http://mirrors.aliyun.com/pypi/simple/\n[install]\ntrusted-host=mirrors.aliyun.com\n</code></pre> <p>\u6ce8\u610f\u7f16\u7801\u683c\u5f0f\u4e3autf8\u65e0BOM\u3002</p>"},{"location":"python/#temporary-proxy","title":"temporary proxy","text":"<p>\u901a\u8fc7 <code>conda</code> \u5b89\u88c5\u955c\u50cf\u5728 <code>.condarc</code> \u4e2d\u8bbe\u7f6e, \u5982\u5728\u5185\u5730\u53ef\u4ee5\u7528\u6e05\u534e\u7684\u955c\u50cf\uff0c\u800c\u901a\u8fc7 <code>pip</code> \u8be6\u89c1 pypi \u955c\u50cf\u4f7f\u7528\u5e2e\u52a9\uff0c\u4e34\u65f6\u4f7f\u7528\u53ef\u4ee5\u8fd0\u884c</p> <pre><code>pip install -i https://pypi.tuna.tsinghua.edu.cn/simple some-package\n</code></pre>"},{"location":"python/#install-from-github","title":"install from github","text":"<p>For example, ESL-CN used the forked plugin, szcf-weiya/mkdocs-git-revision-date-plugin, to set the update time, then in the <code>.travis.yml</code> file,</p> <pre><code>pip install git+https://github.com/szcf-weiya/mkdocs-git-revision-date-plugin.git\n</code></pre>"},{"location":"python/#uninstalling-a-distutils-installed-project-error","title":"\u2018Uninstalling a distutils installed project\u2019 error","text":"<pre><code>pip install --ignore-installed ${PACKAGE_NAME}\n</code></pre> <p>refer to \u2018Uninstalling a distutils installed project\u2019 error when installing blockstack #504</p>"},{"location":"python/#remove-cache","title":"remove cache","text":"<p>just found there is a cache folder, <code>~/.cache/pip</code>, which occupied ~2G. From Removing pip\u2019s cache? - Stack Overflow, got to know that <code>pip</code> itself can manage the cache, such as</p> <pre><code>$ pip cache purge\n</code></pre> <p>But <code>pip cache</code> seems not work in older version, such as <code>pip 19.3.1</code>.</p>"},{"location":"python/#sys","title":"<code>sys</code>","text":""},{"location":"python/#the-first-argument-in-syspathinsert","title":"the first argument in <code>sys.path.insert()</code>","text":"<p>But for <code>sys.path</code> specifically, element 0 is the path containing the script, and so using index 1 causes Python to search that path first and then the inserted path, versus the other way around when inserted at index 0.</p> <p>The reason is that <code>sys.path</code> returns a list, while <code>.insert</code> is the method for a list, which insert object before the given index. Thus, if the first argument is 0, then the inserted path would be firstly searched, otherwise, it would be inserted after the first path, the current folder.</p> <p>refer to First argument of sys.path.insert in python</p>"},{"location":"python/#tensorflow","title":"TensorFlow","text":""},{"location":"python/#the-i-th-row-in-pandas","title":"the <code>i</code>-th row in pandas","text":"<pre><code>df_test.iloc[0]\n</code></pre>"},{"location":"python/#key-in-sorted","title":"<code>key</code> in <code>sorted</code>","text":"<p>As said in Key Functions \u2013 Sorting HOW TO, the <code>key</code> function is to specify a function to be called on each list element prior to making comparisons.</p> <pre><code>sorted(\"This is a test string from Andrew\".split(), key=str.lower)\n</code></pre> <p>and met such technique in 4ment/marginal-experiments</p>"},{"location":"python/#unittest-and-coverage","title":"unittest and coverage","text":"<ul> <li> <p>candidate packages</p> <ul> <li>Coverage.py</li> <li> coveralls-python</li> </ul> </li> <li> <p>the schematic of unittest framework in python: Running unittest with typical test directory structure</p> </li> </ul>"},{"location":"python/#run-locally","title":"run locally","text":"<ol> <li>write unittest scripts in folder <code>test</code></li> <li>install coveralls-python: <code>conda install coveralls</code></li> <li>obtain the COVERALLS_REPO_TOKEN from coveralls</li> <li>run the script file</li> </ol> run_local_coverall.sh <pre><code>#!/bin/bash\ncd test/\ncoverage run test_script.py\nmv .coverage ..\ncd ..\n\nCOVERALLS_REPO_TOKEN=XXXXXXXXXXXXXXXXXXXXXXX coveralls\n</code></pre>"},{"location":"python/#combine-with-julia-in-actions","title":"combine with julia in Actions","text":"<p>combine the coverage from julia by merging the resulted json file, which need <code>coveralls-lcov</code> to convert <code>LCOV</code> to <code>JSON</code>.</p> <p>refer to:</p> <ul> <li>An Example of Python in Github Action</li> <li>Multiple Language Support</li> <li>GitHub: Cell-Video</li> </ul>"},{"location":"python/#misc","title":"Misc","text":"<ul> <li>\u4eba\u5de5\u9c7c\u7fa4\u7b97\u6cd5-python\u5b9e\u73b0</li> <li>\u8bf7\u95eephantom-proxy\u5982\u4f55\u8bbe\u7f6e\u4ee3\u7406ip</li> <li>Python\u7f16\u7801\u4ecb\u7ecd\u2014\u2014encode\u548cdecode</li> <li>\u722c\u866b\u5fc5\u5907\u2014\u2014requests</li> <li>Python\u4f7f\u7528\u4ee3\u7406\u6293\u53d6\u7f51\u7ad9\u56fe\u7247\uff08\u591a\u7ebf\u7a0b\uff09</li> <li>python\u4e2dthreading\u6a21\u5757\u8be6\u89e3\uff08\u4e00\uff09</li> <li>python \u722c\u866b\u83b7\u53d6XiciDaili\u4ee3\u7406IP</li> <li>\u4f7f\u7528SQLite</li> <li>python \u4f7f\u7528sqlite3</li> <li>\u7528Python\u8fdb\u884cSQLite\u6570\u636e\u5e93\u64cd\u4f5c</li> <li>Python\u8c03\u7528MongoDB\u4f7f\u7528\u5fc3\u5f97</li> <li>python urllib2\u8be6\u89e3\u53ca\u5b9e\u4f8b</li> <li>Python\u722c\u866b\u5165\u95e8\u5b9e\u6218\u4e03\uff1a\u4f7f\u7528Selenium\u2013\u4ee5QQ\u7a7a\u95f4\u4e3a\u4f8b</li> <li>Python\u4e2d\u5c06\u6253\u5370\u8f93\u51fa\u5bfc\u5411\u65e5\u5fd7\u6587\u4ef6</li> <li>python \u4e2d\u6587\u7f16\u7801(\u4e00)</li> <li>Python\u722c\u866b\u5229\u5668\u4e8c\u4e4bBeautiful Soup\u7684\u7528\u6cd5</li> <li>\u6b63\u5219\u8868\u8fbe\u5f0f\u4e4b\u6355\u83b7\u7ec4/\u975e\u6355\u83b7\u7ec4\u4ecb\u7ecd</li> <li>Selenium using Python - Geckodriver executable needs to be in PATH</li> </ul>"},{"location":"python/conda/","title":"Conda","text":"<p>conda-cheatsheet</p>"},{"location":"python/conda/#conda_1","title":"\u6b63\u5f0f\u8ba4\u8bc6conda","text":"<p>\u53c2\u8003https://conda.io/docs/user-guide/getting-started.html</p>"},{"location":"python/conda/#conda-window","title":"conda \u5728window\u4e0b\u8bbe\u7f6e","text":"<p>win10\u4e0b\u5df2\u7ecf\u88c5\u4e86anaconda\uff0cspyder(2.7)\uff0c\u73b0\u60f3\u518d\u88c5\u4e0apython3\uff0c\u4e8e\u662f\u5229\u7528conda\u521b\u5efa\u4e00\u4e2apython3\u7684\u73af\u5883<code>bunny</code>\u3002</p> <pre><code>conda create --name bunny python=3\n</code></pre> <p>\u5207\u6362\u5230bunny\u73af\u5883</p> <pre><code>activate bunny\n</code></pre> <p>\u53c2\u8003spyder3 doc</p> <pre><code>pip install spyder3\n</code></pre>"},{"location":"python/conda/#py3-spyder","title":"\u4e3a py3 \u5b89\u88c5 spyder","text":"<ol> <li>\u5148\u5efa\u4e00\u4e2aconda\u73af\u5883bunny\uff0c\u5b89\u88c5python3.4\uff0c\u56e0\u4e3a\u8981\u652f\u6301pyside\uff0c\u800c\u7ecf\u8bd5\u9a8c3.5+\u4e0d\u652f\u6301\u3002</li> <li>\u5b89\u88c5cmake</li> <li>pyside\u51fa\u73b0keyerrror</li> </ol> <p>\u8f6c\u5411py3.6 \u4e0d\u88c5pyside\uff0c\u800c\u88c5pyqt5 <pre><code>pip install pyqt5\n</code></pre></p> <p>\u6700\u7ec8\u5728\u65b0\u5efa\u7684\u53e6\u4e00\u4e2a conda \u73af\u5883 snakes \u4e2d\u88c5\u597d\u4e86 Python3.6 \u53ca spyder3\uff0c\u901a\u8fc7\u4e0b\u9762\u547d\u4ee4\u8fd0\u884c\u5c31 OK \u4e86\u3002</p> <pre><code>source activate snakes\nspyder3 &amp;\n</code></pre>"},{"location":"python/conda/#disable-default-base","title":"disable default <code>base</code>","text":"<pre><code>conda config --set auto_activate_base false\n</code></pre> <p>refer to How do I prevent Conda from activating the base environment by default?</p> <p>actually, this is equivalent to add a line in <code>~/.condarc</code></p> <pre><code>auto_activate_base: false\n</code></pre>"},{"location":"python/conda/#conda-package","title":"conda package \u7684\u7248\u672c\u53f7\u4e0d\u5339\u914d","text":"<p>\u5728\u7528 anaconda3 \u65b0\u5efa py37 \u73af\u5883\u540e\uff0c\u5b89\u88c5 spyder\uff0c\u4f46\u662f\u8fd0\u884c\u65f6\u5f39\u51fa</p> <p></p> <p>\u800c\u7528 <code>conda list | grep qtconsole</code> \u68c0\u67e5\u53d1\u73b0</p> <pre><code>qtconsole                 4.6.0                      py_0\n</code></pre> <p>\u9690\u9690\u7ea6\u7ea6\u611f\u89c9\u662f\u88c5\u4e86\u591a\u4e2a\u7248\u672c\uff0c\u60f3\u5378\u8f7d\u6389\u9519\u8bef\u7684\u7248\u672c\uff0c\u4f46\u90fd\u6ca1\u627e\u5230 qtconsole \u600e\u4e48\u67e5\u770b\u7248\u672c\u53f7\u3002\u7136\u540e Google \u53d1\u73b0\u53e6\u5916\u4e00\u4e2a\u7c7b\u4f3c\u7684\u95ee\u9898\uff0c</p> <p>Getting wrong version of packages using Conda</p> <p>\u4e8e\u662f\u6211\u4e5f\u53bb\u68c0\u67e5\u4e86 ipython \u7684\u7248\u672c\uff0c\u53d1\u73b0</p> <pre><code>$ ipython --version\n7.7.0\n</code></pre> <p>\u800c</p> <pre><code>$ conda list | grep ipython\nipython                   7.10.2           py37h39e3cac_0\n</code></pre> <p>\u540c\u6837\u5b58\u5728\u7248\u672c\u53f7\u4e0d\u4e00\u81f4\u7684\u95ee\u9898\u3002</p> <p>\u6240\u4ee5\u6309\u7167\u8bc4\u8bba\u7684\u5efa\u8bae\uff0c\u7528</p> <pre><code>pip uninstall ipython\n</code></pre> <p>\u9996\u5148\u89e3\u51b3\u4e86 ipython \u7684\u7248\u672c\u53f7\u4e0d\u4e00\u81f4\u7684\u95ee\u9898\u3002</p> <p></p> <p>\u53d7\u6b64\u542f\u53d1\uff0c\u7528</p> <pre><code>pip uninstall qtconsole\n</code></pre> <p>\u89e3\u51b3\u4e86 qtconsole \u7684\u95ee\u9898\u3002</p>"},{"location":"python/conda/#conda-env","title":"conda \u6307\u5b9a env \u8def\u5f84","text":"<p>\u5982\u679c\u76f4\u63a5\u5728\u521b\u5efa\u65f6\u901a\u8fc7 <code>-p</code> \u6307\u5b9a\u8def\u5f84</p> <pre><code>conda create -p ... python=x.x\n</code></pre> <p>\u6ce8\u610f\u5982\u679c\u6307\u5b9a\u8def\u5f84\uff0c\u5219\u4e0d\u9700\u8981 <code>--name</code>\uff0c \u56e0\u4e3a\u9ed8\u8ba4\u4f1a\u5c06\u8def\u5f84\u6700\u540e\u7684\u6587\u4ef6\u540d\u770b\u6210\u662f env \u7684 name\u3002</p> <p>\u5219 activate \u7684\u65f6\u5019\u9700\u8981\u52a0\u4e0a\u6574\u4e2a\u8def\u5f84\u3002</p> <p>\u5728\u521b\u5efa\u4e4b\u524d\u53ef\u4ee5\u5148\u5728 <code>.condarc</code> \u4e2d\u7684 <code>env_dirs</code> \u9879\u4e0b\u6dfb\u52a0\u6307\u5b9a\u7684\u8def\u5f84\u3002</p> <p>\u4e3a\u4e86\u8ba9\u65b0\u73af\u5883\u76f4\u63a5\u88c5\u5230\u8be5\u6307\u5b9a\u7684\u8def\u5f84\u4e0b\uff0c\u5c06\u8be5\u8def\u5f84\u653e\u5728\u6700\u524d\u9762\u3002\u6362\u53e5\u8bdd\u8bf4\uff0c<code>conda create</code> \u9ed8\u8ba4\u662f\u5728\u7b2c\u4e00\u4e2a\u8def\u5f84\u4e0b\u521b\u5efa\u73af\u5883\u3002</p>"},{"location":"python/conda/#conda_2","title":"conda \u8fc1\u79fb\u73af\u5883","text":"<p>\u5b98\u65b9\u6587\u6863\u4ecb\u7ecd\u4e86\u56db\u79cd\u73af\u5883\u8fc1\u79fb\u7684\u65b9\u5f0f\uff0c</p> <ul> <li>clone</li> <li>Spec List</li> <li>Environment.yml</li> <li>Conda Pack</li> </ul> <p>\u5176\u4e2d\u7b2c\u56db\u79cd\u4f3c\u4e4e\u66f4\u7b26\u5408\u9700\u6c42\uff0c\u56e0\u4e3a\u7b2c\u4e8c\u4e09\u79cd\u9700\u8981\u91cd\u65b0\u4e0b\u8f7d package\uff0c\u800c\u7b2c\u4e00\u79cd\u4e0d\u592a\u80fd\u76f4\u63a5\uff08\u989d\u5916\u6307\u5b9a\u53c2\u6570\u6216\u8bb8\u53ef\u4ee5\uff09\u652f\u6301\u591a\u4e2a envs folder \u95f4\u7684\u5207\u6362\uff0c\u4f46\u662f\u7b2c\u56db\u79cd\u672c\u8d28\u4e0a\u5c31\u662f\u6253\u5305\u89e3\u538b\uff0c\u6240\u4ee5\u4f55\u4e0d\u5982\u76f4\u63a5 <code>mv</code> \u79fb\u52a8\u5462\uff0c\u6bd5\u7adf\u6211\u662f\u5728\u540c\u4e00\u53f0\u7535\u8111\u4e0a\u64cd\u4f5c\uff0c\u8bd5\u4e86\u4e00\u4e0b\uff0c\u679c\u7136\u6210\u529f\u4e86\u3002</p> <pre><code>$ conda env list\n# conda environments:\n#\nbase                  *  /home/weiya/anaconda3\npy27                     /home/weiya/anaconda3/envs/py27\npy35                     /media/weiya/PSSD/Programs/anaconda3/envs/py35\n\n$ mv anaconda3/envs/py27/ /media/weiya/PSSD/Programs/anaconda3/envs/\n$ conda env list\n# conda environments:\n#\nbase                  *  /home/weiya/anaconda3\npy27                     /media/weiya/PSSD/Programs/anaconda3/envs/py27\npy35                     /media/weiya/PSSD/Programs/anaconda3/envs/py35\n</code></pre> <p>\u4f46\u662f\u53d1\u73b0\u4e86\u4e2a\u5c0f\u95ee\u9898\uff0c<code>pip</code>\u7528\u4e0d\u4e86\uff0c\u6bd4\u5982</p> <pre><code>$ pip install pymdown-extensions\nbash: /media/weiya/PSSD/Programs/anaconda3/envs/py36/bin/pip: /home/weiya/anaconda3/envs/py36/bin/python: bad interpreter: No such file or directory\n</code></pre> <p>\u5176\u8fd8\u662f\u60f3\u8c03\u7528\u539f\u5148\u8def\u5f84\u4e0b\u7684 python\uff0c\u7136\u540e\u91cd\u65b0\u88c5\u4e00\u4e0b <code>conda install pip</code> \u5c31\u597d\u4e86\u3002</p>"},{"location":"python/conda/#conda-clean","title":"conda clean","text":"<p>\u7b14\u8bb0\u672c\u786c\u76d8\u4f59\u91cf\u544a\u6025\uff0c\u7136\u540e\u53d1\u73b0 <code>anaconda</code> \u6587\u4ef6\u5939\u4e0b\u7adf\u7136\u6709 15GB\uff0c\u6240\u4ee5\u60f3\u6709\u6ca1\u6709\u4ec0\u4e48\u65b9\u6cd5\u6e05\u7406\u4e00\u4e0b\uff0c\u679c\u7136\u6709 <code>conda clean</code> \u8fd9\u53e5\u547d\u4ee4\uff0c</p> <p>Remove unused packages and caches.</p> <p>\u4f46\u662f\u6709\u70b9\u62c5\u5fc3\u5176 <code>unused</code> \u7684\u5b9a\u4e49\uff0c\u662f\u591a\u957f\u65f6\u95f4\u6ca1\u6709\u7528\u8fc7\u5417\uff1f\u6bd4\u5982\u4e00\u4e2a\u6708\u4e4b\u7c7b\u7684\uff0c\u5982\u679c\u662f\u8fd9\u6837\uff0c\u610f\u4e49\u5e76\u4e0d\u5927\u3002\u540e\u6765\u627e\u5230\u4e86\u8fd9\u4e2a\u56de\u7b54</p> <p>An \u201cunused\u201d package is one that\u2019s not used in any environment.</p> <p>\u4ee5\u53ca Conda clean \u51c0\u5316Anaconda</p> <ul> <li>\u6709\u4e9b\u5305\u5b89\u88c5\u4e4b\u540e\uff0c\u4ece\u6765\u6ca1\u6709\u4f7f\u7528\u8fc7\uff1b</li> <li>\u4e00\u4e9b\u5b89\u88c5\u5305\u7684tar\u5305\u4e5f\u4fdd\u7559\u5728\u4e86\u8ba1\u7b97\u673a\u4e2d\uff1b</li> <li>\u7531\u4e8e\u4f9d\u8d56\u6216\u8005\u73af\u5883\u7b49\u539f\u56e0\uff0c\u67d0\u4e9b\u5305\u7684\u4e0d\u540c\u7248\u672c\u91cd\u590d\u5b89\u88c5\u3002</li> </ul> <p>\u4e8e\u662f\u6bd4\u8f83\u653e\u5fc3\u5730\u8fd0\u884c\u4e86 <code>conda clean -a</code>\uff0c\u4e00\u4e0b\u5b50\u6e05\u7406\u51fa 8.6G \u7684\u7a7a\u95f4\u3002</p>"},{"location":"python/esltag/","title":"\u81ea\u5efa\u5173\u952e\u8bcd\u7d22\u5f15\u9875","text":"<p>\u8bb0\u5f55\u4e0b\u4e3a ESL-CN \u9879\u76ee\u751f\u6210\u5173\u952e\u8bcd\u7d22\u5f15\u9875\u7684\u63a2\u7d22\u8fc7\u7a0b\u3002</p>"},{"location":"python/esltag/#_2","title":"\u76f8\u5173\u9879\u76ee","text":"<p>\u7b2c\u4e00\u6b65\u60f3\u627e\u6709\u6ca1\u6709\u5b9e\u73b0\u7c7b\u4f3c\u529f\u80fd\u7684\u63d2\u4ef6\uff0c\u56e0\u4e3a\u60f3\u5230 Jekyll \u4e2d\u4e5f\u6709\u90a3\u79cd\u8bbe\u7f6e\u6807\u7b7e\u9875\u7684\uff0c\u4f46\u662f\u5176\u5b9e\u76ee\u6807\u8fd8\u4e0d\u592a\u4e00\u81f4\uff0c\u56e0\u4e3a\u5018\u82e5\u6309\u7167 Jekyll \u90a3\u6837\u505a\uff0c\u5219\u9700\u8981\u628a\u6807\u7b7e\u90fd\u653e\u5728 <code>metadata</code> \u4e2d\uff0c\u8fd9\u6837\u989d\u5916\u589e\u52a0\u4e86\u5de5\u4f5c\u91cf\u3002</p> <p>\u5728\u6b64\u641c\u7d22\u76f8\u5173\u9879\u76ee\u7684\u8fc7\u7a0b\u4e2d\uff0c\u4e5f\u53d1\u73b0\u4e86 (Material for ) Mkdocs \u7684\u4e00\u4e9b\u6b64\u524d\u672a\u6ce8\u610f\u3001\u672a\u7528\u5230\u751a\u81f3\u672a\u80fd\u7406\u89e3\u7684\u529f\u80fd\uff0c\u5373\u6211\u521a\u521a\u8bf4\u7684 metadata\u3002</p>"},{"location":"python/esltag/#_3","title":"\u63d0\u53d6\u5b57\u4e32","text":"<p>\u65e2\u7136\u6ca1\u6709\uff0c\u90a3\u5c31\u81ea\u5df1\u52a8\u624b\u5199\u4ee3\u7801\u5b9e\u73b0\u3002\u5176\u5b9e\u634b\u4e00\u634b\u9700\u6c42\u633a\u7b80\u5355\u7684\uff0c\u5c31\u662f\u60f3\u628a\u6bcf\u4e00\u8282\u4e2d\u7684\u5173\u952e\u8bcd\u5355\u72ec\u62ce\u51fa\u6765\u653e\u5728\u4e00\u4e2a\u9875\u9762\u4e2d\uff0c\u800c\u8fd9\u4e9b\u5173\u952e\u8bcd\u662f\u6ee1\u8db3\u67d0\u4e2a\u7279\u5b9a pattern \u7684\uff0c\u4e8e\u662f\u81ea\u7136\u800c\u7136\u7528 <code>re</code>\u3002\u867d\u7136\u4e4b\u524d\u4e5f\u96f6\u661f\u7528\u8fc7\u51e0\u6b21 <code>re</code>\uff0c\u4f46\u662f\u518d\u6b21\u51c6\u5907\u5199\u7684\u65f6\u5019\uff0c\u8fd8\u662f\u8981\u5bf9\u7740 reference \u6765\u6478\u7d22\u3002</p> <ul> <li> <p>\u9996\u5148\u9700\u8981\u5339\u914d\u4e2d\u6587\uff0c\u8fd9\u7bc7\u535a\u5ba2\u7ed9\u4e86\u5f88\u597d\u7684\u89e3\u7b54\uff0c\u91c7\u7528 <code>([\\u4e00-\\u9fa5]+)</code></p> </li> <li> <p>\u5176\u6b21\u5339\u914d\u5e26\u6709\u7a7a\u683c\u7684\u82f1\u6587\u8bcd\u7ec4\uff0c\u8fd9\u4e2a\u6700\u540e\u91c7\u7528 <code>(\\b[a-zA-Z ]+\\b)</code>\u3002\u8fd9\u4e2a\u5c3d\u91cf\u8981\u7cbe\u786e\uff0c\u4e0d\u7136\u5982\u679c\u8303\u56f4\u5927\u70b9\uff0c\u4f01\u56fe\u4f9d\u8d56\u5176\u4ed6\u90e8\u5206\u7684 pattern \u6765\u9650\u5236\u4f4f\uff0c\u90a3\u8fd8\u662f\u4f1a\u51fa\u95ee\u9898\u7684\uff0c\u6bd4\u5982\u4e00\u5f00\u59cb\u7528 <code>(\\b.*\\b)</code>\uff0c\u8fc7\u5927\u7684\u5339\u914d\u8303\u56f4\uff0c\u6700\u540e\u5f97\u5230\u4e9b\u9519\u8bef\u7684\u5339\u914d\u7ed3\u679c\uff0c\u5176\u4e2d <code>-b</code> \u5339\u914d word boundary.</p> </li> </ul> <p>\u8bfb\u5199\u90e8\u5206\uff0c\u76f4\u63a5\u91c7\u7528 </p> <pre><code>file = open(filename, \"rt\")\ncontents = file.read()\nfile.close()\n</code></pre> <p>\u800c\u5217\u51fa\u6587\u4ef6\u5939\u4e2d\u7684\u6240\u6709\u6587\u4ef6\u91c7\u7528 <code>os.listdir()</code>\uff0c\u800c\u5982\u679c\u60f3\u627e\u51fa\u7279\u5b9a\u7684 pattern\uff0c\u6bd4\u5982\u6211\u7684\u9700\u6c42\u662f\u8981\u6c42\u6587\u4ef6\u540d\u524d\u4e24\u4f4d\u4e3a\u7ae0\u8282 id\uff0c\u5219\u9700\u8981\u9002\u5f53\u5224\u65ad\uff0c</p> <pre><code>for idx, x in enumerate(docsdir):\n    if f'{i:02}' in x:\n        break\n</code></pre> <p>\u8fd9\u91cc\u6ce8\u610f\u5b66\u4e60 <code>enumerate</code> \u7684\u7528\u6cd5\uff0c\u8fd9\u5e94\u8be5\u8fd8\u662f\u5f88\u5e38\u89c1\u7684\uff0c\u4e4b\u524d\u4e5f\u7528\u8fc7\uff0c\u4f46\u6ca1\u600e\u4e48\u8bb0\u4f4f\u3002\u53e6\u5916 <code>f{i:02}</code> \u8865\u96f6\u7684\u6280\u5de7\u4e5f\u8981\u8bb0\u4f4f\uff0c\u5176\u5b83\u5b9e\u73b0\u65b9\u6cd5\u53c2\u89c1 How to pad zeroes to a string?.</p> <p>\u5982\u679c\u9650\u5b9a\u6587\u4ef6\u7c7b\u578b\uff0c\u6709\u66f4\u65b9\u4fbf\u7684\u547d\u4ee4 <code>glob.glob()</code>\uff0c\u6bd4\u5982\u6211\u53ea\u9700\u8981 <code>.md</code> \u6587\u4ef6\uff0c\u5219\u76f4\u63a5</p> <pre><code>for file in glob.glob(f\"docs/{chdir}/*.md\"):\n</code></pre> <p>\u5176\u4ed6\u7528\u6cd5\u8be6\u89c1 How do I list all files of a directory?\u3002</p> <p>\u6ce8\u610f\u5b66\u4f1a\u4f7f\u7528 <code>re</code> \u7684\u5206\u7ec4\u5339\u914d\u529f\u80fd\uff0c\u907f\u514d\u4e8c\u6b21\u5206\u5272\u5b57\u4e32\u63d0\u53d6\u60f3\u8981\u7684\u5143\u7d20\u3002\u4e00\u5f00\u59cb\u6211\u6ca1\u7528\u5206\u7ec4\u5339\u914d\uff0c\u867d\u7136\u5f97\u5230\u4e86\u5b57\u4e32\uff0c\u4f46\u662f\u540e\u9762\u60f3\u5206\u5272\u65f6\uff0c\u800c <code>split</code> \u51fd\u6570\u53ea\u652f\u6301\u4e00\u4e2a delimiter\uff0c\u800c\u6211\u60f3\u7528\u591a\u4e2a delimiter\uff0c\u6bd4\u5982\u5bf9\u4e8e <code>**\u4e2d\u6587 (chinese)**</code>\uff0c\u4e3a\u4e86\u63d0\u53d6\u51fa <code>\u4e2d\u6587</code> \u548c <code>chinese</code>\uff0c\u6211\u9700\u8981 <code>**</code>\u3001<code>(</code>\u3001<code>)</code> \u4ee5\u53ca\u7a7a\u683c\u8fd9\u56db\u4e2a delimiter\uff0c\u867d\u7136\u53ef\u4ee5\u7528</p> <pre><code>str = \"**\u4e2d\u6587 (chinese)**\"\ndelimiters = \"**\", \"(\", \")\", \" \"\nregexPattern = '|'.join(map(re.escape, delimiters))\n\n&gt;&gt;&gt; regexPattern\n'\\\\*\\\\*|\\\\(|\\\\)|\\\\ '\n&gt;&gt;&gt; re.split(regexPattern, str)\n['', '\\xe4\\xb8\\xad\\xe6\\x96\\x87', '', 'chinese', '', '']\n</code></pre> <p>\u5b9e\u73b0\uff0c\u4f46\u65e2\u7136\u53c8\u7528\u4e86 <code>re</code>\uff0c\u5e72\u561b\u4e0d\u76f4\u63a5\u7528\u5b83\u7684\u5206\u7ec4\u5339\u914d\u529f\u80fd\uff1f\u53c2\u8003 Python regex split without empty string \u53ca Split string with multiple delimiters in Python</p>"},{"location":"python/esltag/#_4","title":"\u5199\u5165\u6587\u4ef6","text":"<p>\u60f3\u6309\u7167\u9996\u5b57\u6bcd\u5206\u5f00\uff0c\u5373 <code>A</code>, <code>B</code> \u7b49\u4f5c\u4e3a\u5c0f\u8282\u6807\u9898\uff0c\u5f97\u5230\u82f1\u6587\u5b57\u6bcd\u7684\u6280\u5de7\u662f </p> <pre><code>[chr(i+ord('A')) for i in range(26)]\n</code></pre> <p>\u5176\u4e2d <code>ord</code> \u548c <code>chr</code> \u5f88\u5b9e\u7528\u3002\u4e00\u5f00\u59cb\u7684\u7b56\u7565\u662f\u51c6\u5907\u957f\u5ea6\u4e3a 26 \u7684 list\uff0c\u6bcf\u4e2a list \u653e\u5165\u5173\u952e\u8bcd\u7684\u4fe1\u606f\uff0c\u4f46\u662f\u8fd9\u6837\u4f1a\u6709\u91cd\u590d\uff0c\u907f\u514d\u540c\u4e00\u7bc7\u6587\u7ae0\u4e2d\u7684\u91cd\u590d\u53ef\u4ee5\u7528 <code>list(set(some_list))</code>\uff0c\u4f46\u662f\u8fd9\u79cd\u4e5f\u89e3\u51b3\u4e0d\u4e86\u4e0d\u540c\u6587\u4ef6\u5b58\u5728\u76f8\u540c\u5173\u952e\u8bcd\u7684\u91cd\u590d\u3002\u540e\u6765\u91c7\u7528 dict \u5b58\u50a8\u540e\uff0c\u53ef\u4ee5\u628a\u91cd\u590d\u7684\u6587\u7ae0\u94fe\u63a5\u6dfb\u52a0\u5230\u5bf9\u5e94\u5143\u7d20\u4e2d\u53bb\uff0c\u4f46\u662f\u8fd9\u6837\u5bf9 dict \u6309\u7167</p> <pre><code>for k, v in d:\n</code></pre> <p>\u5c31\u4f1a\u51fa\u95ee\u9898\uff0c\u62a5\u9519 </p> <p>not enough values to unpack (expected 2, got 1 </p> <p>\u6362\u4e00\u79cd\u904d\u5386\u65b9\u5f0f</p> <pre><code>for key in d.keys():\n</code></pre> <p>\u8be6\u89c1 not enough values to unpack (expected 2, got 1</p> <p>\u5728\u7528 <code>writelines</code> \u51fa\u73b0\u5f88\u5947\u602a\u7684\u73b0\u8c61\uff0c\u5e76\u6ca1\u6709\u6362\u884c\uff0c\u6211\u731c\u4f1a\u4e0d\u4f1a\u662f\u7cfb\u7edf\u7684\u539f\u56e0\uff0c\u5373 <code>LF</code> \u548c <code>CRLF</code> \u7684\u533a\u522b\uff0c\u4f46\u6ca1\u7ec6\u7a76\uff0c\u4e5f\u6709\u4eba\u5728\u95ee\u8fd9\u6837\u7684\u95ee\u9898\uff0c\u540e\u6765\u76f4\u63a5\u91c7\u7528</p> <pre><code>tagpage.writelines(tag + '\\n' for tag in tagi)\n</code></pre> <p>\u6700\u540e\uff0c\u6211\u7684\u4ee3\u7801\u4e3a gentag.py@ESL-CN\u3002\u76ee\u524d\u7684\u7248\u672c\u53ea\u6709\u9996\u5b57\u6bcd\u6392\u5e8f\uff0c\u6ca1\u6709\u8fdb\u4e00\u6b65\u8ba9\u540e\u9762\u5b57\u6bcd\u6392\u5e8f\uff0c\u800c\u662f\u91c7\u7528\u4e86\u9ed8\u8ba4\u8bfb\u53d6\u7684\u987a\u5e8f\u3002\u8f6c\u5ff5\u4e00\u60f3\uff0c\u8fd9\u6837\u4e5f\u633a\u5408\u9002\u7684\u3002\u4e0d\u8fc7\uff0c\u6216\u8bb8\u67d0\u5929\u6211\u60f3\u6539\u6539\u5462\uff0c\u4e5f\u8bf4\u4e0d\u5b9a\u3002</p>"},{"location":"python/igraph/","title":"IGRAPH","text":"<p>tutorial: https://igraph.org/python/doc/tutorial/tutorial.html</p> <p>https://stackoverflow.com/questions/25303620/does-igraphs-gomory-hu-tree-calculate-the-minimum-cut-tree</p> <p>\u6700\u5c0f\u5272\uff1a\u539f\u56fe\u7684\u6bcf\u6761\u8fb9\u6709\u4e00\u4e2a\u5272\u65ad\u5b83\u7684\u4ee3\u4ef7\uff0c\u4f60\u9700\u8981\u7528\u6700\u5c0f\u7684\u4ee3\u4ef7\u4f7f\u5f97\u8fd9\u4e24\u4e2a\u70b9\u4e0d\u8fde\u901a</p>"},{"location":"python/igraph/#installation","title":"Installation","text":""},{"location":"python/igraph/#first-attempt","title":"first attempt","text":"<pre><code>pip install python-igraph\n</code></pre> <p>but cannot plot, and it throws,</p> <pre><code>AttributeError: Plotting not available; please install pycairo or cairocffi\n</code></pre> <p>then </p> <pre><code>pip install pycairo\n</code></pre> <p>but it failed with the following error</p> <pre><code>  Complete output (15 lines):\n  running bdist_wheel\n  running build\n  running build_py\n  creating build\n  creating build/lib.linux-x86_64-3.8\n  creating build/lib.linux-x86_64-3.8/cairo\n  copying cairo/__init__.py -&gt; build/lib.linux-x86_64-3.8/cairo\n  copying cairo/__init__.pyi -&gt; build/lib.linux-x86_64-3.8/cairo\n  copying cairo/py.typed -&gt; build/lib.linux-x86_64-3.8/cairo\n  running build_ext\n  Package cairo was not found in the pkg-config search path.\n  Perhaps you should add the directory containing `cairo.pc'\n  to the PKG_CONFIG_PATH environment variable\n  No package 'cairo' found\n  Command '['pkg-config', '--print-errors', '--exists', 'cairo &gt;= 1.15.10']' returned non-zero exit status 1.\n  ----------------------------------------\n  ERROR: Failed building wheel for pycairo\nFailed to build pycairo\nERROR: Could not build wheels for pycairo which use PEP 517 and cannot be installed directly\n</code></pre>"},{"location":"python/igraph/#second-attempt","title":"second attempt","text":"<pre><code>conda install -c conda-forge python-igraph\nconda install -c conda-forge pycairo\n</code></pre> <p>note that the second command would also install the missing <code>cairo</code>,</p> <pre><code>The following packages will be downloaded:\n\n    package                    |            build\n    ---------------------------|-----------------\n    cairo-1.16.0               |       hf32fb01_1         1.0 MB\n    fontconfig-2.13.1          |       h6c09931_0         250 KB\n    glib-2.68.3                |       h9c3ff4c_0         449 KB  conda-forge\n    glib-tools-2.68.3          |       h9c3ff4c_0          86 KB  conda-forge\n    libglib-2.68.3             |       h3e27bee_0         3.1 MB  conda-forge\n    pycairo-1.20.1             |   py38hf61ee4a_0          77 KB  conda-forge\n    ------------------------------------------------------------\n                                           Total:         5.0 MB\n</code></pre> <p>Thus, plotting can be done.</p>"},{"location":"python/igraph/#growing-minimum-spanning-tree","title":"Growing Minimum spanning tree","text":"<p>The generic method manages a set of edges A, maintaining the following loop invariant</p> <p>Prior to each iteration, AA is a subset of some minimum spanning tree.</p> <p>At each step, determine an edge (u, v)(u, v) that we can add to AA without violating this invariant, in the sense that A\\cup \\\\{(u, v)\\\\}A\\cup \\\\{(u, v)\\\\} is also a subset of a minimum spanning tree. Such as edge is called safe edge for AA.</p> <p>A </p>"},{"location":"python/opencv/","title":"OpenCV","text":"<p>In short,</p> <pre><code>$ pip install opencv-python\n</code></pre> <p>Info</p> <p>For example, the workflow of Cell-Video uses <code>requirements.py</code>, which includes <code>opencv-python</code>.</p>"},{"location":"python/opencv/#opencv-2","title":"OpenCV 2","text":"<p>installed with python 2</p>"},{"location":"python/opencv/#opencv-3","title":"OpenCV 3","text":"<p>installed with python 3, but the <code>imshow</code> doesn\u2019t work, solve by</p> <pre><code>conda install -c menpo opencv3\n</code></pre> <p>refer to OpenCV not working properly with python on Linux with anaconda. Getting error that cv2.imshow() is not implemented Ask Question</p> <p>If necessary, install imutils: A series of convenience functions to make basic image processing operations such as translation, rotation, resizing, skeletonization, and displaying Matplotlib images easier with OpenCV and Python.</p> <pre><code>conda install -c conda-forge imutils\n</code></pre> <p>Currently I am mainly work with</p> <pre><code>(py37) $ conda list\nopencv                    3.4.2            py37h6fd60c2_1    defaults\nopencv-python             4.2.0.34                 pypi_0    pypi\n</code></pre> <p>which can be easily installed with</p> <pre><code>$ pip install opencv-python\n</code></pre> <p>pay attention to that <code>import cv2; cv2.__version__</code> returns the version of <code>opencv-python</code>. The <code>contrib</code> packages can be installed with (see, https://pypi.org/project/opencv-contrib-python/)</p> <pre><code>(py37) $ pip install opencv-contrib-python\n</code></pre>"},{"location":"python/opencv/#opencv-4","title":"OpenCV 4","text":"<p>build from source according to the official documentation</p> <p>curious how the python distinguish different versions of opencv, does it affect the conda environment?</p> <p>build from source by specifying something, refer to Buidling OpenCV with Conda on Linux and How to install OpenCV 4 on Ubuntu</p> <ol> <li>\u8fd9\u5e76\u4e0d\u610f\u5473\u7740\u53ea\u5b89\u88c5\u5728\u5177\u4f53 conda envs \u4e2d\uff0c\u800c\u662f /usr/local \u4e2d\uff0c\u6700\u540e\u518d ln -s \u8fc7\u53bb\u3002\u6362\u53e5\u8bdd\u8bf4\uff0c\u5b89\u88c5\u65f6\u4f7f\u7528\u7684 python \u73af\u5883\u4ec5\u7528\u4e8e build\u3002</li> <li><code>ln -s</code> \u65f6python site-packages \u4e0b\u7684 .so \u6587\u4ef6\u5fc5\u987b\u91cd\u547d\u540d\u4e3a cv2.so\uff0c\u5426\u5219\u627e\u4e0d\u5230\uff01\uff01</li> <li>\u6240\u6709\u5176\u5b9e\u4e00\u5f00\u59cb\u6307\u5b9a cmake\uff0c\u53ea\u662f\u4e3a\u4e86\u9488\u5bf9\u5177\u4f53\u7248\u672c\u8fdb\u884c\u7f16\u8bd1\uff0c\u6700\u540e\u8fd8\u9700\u8981\u81ea\u5df1 link\uff0c\u53c2\u7167 Compile OpenCV with Cmake to integrate it within a Conda env \u8bbe\u7f6e <code>BUILD_opencv_python2=OFF</code></li> </ol> <p>Currently (2020-07-27 21:32:18), I am not using this version, and the previous built conda env also has been deleted due to the upgrade of system. But the build folders (in <code>~/github/opencv4_build</code>) and resulting <code>.so</code> (in <code>/usr/local/lib/python3.7/site-packages/cv2/python-3.7</code>) should still be OK since the beginning python is just for building.</p>"},{"location":"python/opencv/#possible-solution-for-errors","title":"Possible Solution for Errors","text":"<ul> <li>check the image path carefully</li> </ul> <pre><code>error: OpenCV(3.4.2) /tmp/build/80754af9/opencv-suite_1535558553474/work/modules/imgproc/src/color.hpp:253: error: (-215:Assertion failed) VScn::contains(scn) &amp;&amp; VDcn::contains(dcn) &amp;&amp; VDepth::contains(depth) in function 'CvtHelper'\n</code></pre> <p>the image might be not read properly, such as wrong path.</p> <ul> <li>create a completely new environment, and install <code>python-opencv</code>, such as NULL window handler in function \u2018cvSetMouseCallback\u2019</li> </ul>"},{"location":"python/opencv/#pil-and-pillow","title":"PIL and Pillow","text":"<p>PIL is the Python Imaging Library, and Pillow is the friendly PIL fork.     - \u7531\u4e8ePIL\u4ec5\u652f\u6301\u5230Python 2.7\uff0c\u52a0\u4e0a\u5e74\u4e45\u5931\u4fee\uff0c\u4e8e\u662f\u4e00\u7fa4\u5fd7\u613f\u8005\u5728PIL\u7684\u57fa\u7840\u4e0a\u521b\u5efa\u4e86\u517c\u5bb9\u7684\u7248\u672c\uff0c\u540d\u5b57\u53ebPillow\uff0c\u652f\u6301\u6700\u65b0Python 3.x\uff0c\u53c8\u52a0\u5165\u4e86\u8bb8\u591a\u65b0\u7279\u6027 </p> <p>Info</p> <p>An example.</p>"},{"location":"python/opencv/#read-image","title":"Read Image","text":"<p>Info</p> <p>Adopted from my project.</p> <p>For a 16-bit TIFF images, the mode should be set as <code>IMREAD_ANYDEPTH</code> instead of <code>IMREAD_GRAYSCALE</code>.</p> <pre><code>&gt;&gt;&gt; im1 = cv2.imread(\"example/three_cells.tif\", cv2.IMREAD_ANYDEPTH)\n&gt;&gt;&gt; np.unique(im1)\narray([ 0, 46, 51, 52, 53, 54, 55, 56], dtype=uint16)\n&gt;&gt;&gt; im2 = cv2.imread(\"../test/example/three_cells.tif\", cv2.IMREAD_GRAYSCALE)\n&gt;&gt;&gt; np.unique(im2)\narray([0], dtype=uint8)\n</code></pre> <p>while <code>skimage.io</code> avoids such specification, which might be more convenience,</p> <pre><code>&gt;&gt;&gt; im3 = io.imread(\"../test/example/three_cells.tif\")\n&gt;&gt;&gt; np.unique(im3)\narray([ 0, 46, 51, 52, 53, 54, 55, 56], dtype=uint16)\n</code></pre> <p>As a comparison, JuliaImages uses a special type <code>NOf16</code> (standing for Normalized, with 0 integer bits and 16 fractional bits), that interprets an 16-bit integer as if it had been scaled by 1/(2^16-1), thus encoding values from 0 to 1 in 2^16 steps.</p> <pre><code>julia&gt; im = load(\"../test/example/three_cells.tif\")\n# in jupyter notebook, direct `unique(im)` will automatically shows the image pixel\njulia&gt; display(MIME(\"text/plain\"), sort(unique(im)))\n8-element Array{Gray{N0f16},1} with eltype Gray{Normed{UInt16,16}}:\nGray{N0f16}(0.0)\nGray{N0f16}(0.0007)\nGray{N0f16}(0.00078)\nGray{N0f16}(0.00079)\nGray{N0f16}(0.00081)\nGray{N0f16}(0.00082)\nGray{N0f16}(0.00084)\nGray{N0f16}(0.00085)\n</code></pre> <p>Warning</p> <p>The result returned by <code>np.unique</code> has been sorted, while Julia\u2019s <code>unique</code> does not.</p> <p>As for Matlab, <code>imread</code> performs similarly as <code>io.imread</code>, returning the integer in <code>uint16</code> form,</p> <pre><code>% original\n&gt;&gt; oIm = imread(\"../Fluo-N2DH-SIM+/01/t000.tif\")\n&gt;&gt; [max(max(oIm)), min(min(oIm))]\n\nans =\n\n1\u00d72 uint16 row vector\n\n314    73\n\n% convert to double\n&gt;&gt; doIm = double(oIm) / (2^16-1) * 255\n&gt;&gt; [max(max(doIm)), min(min(doIm))]\n\nans =\n\n1.2218    0.2840\n\n&gt;&gt; subplot(1, 2, 1), imshow(oIm)\n&gt;&gt; subplot(1, 2, 2), imshow(doIm)\n</code></pre> <p></p> <p>use <code>cv2.imwrite()</code> for writting images from <code>np.array</code>, see also Saving a Numpy array as an image</p> <ul> <li>convert data types: use <code>cv2.normalize</code>, or calculation in pure numpy, see  for more details.</li> </ul>"},{"location":"python/pytorch/","title":"Pytorch","text":"<ul> <li><code>1xn</code> + <code>Kxn</code> is OK, more rules refer to BROADCASTING SEMANTICS, see also </li> <li>save model, refer to Recommended approach for saving a model, see also </li> </ul> <pre><code>torch.save(the_model.state_dict(), PATH)\nthe_model = TheModelClass(*args, **kwargs)\nthe_model.load_state_dict(torch.load(PATH))\n</code></pre>"},{"location":"python/rpy2/","title":"rpy2","text":"<p>\u521d\u6b21\u4f53\u9a8c <code>rpy2</code></p>"},{"location":"python/rpy2/#_1","title":"\u5b89\u88c5","text":"<p>\u5c1d\u8bd5\u8fc7\u4e24\u79cd\u5b89\u88c5\u65b9\u6cd5</p>"},{"location":"python/rpy2/#1","title":"1","text":"<p><code>conda install rpy2</code>: \u9664\u4e86\u88c5 <code>rpy2</code>\uff0c\u4e5f\u4f1a\u88c5 <code>r-base</code> \u53ca\u4e00\u4e9b R \u4e2d\u7684\u6838\u5fc3\u5305\uff0c\u5373\u4fbf\u7cfb\u7edf\u4e2d\u5df2\u7ecf\u6709 <code>R</code> \u4e86\u3002\u5177\u4f53\u5982\u4e0b</p> <pre><code>Downloading and Extracting Packages\npango-1.42.4         | 528 KB    | ##################################### | 100% \ncurl-7.65.3          | 141 KB    | ##################################### | 100% \nr-bit-1.1_14         | 243 KB    | ##################################### | 100% \nr-plogr-0.2.0        | 20 KB     | ##################################### | 100% \ncertifi-2019.9.11    | 154 KB    | ##################################### | 100% \ngfortran_linux-64-7. | 10 KB     | ##################################### | 100% \nr-dbi-1.0.0          | 916 KB    | ##################################### | 100% \nr-r6-2.4.0           | 68 KB     | ##################################### | 100% \nca-certificates-2019 | 131 KB    | ##################################### | 100% \nfribidi-1.0.5        | 112 KB    | ##################################### | 100% \nlibssh2-1.8.2        | 250 KB    | ##################################### | 100% \nr-assertthat-0.2.1   | 74 KB     | ##################################### | 100% \nr-bh-1.69.0_1        | 10.9 MB   | ##################################### | 100% \nr-rlang-0.3.4        | 1.0 MB    | ##################################### | 100% \nr-crayon-1.3.4       | 757 KB    | ##################################### | 100% \nmake-4.2.1           | 429 KB    | ##################################### | 100% \nr-pillar-1.3.1       | 180 KB    | ##################################### | 100% \nkrb5-1.16.1          | 1.4 MB    | ##################################### | 100% \nr-dbplyr-1.4.0       | 622 KB    | ##################################### | 100% \nlibcurl-7.65.3       | 588 KB    | ##################################### | 100% \nr-rsqlite-2.1.1      | 1010 KB   | ##################################### | 100% \nr-cli-1.1.0          | 189 KB    | ##################################### | 100% \ntktable-2.10         | 88 KB     | ##################################### | 100% \n_r-mutex-1.0.0       | 2 KB      | ##################################### | 100% \nr-tidyselect-0.2.5   | 138 KB    | ##################################### | 100% \nr-utf8-1.1.4         | 159 KB    | ##################################### | 100% \nr-pkgconfig-2.0.2    | 25 KB     | ##################################### | 100% \nr-prettyunits-1.0.2  | 38 KB     | ##################################### | 100% \nr-bit64-0.9_7        | 487 KB    | ##################################### | 100% \nbwidget-1.9.11       | 113 KB    | ##################################### | 100% \nr-rcpp-1.0.1         | 3.3 MB    | ##################################### | 100% \nr-fansi-0.4.0        | 193 KB    | ##################################### | 100% \nr-blob-1.1.1         | 40 KB     | ##################################### | 100% \nr-digest-0.6.18      | 155 KB    | ##################################### | 100% \nr-memoise-1.1.0      | 45 KB     | ##################################### | 100% \nr-dplyr-0.8.0.1      | 1.9 MB    | ##################################### | 100% \ngfortran_impl_linux- | 9.0 MB    | ##################################### | 100% \nr-purrr-0.3.2        | 397 KB    | ##################################### | 100% \nr-glue-1.3.1         | 165 KB    | ##################################### | 100% \nr-magrittr-1.5       | 173 KB    | ##################################### | 100% \nrpy2-2.9.4           | 272 KB    | ##################################### | 100% \nr-base-3.6.0         | 39.4 MB   | ##################################### | 100% \nr-tibble-2.1.1       | 316 KB    | ##################################### | 100%\n</code></pre>"},{"location":"python/rpy2/#2","title":"2","text":"<p><code>pip install rpy2</code>: \u5219\u53ea\u4f1a\u88c5 rpy2\uff0c\u5982\u679c\u6ca1\u6709\u6743\u9650\uff0c\u53ef\u4ee5\u518d\u52a0\u4e0a <code>--user</code> \u9009\u9879\u3002</p> <pre><code>Successfully installed MarkupSafe-1.1.1 atomicwrites-1.3.0 attrs-19.3.0 cffi-1.13.2 importlib-metadata-0.23 jinja2-2.10.3 more-itertools-7.2.0 packaging-19.2 pluggy-0.13.0 py-1.8.0 pycparser-2.19 pytest-5.2.2 rpy2-3.2.2 simplegeneric-0.8.1 tzlocal-2.0.0 wcwidth-0.1.7 zipp-0.6.0\n</code></pre> <p>\u4f46\u662f\u4f7f\u7528\u65f6\uff0c\u6ca1\u627e\u5230 <code>libR.so</code>\uff0c\u731c\u6d4b\u53ef\u80fd\u662f\u56e0\u4e3a\u7f16\u8bd1\u65f6\u6ca1\u6709\u6307\u5b9a <code>--enable-R-shlib</code>\uff0c\u8be6\u89c1 Compiling R 3.5.1 from source, no libR.so \u6216\u8005 Building R from source\u3002</p>"},{"location":"python/pystan/","title":"PyStan \u4f53\u9a8c","text":""},{"location":"python/pystan/#_1","title":"\u5b89\u88c5\u73af\u5883","text":"<p>Python 3.6.4 |Anaconda, Inc.| (default, Dec 21 2017, 21:42:08)  [GCC 7.2.0] on linux</p> <p>\u76f4\u63a5\u8fd0\u884c</p> <pre><code>pip install pystan\n</code></pre>"},{"location":"python/pystan/#example-parallel-experiments-in-eight-schools","title":"Example: parallel experiments in eight schools","text":"<p>This example is from Section 5.5 of Gelman et al. (2013).</p> <p>ETS perform a study to analyze the effects of special coaching programs on test scores. The results of the experiments are summarized in the following table:</p> <p></p>"},{"location":"python/pystan/#a-pooled-estimate","title":"A pooled estimate","text":"<p>This pooled estimate is 7.7, and the posterior variance is (\\sum_{j=1}^81/\\sigma_j^2)^{-1}=16.6. Thus, we would estimate the common effect to be 7.7 points with standard error equal to \\sqrt{16.6}=4.1\\sqrt{16.6}=4.1, which would lead to the 95\\%95\\% posterior interval [-0.5, 15.9][-0.5, 15.9].</p>"},{"location":"python/pystan/#posterior-simulation-under-the-hierarchical-model","title":"Posterior simulation under the hierarchical model","text":"<p>Compute the posterior distribution of \\theta_1,\\ldots,\\theta_8\\theta_1,\\ldots,\\theta_8.</p> <p>The Bayesian analysis of this example not only allows straightforward inferences about many parameters that may be of interest, but the hierarchical model is flexible enough to adapt to the data, thereby providing posterior inferences that account for the partial pooling as well as the uncertainty in the hyperparameters.</p> <pre><code>import pystan\n\nschools_code = \"\"\"\ndata {\n    int&lt;lower=0&gt; J; // number of schools\n    vector[J] y; // estimated treatment effects\n    vector&lt;lower=0&gt;[J] sigma; // s.e. of effect estimates\n}\nparameters {\n    real mu;\n    real&lt;lower=0&gt; tau;\n    vector[J] eta;\n}\ntransformed parameters {\n    vector[J] theta;\n    theta = mu + tau * eta;\n}\nmodel {\n    eta ~ normal(0, 1);\n    y ~ normal(theta, sigma);\n}\n\"\"\"\n\nschools_dat = {'J': 8,\n               'y': [28,  8, -3,  7, -1,  1, 18, 12],\n               'sigma': [15, 10, 16, 11,  9, 11, 10, 18]}\n\nsm = pystan.StanModel(model_code=schools_code)\nfit = sm.sampling(data=schools_dat, iter = 1000, chains = 4)\n\n# return a dict of arrays\nla = fit.extract(permuted=True)\nmu = la['mu']\n\n# return an array of three dimensions: iterations, chains, parameters\na = fit.extract(permuted=False)\n\n# plot\nfit.plot()\n</code></pre> <p></p>"},{"location":"scientific/","title":"gamma computing","text":"<p>http://rosettacode.org/wiki/Gamma_function</p> <p>lanczos</p>"},{"location":"scientific/#kdirichlet","title":"\u4ea7\u751fK\u7ef4Dirichlet\u5206\u5e03\u7684\u968f\u673a\u6570","text":"<p>wiki</p> <p></p> <p></p>"},{"location":"scientific/#inflection-point","title":"Inflection Point","text":"<p>Inflection Point</p>"},{"location":"scientific/#ellipse-facts","title":"Ellipse Facts","text":"<p>More details are available at Information About Ellipses or here.</p>"},{"location":"shell/","title":"Shell Scripts","text":"<p>\u6559\u7a0b\u53c2\u8003</p> <ol> <li>\u83dc\u9e1f\u6559\u7a0b</li> <li>GNU Bash Reference Manual</li> </ol>"},{"location":"shell/#special-parameters","title":"Special Parameters","text":"<ul> <li><code>$?</code>: \u7528\u4e8e\u4fdd\u5b58\u521a\u521a\u6267\u884c\u7684\u547d\u4ee4\u7684\u72b6\u6001\u8fd4\u56de\u503c<ul> <li>0: \u6210\u529f\u6267\u884c\uff1b </li> <li>1-255: \u8868\u793a\u6267\u884c\u5931\u8d25</li> <li>2: All builtins return an exit status of 2 to indicate incorrect usage, generally invalid options or missing arguments.</li> <li>126: If a command is found but is not executable, the return status</li> <li>127: If a command is not found, the child process created to execute it returns</li> <li>128+N: When a command terminates on a fatal signal whose number is N, Bash uses the value 128+N as the exit status.</li> <li>refer to GNU Bash manual: 3.7.5 Exit Status for more details.</li> </ul> </li> <li><code>$*</code>, <code>$@</code>: \u5f15\u7528\u53c2\u6570\u3002Expands to the positional parameters, starting from one.</li> <li><code>$#</code>: \u4f4d\u7f6e\u53c2\u6570\u7684\u4e2a\u6570</li> <li><code>$0</code>: \u811a\u672c\u540d\u79f0</li> <li><code>$!</code>: the process ID of the job most recently placed into the background</li> <li><code>$$</code>: the process ID of the shell</li> </ul> <p>refer to</p> <ul> <li>GNU Bash manual: 3.4.2 Special Parameters</li> </ul>"},{"location":"shell/#safer-bash-script","title":"Safer bash script","text":"<p>Came across some scripts jperkel/nature_bash start with </p> <pre><code>set -euo pipefail\n</code></pre> <p>or docker-wechat/dochat.sh</p> <pre><code>set -eo pipefail\n</code></pre> <p>both of which provide safeguards.</p> <ul> <li><code>-e</code>: cause a bash script to exit immediately when a command fails</li> <li><code>-o pipefail</code>: set the exit code of a pipeline to that of the rightmost command to exit with a non-zero status, or to zero if all commands of the pipeline exit successfully.</li> <li><code>-u</code>: treat unset variables as an error and exit immediately</li> </ul> <p>refer to</p> <ul> <li>Safer bash scripts with \u2018set -euxo pipefail\u2019</li> <li>\u89e3\u91cabash\u811a\u672c\u4e2dset -e\u4e0eset -o pipefail\u7684\u4f5c\u7528</li> </ul>"},{"location":"shell/#double-exclamation","title":"Double Exclamation (!!)","text":"<p><code>!!</code> would execute the previous command. I found it when I type a git commit message like <code>!!! XXX</code>, which renders as <code>PREVIOUS COMMAND! XXX</code>, see  for details. See also .</p>"},{"location":"shell/#shell-builtin-vs-shell-keyword","title":"shell builtin vs shell keyword","text":"<p>For <code>time</code> command, </p> <p></p> <ul> <li>in bash shell, it calls its builtin command, which is a shell keyword</li> </ul> <pre><code>~$ type time\ntime is a shell keyword\n</code></pre> <ul> <li>on the other hand, in sh shell, it calls its builtin command, which refers to <code>/usr/bin/time</code></li> </ul> <pre><code>$ type time\ntime is /usr/bin/time\n</code></pre> <p>So, as mentioned in <code>man time</code>, the full path <code>/usr/bin/time</code> is necessary in bash shell.</p> <p>Users of the bash shell need to use an explicit path in order to run the external time command and not the shell builtin variant.  On system where time is installed in       /usr/bin, the first example would become            /usr/bin/time wc /etc/hosts</p> <ul> <li>https://askubuntu.com/questions/445749/whats-the-difference-between-shell-builtin-and-shell-keyword</li> </ul>"},{"location":"shell/#line-begin-with","title":"line begin with <code>:</code>","text":"<p>came across in <code>R_HOME/etc/ldpaths</code> when I am investigating the loading issue of conda env from rstudio, https://github.com/szcf-weiya/techNotes/issues/32#issuecomment-881508987</p> <pre><code>if test -n \"/media/weiya/PSSD/Programs/anaconda3/envs/R4.1.0/lib\"; then\n: ${R_LD_LIBRARY_PATH=${R_HOME}/lib:/media/weiya/PSSD/Programs/anaconda3/envs/R4.1.0/lib}\nelse\n: ${R_LD_LIBRARY_PATH=${R_HOME}/lib}\nfi\n</code></pre> <p>I am guessing it is also a grammar for variable assignment, and someone (refer to Colon at the beginning of line in docker entrypoint bash script - Stack Overflow) has explained that</p> <p><code>:</code> is a no-op command: that is, it doesn\u2019t do anything, but arguments are evaluated normally. Contrast this with a comment (<code>#</code>), which does nothing at all (everything following the <code>#</code> is simply ignored).</p> <p>also check What is the purpose of the : (colon) GNU Bash builtin? - Stack Overflow</p>"},{"location":"shell/#shell","title":"shell\u53d8\u91cf","text":"<ol> <li>\u5b9a\u4e49\u53d8\u91cf\u65f6\uff0c\u53d8\u91cf\u540d\u4e0d\u52a0\u7f8e\u5143\u7b26\u53f7</li> <li>\u53d8\u91cf\u540d\u548c\u7b49\u53f7\u4e4b\u95f4\u4e0d\u80fd\u6709\u7a7a\u683c</li> <li>\u53d8\u91cf\u540d\u5916\u9762\u7684\u82b1\u62ec\u53f7\u662f\u53ef\u9009\u7684\uff0c\u52a0\u4e0d\u52a0\u90fd\u884c\uff0c\u52a0\u82b1\u62ec\u53f7\u662f\u4e3a\u4e86\u5e2e\u52a9\u89e3\u91ca\u5668\u8bc6\u522b\u53d8\u91cf\u7684\u8fb9\u754c\uff0c\u6bd4\u5982\u4e0b\u9762 <code>for</code> \u5faa\u73af\u4e2d\u4e3e\u7684 <code>${skill}</code> \u4f8b\u5b50\u3002</li> </ol>"},{"location":"shell/#iterators-in-for-loop","title":"iterators in <code>for</code> loop","text":"<ul> <li>separated by space</li> </ul> <pre><code>for skill in Ada Coffe Action Java; do\necho \"I am good at ${skill}Script\"\ndone\n</code></pre> <ul> <li><code>start..stop..length</code></li> </ul> <pre><code>for i in {5..50..5}; do\necho $i\ndone\n</code></pre> <p>Warning</p> <p>Not valid in <code>sh</code>, and use it with <code>bash</code>! <pre><code>$ ./sumbit_job.sh\n2\n4\n6\n8\n$ sh ./sumbit_job.sh\n{2..8..2}\n</code></pre></p> <p>Warning</p> <p>cannot support variable, such as <pre><code>$ a=100; for i in {160..250..$a}; do echo $i; done\n{160..250..100}\n$ a=100; for i in {160..250..100}; do echo $i; done\n160\n</code></pre> Instead, we can use <code>seq</code>. The reason is that</p> <p>In bash, brace expansion happens before variable expansion, so this is not directly possible.</p> <ul> <li>construct an array</li> </ul> <p>actually, it can be used to construct an array,</p> <pre><code>arr=({1..10..2})\necho ${arr[@]}\nfor i in ${arr[@]}; do\necho $i\ndone\n</code></pre> <ul> <li><code>seq</code></li> </ul> <p>alternatively, we can use <code>seq</code>,</p> <pre><code>for i in $(seq 5 5 50); do\necho $i\ndone\n</code></pre>"},{"location":"shell/#string","title":"String","text":""},{"location":"shell/#quotes","title":"Quotes","text":"<ol> <li>\u5355\u5f15\u53f7\u91cc\u7684\u4efb\u4f55\u5b57\u7b26\u90fd\u4f1a\u539f\u6837\u8f93\u51fa\uff0c\u5355\u5f15\u53f7\u5b57\u7b26\u4e32\u4e2d\u7684\u53d8\u91cf\u662f\u65e0\u6548\u7684\uff1b</li> <li>\u5355\u5f15\u53f7\u5b57\u4e32\u4e2d\u4e0d\u80fd\u51fa\u73b0\u5355\u5f15\u53f7\uff08\u5bf9\u5355\u5f15\u53f7\u4f7f\u7528\u8f6c\u4e49\u7b26\u540e\u4e5f\u4e0d\u884c\uff09\u3002</li> <li>\u53cc\u5f15\u53f7\u91cc\u53ef\u4ee5\u6709\u53d8\u91cf</li> <li>\u53cc\u5f15\u53f7\u91cc\u53ef\u4ee5\u51fa\u73b0\u8f6c\u4e49\u5b57\u7b26</li> </ol> <p>\u867d\u7136\u6ca1\u6cd5\u7ed9\u5355\u5f15\u53f7\u91cc\u9762\u7684\u53cc\u5f15\u53f7\u8d4b\u503c\uff0c\u4f46\u53ef\u4ee5\u901a\u8fc7\u4e24\u4e2a\u5355\u5f15\u53f7\u8fde\u8d77\u6765\u3002\u6bd4\u5982</p> <pre><code>$ STR=\"STR\"; julia -e 'println('\\\"$STR\\\"')'\nSTR\n</code></pre> <p>\u6ce8\u610f\u5176\u4e2d\u7684\u53cc\u5f15\u53f7\u9700\u8981\u8f6c\u4e49\uff0c\u5426\u5219 <code>$STR</code> \u76f4\u63a5\u8d4b\u503c\u4e3a\u4e0d\u5e26\u5f15\u53f7\u7684 <code>STR</code>\u3002The reason is that</p> <p>quotation marks in the shell are not word delimiters; by themselves, they don\u2019t terminate a word. You can go in and out of quotes, including between different types of quotes, within the same word to get the desired result source</p> <p>Example</p> <ul> <li>bash scripts for julia</li> </ul>"},{"location":"shell/#strip-first-2-characters","title":"strip first 2 characters","text":"<p>simplest way:</p> <pre><code>${string:2}\n</code></pre> <p>More generally, <code>${str:position:length}</code> extracts the substring started from the <code>position</code> with length <code>length</code>.</p> <p>Some alternatives refer to How can I strip first X characters from string using sed?, or Remove first character of a string in Bash</p> <p>a real application in my project:</p> <pre><code>list=\"\"\nfor nc in {2..10}; do\nfor nf in 5 10 15; do\nlist=\"$list,acc-$nc-$nf\"\n#https://stackoverflow.com/questions/6594085/remove-first-character-of-a-string-in-bash\necho ${list:1}\ndone\ndone\n</code></pre>"},{"location":"shell/#strip-from-left-or-right","title":"strip from left or right","text":"<pre><code># \u4ece\u5de6\u6700\u5927\u5316\u5339\u914d\u5b57\u7b26 `y`\uff0c\u7136\u540e\u622a\u6389\u5de6\u8fb9\u5185\u5bb9\n$ var=\"xxyyzz\" &amp;&amp; echo ${var##*y}\nzz\n# \u4ece\u5de6\u5339\u914d\u7b2c\u4e00\u4e2a\u5b57\u7b26 `y`\n$ var=\"xxyyzz\" &amp;&amp; echo ${var#*y}\nyzz\n# \u4ece\u53f3\u6700\u5927\u5316\u5339\u914d\u5b57\u7b26 `y`\uff0c\u7136\u540e\u622a\u6389\u53f3\u8fb9\u5185\u5bb9\n$ var=\"xxyyzz\" &amp;&amp; echo ${var%%y*}\nxx\n# \u4ece\u53f3\u5339\u914d\u7b2c\u4e00\u4e2a\u5b57\u7b26 `y`\n$ var=\"xxyyzz\" &amp;&amp; echo ${var%y*}\nxxy\n</code></pre>"},{"location":"shell/#remove-last-character","title":"remove last character","text":"<p>with <code>bash 4.2+</code>,</p> <pre><code>$ var=\"xxyyzz\" &amp;&amp; echo ${var::-1}\nxxyyz\n</code></pre> <p>refer to Delete the last character of a string using string manipulation in shell script</p>"},{"location":"shell/#replace-character","title":"replace character","text":"<pre><code>$ var=\"xxyyzz\" &amp;&amp; echo ${var/xx/XX}\nXXyyzz\n</code></pre> <p>But this only replaces the first occurrence, for all occurrence, use double slashes, i.e., <code>${var//xx/XX}</code></p> <p>Another application is to check whether a string is not empty, neither space, <code>[ -n \"${str// /}\" ]</code>, see also </p>"},{"location":"shell/#default-value","title":"default value","text":"<ul> <li><code>${1:-foo}</code>: if parameter is unset or null, the expansion of word is substituted.</li> <li><code>${1-foo}</code>: only substitute if parameter is unset.</li> </ul> <p>refer to How to write a bash script that takes optional input arguments?</p> <p>applications:</p> <ul> <li>Clouds/run_test_local.sh</li> </ul>"},{"location":"shell/#array","title":"Array","text":"<ol> <li>\u5728Shell\u4e2d\uff0c\u7528\u62ec\u53f7\u6765\u8868\u793a\u6570\u7ec4\uff0c\u6570\u7ec4\u5143\u7d20\u7528\u201c\u7a7a\u683c\u201d\u7b26\u53f7\u5206\u5272\u5f00\u3002</li> <li>\u6240\u6709\u5143\u7d20\uff1a<code>${ARRAY[@]}</code> \u6216\u8005 <code>${ARRAY[*]}</code></li> <li>\u6570\u7ec4\u957f\u5ea6\uff1a<code>${#ARRAY[@]}</code></li> <li>\u4ece 0 \u7f16\u53f7\uff1a<code>${ARRAY[0]}</code>\uff0c\u7c7b\u4f3c C \u8bed\u8a00\uff0c\u4e0e <code>${ARRAY}</code> \u8fd4\u56de\u7ed3\u679c\u76f8\u540c\u3002</li> </ol>"},{"location":"shell/#image-link-url-label","title":"Image Link -&gt; URL + Label","text":"<p>We can use </p> <pre><code>![IMG_0802](https://user-images.githubusercontent.com/13688320/72489850-733ae480-3850-11ea-8e51-15021588a7e6.jpg)\n</code></pre> <p>to insert an image into the post. If there are multiple external web images with regular labels, such as <code>IMG_0XXX</code>, it might be convenient to convert the above format to</p> <pre><code>[IMG_0802]: https://user-images.githubusercontent.com/13688320/72489850-733ae480-3850-11ea-8e51-15021588a7e6.jpg\n</code></pre> <p>and then use the image with <code>![IMG_0802][IMG_0802]</code>. The solution is</p> <pre><code>sed -i \"s/\\!\\[IMG_\\([0-9]\\{4\\}\\)\\](\\(.*\\))/\\[IMG_\\1\\]\\: \\2/g\" FILENAME\n</code></pre> <ul> <li><code>\\(\\)</code> \u7528\u4e8e\u5339\u914d\u5b50\u4e32\uff0c\u5e76\u53ef\u4ee5\u901a\u8fc7 <code>\\1</code>, <code>\\2</code> \u5f15\u7528</li> <li><code>\\!</code> \u9700\u8981 escape</li> <li><code>\\2</code> \u524d\u9762\u7684\u7a7a\u683c\u4e0d\u9700\u8981\u5199\u6210 <code>[ ]</code>\uff0c\u4e0d\u7136\u4f1a\u76f4\u63a5\u51fa\u73b0 <code>[ ]</code>\uff0c\u800c\u4e4b\u524d\u67d0\u6b21\u4e3a\u4e86\u5339\u914d\u591a\u4e2a\u7a7a\u683c\u9700\u8981\u5199\u6210 <code>[ ]*</code></li> </ul> <p>Info</p> <p>A practical example</p>"},{"location":"shell/#external-images-local","title":"External Images -&gt; Local","text":"<p>\u4eba\u603b\u662f\u5584\u53d8\u7684\uff0c\u8fc7\u4e86\u4e00\u6bb5\u65f6\u95f4\uff0c\u6211\u53c8\u60f3\u628a\u8fd9\u4e9b img \u4e0b\u8f7d\u5230\u672c\u5730\u6587\u4ef6\u5939\u3002\u6709\u4e2a\u539f\u56e0\u662f\u76f4\u63a5\u4f7f\u7528 GitHub \u7684\u5916\u94fe\u56fe\u7247\uff0c\u5728\u5899\u5916\u8bbf\u95ee\u90fd\u5f88\u6d41\u7545\uff0c\u4f46\u662f\u75ab\u60c5\u671f\u95f4\u5f85\u5728\u5bb6\uff0c\u5c31\u60f3\u5c06\u8fd9\u4e9b\u5916\u94fe\u56fe\u7247\u4e0b\u8f7d\u5230\u672c\u5730\uff0c\u7136\u540e\u901a\u8fc7\u672c\u5730\u5f15\u7528\u56fe\u7247\uff0c\u8fd9\u6837\u4f7f\u5f97\u5899\u5185\u8bbf\u95ee\u66f4\u52a0\u6d41\u7545\u3002</p> <p>\u4f46\u662f\u4e4b\u524d\u5904\u7406\u8fc7\u7684\u6587\u4ef6\u90fd\u5220\u6389\u4e86\uff0c\u53ea\u5269\u4e0b\u4f20\u5230 GitHub \u4e0a\u7684\u4e86\uff0c\u6240\u4ee5\u6211\u9996\u5148\u8981\u628a\u6587\u4ef6\u4e0b\u8f7d\u5230\u5408\u9002\u7684\u4f4d\u7f6e\u5e76\u91cd\u547d\u540d\u3002\u6bd4\u5982\u5bf9\u4e8e\u6587\u4ef6 <code>_posts/2019-12-21-quant-genetics.md</code>\uff0c\u53ea\u4fdd\u7559\u4e86 <code>https://user-images.githubusercontent.com/</code> \u7684\u94fe\u63a5\uff0c\u91c7\u7528\u4e0b\u9762\u7684\u811a\u672c\u4e0b\u8f7d\u5230\u5408\u9002\u7684\u4f4d\u7f6e\u5e76\u91cd\u547d\u540d\uff0c</p> <pre><code>grep -E \"https://user-images.\" _posts/2019-12-21-quant-genetics.md | while read -a ADDR; do if [ ${#ADDR[@]} -eq 2 ]; then proxychains wget ${ADDR[1]} -O images/2019-12-21-quant-genetics/${ADDR[0]:1:8}.jpg; fi; done\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li><code>ADDR[0]:1:8</code> \u662f\u6240\u8c13\u7684 \u201cParameter Expansion\u201d ${parameter:offset:length}\uff0c\u7528\u4e8e\u63d0\u53d6\u7279\u5b9a\u8303\u56f4\u7684\u5b50\u4e32</li> <li><code>wget -O</code> \u662f\u91cd\u547d\u540d\uff0c\u8fd9\u91cc\u987a\u5e26\u79fb\u52a8\u5230\u5408\u9002\u7684\u4f4d\u7f6e</li> <li><code>proxychains</code> \u5219\u662f\u7528\u4e8e\u79d1\u5b66\u4e0a\u7f51</li> <li><code>read -a ADDR</code> \u8868\u793a\u5c06\u5206\u5272\u540e\u7684\u5b57\u7b26\u4e32\uff08\u6bd4\u5982\u9ed8\u8ba4\u6309\u7167\u7a7a\u683c\u8fdb\u884c\u5206\u5272\uff0c\u6216\u8005\u6307\u5b9a <code>IFS=</code>\uff09\u653e\u8fdb\u6570\u7ec4 ADDR \u4e2d\uff0c\u8be6\u89c1 <code>help read</code>\uff0c\u800c <code>man read</code> \u5e76\u6ca1\u6709\u7ed9\u51fa\u53c2\u6570\u5217\u8868\u3002\u53e6\u5916\u9700\u8981\u6ce8\u610f\u5230\u6570\u7ec4 <code>$ADDR</code> \u8fd4\u56de\u7ed3\u679c\u4e3a <code>${ADDR[0]}</code>.<ul> <li>\u8bfb\u53d6\u5355\u884c\u6587\u4ef6\u65f6\uff0c\u91c7\u7528 <code>;</code> \u800c\u975e pipeline\uff0c\u6bd4\u5982\u6587\u4ef6 <code>text.txt</code> \u6709\u5355\u884c\u5185\u5bb9 <code>1 2 3 4</code>. \u5e94\u7528 <code>read -a A &lt; test.txt; echo ${A[0]}</code>\uff0c\u800c\u975e <code>read -a A &lt; test.txt | echo ${A[0]}</code>\uff0c\u540e\u8005\u8fd4\u56de\u7a7a\u7ed3\u679c\u3002</li> </ul> </li> </ul>"},{"location":"shell/#git-init-date-as-post-date","title":"Git Init Date as Post Date","text":"<p>\u5c06 ESL-CN \u4e2d\u7684\u624b\u52a8\u8f93\u5165\u7684\u65f6\u95f4\u7edf\u4e00\u4e3a\u53d1\u5e03\u7684\u65f6\u95f4\uff0c\u8be6\u89c1</p> <pre><code>for file in $(find . -regex \"./.*\\.md\"); do\nfirst=$(git log --date=short --format=%ad --follow $file | tail -1)\necho $file $first\nsed -i \"s/^\\(|*\\)[ ]*\u65f6\u95f4[ ]*|[^|]*\\(|*\\)[ ]*$/\\1 \u53d1\u5e03 | $first \\2/g\" $file\ndone\n</code></pre> <p>\u5176\u4e2d </p> <ul> <li><code>$first</code> \u63d0\u53d6\u6700\u521d commit \u7684\u65f6\u95f4</li> <li><code>\\1</code> \u548c <code>\\2</code> \u662f\u4e3a\u4e86\u5904\u7406\u6709\u4e9b\u8868\u683c\u5199\u7684\u662f <code>|--|--|</code>\uff0c\u800c\u6709\u4e9b\u7528\u7684\u662f <code>--|--</code>\uff0c\u5982\u679c\u6df7\u7528\uff0c\u5219\u5217\u4f1a\u53d1\u751f\u504f\u79fb\uff0c\u6240\u4ee5\u81ea\u9002\u5e94\u4fdd\u7559\u539f\u5148\u7684\u683c\u5f0f</li> <li><code>|[^|]*</code> \u662f\u4e3a\u4e86\u5339\u914d\u7b2c\u4e8c\u4e2a\u9664\u8868\u683c\u7b26\u53f7 <code>|</code> \u7684\u5185\u5bb9\uff0c\u4e0d\u8981\u76f4\u63a5\u7528 <code>|.*</code>\uff0c\u8fd9\u6837\u4e5f\u4f1a\u5339\u914d\u6700\u540e\u7684 <code>|</code>\uff0c\u4ece\u800c <code>\\2</code> \u5339\u914d\u4e0d\u5230</li> <li>\u5b9a\u754c\u7b26<code>^$</code> \u4e3a\u4e86\u9632\u6b62\u5339\u914d\u6b63\u6587\u4e2d\u7684 <code>\u65f6\u95f4</code></li> </ul>"},{"location":"shell/#rename-in-batch","title":"Rename in Batch","text":"<p>\u6709\u65f6\u5019\u4e0b\u8f7d\u6587\u4ef6\u65f6\u7f51\u7ad9\u5e76\u6ca1\u6709\u533a\u5206\u540c\u540d\u6587\u4ef6\uff0c\u4e0b\u8f7d\u5230\u672c\u5730\u540e\u4f1a\u51fa\u73b0 <code>A.zip</code> \u4e0e <code>A (1).zip</code> \u7684\u60c5\u51b5\uff0c\u4f46\u8fd9\u4e24\u4e2a\u5e76\u4e0d\u662f\u76f8\u540c\u7684\u6587\u4ef6\uff0c\u6240\u4ee5\u907f\u514d\u4ee5\u540e\u8bef\u5220\uff0c\u51b3\u5b9a\u91cd\u547d\u540d\u3002\u4e0d\u8fc7\u6b64\u7c7b\u6587\u4ef6\u6709\u597d\u51e0\u4e2a\uff0c\u6279\u91cf\u5904\u7406\u4ee3\u7801\u4e3a</p> <pre><code>ls -1 | grep \"(1)\" | while read -a ADDR; do mv \"${ADDR[0]} (1).zip\" \"${ADDR[0]}_SOMETHING.zip\"; done\n</code></pre>"},{"location":"shell/#ip","title":"\u7edf\u8ba1\u8bbf\u95ee\u65e5\u5fd7\u91cc\u6bcf\u4e2a ip \u8bbf\u95ee\u6b21\u6570","text":"<pre><code>#!/bin/bash\ncat access.log |sed -rn '/28\\/Jan\\/2015/p' &gt; a.txt\ncat a.txt |awk '{print $1}'|sort |uniq &gt; ipnum.txt\nfor i in `cat ipnum.txt`; do\niptj=`cat  access.log |grep $i | grep -v 400 |wc -l`\necho \"ip\u5730\u5740\"$i\"\u57282015-01-28\u65e5\u5168\u5929(24\u5c0f\u65f6)\u7d2f\u8ba1\u6210\u529f\u8bf7\u6c42\"$iptj\"\u6b21\uff0c\u5e73\u5747\u6bcf\u5206\u949f\u8bf7\u6c42\u6b21\u6570\u4e3a\uff1a\"$(($iptj/1440)) &gt;&gt; result.txt\ndone\n</code></pre> <p>Refer to</p> <ul> <li>\u7528shell\u7edf\u8ba1\u8bbf\u95ee\u65e5\u5fd7\u91cc\u6bcf\u4e2aip\u8bbf\u95ee\u6b21\u6570</li> <li>\u6280\u672f|\u5982\u4f55\u5728Linux\u4e2d\u4f7f\u7528awk\u547d\u4ee4</li> <li>unix - count of columns in file</li> <li>HANDY ONE-LINE SCRIPTS FOR AWK</li> <li>Learn How to Use Awk Special Patterns \u2018BEGIN and END\u2019 \u2013 Part 9</li> <li>Print line numbers starting at zero using awk</li> </ul>"},{"location":"shell/#split-string-while-reading-files","title":"split string while reading files","text":"<p>specify <code>IFS=</code>.</p> <ol> <li>How to split a tab-delimited string in bash script WITHOUT collapsing blanks?</li> <li>Split String in shell script while reading from file</li> <li>Read a file line by line assigning the value to a variable</li> </ol>"},{"location":"shell/#distribute-jobs-into-queues","title":"distribute jobs into queues","text":"<p>since different queues has different quota, try to assign the job into available nodes.</p> <pre><code>queue=(bigmem large batch)\nqueues=()\nfor ((i=0;i&lt;12;i++)) do queues+=(${queue[0]}); done;\nfor ((i=0;i&lt;20;i++)) do queues+=(${queue[1]}); done;\nfor ((i=0;i&lt;15;i++)) do queues+=(${queue[2]}); done;\n</code></pre> <p>where <code>((i++))</code> increases <code>i</code> by 1, and similar syntax can be</p> <pre><code>i=0\ni=$((i+1))\n# or\ni=$(($i+1))\n# or\n((i+=1))\n# or\n((i++))\n</code></pre> <p><code>((...))</code> also support general arithmetic operations, such as</p> <pre><code>a=30\nb=10\necho $((a+=b))\necho $((a*=b))\necho $((a-=b))\necho $((a/=b))\necho $((a/=b))\n# 40\n# 400\n# 390\n# 39\n# 3\n</code></pre> <p>but note that it does not allow float number, as the last equation, which should be <code>39/10=3.9</code></p> <p>the float calculation can take the advantage of other programs, such as</p> <pre><code># Note that `BEGIN` cannot be removed, otherwise it is waiting for input file\n# see the BEGIN and END pattern of awk\n$ awk \"BEGIN {print 39/10}\"\n3.9\n$ bc &lt;&lt;&lt; \"39/10\"\n3\n$ bc &lt;&lt;&lt; \"scale=2; 39/10\"\n3.90\n</code></pre> <p>refer to</p> <ul> <li>Add a new element to an array without specifying the index in Bash</li> <li>Repeat an element n number of times in an array</li> <li>The Double-Parentheses Construct</li> <li>Increment variable value by 1 ( shell programming)</li> <li>Shell \u6570\u7ec4</li> <li>How to do integer &amp; float calculations, in bash or other languages/frameworks?</li> </ul>"},{"location":"shell/#command-line-arguments","title":"Command line arguments","text":"<p>refer to Taking Command Line Arguments in Bash</p>"},{"location":"shell/#join-elements-of-an-array-in-bash","title":"join elements of an array in Bash","text":"<pre><code>arr=(a b c)\nprintf '%s\\n' \"$(IFS=,; printf '%s' \"${arr[*]}\")\"\n# a,b,c\n</code></pre> <p>where <code>*</code> or <code>@</code> return all elements of such array.</p> <p>refer to How can I join elements of an array in Bash?</p>"},{"location":"shell/#a-more-complex-way","title":"A more complex way","text":"<pre><code>list=\nfor nc in {2..10}; do\nfor nf in 5 10 15; do\nif [ -z \"$list\" ]\nthen\nlist=acc-$nc-$nf\nelse\nlist=$list,acc-$nc-$nf\nfi\ndone\ndone\necho $list\n</code></pre>"},{"location":"shell/#globbing-for-ls-vs-regular-expression-for-find","title":"globbing for <code>ls</code> vs regular expression for <code>find</code>","text":"<p>Support we want to get <code>abc2.txt</code> as stated in Listing with <code>ls</code> and regular expression ,</p> <p><code>ls</code> does not support regular expressions, but it can work with globbing, or filename expressions.</p> <pre><code>ls *[!0-9][0-9].txt\n</code></pre> <p>where <code>!</code> is complement.</p> <p>Alternatively, we can use <code>find -regex</code>,</p> <pre><code>find . -maxdepth 1 -regex '\\./.*[^0-9][0-9]\\.txt'\n</code></pre> <p>where</p> <ul> <li><code>-maxdepth 1</code> disables recursive, and only to find files in the current directory</li> </ul> <p>We also can add <code>-exec ls</code> to get the output of <code>ls</code>, and change the regex type by <code>-regextype egrep</code>.</p> <p>Regular Expressions</p> <ul> <li>Regular Expressions in Perl</li> </ul>"},{"location":"shell/#multiple-ifs","title":"Multiple <code>IFS</code>","text":"<pre><code>while IFS= read -a ADDR; do\nIFS=':' read -a Line &lt;&lt;&lt; $ADDR\necho ${Line[0]};\ndone &lt; &lt;(grep -nE \"finished\" slurm-37985.out)\n</code></pre> <p>will also output the numbers of the finished line.</p> <ul> <li><code>&lt;()</code> is called process substitution, see also pipe grep output to paste input</li> <li><code>&lt;&lt;&lt;</code> is known as <code>here string</code>, and different from <code>&lt;&lt;</code>, <code>&lt;</code></li> </ul> <p>refer to How can I store the \u201cfind\u201d command results as an array in Bash</p> <p>my working case:</p> <pre><code>files=()\nstart_time=$(date -d \"2019-09-21T14:11:16\" +'%s')\nend_time=$(date -d \"2019-09-22T20:07:00\" +'%s')\nwhile IFS=  read -r -d $'\\0'; do\nIFS='_' read -ra ADDR &lt;&lt;&lt; \"$REPLY\"\ntimestamp=$(date -d ${ADDR[2]} +'%s')\nif [ $timestamp -ge $start_time -a $timestamp -lt $end_time ]; then\ncurr_folder=\"${ADDR[0]}_${ADDR[1]}_${ADDR[2]}\"\nfiles+=(\"${ADDR[0]}_${ADDR[1]}_${ADDR[2]}\")\nqsub -v folder=${curr_folder} revisit_sil_parallel.job\n  fi\ndone &lt; &lt;(find . -maxdepth 1 -regex \"\\./oracle_setting_2019-09-.*recall\\.pdf\" -print0)\n</code></pre>"},{"location":"shell/#_1","title":"\u94fe\u63a5\u81ea\u52a8\u63a8\u9001","text":"<pre><code>find -regex \"\\./.*\\.html\" | sed -n \"s#\\./#https://esl.hohoweiya.xyz/#p\" &gt;&gt; ../urls.txt\n</code></pre>"},{"location":"shell/#get-path-of-the-current-script","title":"Get path of the current script","text":"<p>we can get the path of the current script via</p> <pre><code>CURDIR=`/bin/pwd`\nBASEDIR=$(dirname $0)\nABSPATH=$(readlink -f $0)\nABSDIR=$(dirname $ABSPATH)\n</code></pre> <p>refer to darrenderidder/bashpath.sh</p> <p>Tip</p> <p><code>dirname</code> is one of the functions for filenames, here are many other functions, such as</p> <ul> <li><code>dir</code></li> <li><code>realpath</code></li> <li><code>abspath</code></li> </ul> <p>see 8.3 Functions for File Names for more details.</p> <p>where <code>dirname</code>, together with <code>basename</code> aims to extract the filename and path, such as</p> <pre><code>$ basename /dir1/dir2/file.txt\nfile.txt\n$ dirname /dir1/dir2/file.txt\n/dir1/dir2\n$ dirname `dirname /dir1/dir2/file.txt`\n/dir1\n</code></pre> <p>but note that <code>dirname</code> would also return the parent directory of a directory, as shown in the last case.</p> <p>Alternatively, we can use <code>${}</code> to extract the path,</p> <pre><code># \u4ece\u5de6\u5f00\u59cb\u6700\u5927\u5316\u5339\u914d\u5230\u5b57\u7b26 `/`\uff0c\u7136\u540e\u622a\u6389\u5de6\u8fb9\u5185\u5bb9\uff08\u5305\u62ec`/`)\n$ var=/dir1/dir2/file.txt &amp;&amp; echo ${var##*/}\nfile.txt\n# \u6587\u4ef6\u540e\u7f00\n$ var=/dir1/dir2/file.txt &amp;&amp; echo ${var##*.}\ntxt\n# \u4e24\u4e2a\u6587\u4ef6\u540e\u7f00\uff08\u4ece\u5de6\u5f00\u59cb\u7b2c\u4e00\u6b21\u5339\u914d\u5230\u5b57\u7b26 `.`\uff0c\u7136\u540e\u622a\u6389\u5de6\u8fb9\u5185\u5bb9\uff08\u5305\u62ec`/`)\n$ var=/dir1/dir2/file.tar.gz &amp;&amp; echo ${var#*.}\ntar.gz\n# \u4ece\u53f3\u5f00\u59cb\u7b2c\u4e00\u6b21\u5339\u914d\u5230\u5b57\u7b26 `/`\n$ var=/dir1/dir2/file.txt &amp;&amp; echo ${var%/*}\n/dir1/dir2\n# \u4ece\u53f3\u6700\u5927\u5316\u5339\u914d\u5230\u5b57\u7b26 `.`\n$ var=/dir1/dir2/file.tar.gz &amp;&amp; echo ${var%%.*}\n/dir1/dir2/file\n</code></pre> <p>\u5176\u4e2d <code>*</code> \u8868\u793a\u8981\u5220\u9664\u7684\u5185\u5bb9\uff0c\u53e6\u5916\u8fd8\u9700\u8981\u4e00\u4e2a\u5b57\u7b26\u8868\u793a\u622a\u65ad\u70b9\uff0c\u6ce8\u610f\u5230\u4e0e <code>#</code> \u4f7f\u7528\u65f6\u622a\u65ad\u5b57\u7b26\u5728\u53f3\u8fb9\uff0c\u800c\u4e0e <code>%</code> \u4f7f\u7528\u65f6\u622a\u65ad\u5b57\u7b26\u5728\u5de6\u8fb9\u3002</p> <p>\u53c2\u8003 shell \u63d0\u53d6\u6587\u4ef6\u540d\u548c\u76ee\u5f55\u540d</p>"},{"location":"shell/#if-statement","title":"<code>if</code> statement","text":""},{"location":"shell/#devnull","title":"<code>&amp;&gt; /dev/null</code>","text":"<p>We can add <code>&amp;&gt; /dev/null</code> to hidden the output information in the condition of <code>if</code>. For example, check if user exists,</p> <pre><code>#!/bin/bash\n# refer to https://blog.51cto.com/64314491/1629175\nif id $1 &amp;&gt; /dev/null; then\necho \"$1 exists\"\nelse\necho \"$1 is not exists\"\nfi\n</code></pre> <p>note that for an existed user, the exit code is 0, while for a non-existed user, the exit code is non-zero, so the above command seems counter-intuitive.</p> <pre><code>~$ id weiya &amp;&gt; /dev/null \n~$ echo $?\n0\n~$ id weiya2 &amp;&gt; /dev/null \n~$ echo $?\n1\n</code></pre> <p>another similar form can be found in <code>&gt;/dev/null 2&gt;&amp;1</code> in <code>if</code> statement</p> <p>Another example: test if a file has an empty line,</p> <pre><code>#!/bin/bash\nif grep \"^$\" $1 &amp;&gt; /dev/null; then\necho \"there are `grep \"^$\" $1 | wc -l` empty lines\"\nelse\necho \"no empty lines\"\nfi\n</code></pre>"},{"location":"shell/#logical-operation","title":"logical operation","text":"<p>\u5224\u65ad Linux \u53d1\u884c\u7248\u6240\u5c5e\u4e3b\u6d41\u53d1\u884c\u7cfb\u5217\uff0c\u53e6\u89c1 Linux Distributions</p> <pre><code>#!/bin/bash\nif [ $1 == Fedora -o $1 == Gentoo -o $1 == Redhat ]; then\necho \"The $1 is Redhat Series.\"\nelif [ $1 == Suse -o $1 == Opensuse ]; then\necho \"The $1 is Suse Series.\"\nelif [ $1 == Ubuntu -o $1 == Mint -o $1 == Debian ]; then\necho \"The $1 is Debian Series.\"\nelse\necho \"The $1 is Unknown Series.\"\nfi\n</code></pre>"},{"location":"shell/#check-if-uid-equals-gid","title":"check if uid equals gid","text":"<pre><code>#!/bin/bash\nif id $1 &amp;&gt; /dev/null; then\n# not -G\nif [[ `id -u $1` -eq `id -g $1` ]]; then\necho \"gid = uid\"\nelse\necho \"gid not uid\"\nfi\nelse\necho \"not exist\"\nfi\n</code></pre> <p>note that use <code>-g</code> instead of <code>-G</code>, where the latter one would print all group ids.</p> <p>Info</p> <p>get the id of specific user, <code>id -u weiya</code>, or get the corresponding username by the name, <code>id -un 1000</code>.</p>"},{"location":"shell/#sum-parameters","title":"sum parameters","text":"<pre><code>#!/bin/bash\nsum=0\nfor I in `seq 1 $#`; do\nsum=$(($sum+$I))\ndone\necho $sum\n</code></pre> <p>alternatively,</p> <pre><code>#!/bin/bash\n# refer to https://blog.51cto.com/64314491/1629175\nsum=0\nfor I in `seq 1 $#`; do\nsum=$(($sum+$1))\nshift\ndone\necho $sum\n</code></pre> <p>where <code>shift</code> alternates the parameters such that <code>$1</code> becomes the next parameter.</p> <p>The results are</p> <pre><code>$ ./sum-paras.sh 1 2 3 4\n10\n$ ./sum-paras2.sh 1 2 3 4\n10\n</code></pre>"},{"location":"shell/#test-string","title":"test string","text":"<ul> <li><code>=~</code>: \u5224\u65ad\u5de6\u8fb9\u7684\u5b57\u7b26\u4e32\u662f\u5426\u80fd\u88ab\u53f3\u8fb9\u7684\u6a21\u5f0f\u6240\u5339\u914d</li> <li><code>-z $A</code>: \u5b57\u7b26\u4e32\u957f\u5ea6\u662f\u5426\u4e3a zero\uff08\u4e3a\u7a7a\u5219\u4e3a\u771f\uff0c\u5426\u5219\u4e3a\u5047\uff09</li> <li><code>-n $A</code>: \u5b57\u7b26\u4e32\u957f\u5ea6\u662f\u5426\u4e3a nonzero\uff08\u4e3a\u7a7a\u5219\u4e3a\u5047\uff0c\u5426\u5219\u4e3a\u771f\uff09</li> <li>more details refer to <code>man test</code>.</li> </ul> <pre><code>#!/bin/bash\nShell=`grep \"^$1:\" /etc/passwd | cut -d: -f7`\nif [[ -z $Shell ]]; then\necho \"No such user\"\nfi\nif [[ $Shell =~ sh$ ]]; then\necho \"Login user\"\nelse\necho \"Not a login user\"\nfi\n</code></pre>"},{"location":"shell/#test-file","title":"test file","text":"<p>\u683c\u5f0f\u4e3a <code>[ EXPR FILE ]</code>\uff0c\u5176\u4e2d\u5e38\u89c1 <code>EXPR</code> \u6709</p> <ul> <li><code>-f</code>: \u6d4b\u8bd5\u5176\u662f\u5426\u4e3a\u666e\u901a\u6587\u4ef6\uff0c\u5373 <code>ls -l</code> \u65f6\u6587\u4ef6\u7c7b\u578b\u4e3a <code>-</code> \u7684\u6587\u4ef6</li> <li><code>-d</code>: \u6d4b\u8bd5\u5176\u662f\u5426\u4e3a\u76ee\u5f55\u6587\u4ef6\uff0c\u5373 <code>ls -l</code> \u65f6\u6587\u4ef6\u7c7b\u578b\u4e3a <code>d</code> \u7684\u6587\u4ef6</li> <li><code>-e</code>: \u6d4b\u8bd5\u6587\u4ef6\u662f\u5426\u5b58\u5728\uff1b\u5b58\u5728\u4e3a\u771f\uff0c\u5426\u5219\u4e3a\u5047</li> <li><code>-r</code>: \u6d4b\u8bd5\u6587\u4ef6\u5bf9\u5f53\u524d\u7528\u6237\u6765\u8bf4\u662f\u5426\u53ef\u8bfb</li> <li><code>-w</code>: \u6d4b\u8bd5\u6587\u4ef6\u5bf9\u5f53\u524d\u7528\u6237\u6765\u8bf4\u662f\u5426\u53ef\u5199</li> <li><code>-x</code>: \u6d4b\u8bd5\u6587\u4ef6\u5bf9\u5f53\u524d\u7528\u6237\u6765\u8bf4\u662f\u5426\u53ef\u6267\u884c</li> <li><code>-s</code>: \u6d4b\u8bd5\u6587\u4ef6\u5927\u5c0f\u662f\u5426\u4e0d\u7a7a\uff0c\u4e0d\u7a7a\u5219\u771f\uff0c\u7a7a\u5219\u5047</li> </ul> <p>\u4f8b\u5b50</p> <pre><code>if [ ! -e /tmp/test ]; then\nmkdir /tmp/test\nfi\n</code></pre> <p>refer to bash\u6761\u4ef6\u5224\u65ad\u4e4bif\u8bed\u53e5</p>"},{"location":"shell/#aka-test-vs","title":"<code>[</code> (aka <code>test</code>) vs <code>[[</code>","text":"<p>Refer to [What is the difference between test, [ and [ ?</p> <p>Both are used to evaluate expressions, but</p> <ul> <li><code>[[</code> works only in Korn shell, Bash, Zsh, and recent versions of Yash and busybox <code>sh</code></li> <li><code>[</code> is POSIX utilities (generally builtin)</li> </ul> <p></p> <p>But there are some differences:</p> <ul> <li>no word splitting or glob expansion will be done for <code>[[</code>, i.e., many arguments need not be quoted, while <code>[</code> usually should be quoted</li> <li>parentheses in <code>[[</code> do not need to be escaped</li> </ul> <p>also see</p> <ul> <li>What do square brackets mean without the \u201cif\u201d on the left?</li> <li>Is double square brackets preferable over single square brackets in Bash?</li> </ul>"},{"location":"shell/#_2","title":"<code>$[</code>","text":"<p>Refer to What does a dollar sign followed by a square bracket mean in bash?</p> <p>With <code>$</code>, <code>[</code> is also can be used for arithmetic expansion, such as</p> <pre><code>$ echo $[ $RANDOM % 2 ]\n0 # 1\n$ echo $[ 1+2 ]\n3\n</code></pre> <p>and actually <code>$[</code> syntax is an early syntax that was deprecated in favor of <code>$((</code>, although it\u2019s not completely removed yet.</p>"},{"location":"shell/#vs-vs-eq","title":"<code>=</code> vs <code>==</code> vs <code>-eq</code>","text":"<p>from the above discussion:</p> <ul> <li><code>==</code> is a bash-ism</li> <li><code>=</code> is POSIX</li> </ul> <p>In bash the two are equivalent, but in plain sh <code>=</code> is the only one guaranteed to work. And these two are for string comparisons, while <code>-eq</code> is for numerical ones.</p> <p>refer to Shell equality operators (=, ==, -eq)</p>"},{"location":"shell/#grep-keep-the-first-line-use-sed-instead","title":"grep keep the first line (use <code>sed</code> instead)","text":"<p>Refer to Include header in the \u2018grep\u2019 result</p> <p>I am using</p> <pre><code>$ sinfo -o \"%P %N %C %G\" -N | grep gpu\n</code></pre> <p>to get the GPU status of the nodes on the cluster, but the header cannot be kept, then I tried</p> <pre><code>$ sinfo -o \"%P %N %C %G\" -N | { head -1; grep gpu; }\n</code></pre> <p>but it only shows the header</p> <p>Next I got the excellent solution via <code>sed</code>,</p> <pre><code>$ sinfo -o \"%P %N %C %G\" -N | sed -n \"1p;/gpu/p\"\n</code></pre> <p>and it can hide the highlighter of <code>gpu</code>.</p>"},{"location":"shell/#compare-two-blocks-in-a-txt-file","title":"compare two blocks in a txt file","text":"<p>for example, compare L82-95 with L108-123,</p> <pre><code>$ diff &lt;(sed -n \"82,95p\" measure.jl) &lt;(sed -n \"108,123p\" measure.jl)\n</code></pre>"},{"location":"shell/#as-trycatch","title":"<code>||</code> as <code>try...catch</code>","text":"<p>No <code>try...catch</code> in bash script, but <code>command1 || command2</code> can achieve similar functionality, if <code>command1</code> fails then <code>command2</code> runs.</p> <p>An application is to create a new tmux session if there is no such a tmux session,</p> <pre><code>t() { tmux a -t $1 || tmux new -s $1; }\n</code></pre> <p>refer to Is there a TRY CATCH command in Bash</p>"},{"location":"shell/#replace-a-multiple-line-string","title":"Replace a multiple line string","text":"<p><code>sed</code> is powerful for replace in one-line, but it would be much more complicated for multiple line string. </p> <p>An alternative is to use <code>perl</code>,</p> <pre><code>$ printf \"###BEGIN-EXCLUDE\\nwww\\n###END-EXCLUDE\" | perl -0777 -pe \"s/###BEGIN-EXCLUDE(.*?)###END-EXCLUDE/xxx/igs\"\nxxx\n</code></pre> <p>where</p> <ul> <li><code>-0777</code> causes Perl to slurp files whole, see -0[octal/hexadecimal] for more details</li> <li><code>-e commandline</code></li> <li><code>-p</code>: my understanding is something for printing, but the official document explain more </li> </ul> <p>For a file to be edited in-place, we add <code>-i</code>,</p> <pre><code>$ perl -0777 -i -pe \"s/###BEGIN-EXCLUDE(.*?)###END-EXCLUDE//igs\" test.txt\n</code></pre> <p>if we supply an extension such as <code>-i'.orig'</code>, then the old file would be backed up to <code>test.txt.orig</code>.</p> <p>Refer to How can I use sed to replace a multi-line string?</p> <p>Moreover, <code>.*?</code> is a non-greedy match, comparing to <code>.*</code>. </p> <pre><code>$ echo \"s12tAs34t\" | perl -pe \"s/s(.*?)t/xx/igs\"\nxxAxx\n$ echo \"s12tAs34t\" | perl -pe \"s/s(.*)t/xx/igs\"\nxx\n</code></pre> <p>Refer to 6.15. Greedy and Non-Greedy Matches docstore.mik.ua/orelly/perl/cookbook/ch06_16.htm for details.</p> <p>By default, <code>grep</code> performs greedy match, adding option <code>-P</code> would enable Perl\u2019s non-greedy match.</p> <p></p> <p>Info</p> <p>An real application: update_bib.sh</p> <p>Refer to How to do a non-greedy match in grep?</p>"},{"location":"shell/#cut-lines-from-large-file","title":"Cut Lines from Large File","text":"<p>TL; DR</p> <ul> <li>the most efficient is <code>tail -n+ | head</code> (or <code>head | tail</code>)</li> <li>the exit option <code>q</code> for <code>sed</code>, <code>exit</code> for <code>awk</code> and <code>perl</code> can speed up.</li> </ul> <p>prepare the follow text file to compare the processing speed of several common methods,</p> <pre><code>$ l1=1000000\n$ l2=1000050\n$ l=100000000\n\n$ seq 1e8 &gt; test.txt\n</code></pre> <ul> <li><code>head + tail</code></li> </ul> <pre><code>$ time tail -n+$l1 test.txt | head -n $(($l2 - $l1 + 1)) &gt; /dev/null \n\nreal    0m0.033s\nuser    0m0.019s\nsys 0m0.000s\n\n$ time head -n $l2 test.txt | tail -n $(($l2 - $l1 + 1)) &gt; /dev/null \n\nreal    0m0.014s\nuser    0m0.019s\nsys 0m0.007s\n\n$ time tail -n $(($l - $l1 + 1)) test.txt | head -n $(($l2 - $l1 + 1)) &gt; /dev/null \n\nreal    0m25.930s\nuser    0m1.467s\nsys 0m1.807s\n</code></pre> <p>note that <code>tail -n+</code> is much powerful than <code>tail -n</code>, it seems like the former one just move the cursor to the specific line, while the latter need to load/count from the last line (my guess). Refer to cat line X to line Y on a huge file</p> <p><code>sed</code>/<code>awk</code>/<code>perl</code> solutions read the whole file and since this is about huge files, they\u2019re not very efficient. But they can be faster via <code>exit</code> or <code>quit</code> after the last line in the specified range (refer to What\u2019s the best way to take a segment out of a text file?):</p> <ul> <li><code>sed</code></li> </ul> <pre><code>$ time sed -n \"$l1,$l2 p\" test.txt &gt; /dev/null \n\nreal    0m4.621s\nuser    0m4.253s\nsys 0m0.336s\n\n$ time sed -n \"$l1,$l2 p; $l2 q\" test.txt &gt; /dev/null \n\nreal    0m0.054s\nuser    0m0.047s\nsys 0m0.008s\n</code></pre> <ul> <li><code>awk</code></li> </ul> <pre><code>$ time awk \"$l1 &lt;= NR &amp;&amp; NR &lt;= $l2\" test.txt &gt; /dev/null \n\nreal    0m15.294s\nuser    0m15.046s\nsys 0m0.220s\n\n$ time awk \"$l1 &lt;= NR &amp;&amp; NR &lt;= $l2; NR&gt;$l2{exit}\" test.txt &gt; /dev/null \n\nreal    0m0.158s\nuser    0m0.158s\nsys 0m0.001s\n</code></pre> <ul> <li><code>perl</code></li> </ul> <pre><code>$ time perl -ne \"print if ${l1}..${l2}\" test.txt &gt; /dev/null \n\nreal    0m10.708s\nuser    0m10.498s\nsys 0m0.200s\n\n$ time perl -ne \"print if $. &gt;= ${l1}; exit if $. &gt; ${l2}\" test.txt &gt; /dev/null \n\nreal    0m0.203s\nuser    0m0.203s\nsys 0m0.000s\n</code></pre> <ul> <li>others</li> </ul> <pre><code>$ time ed -s test.txt &lt;&lt;&lt; \"$l1, $l2 p\" &gt; /dev/null \n\nreal    0m43.132s\nuser    0m6.234s\nsys 0m3.637s\n</code></pre>"},{"location":"shell/#delete-lines-in-large-file","title":"Delete Lines in Large File","text":"<p>either <code>q</code> or <code>u</code> does not make differences for deleting.</p> <pre><code>$ seq 1e7 &gt; test.txt\n$ time sed -iu \"$l1,$l2 d\" test.txt \n\nreal    0m26.481s\nuser    0m5.558s\nsys 0m20.592s\n\n$ time sed -iu \"$l1,$l2 d; $l2 q\" test.txt \n\nreal    0m26.560s\nuser    0m5.611s\nsys 0m20.566s\n\n$ time sed -i \"$l1,$l2 d; $l2 q\" test.txt \n\nreal    0m27.161s\nuser    0m5.682s\nsys 0m21.266s\n</code></pre> <pre><code>$ time {\nsed \"$l1,$l2 d\" &lt; test.txt\n  perl -le 'truncate STDOUT, tell STDOUT'\n} 1&lt;&gt; test.txt\n\nreal    0m0.983s\nuser    0m0.913s\nsys 0m0.069s\n\n$ wc -l test.txt\n9999949 test.txt\n</code></pre> <p>Tip</p> <p>\u5728 <code>wc</code> \u4e2d\u6587\u4ef6\u524d\u9762\u63d2\u5165 <code>&lt;</code> \u5219\u4e0d\u4f1a\u8fd4\u56de\u6587\u4ef6\u540d\uff0c\u5373 <code>wc -l &lt; test.txt</code>. \u53e6\u89c1 </p> <pre><code>$ time {\nhead -n \"$(($l1 - 1))\"\nhead -n \"$(($l2 - $l1 + 1))\" &gt; /dev/null\n  cat\n  perl -le 'truncate STDOUT, tell STDOUT'\n} &lt; test.txt 1&lt;&gt; test.txt2\n\nreal    0m0.069s\nuser    0m0.007s\nsys 0m0.061s\n\n$ wc -l test.txt\n10000000 test.txt\n$ wc -l test.txt2\n9999949 test.txt2\n</code></pre> <p>where we open two file descriptors to the files, </p> <ul> <li>one in read-only mode using <code>&lt; test.txt</code> short for <code>0&lt; test.txt</code></li> <li>one in read-write mode using <code>1&lt;&gt; test.txt2</code> (<code>&lt;&gt; file</code> would be <code>0&lt;&gt; file</code>)</li> </ul> <p>then just treat <code>fd0</code> as the input and <code>fd1</code> as the output. </p> <ul> <li>the first <code>head</code> reads first <code>$l1 - 1</code> lines from <code>fd0</code> and write that to <code>fd1</code></li> <li>the second <code>head</code> removes the middle lines from <code>fd0</code> but <code>fd1</code> retains.</li> <li>the following <code>cat</code> reads the remaining lines from <code>fd0</code> to <code>fd1</code></li> <li><code>cat</code> will return when it reaches the end of file on <code>fd0</code>, but <code>fd1</code> will point to somewhere in the file that has not been overwritten yet. What we need is to truncate the file at the exact location where that <code>fd1</code> points to now. That\u2019s done with the <code>ftruncate</code> system call. <code>tell STDOUT</code> gives us the current cursor position associated with <code>fd1</code>. And we truncate the file at the offset using perl\u2019s interface to the <code>ftruncate</code> system call: <code>truncate</code>. The usage is that</li> </ul> <pre><code>truncate FILEHANDLE,LENGTH\ntruncate EXPR,LENGTH\n    Truncates the file opened on FILEHANDLE, or named by EXPR, to the specified length.\n</code></pre> <p>refer to Is there a faster way to remove a line (given a line number) from a file?</p> <p>Warning</p> <p>In the reference, the author wrote <code>&lt; file 1&lt;&gt; file</code>, which might be confusing that he used the same file, then it would throws an error,</p> <p>cat: -: input file is output file</p> <p>Actually, I think he wanted to represent two files comparing to the first solution he mentioned, in which only single file used, and he warned that \u201cDangerous as you\u2019ve no backup copy there.\u201d</p> <p>Here is another discussion on Why can\u2019t an input file be an output file? - Unix &amp; Linux Stack Exchange</p> <p>I also run the third solution, but the lines are not deleted. There might be some incompatible reasons.</p>"},{"location":"shell/#redirection-and-file-descriptor","title":"Redirection and File Descriptor","text":""},{"location":"shell/#hide-output-from-bg-process","title":"hide output from bg process","text":"<p>Note that</p> <p>when you put &amp; the output - both stdout and stderr - will still be printed onto the screen.</p> <p>If you do not want to see any output on the screen, redirect both stdout and stderr to a file by:</p> <p><pre><code>myscript &gt; ~/myscript.log 2&gt;&amp;1 &amp;\n</code></pre> or just</p> <pre><code>myscript &gt; /dev/null 2&gt;&amp;1 &amp;\n</code></pre> <p>refer to Why can I see the output of background processes?</p> <p>Specifically, integer <code>1</code> stands for <code>stdout</code> file descriptor, while <code>2</code> represents <code>stderr</code> file descriptor (refer to How to redirect stderr to a file).</p> <pre><code>echo Hello World &gt; /dev/null\n</code></pre> <p>is same as</p> <pre><code>echo Hello World 1&gt; /dev/null\n</code></pre> <p>Info</p> <p>Formally, this is called redirecting output: <code>[n]&gt;[|]word</code>, if <code>n</code> is not specified, it is the standard output (fd 1).</p> <p>Similarly,</p> <ul> <li>redirecting input: <code>[n]&lt;word</code>, if <code>n</code> is not specified, it is the standard input (fd 0)</li> <li>appending redirected output: <code>[n]&gt;&gt;word</code>, if <code>n</code> is not specified, it is the standard output (fd 1)</li> </ul> <p>As for spacing, integer is right next to redirection operator, but file can either be next to redirection operator or not, i.e., <code>command 2&gt;/dev/null</code> or <code>command 2&gt; /dev/null</code>.</p> <p>The classical operator, <code>command &gt; file</code> only redirects standard output, several choices to redirect stderr,</p> <ul> <li>Redirect stdout to one file and stderr to another file</li> </ul> <pre><code>command &gt; out 2&gt; error\n</code></pre> <ul> <li>Redirect stdout to a file, and then redirect stderr to stdout NO spacings in <code>2&gt;&amp;1</code></li> </ul> <pre><code>command &gt; out 2&gt;&amp;1\n</code></pre> <ul> <li>Redirect both to a file (not supported by all shells, but <code>bash</code> is OK)</li> </ul> <pre><code>command &amp;&gt; out\n</code></pre> <p>Info</p> <p>Formally, this is called redirecting standard output (fd 1) and standard error (fd 2): <code>&amp;&gt;word</code> or <code>&gt;&amp;word</code>, but the first one is preferred, and it is equivalent to <code>&gt;word 2&gt;&amp;1</code>.</p> <p>A related one is appending standard output and standard error: <code>&amp;&gt;&gt;word</code>, which is equivalent to <code>&gt;&gt;word 2&gt;&amp;1</code></p> <p>In more technical terms, <code>[n]&gt;&amp;word</code> is called Duplicating Output File Descriptor:</p> <ul> <li><code>[n]&lt;&amp;word</code> is used to duplicate input file descriptors. If <code>word</code> expands to one or more digits, the file descriptor denoted by <code>n</code> is made to be a copy of that file descriptor.</li> <li><code>[n]&gt;&amp;word</code> is used to duplicate output file descriptors.</li> </ul> <p>Warning</p> <p>The order of redirections is significant. For example, <pre><code>ls 2&gt;&amp;1 &gt; dirlist\n</code></pre> directs only the standard output to file <code>dirlist</code>, because the standard error was made a copy of the standard output before the standard output was redirected to <code>dirlist</code>.</p> <p>We can redirect output to a file and stdout simultaneously</p> <pre><code>program [arguments...] 2&gt;&amp;1 | tee outfile\n</code></pre> <p>Other kinds of redirections can be found in the official documentation, 3.6 Redirections</p> <ul> <li>here documents</li> </ul> <pre><code>[n]&lt;&lt;[-]word\n    here-document\ndelimiter\n</code></pre> <p>for example, HELP_USAGE</p> <ul> <li>here strings: <code>[n]&lt;&lt;&lt; word</code></li> <li>moving file descriptors: <code>[n]&lt;&amp;digit-</code> (or <code>[n]&gt;&amp;digit-</code>) moves the fd <code>digit</code> to fd <code>n</code></li> <li>opening fd for reading and writing: <code>[n]&lt;&gt;word</code>, the default is fd 0 if <code>n</code> is not specified.</li> </ul>"},{"location":"shell/#select-lines-based-on-2nd-file","title":"select lines based on 2nd file","text":"<p>Given an input file,</p> <pre><code>a\nb\nb\nc\nc\nc\nd\ne\nf\nf\ng\n</code></pre> <p>and given the duplicated index file, where the second column is the starting index for duplicates, and the first column is the corresponding number of duplicates. </p> <p>The goal is to delete the duplicated records but only keep one of them. Although </p> <pre><code>$ uniq input.txt\n</code></pre> <p>can finish the work. But if there are multiple columns in <code>input.txt</code> and the uniqueness is determined by several selected index. It might be convenient to keep the duplicated index (or the corresponding unique index).</p> <pre><code>{\nlastid=0\nlastn=1\nwhile read n id; do\necho $n, $id &gt;&amp;2\nretain=$(( $id - ($lastid + $lastn - 1) ))\nremove=$(($n - 1))\necho \"$n, $id, retain $retain, remove $remove\" &gt;&amp;2\nhead -n \"$retain\" &lt;&amp;3 &gt;&amp;1\n# head -n $(($id - 1))\nhead -n \"$remove\" &lt;&amp;3 &gt; /dev/null\n        lastn=$n\nlastid=$id\ndone &lt; duplicated.idx # DO USE `3&lt;` here, otherwise while read from input.txt\ncat &lt;&amp;3 &gt;&amp;1\nperl -le 'truncate STDOUT, tell STDOUT'\n} 3&lt; input.txt 1&lt;&gt; out.txt\n</code></pre> <p>refer to</p> <ul> <li>Is there a faster way to remove a line (given a line number) from a file?</li> <li>3.6 Redirections</li> </ul>"},{"location":"shell/#vs","title":"<code>&amp;&amp;</code> vs <code>;</code>","text":"<ul> <li><code>cmd1 &amp;&amp; cmd2</code>: if <code>cmd1</code> failed, then <code>cmd2</code> would not execute</li> <li><code>cmd1 ; cmd2</code>: if <code>cmd1</code> failed, <code>cmd2</code> will still execute</li> </ul> <p>so use <code>&amp;&amp;</code> when <code>cmd1</code> is to enter the folder, refer to Crontab - Run in directory - Stack Overflow</p>"},{"location":"stan/","title":"Index","text":""},{"location":"stan/#inv_wishart-not-positive-definite","title":"<code>inv_wishart</code> not positive definite","text":"<p>inv_wishart resulting in asymmetric matrices</p>"},{"location":"stan/#nan","title":"<code>nan</code>","text":"<p>If declared in the <code>transformed parameters</code> block, need a definition, otherwise put it in the <code>parameters</code> block.</p> <p>Random variable is nan, but must not be nan!</p>"},{"location":"stats/","title":"Statistics","text":""},{"location":"stats/#distribution-relationships","title":"Distribution relationships","text":""},{"location":"stats/#gamma-wishart","title":"Gamma &amp; Wishart","text":"Gamma(k,\\theta) = Wishart(\\nu, \\sigma^2)\\,,  <p>where k=\\nu/2k=\\nu/2 and \\theta=2\\sigma^2\\theta=2\\sigma^2.</p> <p>Refer to ARPM: Wishart and Gamma distribution</p>"},{"location":"stats/#gamma-chi-squared","title":"Gamma &amp; Chi-squared","text":"<ul> <li>\\chi^2_k = Gamma(k/2, 2)\\chi^2_k = Gamma(k/2, 2)</li> <li>c\\chi^2_k = Gamma(k/2, 2c)c\\chi^2_k = Gamma(k/2, 2c)</li> <li>\\sum_{i=1}^n\\chi^2_k(\\lambda) = \\chi^2_{nk}(n\\lambda)\\sum_{i=1}^n\\chi^2_k(\\lambda) = \\chi^2_{nk}(n\\lambda).</li> </ul>"},{"location":"stats/#calculus","title":"Calculus","text":"<ol> <li>\\int_0^\\infty e^{-x^2}dx\\int_0^\\infty e^{-x^2}dx, see Impossible Integral.</li> <li>Integral Inequality Absolute Value: |\\int^b_af(x)g(x) dx\u2223\\le\\int_a^b|f(x)|\u22c5|g(x)| dx|\\int^b_af(x)g(x) dx\u2223\\le\\int_a^b|f(x)|\u22c5|g(x)| dx</li> <li>\\sum \\dfrac{1}{n\\log n}\\sum \\dfrac{1}{n\\log n} and \\sum \\dfrac{1}{n\\log n\\log(\\log n)}\\sum \\dfrac{1}{n\\log n\\log(\\log n)} diverges, while \\sum\\dfrac{1}{x\\log^2x}\\sum\\dfrac{1}{x\\log^2x} converges, refer to Infinite series \u2026 for more details.</li> <li>\\int_{-\\infty}^\\infty \\sin x/x = \\pi\\int_{-\\infty}^\\infty \\sin x/x = \\pi, refer to math.stackexchange</li> </ol>"},{"location":"stats/#simplex-volume","title":"Simplex Volume","text":"<p>A simplex in nn-dimensional Euclidean space is a convex solid with n+1n+1 vertices, its volume is </p>  V_n = \\frac{1}{n!}h_nh_{n-1}\\cdots h_1\\,,   V_n = \\frac{1}{n!}h_nh_{n-1}\\cdots h_1\\,,  <p>where h_ih_i is the distance between the ii-th and the i+1i+1-th vertices.</p> <p>See Simplex Volumes and the Cayley-Menger Determinant for more details.</p>"},{"location":"stats/#interesting-graphs","title":"Interesting Graphs","text":"<p>Cardioid (\u5fc3\u5f62)\uff1ar=2a(1+\\cos\\theta)r=2a(1+\\cos\\theta)</p>"},{"location":"stats/#bootstrap-samples","title":"Bootstrap samples","text":"<ol> <li>How many different bootstrap samples are there?</li> </ol>"},{"location":"stats/#confidence-set-for-parameter-vector-in-linear-regression","title":"Confidence set for parameter vector in linear regression","text":"<p>Confidence set for parameter vector in linear regression</p>"},{"location":"stats/#order-statistics","title":"Order statistics","text":"<ol> <li>Expected value of the k-th order statistic from uniform random variables</li> </ol>"},{"location":"stats/#spherical-and-elliptical-distributions","title":"Spherical and Elliptical Distributions","text":"<p>Spherical and Elliptical Distributions</p>"},{"location":"stats/#wishart-distribution","title":"Wishart Distribution","text":""},{"location":"stats/#subscript-notation-in-expectations","title":"Subscript notation in expectations.","text":"<p>Always confused the risk function</p>  \\E_P[L(\\theta(P),\\hat\\theta)]\\,,   \\E_P[L(\\theta(P),\\hat\\theta)]\\,,  <p>more clearly one for me is </p>  R_T(P)=\\E[L(P,T(X))]=\\int_{\\cal X}L(P,T(x))dP_X(x)   R_T(P)=\\E[L(P,T(X))]=\\int_{\\cal X}L(P,T(x))dP_X(x)  <p>And one related question asked in Subscript notation in expectations</p>"},{"location":"stats/#fisher-information-matrix-and-hessian-matrix","title":"Fisher Information matrix and Hessian matrix","text":"<p>the second derivative of the log-likelihood evaluated at the maximum likelihood estimates (MLE) is the observed Fisher information. This is exactly what most optimization algorithms like optim in R return: the Hessian evaluated at the MLE. When the negative log-likelihood is minimized, the negative Hessian is returned. As you correctly point out, the estimated standard errors of the MLE are the square roots of the diagonal elements of the inverse of the observed Fisher information matrix. In other words: The square roots of the diagonal elements of the inverse of the Hessian (or the negative Hessian) are the estimated standard errors.</p>  \\mathbf{I}(\\theta)=-\\frac{\\partial^{2}}{\\partial\\theta_{i}\\partial\\theta_{j}}l(\\theta),~~~~ 1\\leq i, j\\leq p   \\mathbf{I}(\\theta)=-\\frac{\\partial^{2}}{\\partial\\theta_{i}\\partial\\theta_{j}}l(\\theta),~~~~ 1\\leq i, j\\leq p  <p>and </p>  \\mathbf{H}(\\theta)=\\frac{\\partial^{2}}{\\partial\\theta_{i}\\partial\\theta_{j}}l(\\theta),~~~~ 1\\leq i, j\\leq p   \\mathbf{H}(\\theta)=\\frac{\\partial^{2}}{\\partial\\theta_{i}\\partial\\theta_{j}}l(\\theta),~~~~ 1\\leq i, j\\leq p  <p>Refer to Basic question about Fisher Information matrix and relationship to Hessian and standard errors</p>"},{"location":"stats/#prove-sum_i1ny_i-hat-y_ihat-y_i-bar-y-0sum_i1ny_i-hat-y_ihat-y_i-bar-y-0-in-linear-regression","title":"Prove \\sum_{i=1}^n(y_i-\\hat y_i)(\\hat y_i-\\bar y) = 0\\sum_{i=1}^n(y_i-\\hat y_i)(\\hat y_i-\\bar y) = 0 in linear regression","text":"<p>Note that X'(Y-X\\beta) = 0X'(Y-X\\beta) = 0, then take the first column of XX, i.e., the first row of X'X', then we can get \\sum_{i=1}^ny_i=\\sum_{i=1}^n\\hat y_i\\sum_{i=1}^ny_i=\\sum_{i=1}^n\\hat y_i.</p>"},{"location":"stats/matrix/","title":"Matrix","text":""},{"location":"stats/matrix/#eigenvectors-in-ellipsoids","title":"Eigenvectors in ellipsoids","text":"<ol> <li>Correspondence between eigenvalues and eigenvectors in ellipsoids</li> <li>Relationship between ellipsoid radii and eigenvalues</li> </ol>"},{"location":"stats/matrix/#symmetric-positive-semidefinite","title":"symmetric positive semidefinite","text":"<p>every symmetric positive semi-definite matrix A can be written A = X^TXA = X^TX, not all positive semi-definite. As a counterexample, for \\lambda &gt; 0\\lambda &gt; 0 and \\vert \\epsilon\\vert &lt; \\lambda\\vert \\epsilon\\vert &lt; \\lambda, </p>  A = \\begin{bmatrix} \\lambda &amp; \\epsilon\\\\ 0 &amp; \\lambda \\end{bmatrix}   A = \\begin{bmatrix} \\lambda &amp; \\epsilon\\\\ 0 &amp; \\lambda \\end{bmatrix}  <p>is positive semi-definite, but cannot be written A=X^TXA=X^TX.</p> <p>refer to Proof of a matrix is positive semidefinite iff it can be written in the form X\u2032X</p>"},{"location":"stats/matrix/#eigenvectors-and-eigenvalues-from-xtxxtx-to-xxtxxt","title":"eigenvectors and eigenvalues from X^TXX^TX to XX^TXX^T","text":"<ul> <li>X^TvX^Tv with vv eigenvector of vv of XX^TXX^T to nonzero eigenvalue</li> <li>vectors in the null space of XX</li> </ul> <p>refer to Eigenvectors and eigenvalues from X^TXX^TX to XX^TXX^T?</p>"},{"location":"stats/matrix/#can-matrix-exponentials-be-negative","title":"Can matrix exponentials be negative?","text":"<p>Refer to Can matrix exponentials ever be negative? If so, under what conditions?.</p> <p>One argument: if the matrix to have non-negative entries off-diagonal, then the matrix exponentials must be positive.</p>"},{"location":"stats/matrix/#spectral-theorem","title":"Spectral Theorem","text":"<p>Refer to Brillinger, D. R. (1981). Time series: data analysis and theory (Vol. 36). Siam..</p>"},{"location":"stats/matrix/#theorem-371","title":"Theorem 3.7.1","text":"<p>If \\H\\H is a J\\times JJ\\times J Hermitian matrix, then </p>  \\H = \\sum_{j=1}^J\\mu_j\\U_j\\bar\\U_j^T   \\H = \\sum_{j=1}^J\\mu_j\\U_j\\bar\\U_j^T  <p>where \\mu_j\\mu_j is the jj-th latent value of \\H\\H and \\U_j\\U_j is the corrsponding latent vector.</p>"},{"location":"stats/matrix/#corollary-371","title":"Corollary 3.7.1","text":"<p>If \\H\\H is J\\times JJ\\times J Hermitian, then it may written \\U\\M\\bar \\U^T\\U\\M\\bar \\U^T where \\M = \\diag\\{\\mu_j;j=1,\\ldots,J\\}\\M = \\diag\\{\\mu_j;j=1,\\ldots,J\\} and \\U=[\\U_1,\\ldots,\\U_J]\\U=[\\U_1,\\ldots,\\U_J] is unitary. Also if \\H\\H is non-negative definite, then \\mu_j\\ge 0,j=1,\\ldots,J\\mu_j\\ge 0,j=1,\\ldots,J.</p>"},{"location":"stats/matrix/#theorem-372","title":"Theorem 3.7.2","text":"<p>If \\Z\\Z is J\\times KJ\\times K, then </p>  \\Z = \\sum_{j\\le J,K}\\mu_j\\U_j\\bar\\V_j^T   \\Z = \\sum_{j\\le J,K}\\mu_j\\U_j\\bar\\V_j^T  <p>where \\mu_j^2\\mu_j^2 is the jj-th latent value of \\Z\\bar\\Z^T\\Z\\bar\\Z^T (or \\bar \\Z^T\\Z\\bar \\Z^T\\Z), \\U_j\\U_j is the jj-th latent vector of \\Z\\bar\\Z^T\\Z\\bar\\Z^T and \\V_j\\V_j is the jj-th latent vector of \\bar \\Z^T\\bar \\Z\\bar \\Z^T\\bar \\Z and it is understood \\mu_j\\ge 0\\mu_j\\ge 0.</p>"},{"location":"stats/matrix/#corollary-372","title":"Corollary 3.7.2","text":"<p>If \\Z\\Z is J\\times KJ\\times K, then it may be written \\U\\M\\bar\\V^T\\U\\M\\bar\\V^T where the J\\times KJ\\times K \\M=\\diag\\{\\mu_j:j=1,\\ldots,J\\}\\M=\\diag\\{\\mu_j:j=1,\\ldots,J\\}, the J\\times JJ\\times J \\U\\U is unitary and K\\times KK\\times K \\V\\V is also unitary.</p>"},{"location":"stats/matrix/#theorem-374","title":"Theorem 3.7.4","text":"<p>Let \\Z\\Z be J\\times KJ\\times K. Among J\\times KJ\\times K matrices \\A\\A of rank L\\le J,KL\\le J,K</p>  \\mu_j([\\Z-\\A][\\overline{\\Z-\\A}]^T)   \\mu_j([\\Z-\\A][\\overline{\\Z-\\A}]^T)  <p>is minimized by </p>  \\A = \\sum_{j=1}^L\\mu_j\\U_j\\bar \\V_j^T\\,.   \\A = \\sum_{j=1}^L\\mu_j\\U_j\\bar \\V_j^T\\,.  <p>The minimum achieved is \\mu_{j+L}^2\\mu_{j+L}^2.</p>"},{"location":"stats/matrix/#corollary-374","title":"Corollary 3.7.4","text":"<p>The above choice of \\A\\A also minimizes </p>  \\Vert \\Z-\\A\\Vert^2 = \\sum_{j=1}^J\\sum_{k=1}^K\\vert Z_{jk}-A_{jk}\\vert^2   \\Vert \\Z-\\A\\Vert^2 = \\sum_{j=1}^J\\sum_{k=1}^K\\vert Z_{jk}-A_{jk}\\vert^2  <p>for \\A\\A of rank L\\le J,KL\\le J,K. The minimum achieved is </p>  \\sum_{j&gt;L}\\mu_j^2\\,.   \\sum_{j&gt;L}\\mu_j^2\\,."},{"location":"stats/matrix/#orthogonal-matrix","title":"Orthogonal matrix","text":"<p>Orthogonal matrix implies that both of columns and rows are orthogonal.</p> <p>Refer to Column Vectors orthogonal implies Row Vectors also orthogonal?</p>"},{"location":"stats/matrix/#decomposition","title":"Decomposition","text":""},{"location":"stats/matrix/#cholesky","title":"Cholesky","text":"<p>A symmetric, positive definite square matrix AA has a Cholesky decomposition into a product of a lower triangular matrix LL and its transpose L^TL^T,</p>  A=LL^T\\,.   A=LL^T\\,.  <p>This decomposition can be used to convert the linear system Ax=bAx=b into a pair of triangular systems, Ly=b,L^Tx=yLy=b,L^Tx=y, which can be solved by forward and back-substitution.</p> <p>If the matrix AA is near singular, it is sometimes possible to reduce the condition number and recover a more accurate a more accurate solution vector xx by scaling as</p>  (SAS)(S^{-1}x) = Sb   (SAS)(S^{-1}x) = Sb  <p>where SS is a diagonal matrix whose elements are given by S_{ii}=1/\\sqrt{A_{ii}}S_{ii}=1/\\sqrt{A_{ii}}. This scaling is also known as Jacobi preconditioning.</p>"},{"location":"stats/matrix/#qr","title":"QR","text":"<p>A general rectangular MM-by-NN matrix AA has a QR decomposition into the product of an orthogonal MM-by-MM square matrix QQ, where Q^TQ=IQ^TQ=I, and an MM-by-NN right-triangular matrix RR,</p>  A=QR\\,.   A=QR\\,.  <p>This decomposition can be used to convert the linear system Ax=bAx=b into the triangular system Rx=Q^TbRx=Q^Tb, which can be solved by back-substitution.</p> <p>Another use of the QR decomposition is to compute an orthonormal basis for a set of vectors. The first NN columns of QQ form an orthonormal basis for the range of AA, ran(A)ran(A), when AA has full column rank.</p>"},{"location":"stats/matrix/#rkab-leq-rkarkab-leq-rka","title":"\\rk(AB) \\leq \\rk(A)\\rk(AB) \\leq \\rk(A)","text":"<p>The range of the matrix MM is </p>  \\calR(M)=\\{\\mathbf{y} \\in \\R^m \\mid \\mathbf{y}=M\\mathbf{x} \\text{ for some } \\mathbf{x} \\in \\R^n\\}.   \\calR(M)=\\{\\mathbf{y} \\in \\R^m \\mid \\mathbf{y}=M\\mathbf{x} \\text{ for some } \\mathbf{x} \\in \\R^n\\}.  <p>Recall that the rank of a matrix MM is the dimension of the range R(M)R(M) of the matrix M. So we have</p>  \\rk(AB)=\\dim(\\calR(AB)), \\quad \\rk(A)=\\dim(\\calR(A)).   \\rk(AB)=\\dim(\\calR(AB)), \\quad \\rk(A)=\\dim(\\calR(A)).  <p>In general, if a vector space VV is a subset of a vector space WW, then we have</p>  \\dim(V) \\leq \\dim(W).   \\dim(V) \\leq \\dim(W).  <p>Thus, it suffices to show that the vector space \\calR(AB)\\calR(AB) is a subset of the vector space \\calR(A)\\calR(A).</p> <p>Consider any vector \\y\\in\\calR(AB)\\y\\in\\calR(AB). Then there exists a vector \\x\\in\\R^l\\x\\in\\R^l such that \\y=(AB)\\x\\y=(AB)\\x by the definition of the range.</p> <p>Let \\z=B\\x\\in\\R^n\\z=B\\x\\in\\R^n.</p> <p>Then we have</p>  \\mathbf{y}=A(B\\mathbf{x})=A\\mathbf{z}   \\mathbf{y}=A(B\\mathbf{x})=A\\mathbf{z}  <p>and thus the vector \\y\\y is in \\calR(A)\\calR(A). Thus \\calR(AB)\\calR(AB) is a subset of \\calR(A)\\calR(A) and we have</p>  \\rk(AB)=\\dim(\\calR(AB)) \\leq \\dim(\\calR(A))=\\rk(A).   \\rk(AB)=\\dim(\\calR(AB)) \\leq \\dim(\\calR(A))=\\rk(A).  <p>refer to Rank of the Product of Matrices AB is Less than or Equal to the Rank of A</p>"},{"location":"stats/matrix/#rkarkaatrkatarkarkaatrkata","title":"\\rk(A)=\\rk(AA^T)=\\rk(A^TA)\\rk(A)=\\rk(AA^T)=\\rk(A^TA)","text":"<p>Note that the left null space (the null space of A^TA^T) is the orthogonal complement to the column space of AA, that is,</p>  \\mathrm{Nul}(A^T)^{\\perp} = \\mathrm{Col}(A), \\quad \\mathrm{Nul}(A)^{\\perp} = \\mathrm{Col}(A^T).   \\mathrm{Nul}(A^T)^{\\perp} = \\mathrm{Col}(A), \\quad \\mathrm{Nul}(A)^{\\perp} = \\mathrm{Col}(A^T).  <p>Therefore, \\mathrm{Nul}(A^T)\\cap \\mathrm{Col}(A)\\mathrm{Nul}(A^T)\\cap \\mathrm{Col}(A), and so forth.</p> <p>Now consider the matrix A^TAA^TA. Then </p>  \\mathrm{Col}(A^TA) = \\{A^TAx\\} = \\{A^Ty:y\\in \\mathrm{Col}(A)\\}.   \\mathrm{Col}(A^TA) = \\{A^TAx\\} = \\{A^Ty:y\\in \\mathrm{Col}(A)\\}.  <p>But since the null space of A^TA^T only intersects trivially with \\mathrm{Col}(A)\\mathrm{Col}(A), then \\mathrm{Col}(A^TA)\\mathrm{Col}(A^TA) must have the same dimension as \\mathrm{Col}(A)\\mathrm{Col}(A), which gives us the equality of ranks.</p> <p>Refer to Christopher A. Wong (https://math.stackexchange.com/users/22059/christopher-a-wong), Rank of product of a matrix and its transpose, URL (version: 2012-10-16), maybe also Prove \\rk(A^TA)=\\rk(A)\\rk(A^TA)=\\rk(A) for any A\\in M_{m\\times n}A\\in M_{m\\times n}</p>"},{"location":"stats/matrix/#only-real-eigenvalues-in-symmetric-matrices","title":"Only real eigenvalues in symmetric matrices","text":"<p>refer to The Case of Complex Eigenvalues</p>"},{"location":"stats/matrix/#calculate-the-inverse-of-a-3x3-matrix","title":"Calculate the Inverse of a 3x3 matrix","text":"<p>By Adjugate Matrix,</p> <ol> <li>Check the determinant of the matrix.</li> <li>Transpose the original matrix.</li> <li>Find the determinant of each of the 2x2 minor matrices. </li> <li>Create the matrix of cofactors.  (assign a sign)</li> <li>Divide each term of the adjugate matrix by the determinant. </li> </ol> <p>By Linear Row Reduction</p> <p>Refer to How to Find the Inverse of a 3x3 Matrix</p>"},{"location":"stats/prob/","title":"Probability","text":""},{"location":"stats/prob/#the-product-of-gaussian","title":"the product of Gaussian","text":"<ul> <li>with any hypothesis, the product of Gaussian is not Gaussian, take Y=X as an example</li> <li>if X, YX, Y are independent, it is still not Gaussian. Consider</li> </ul>  Z = \\frac{X^2-Y^2}{2} = \\frac{X-Y}{\\sqrt 2} \\frac{X+Y}{\\sqrt 2}   Z = \\frac{X^2-Y^2}{2} = \\frac{X-Y}{\\sqrt 2} \\frac{X+Y}{\\sqrt 2}  <p>then ZZ is the product of two independent Gaussian, but the characteristic function of ZZ is</p>  \\begin{align*} \\varphi_Z(t) &amp;= E\\exp\\left(\\frac{X^2-Y^2}{2}\\right) \\\\ &amp;= E\\exp\\left(1-2i\\frac t2\\right)^{-1/2}\\exp\\left(1-2i\\frac{-t}{2}\\right)^{-1/2} \\\\ &amp;= (1-it)^{-1/2}(1+it)^{-1/2}=(1+t^2)^{-1/2}\\,. \\end{align*}   \\begin{align*} \\varphi_Z(t) &amp;= E\\exp\\left(\\frac{X^2-Y^2}{2}\\right) \\\\ &amp;= E\\exp\\left(1-2i\\frac t2\\right)^{-1/2}\\exp\\left(1-2i\\frac{-t}{2}\\right)^{-1/2} \\\\ &amp;= (1-it)^{-1/2}(1+it)^{-1/2}=(1+t^2)^{-1/2}\\,. \\end{align*}  <ul> <li>the distribution can be directly called as Normal Product Distribution</li> </ul> <p>refer to Is the product of two Gaussian random variables also a Gaussian?</p>"},{"location":"stats/prob/#functions-of-independent-random-variables","title":"functions of independent random variables","text":"<p>it is trivial with sigma algebra.</p> <p>refer to Functions of Independent Random Variables</p>"},{"location":"website/","title":"\u7f51\u7ad9\u76f8\u5173\u7b14\u8bb0","text":""},{"location":"website/#jekyll","title":"Jekyll","text":"<p>Jekyll is a Ruby Gem that can be installed on most systems.</p> <ul> <li>Ruby: \u4e00\u79cd\u5f00\u6e90\u7684\u9762\u5411\u5bf9\u8c61\u7a0b\u5e8f\u8bbe\u8ba1\u7684\u670d\u52a1\u5668\u7aef\u811a\u672c\u8bed\u8a00\uff0c\u5728 20 \u4e16\u7eaa 90 \u5e74\u4ee3\u4e2d\u671f\u7531\u65e5\u672c\u7684\u677e\u672c\u884c\u5f18\uff08\u307e\u3064\u3082\u3068\u3086\u304d\u3072\u308d/Yukihiro Matsumoto\uff09\u8bbe\u8ba1\u5e76\u5f00\u53d1\u3002Ruby \u6559\u7a0b</li> <li>Jekyll is written in Ruby.</li> <li>Gem: Gems are code you can include in Ruby projects. Jekyll is a gem. Many Jekyll plugins are also gems.</li> <li>Gemfile: a list of gems.</li> <li>Bundler: a gem that installs all gems in <code>Gemfile</code>.</li> <li>RubyGems: Ruby \u7684\u4e00\u4e2a\u5305\u7ba1\u7406\u5668\uff0c\u5b83\u63d0\u4f9b\u4e00\u4e2a\u5206\u53d1 Ruby \u7a0b\u5e8f\u548c\u5e93\u7684\u6807\u51c6\u683c\u5f0f\uff0c\u8fd8\u63d0\u4f9b\u4e00\u4e2a\u7ba1\u7406\u7a0b\u5e8f\u5305\u5b89\u88c5\u7684\u5de5\u5177\uff0c\u7c7b\u4f3c\u4e8e Ubuntu \u4e0b\u7684 apt-get, Centos \u7684 yum\uff0cPython \u7684 pip\u3002https://rubygems.org/</li> </ul>"},{"location":"website/#run-locally","title":"run locally","text":"<pre><code># 0. install prerequisites: https://jekyllrb.com/docs/installation/ubuntu/\n# 1. install the jekyll and bundler gems\ngem install jekyll bundler\n# 2. build the site locally\nbundle exec jekyll serve\n</code></pre> <p>if it broken down, such as </p> <pre><code>/home/weiya/gems/gems/octokit-4.14.0/lib/octokit/middleware/follow_redirects.rb:14:in `&lt;module:Middleware&gt;': uninitialized constant Faraday::Error::ClientError (NameError)\n</code></pre> <p>try to update the local gem via</p> <pre><code>bundle update github-pages\n</code></pre>"},{"location":"website/#unsupported-plugins-by-github-pages","title":"unsupported plugins by Github pages","text":"<p>Github Pages sites are generated using the <code>--safe</code> option to disable plugins (with the exception of some whitelisted plugins) for security reasons. source: Plugins on GitHub Pages</p> <p>If use third-party plugins, such as gjtorikian/jekyll-last-modified-at, there are two possible ways</p> <ul> <li>build locally</li> <li>use travis or github actions.</li> </ul> <p>refer to How do I configure GitHub to use non-supported Jekyll site plugins?</p>"},{"location":"website/#jekyll_1","title":"jekyll\u4e2d\u7684\u76f8\u5bf9\u8def\u5f84","text":"<p>\u53c2\u8003Relative paths in Jekyll</p>"},{"location":"website/#mathjax","title":"MathJax","text":"<ul> <li>MathJax basic tutorial and quick reference</li> <li>\u6ce8\u610f\u5728 mathjax \u4e2d\u5c0f\u4e8e\u53f7\u5de6\u53f3\u7a7a\u4e00\u683c\uff0c\u4e0d\u8981\u8fde\u7740\u5199</li> </ul>"},{"location":"website/#github-pages","title":"Github Pages \u4e0e\u767e\u5ea6\u722c\u866b","text":"<p>\u89e3\u51b3 Github Pages \u7981\u6b62\u767e\u5ea6\u722c\u866b\u7684\u65b9\u6cd5\u4e0e\u53ef\u884c\u6027\u5206\u6790</p> <p>\u5229\u7528 CDN \u89e3\u51b3\u767e\u5ea6\u722c\u866b\u88ab Github Pages \u62d2\u7edd\u7684\u95ee\u9898</p>"},{"location":"website/#0","title":"\u7d22\u5f15\u91cf\u51cf\u5c11\u5230\u51e0\u4e4e\u4e3a 0 \u4e86","text":"<p>\u7136\u540e\u53d1\u73b0\u539f\u6765\u662f\u5fd8\u8bb0\u5728\u767e\u5ea6\u4e13\u7528\u670d\u52a1\u5668\u4e0a <code>git checkout gh-pages</code>\u4e86\uff0c\u5bfc\u81f4\u76f4\u63a5\u8bbf\u95ee\u5931\u8d25\uff0c<code>git log</code> \u663e\u793a\uff0c\u4e0a\u4e00\u6b21\u66f4\u65b0\u65f6\u95f4\u8fd8\u662f 20190804\uff0c\u65f6\u95f4\u70b9\u5dee\u4e0d\u591a\u80fd\u5bf9\u5f97\u4e0a\u53bb\u3002</p>"},{"location":"website/#https","title":"HTTPS \u8ba4\u8bc1","text":"<p>\u4e3a\u4e86\u8ba9\u767e\u5ea6\u6536\u5f55\uff0c\u6240\u4ee5\u5355\u72ec\u4e3a\u767e\u5ea6\u8bbe\u7f6e\u4e86\u57df\u540d\u89e3\u6790\uff0c\u4f46\u662f\u8fd9\u79cd\u60c5\u51b5\u4e0b\u4e0d\u662f https\uff0c\u4e0d\u80fd\u50cf\u6b63\u5e38\u60c5\u51b5\u4e0b\u901a\u8fc7 CDN \u7533\u8bf7 https\u3002\u6ce8\u610f\u5230\u963f\u91cc\u4e91\u53ef\u4ee5\u7533\u8d2d\u514d\u8d39\u8bc1\u4e66\uff0c\u5e76\u4e0b\u8f7d\uff0c\u800c\u4e14\u63d0\u4f9b\u4e0d\u540c\u4e0b\u8f7d\u9700\u6c42\uff0c\u6bd4\u5982\u9488\u5bf9 nginx \u6216 apache \u7684\u3002\u76f4\u63a5\u6309\u7167\u5e2e\u52a9\u6587\u6863\u8d70\u4e00\u904d\u5c31\u597d\u4e86\u3002</p>"},{"location":"website/#jekyll-part-13-creating-an-article-series","title":"Jekyll Part 13: Creating an Article Series","text":"<p>Jekyll Part 13: Creating an Article Series</p>"},{"location":"website/#add-an-updated-field-to-jekyll-posts","title":"Add an \u201cUpdated\u201d field to Jekyll posts","text":"<p>Add an \u201cUpdated\u201d field to Jekyll posts</p>"},{"location":"website/#iframe","title":"iframe","text":"<p>Embedding a document inside another using the \u201ciframe\u201d tag</p>"},{"location":"website/#variable-tags","title":"Variable tags","text":"<p>Variable tags</p>"},{"location":"website/#track-non-javascript-visits-in-google-analytics","title":"Track Non-JavaScript Visits In Google Analytics","text":"<p>Track Non-JavaScript Visits In Google Analytics</p>"},{"location":"website/#ubuntu-apache","title":"Ubuntu \u642d\u5efaApache","text":"<p>\u53c2\u8003How To Install the Apache Web Server on Ubuntu 16.04</p> <p>How To Install Linux, Apache, MySQL, PHP (LAMP) stack on Ubuntu 16.04</p> <p>\u81ea\u5b9a\u4e49\u6839\u76ee\u5f55\u6ce8\u610f\u8bbe\u7f6e\u6743\u9650\u3002\u5982</p> <p>Apache2: \u2018AH01630: client denied by server configuration\u2019</p>"},{"location":"website/#_2","title":"\u535a\u5ba2\u4e2d\u63d2\u5165\u7f51\u6613\u4e91\u97f3\u4e50","text":"<p>\u8fd9\u4e2a\u5f88\u5bb9\u6613\u5b9e\u73b0\uff0c\u53ea\u9700\u8981\u5728\u7f51\u6613\u4e91\u4e2d\u641c\u7d22\u8981\u63d2\u5165\u7684\u97f3\u4e50\uff0c\u7136\u540e\u70b9\u51fb\u201c\u751f\u6210\u5916\u94fe\u64ad\u653e\u5668\u201d\uff0c\u5c06iframe\u4ee3\u7801\u63d2\u5165\u535a\u5ba2\u7684\u76f8\u5e94\u4f4d\u7f6e\u3002</p> <p>\u6bd4\u5982\uff0c\u6211\u60f3\u5728\u4e0d\u613f\u6c89\u9ed8\u5982\u8c1c\u63d2\u5165\u5bb9\u7956\u513f\u7684\u91cd\u751f\u3002\u70b9\u51fb\u9875\u9762\u4e2d\u7684\u201c\u751f\u6210\u5916\u94fe\u64ad\u653e\u5668\u201d\uff0c\u5c06iframe\u4ee3\u7801\u653e\u8fdb\u539fmd\u6587\u4ef6\u4e2d\u3002\u4f46\u4e00\u5f00\u59cb\u6709\u95ee\u9898\uff0ciframe\u88ab\u5f53\u6210\u666e\u901a\u7684md\u6587\u672c\u3002\u5728Jekyll raw HTML in post\u4e2d\u627e\u5230\u4e86\u7b54\u6848\u3002</p> <p>\u7f51\u6613\u4e91\u7ed9\u7684iframe\u4ee3\u7801\u4e3a</p> <pre><code>&lt;iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=330 height=86 src=\"//music.163.com/outchain/player?type=2&amp;id=522631413&amp;auto=1&amp;height=66\"&gt;&lt;/iframe&gt;\n</code></pre> <p>\u8981\u5c06<code>width=330 height=86</code>\u6539\u6210<code>width=\"330\" height=\"86\"</code>\uff0c\u679c\u7136\u6210\u529f\u4e86\u3002\u6548\u679c\u9875\u9762\u5982\u4e0b\uff1a</p> <p></p>"},{"location":"website/#nginx","title":"nginx\u865a\u62df\u4e3b\u673a\u914d\u7f6e","text":"<p>\u53c2\u8003How To Set Up Nginx Server Blocks (Virtual Hosts) on Ubuntu 14.04 LTS</p> <p>\u5b9e\u73b0\u5c06\u672c\u7ad9\u7528webhooks\u5c06\u5176\u66f4\u65b0\u81f3\u963f\u91cc\u4e91\u670d\u52a1\u5668\u4e0a\uff0c\u8fd9\u4e0eeslcn\u662f\u540c\u4e00\u4e2a\u670d\u52a1\u5668\uff0c\u6240\u4ee5\u901a\u8fc7\u5efa\u7acb\u865a\u62df\u4e3b\u673a\u5b9e\u73b0\u3002</p>"},{"location":"website/#url-uri","title":"URL \u548c URI","text":"<p>\u53c2\u8003URL \u548c URI \u6709\u4ec0\u4e48\u4e0d\u540c? - \u77e5\u4e4e</p> <p>\u5f15\u7528\u4e2a\u4eba\u89c9\u5f97\u7b80\u6d01\u660e\u4e86\u7684\u56de\u7b54</p> <p>URI (Identifier) \u53ea\u8b93\u4f60\u53ef\u4ee5\u201d\u5340\u5225\u201d\u8cc7\u6e90 URL (Locator) \u9084\u8b93\u4f60\u53ef\u4ee5\u201d\u627e\u5230\u201d\u8cc7\u6e90 (\u6240\u4ee5URL\u6bd4\u4e00\u822c\u7684URI\u66f4\u201d\u5f37\u201d, \u662fURI\u7684\u5b50\u96c6)\u6bd4\u5982\u4eba\u7684\u8eab\u4efd\u8b49\u865f\u662f (\u975eLocator\u7684) Identifier: \u4e0d\u540c\u8eab\u4efd\u8b49\u865f\u4e00\u5b9a\u662f\u4e0d\u540c\u4eba, \u4f46\u662f\u7528\u8eab\u4efd\u8b49\u865f\u672c\u8eab\u662f\u627e\u4e0d\u5230\u4eba\u7684\u3002\u8fd9\u4e2a\u4eba\u7684\u4f4f\u5740\u6216\u5ea7\u6807\u624d\u662fLocator\u3002</p> <p>\u4f5c\u8005\uff1a\u827e\u5f81\u9738 \u94fe\u63a5\uff1ahttps://www.zhihu.com/question/19557151/answer/130049112 \u6765\u6e90\uff1a\u77e5\u4e4e \u8457\u4f5c\u6743\u5f52\u4f5c\u8005\u6240\u6709\u3002\u5546\u4e1a\u8f6c\u8f7d\u8bf7\u8054\u7cfb\u4f5c\u8005\u83b7\u5f97\u6388\u6743\uff0c\u975e\u5546\u4e1a\u8f6c\u8f7d\u8bf7\u6ce8\u660e\u51fa\u5904\u3002</p>"},{"location":"website/#nginx_1","title":"nginx\u914d\u7f6e\u8df3\u8f6c","text":"<p>\u6bd4\u5982\u5c06\u6240\u6709 <code>http://ServerIP/10 Boosting and Additive Trees/.*</code> \u7684\u8bbf\u95ee301\u91cd\u5b9a\u5411\u5230<code>http://$server_name/10-Boosting-and-Additive-Trees/10.1-Boosting-Methods/index.html</code>\uff0c\u5728nginx\u914d\u7f6e\u6587\u4ef6\u4e2d\u6dfb\u52a0 <pre><code>location ^~ '/10 Boosting and Additive Trees/' {\n        rewrite ^/.* http://$server_name/10-Boosting-and-Additive-Trees/10.1-Boosting-Methods/index.html permanent;\n}\n</code></pre></p> <p>\u51e0\u70b9\u8bf4\u660e\uff1a</p> <ol> <li>\u542b\u7b49\u53f7\u65f6\uff0c\u4e0d\u9700\u8981\u7528<code>%20</code>\u8fdb\u884c\u7f16\u7801\uff0c\u4f46\u9700\u8981\u52a0\u4e0a\u5f15\u53f7\uff0c\u5426\u5219\u4f1a\u62a5\u9519\uff0c\u201cinvalid number of arguments in \u2018location\u2019 directive\u201d\uff0c\u53c2\u8003nginx-rewrite-that-includes-a-blank-space</li> <li>\u5177\u4f53location\u5339\u914d\u53c2\u8003nginx location \u5339\u914d\u89c4\u5219</li> <li>\u53c2\u8003how-to-redirect-single-url-in-nginx</li> </ol>"},{"location":"website/#iframe_1","title":"iframe\u8de8\u57df\u89e3\u51b3\u65b9\u6848","text":"<p>\u53c2\u8003iframe\u8de8\u57df\u89e3\u51b3\u65b9\u6848</p>"},{"location":"website/#flask-ajax-post","title":"flask + ajax + post + \u8de8\u57df","text":"<p>\u53c2\u8003Flask \u548c jQuery \u8054\u5408\u5b9e\u73b0\u4f20\u9001 JSON \u6570\u636e\u7684 POST \u8de8\u57df\u8bf7\u6c42 (CORS)</p> <p>\u7b80\u5355\u6765\u8bf4\uff0c</p> <p>\u5728\u5ba2\u6237\u7aef\u7684 ajax \u4e2d\u6dfb\u52a0</p> <pre><code>crossDomain: true,    // \u5141\u8bb8\u8de8\u57df\u8bf7\u6c42\n</code></pre> <p>\u53e6\u5916\uff0c\u5728\u670d\u52a1\u5668\u7aef\uff0c\u901a\u8fc7<code>CORS(app, resources=r'/*')</code>\u8ba9flask\u670d\u52a1\u5668\u4e0a\u6240\u6709\u7684URL\u652f\u6301\u8de8\u57df\u8bf7\u6c42\u3002</p> <p>\u53e6\u5916\uff0c\u5728ajax\u4e2dpost json\u7684\u65f6\u5019\uff0c\u6ce8\u610f\u7528<code>JSON.stringify()</code>\u8fdb\u884c\u8f6c\u6362\uff0c\u5426\u5219\u683c\u5f0f\u4e3a<code>\u5426\u5219\u683c\u5f0f\u4e3a a=2&amp;b=3&amp;now=14...</code>\uff08\u53c2\u8003\u4f7f\u7528Ajax\u65b9\u5f0fPOST JSON\u6570\u636e\u5305\uff08\u8f6c\uff09 - \u5e73\u548c\u7684\u5fc3 - \u535a\u5ba2\u56ed\uff09</p>"},{"location":"website/#cookie-vs-session","title":"cookie vs. session","text":"<ol> <li>cookie \u6570\u636e\u5b58\u653e\u5728\u5ba2\u6237\u7684\u6d4f\u89c8\u5668\u4e0a\uff0csession \u6570\u636e\u653e\u5728\u670d\u52a1\u5668\u4e0a\uff1b</li> <li>cookie \u4e0d\u662f\u5f88\u5b89\u5168\uff0c\u522b\u4eba\u53ef\u4ee5\u5206\u6790\u5b58\u653e\u5728\u672c\u5730\u7684 COOKIE \u5e76\u8fdb\u884c COOKIE \u6b3a\u9a97\uff0c\u8003\u8651\u5230\u5b89\u5168\u5e94\u5f53\u4f7f\u7528 session\uff1b</li> <li>session \u4f1a\u5728\u4e00\u5b9a\u65f6\u95f4\u5185\u4fdd\u5b58\u5728\u670d\u52a1\u5668\u4e0a\u3002\u5f53\u8bbf\u95ee\u589e\u591a\uff0c\u4f1a\u6bd4\u8f83\u5360\u7528\u4f60\u670d\u52a1\u5668\u7684\u6027\u80fd\u3002\u8003\u8651\u5230\u51cf\u8f7b\u670d\u52a1\u5668\u6027\u80fd\u65b9\u9762\uff0c\u5e94\u5f53\u4f7f\u7528 COOKIE\uff1b</li> <li>\u5355\u4e2a cookie \u5728\u5ba2\u6237\u7aef\u7684\u9650\u5236\u662f3K\uff0c\u5c31\u662f\u8bf4\u4e00\u4e2a\u7ad9\u70b9\u5728\u5ba2\u6237\u7aef\u5b58\u653e\u7684 COOKIE \u4e0d\u80fd\u8d85\u8fc7 3K\uff1b</li> </ol> <p>\u53c2\u8003\u7406\u89e3Cookie\u548cSession\u673a\u5236 - Andrew.Zhou - \u535a\u5ba2\u56ed</p>"},{"location":"website/#travis-ci","title":"Travis CI","text":"<ol> <li>https://mwop.net/blog/2016-01-29-automating-gh-pages.html</li> <li>Deploying Docs on Github with Travis-CI</li> </ol> <p>\u6ce8\u610f GITHUB_TOKEN \u7684\u8bbe\u7f6e\uff0c\u53c2\u8003Creating a personal access token for the command line</p>"},{"location":"website/#jekyll-add-rss-feed","title":"Jekyll add RSS feed","text":"<p>RSS for Jekyll blogs</p>"},{"location":"website/#_3","title":"\u56fe\u7247\u65cb\u8f6c\u540e\u65e0\u6548\u679c","text":"<p>\u539f\u56fe\u7247\u4fe1\u606f\u4e3a</p> <pre><code>2018-10-29-cafe.jpg: JPEG image data, JFIF standard 1.01, aspect ratio, density 1x1, segment length 16, baseline, precision 8, 1080x1440, frames 3\n</code></pre> <p>\u91c7\u7528 Shotwell \u65cb\u8f6c\u56fe\u7247\u540e\uff0c <pre><code>2018-10-29-cafe.jpg: JPEG image data, JFIF standard 1.01, aspect ratio, density 1x1, segment length 16, Exif Standard: [TIFF image data, little-endian, direntries=3, orientation=lower-left, software=Shotwell 0.22.0], baseline, precision 8, 1080x1440, frames3\n</code></pre></p> <p>\u591a\u4e86 EXIF \u4fe1\u606f\uff0c\u5176\u4e2d\u6709 orientation \u4fe1\u606f\u3002\u4f46\u662f\u53c2\u8003 img tag displays wrong orientation \u7684\u5e16\u5b50\uff0c\u53ef\u77e5\uff0c\u6709\u4e9b\u6d4f\u89c8\u5668\u5e76\u4e0d\u9075\u5faa\u8fd9\u4e2a\u89c4\u5219\uff0c\u5373\u65e0\u89c6\u3000EXIF \u4fe1\u606f\uff0c\u4ece\u800c\u7f51\u9875\u7aef\u65e0\u6548\u679c\u3002\u6709\u4eba\u63d0\u5230\u53ef\u4ee5\u52a0\u4e0a\u3000</p> <pre><code>img {\nimage-orientation: from-image;\n}\n</code></pre> <p>\u4f46\u8fd9\u4e2a\u4f3c\u4e4e\u53ea\u6709 Firefox \u548c\u3000Safari \u652f\u6301\uff0cChrome \u4e0d\u652f\u6301\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a\u91c7\u7528 <code>mogrify</code> \u6216 <code>convert</code> \u8fdb\u884c\u65cb\u8f6c\uff0c\u5982</p> <pre><code>mogrify -rotate \"-90\" 2018-10-29-cafe.jpg\n</code></pre> <p>\u67e5\u770b\u6587\u4ef6\u4fe1\u606f</p> <pre><code>2018-10-29-cafe.jpg: JPEG image data, JFIF standard 1.01, aspect ratio, density 1x1, segment length 16, baseline, precision 8, 1440x1080, frames 3\n</code></pre> <p>\u6ce8\u610f\u5230\u6ca1\u6709 EXIF \u4fe1\u606f\uff0c\u800c\u4e14 size \u4e5f\u7531 1080x1440 \u53d8\u6210\u4e86 1440x1080\uff0c\u6240\u4ee5\u8fd9\u7b97\u662f\u771f\u65cb\u8f6c\uff0c\u800c\u4e4b\u524d\u7684\u52a0 EXIF \u4fe1\u606f\u7b97\u662f\u4f2a\u65cb\u8f6c\u5427\u3002</p> <p>\u5982\u679c\u6587\u4ef6\u5df2\u7ecf\u5b58\u5728 orientation \u7684 EXIF \u4fe1\u606f\uff0c\u5219 <code>mogrify -rotate</code> \u4f3c\u4e4e\u4e0d\u8d77\u4f5c\u7528\uff0c\u89e3\u51b3\u65b9\u6848\u4e3a\u76f4\u63a5\u5220\u6389 EXIF \u4fe1\u606f\uff0c\u518d\u8fdb\u884c\u76f8\u5e94\u7684 rotate \u64cd\u4f5c\uff0c\u5176\u4e2d\u5220\u9664 EXIF \u4fe1\u606f\u7684\u547d\u4ee4\u662f</p> <pre><code>exiftool -all= /tmp/my_photo.jpg\n</code></pre> <p>\u53c2\u8003 How can I read and remove meta (exif) data from my photos using the command line?</p>"},{"location":"website/#jekyll-tags","title":"jekyll tags \u9017\u53f7\u5206\u9694","text":"<p>\u91c7\u7528</p> <pre><code>{% for tag in page.tags %}\n    &lt;a href=\"/tag/{{tag}}\"&gt;{{tag}}&lt;/a&gt;\n    {% unless forloop.last %},{% endunless %}\n{% endfor %}\n</code></pre> <p>\u4f46 List of Dynamic Links in Jekyll \u63d0\u5230\u4e86\u66f4\u5b8c\u6574\u7684\u65b9\u6848\uff0c</p> <pre><code>{% capture tagscommas %}\n{% for tag in page.tags %}\n    &lt;a href=\"/tag/{{tag}}\"&gt;{{tag}}&lt;/a&gt;\n    {% unless forloop.last %},{% endunless %}\n{% endfor %}\n{% endcapture %}\n\n{{tagscommas}}\n</code></pre>"},{"location":"website/#correct-jekyll","title":"Correct Jekyll","text":"<p>refer to Configuring Jekyll for User and Project GitHub Pages</p>"},{"location":"website/#image-slider","title":"Image Slider","text":"<p>\u53c2\u8003 Image Slider - Jssor Slider</p>"},{"location":"website/#_4","title":"\u4ee3\u7801\u9ad8\u4eae","text":"<p>\u53c2\u8003 Jekyll \u4ee3\u7801\u9ad8\u4eae\u7684\u51e0\u79cd\u9009\u62e9</p>"},{"location":"website/#url","title":"URL \u4e2d\u6700\u540e\u7684\u659c\u6760","text":"<p>\u65b0\u5efa tag \u9875\u9762\u540e\uff0c\u53d1\u73b0\u94fe\u63a5\u7adf\u7136\u8df3\u5230\u6e90\u7ad9\u57df\u540d\u4e0a\u53bb\u4e86\uff0c\u8ddf\u53c8\u62cd\u90a3\u8fb9\u7684\u6280\u672f\u652f\u6301\u6c9f\u901a\u4e5f\u6ca1\u627e\u5230\u539f\u56e0\uff0c\u6700\u540e\u731b\u7136\u60f3\u5230\u662f tag \u9875\u9762\u7684 url \u6ca1\u6709\u52a0\u659c\u6760\uff0c\u67e5\u4e86\u4e00\u4e0b\uff0c\u52a0\u4e0d\u52a0\u659c\u6760\u533a\u522b\u8fd8\u633a\u5927\u7684\u3002</p>"},{"location":"website/#_5","title":"\u535a\u5ba2\u4e2d\u7684\u5b9a\u7406\u73af\u5883","text":"<p>\u901a\u8fc7 css \u5b9e\u73b0\uff0c\u4f8b\u5982</p> <pre><code>.theorem {\ndisplay: block;\nmargin: 12px 0;\nfont-style: italic;\n}\n.theorem:before {\ncontent: \"Theorem.\";\nfont-weight: bold;\nfont-style: normal;\n}\n</code></pre> <p>\u8be6\u89c1 LaTeX Theorem-like Environments for the Web</p> <p>\u8fd9\u79cd\u65b9\u6cd5\u4e0d\u80fd\u4f7f\u7528 markdown \u7684\u5217\u8868\u73af\u5883\uff0c\u6709\u65f6\u5019\u4f1a\u4e0d\u592a\u65b9\u4fbf\u3002\u6ce8\u610f\u5230 kramdown \u672c\u8eab\u5177\u6709\u4e00\u4e9b\u7279\u6027\u53ef\u4ee5\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u6bd4\u5982\u8bbe\u7f6e Block Attributes\uff0c\u8be6\u89c1 Quick Reference of kramdown</p> <p>\u5219\u6211\u53ef\u4ee5\u7528</p> <p>{: .theorem}</p> <p>\u5b9e\u73b0\u5b9a\u7406\u73af\u5883\uff0c\u800c\u4e14\u8fd9\u6837\u8fd8\u6709\u989d\u5916\u7684\u597d\u5904\uff0c\u53ef\u4ee5\u7a81\u51fa\u5b9a\u7406\u3002\u4f46\u662f before \u7684\u5b57 \u201cTheorem\u201d \u4f1a\u5355\u72ec\u5360\u636e\u4e00\u884c\uff0c\u8bef\u6253\u8bef\u649e\u770b\u5230 Adding quotes to blockquote\uff0c\u8bd5\u4e86\u4e00\u4e0b</p> <pre><code>blockquote p {\ndisplay: inline;\n}\n</code></pre> <p>\u53ef\u4ee5\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u4f46\u62c5\u5fc3\u4f1a\u7834\u574f\u5176\u4ed6\u7684 blockquote \u73af\u5883\uff0c\u4e8e\u662f\u6307\u5b9a theorem \u53ef\u4ee5\u8fd9\u6837\u5904\u7406\uff0c\u5373</p> <pre><code>blockquote.theorem p {\ndisplay: inline;\n}\n</code></pre> <p>\u8fd9\u4e2a\u7528\u6cd5\u53c2\u8003 CSS Id \u548c Class</p>"},{"location":"website/#list-start-from-0","title":"list start from 0","text":"<p>In <code>kramdown</code>, use an IAL declaration before the list, say</p> <pre><code>{:start=\"3\"}\n1. test\n1. test\n1. test\n</code></pre> <p>Refer to Support starting numbered lists with arbitrary number #211</p> <p>Implementation for html can be found here.</p>"},{"location":"website/#_6","title":"\u5b57\u4f53\u9009\u62e9","text":"<p>\u5c11\u91cf\u5b57\u4f53\u76f4\u63a5\u7528\u56fe\u7247\u4ee3\u66ff 2023-01-31 15:10:03</p> <p>\u60f3\u628a\u4e2a\u4eba\u4e3b\u9875\u4e2d \u201cBlog\u201d \u6362\u6210 \u201c\u535a\u5ba2\u201d\uff0c\u82f1\u6587\u5b57\u4f53\u52a0\u8f7d\u4e86 Abode \u7684\u827a\u672f\u5b57\u4f53\uff0c\u4f46\u662f\u5e76\u4e0d\u652f\u6301\u4e2d\u6587\u3002\u8003\u8651\u5230\u53ea\u6709\u8fd9\u4e24\u4e2a\u4e2d\u6587\u5b57\u6709\u9700\u6c42\uff0c\u6240\u4ee5\u4e00\u79cd\u7b80\u5355\u65b9\u5f0f\u662f\u76f4\u63a5\u751f\u6210\u8fd9\u5b57\u4f53\u56fe\u7247\u518d\u63d2\u5165\u8fdb\u53bb\u3002\u91c7\u7528 https://www.diyiziti.com/ \u4e0a\u7684\u5b57\u4f53\uff0c\u4fee\u6539\u7684 commit \u8be6\u89c1 </p> <ul> <li>\u8d85\u8d5e\uff01\u7f51\u9875\u8bbe\u8ba1\u4e2d\u6700\u5e38\u89c1\u768430\u6b3e\u82f1\u6587\u5b57\u4f53</li> <li>Source Han Serif Simplified Chinese in Adobe Fonts, and Adobe Fonts</li> <li>Google Fonts</li> <li>dafont.com</li> <li>Webfont Generator</li> </ul>"},{"location":"website/#ruby","title":"ruby \u7248\u672c","text":"<p>\u4eca\u5929 GitHub \u63d0\u9192\u82f1\u6587\u535a\u5ba2\u5b58\u5728</p> <pre><code>Known high severity security vulnerability detected in rubyzip &lt; 1.3.0 defined in Gemfile.lock.\n</code></pre> <p>\u4e8e\u662f\u5408\u5e76\u4e86\u5b83\u81ea\u52a8\u521b\u5efa\u7684 pull request: Merge pull request #79 from szcf-weiya/dependabot/bundler/rubyzip-2.0.0</p> <p>\u4f46\u662f\u540e\u6765\u53d1\u73b0\u5728\u672c\u5730 <code>bundle exec jekyll serve</code> \u9884\u89c8\u5931\u8d25\u3002\u62a5\u9519\u4fe1\u606f\u4e3a</p> <pre><code>rubyzip-2.0.0 requires ruby version &gt;= 2.4, which is incompatible with the current version, ruby 2.3.1p112\n</code></pre> <p>\u770b\u6837\u5b50 ruby \u7248\u672c\u4e0d\u591f\uff0c\u4e8e\u662f\u53c2\u8003 How do I upgrade to Ruby 2.2 on my Ubuntu system?</p> <pre><code>sudo apt-add-repository ppa:brightbox/ruby-ng\nsudo apt-get update\nsudo apt-get install ruby2.4\n</code></pre> <p>\u5b89\u88c5\u4e86 <code>ruby2.4</code>\uff0c\u5b8c\u6210\u540e <code>ruby</code> \u4e5f\u81ea\u52a8\u4ece <code>ruby2.3</code> \u66f4\u6539\u5230\u4e86 <code>ruby2.4</code>\uff0c\u4f46\u662f\u91cd\u65b0\u8fd0\u884c</p> <pre><code>bundle exec jekyll serve\n</code></pre> <p>\u8fd8\u662f\u62a5\u540c\u6837\u7684\u9519\u8bef\u4fe1\u606f\u3002\u540e\u6765\u53c2\u8003 Bundler using wrong ruby version\uff0c\u8fd0\u884c</p> <pre><code>bundle env | grep ruby\n</code></pre> <p>\u53d1\u73b0\u91cc\u9762\u7684\u7248\u672c\u786e\u5b9e\u8fd8\u662f 2.3\uff0c\u4e8e\u662f\u6309\u7167\u91cc\u9762\u7684\u5efa\u8bae\u8fd0\u884c</p> <pre><code>gem install bundler\n</code></pre> <p>\u8fd9\u6837\u91cd\u65b0\u8fd0\u884c <code>bundle env | grep ruby</code> \u53d1\u73b0\u7248\u672c\u786e\u5b9e\u66f4\u65b0\u8fc7\u6765\u4e86\u3002\u4f46\u662f\u518d\u6b21\u8fd0\u884c  </p> <pre><code>bundle exec jekyll serve\n</code></pre> <p>\u51fa\u73b0\u4e86\u65b0\u7684\u9519\u8bef</p> <p>An error occurred while installing commonmarker (0.17.13), and Bundler cannot continue. Make sure that <code>gem install commonmarker -v '0.17.13' --source 'https://rubygems.org/'</code> succeeds before bundling.</p> <p>\u540e\u6765\u53c2\u8003 Error while installing json gem \u2018mkmf.rb can\u2019t find header files for ruby\u2019</p> <p>\u5b89\u88c5</p> <pre><code>sudo apt-get install ruby2.4-dev\n</code></pre> <p>\u8fd9\u91cc\u6309\u7167\u62a5\u9519\u4fe1\u606f\u68c0\u67e5\u53d1\u73b0 <code>/usr/lib/ruby/</code> \u6587\u4ef6\u5939\u4e0b\u7684\u786e\u6ca1\u6709 <code>include</code> \u76ee\u5f55\uff0c\u53ea\u6709 <code>2.4</code>, <code>2.5</code> \u7b49\u76ee\u5f55\uff0c\u5219\u8fd9\u9700\u8981\u88c5\u5bf9\u5e94 <code>ruby</code> \u7248\u672c\u7684 <code>dev</code>\u3002\u5f53\u6211\u628a\u7cfb\u7edf\u4ece Ubuntu 16.04 \u66f4\u65b0\u5230 Ubuntu 18.04 \u65f6\uff0c\u6b64\u65f6\u7cfb\u7edf\u9ed8\u8ba4\u4e3a <code>ruby-2.5</code>,\u5219\u6211\u9700\u8981\u88c5\u7684\u662f</p> <pre><code>sudo apt-get install ruby2.5-dev\n</code></pre> <p>\u89e3\u51b3\u4e86\u95ee\u9898\uff01</p> <p>\u53d1\u73b0\u8fd8\u6ca1\u6709\u8fd9\u4e48\u7b80\u5355\uff0c\u603b\u662f\u62a5\u9519</p> <pre><code>Could not find ffi-1.11.1 in any of the sources\n</code></pre> <p>\u4f46\u5b9e\u9645\u4e0a\u5df2\u7ecf\u88c5\u597d\u4e86\u3002\u4e0d\u77e5\u9053\u548b\u56de\u4e8b\u3002</p> <p>\u540e\u6765\u53c2\u8003 https://jekyllrb.com/docs/ \u91cd\u5934\u5f00\u59cb\uff0c</p> <pre><code>gem install jekyll bundler\n</code></pre> <p>\u7136\u540e\u8fd9\u4e00\u6b65\u4e00\u5f00\u59cb\u62a5\u9519</p> <pre><code>ERROR:  Error installing jekyll:\n        jekyll requires RubyGems version &gt;= 2.7.0. Try 'gem update --system' to update RubyGems itself.\n</code></pre> <p>\u4e8e\u662f\u8fd0\u884c</p> <pre><code>[sudo] gem update --system\n</code></pre> <p>\u5e94\u8be5\u8981\u52a0\u4e0a <code>sudo</code>\uff0c\u5426\u5219\u4f1a\u62a5\u9519</p> <pre><code>Installing RubyGems 3.0.6\nERROR:  While executing gem ... (Errno::EACCES)\n    Permission denied @ dir_s_mkdir - /usr/local/lib/site_ruby\n</code></pre> <p>\u5b89\u88c5\u6210\u529f\u540e\uff0c\u6700\u540e\u7ec8\u4e8e\u6210\u529f\u4e86\uff01\uff01</p>"},{"location":"website/#cdn","title":"CDN \u4ef7\u683c\u6bd4\u8f83","text":"<p>\u6bd4\u8f83\u4e86\u963f\u91cc\u4e91\u548c\u53c8\u62cd\u4e91\uff0c\u6536\u8d39\u90fd\u5305\u542b\u4e24\u4e2a\u90e8\u5206\uff0c\u57fa\u7840\u670d\u52a1\u8d39\u7528\u548c\u589e\u503c\u670d\u52a1\u8bf7\u6c42\u8d39\u7528\u3002</p> <p>\u57fa\u7840\u670d\u52a1\u53ef\u4ee5\u6309\u6d41\u91cf\u6216\u5e26\u5bbd\u8ba1\u8d39\uff0c\u4f46\u662f\u5e26\u5bbd\u4e00\u822c\u9002\u7528\u4e8e\u5927\u5ba2\u6237\u8ba1\u8d39\uff0c\u53c8\u62cd\u4e91\u5bf9\u666e\u901a\u5ba2\u6237\u6ca1\u6709\u63d0\u4f9b\u6b64\u9009\u9879\uff0c\u800c\u7a0d\u5fae\u770b\u4e86\u770b\u963f\u91cc\u4e91\u7684\u5e26\u5bbd\u6536\u8d39\uff0c\u611f\u89c9\u4f1a\u9ad8\u4e8e\u6d41\u91cf\u6536\u8d39\u3002</p> <p>\u53c8\u62cd\u4e91\uff1a</p> <p></p> <p>\u963f\u91cc\u4e91\uff1a</p> <p></p> <p></p>"},{"location":"website/#cdn_1","title":"\u591a\u4e2a CDN \u6df7\u5408\u4f7f\u7528","text":"<p>\u534e\u4e3a\u4e91\u53ef\u4ee5\u514d\u8d39\u7533\u8bf7 500 G \u7684\u5883\u5916 CDN\uff0c\u800c\u53c8\u62cd\u4e91\u4e4b\u524d\u4e70\u4e86\u5927\u9646\u6d41\u91cf\u7684 CDN\uff0c\u518d\u52a0\u4e0a\u963f\u91cc\u4e91\u57df\u540d\u89e3\u6790\u6709\u201c\u667a\u80fd\u89e3\u6790\u201d\u9009\u9879\uff0c\u731c\u6d4b\u80fd\u5426\u5f00\u901a\u4e24\u4e2a CDN\uff0c\u5883\u5916\u8d70\u534e\u4e3a\u4e91\uff0c\u5883\u5185\u8d70\u53c8\u62cd\u4e91\u3002\u7ecf\u8bd5\u9a8c\uff0c\u5e94\u8be5\u662f\u53ef\u4ee5\u7684\uff0c</p> <ol> <li>\u53c8\u62cd\u4e91\u52a0\u901f\u533a\u57df\u6539\u4e3a\u5883\u5185</li> <li>\u534e\u4e3a\u4e91\u52a0\u901f\u533a\u57df\u9009\u62e9\u5883\u5916\uff0c\u540c\u4e00\u52a0\u901f\u57df\u540d</li> <li>\u963f\u91cc\u4e91\u57df\u540d\u89e3\u6790\u6dfb\u52a0\u534e\u4e3a\u4e91 CDN \u8bbe\u7f6e\u65f6\u4ea7\u751f\u7684 CNAME\uff0c\u6ce8\u610f\u89e3\u6790\u7ebf\u8def\u9009\u62e9\u5883\u5916\u3002\u53c8\u62cd\u4e91\u6b64\u524d\u8bbe\u7f6e\u7684 CDN \u4fdd\u6301\u9ed8\u8ba4\u4e0d\u53d8\u3002</li> </ol> <p>\u8fd9\u6837\u4e3a\u4ec0\u4e48\u5c31\u53ef\u4ee5\u4e86\u5462\uff1f\uff01\u6ce8\u610f\u5230\u89e3\u6790\u7ebf\u8def\u7684\u201c\u9ed8\u8ba4\u201d\u662f\u8fd9\u6837\u8bf4\u7684\uff0c</p> <p>\u5fc5\u586b\uff01\u672a\u5339\u914d\u5230\u667a\u80fd\u89e3\u6790\u7ebf\u8def\u65f6\uff0c\u8fd4\u56de\u3010\u9ed8\u8ba4\u3011\u7ebf\u8def\u8bbe\u7f6e\u7ed3\u679c</p> <p>\u6240\u4ee5\u662f\u4e0d\u662f\u5e94\u8be5\u8fd9\u6837\u7406\u89e3\uff0c\u5bf9\u4e8e\u5883\u5916\u8bbf\u95ee\uff0c\u56e0\u4e3a\u80fd\u591f\u5339\u914d\u5230\u667a\u80fd\u89e3\u6790\u7ebf\u8def\uff0c\u6240\u4ee5\u6307\u5411\u534e\u4e3a\u4e91\u7684 CDN\uff0c\u800c\u5bf9\u4e8e\u5883\u5185\u8bbf\u95ee\uff0c\u56e0\u4e3a\u5339\u914d\u4e0d\u5230\u667a\u80fd\u7ebf\u8def\uff0c\u5219\u91c7\u7528\u9ed8\u8ba4\u7684 CNAME\uff0c\u5373\u53c8\u62cd\u4e91\u7684\u3002</p> <p>\u4f46\u8fd8\u6709\u51e0\u4e2a\u5c0f\u95ee\u9898\u9700\u8981\u89e3\u51b3\uff1a</p> <ol> <li>\u53c8\u62cd\u4e91\u4e4b\u524d\u6709\u7533\u8bf7\u514d\u8d39\u7684 ssl \u8bc1\u4e66\uff0c\u6240\u4ee5\u652f\u6301 https\uff0c\u4f46\u5883\u5916\u8d70 CDN \u540e\uff0c\u534e\u4e3a\u4e91\u4e0a\u9762\u6ca1\u6709 SSL \u8bc1\u4e66\uff0c\u4e8e\u662f\u5728\u963f\u91cc\u4e91\u90a3\u8fb9\u7533\u8bf7\u4e86\u514d\u8d39\u7684\u8bc1\u4e66\uff0c\u7136\u540e\u4e0b\u8f7d\uff0c\u7136\u540e\u5c06 <code>.pem</code> \u548c <code>.key</code> \u8f93\u5165\u5230\u534e\u4e3a\u4e91\u7684 https \u8bbe\u7f6e\u4e2d\u3002</li> <li>\u5bf9\u4e8e\u53c8\u62cd\u4e91\uff0c\u5176 https \u8fde\u63a5\u662f\u589e\u503c\u670d\u52a1\uff0c\u800c\u534e\u4e3a\u4e91\u7adf\u7136\u6ca1\u770b\u5230\u8fd9\u4e00\u70b9\uff0c\u8fd9\u6837\u633a\u597d\u7684\uff0c\u6240\u4ee5\u5c11\u4ea4\u4e86 https \u7684\u589e\u503c\u8d39\u3002</li> </ol> <p>\u53e6\u5916\uff0c\u5728\u914d\u7f6e\u534e\u4e3a\u4e91\u7684\u56de\u6e90 host \u7a81\u7136\u610f\u8bc6\u5230\u4e00\u70b9\uff0c\u5176\u5b9e\u6ca1\u5fc5\u8981\u901a\u8fc7\u4e2d\u95f4\u57df\u540d\uff0c\u6216\u8bb8\u76f4\u63a5\u5728 github \u90a3\u8fb9\u7684 CNAME \u6587\u4ef6\u4e2d\u6dfb\u52a0\u540c\u4e00\u52a0\u901f\u57df\u540d\u5373\u53ef\uff0c\u4e0d\u9700\u8981\u5355\u72ec\u89e3\u6790\u8fd9\u4e2a\u52a0\u901f\u57df\u540d\uff01\u8fd9\u4e2a\u5c31\u6709\u70b9\u50cf\u5728\u670d\u52a1\u5668\u4e2d\u4efb\u610f\u6307\u5b9a\u4e00\u4e2a\u57df\u540d\uff0c\u4f46\u662f\u5e76\u6ca1\u6709\u5728\u57df\u540d\u670d\u52a1\u5546\u90a3\u8fb9\u63d0\u4f9b\u89e3\u6790\uff0c\u5b83\u53ea\u662f\u4e3a\u4e86\u5728 github \u8fd9\u4e2a\u5927\u670d\u52a1\u5668\u4e2d\u627e\u5230\u5bf9\u5e94\u7684\u7ed3\u70b9\u3002</p>"},{"location":"website/#_7","title":"\u66f4\u65b0\u8bc1\u4e66","text":"<p>\u4e00\u5e74\u7684\u514d\u8d39\u8bc1\u4e66\u5c31\u8981\u5230\u671f\u4e86\uff0c\u662f\u65f6\u5019\u66f4\u65b0\u4e00\u6ce2\u4e86\u2026\u2026</p> <p>\u4ece 2021 \u5f00\u59cb\uff0c\u963f\u91cc\u4e91\u4e0a\u7684\u514d\u8d39\u8bc1\u4e66\u9700\u8981\u901a\u8fc7 \u201c\u8bc1\u4e66\u8d44\u6e90\u5305\u201d \u6765\u7533\u8bf7\uff0c\u9996\u5148\u82b1 0 \u5143\u8d2d\u4e70\u597d\u8bc1\u4e66\u4e4b\u540e\uff0c\u7136\u540e\u7533\u8bf7\u8bc1\u4e66\uff0c\u4e3b\u8981\u662f\u586b\u5199\u7ed1\u5b9a\u7684\u57df\u540d\u4fe1\u606f\uff0c\u53ca\u8054\u7cfb\u4eba\u4fe1\u606f\uff0c\u7136\u540e\u4f1a\u9a8c\u8bc1\u57df\u540d\u6240\u6709\u6743\uff0c\u4e00\u822c\u662f\u901a\u8fc7 DNS \u9a8c\u8bc1\uff0c\u8fd9\u91cc\u4e00\u5f00\u59cb\u4e0b\u62c9\u6846\u7adf\u7136\u53ea\u6709\u624b\u52a8 DNS \u548c\u6587\u4ef6\u9a8c\u8bc1\u4e24\u79cd\u65b9\u5f0f\uff0c\u4e0d\u8fc7\u4f3c\u4e4e\u8f93\u5165\u4e86\u57df\u540d\u4e4b\u540e\uff0c\u53ef\u80fd\u662f\u8bc6\u522b\u5230\u4e86\u5f53\u524d\u57df\u540d\u5c31\u5728\u963f\u91cc\u4e91\u4e0a\u9762\uff0c\u6240\u4ee5\u51fa\u73b0\u4e86\u81ea\u52a8 DNS \u9a8c\u8bc1\uff0c\u7b80\u8a00\u4e4b\u81ea\u52a8\u5728\u57df\u540d\u89e3\u6790\u90a3\u91cc\u6dfb\u52a0\u4e86\u89e3\u6790\uff0c\u6240\u4ee5\u540e\u9762\u53ea\u8981\u786e\u8ba4\u5c31\u597d\u4e86\u3002</p> <p>\u8bc1\u4e66\u7acb\u9a6c\u5c31\u80fd\u7b7e\u53d1\uff0c\u4e0b\u4e00\u6b65\u662f\u9700\u8981\u5728 CDN \u90a3\u91cc\u66f4\u6539\u8bc1\u4e66\uff0c\u53ea\u9700\u8981\u5207\u6362\u8bc1\u4e66\u7f16\u53f7\u5c31\u597d\u3002</p> <p>\u5176\u5b9e\u5728 CDN \u4e2d\u8bc1\u4e66\u9009\u62e9\u4e00\u680f\u6709\u201c\u514d\u8d39\u8bc1\u4e66\u201d\uff0c\u6309\u7406\u8bf4\u4e0d\u9700\u8981\u5355\u72ec\u7684\u8bc1\u4e66\u7533\u8bf7\u6d41\u7a0b\uff0c\u4f46\u662f\u4f3c\u4e4e\u4e0d\u592a\u6210\u529f\uff0c\u5e76\u4e14\u6709\u63d0\u9192\u4fe1\u606f</p> <p>\u53d7CA\u673a\u6784\u5bf9\u514d\u8d39\u8bc1\u4e66\u7684\u7ba1\u7406\u8c03\u6574\uff0c\u514d\u8d39\u8bc1\u4e66\u7684\u7533\u8bf7\u5c06\u4f1a\u53d7\u5230\u5f71\u54cd\uff0c\u5efa\u8bae\u4f7f\u7528\u4e91\u76fe\u8bc1\u4e66\u670d\u52a1\u8fdb\u884c\u76f8\u5173\u8bc1\u4e66\u7533\u8bf7\u3002</p> <p>\u8bc1\u4e66\u7b7e\u53d1\u5b8c\u6210\u540e\uff0c\u9664\u4e86\u624b\u52a8\u53bb CDN \u90a3\u8fb9\u5207\u6362\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u201c\u90e8\u7f72\u201d\u8fdb\u884c\u64cd\u4f5c\uff0c\u4e0d\u8fc7\u9700\u8981\u786e\u8ba4\u4e00\u4e0b\u6743\u9650\u3002</p> <p></p> <p>\u90e8\u7f72\u65f6\u9009\u62e9 <code>CDN</code> \u5373\u53ef\u3002\u53e6\u5916\u6ce8\u610f\u5230\u5bf9\u4e8e <code>www.hohoweiya.xyz</code>\uff0c\u4f1a\u4e3b\u52a8\u5339\u914d\u5230 <code>hohoweiya.xyz</code>\uff0c\u6240\u4ee5\u65e0\u9700\u91cd\u590d\u5bf9 <code>hohoweiya.xyz</code> \u8fdb\u884c\u8bbe\u7f6e\uff0c\u5982\u4e0b\u56fe</p> <p></p>"},{"location":"website/#20210328","title":"20210328","text":"<p>\u5e76\u975e\u6240\u6709\u7f51\u7ad9\u90fd\u9700\u8981 CDN\uff0c\u521a\u521a\u53d1\u73b0 Github \u5f88\u65e9\u5c31\u652f\u6301\u4e86\u4e2a\u6027\u57df\u540d\u5f3a\u5236 HTTPS\uff0c\u6240\u4ee5\u505c\u7528 <code>tech</code>, <code>blog</code>, <code>stat</code> \u4ee5\u53ca <code>@</code> \u8fd9\u51e0\u4e2a\u5b50\u57df\u540d\u7684 CDN\uff0c\u800c\u6539\u7528 Github \u81ea\u5e26\u7684 <code>enforce https</code>\uff0c\u5177\u4f53\u505a\u6cd5\u4e3a</p> <ol> <li>\u505c\u7528 CDN</li> <li>\u4fee\u6539\u57df\u540d\u89e3\u6790\uff0c<code>CNAME</code> \u81f3 <code>szcf-weiya.github.io</code></li> <li>\u5728\u4ed3\u5e93 <code>setting</code> \u4e0b\u52fe\u4e0a <code>enforce https</code></li> </ol>"},{"location":"website/#pygments","title":"Pygments","text":"<p>I have installed <code>pygmentize</code> and the corresponding python should be the system <code>python3</code></p> <pre><code>$ which pygmentize \n/usr/bin/pygmentize\n$ pygmentize -V\nPygments version 2.3.1, (c) 2006-2017 by Georg Brandl.\n$ which python3\n/usr/bin/python3\n$ pip3 install Pygments\nWARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.\nPlease see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.\nTo avoid this problem you can invoke Python with '-m pip' instead of running pip directly.\nLooking in indexes: https://pypi.org/simple/\nRequirement already satisfied: Pygments in /usr/lib/python3/dist-packages (2.3.1)\n</code></pre> <p>Pygments can be used in Jekyll via Rouge, see Use Pygments for Code Snippet Highlighting in Jekyll - \u674e\u5b87\u7428\u7684\u535a\u5ba2</p> <p>With such old version, the formatters like <code>material</code>, <code>github-dark</code> are not supported.</p> <p>but the upgrade does not upgrade <code>pygmentize</code>, instead, it install it to <code>/home/weiya/.local/bin/pygmentize</code></p> <p>2022-10-29 21:14:49</p> <p>However, upgrading <code>pygments</code> from 2.3.1 to 2.12.0 breaks the code block rendering in ESL-CN, see . Locally, there is a conda env named <code>py36ESL</code>, in which <code>pygments</code> is installed via <code>pip</code> instead of <code>conda</code>. The solution is to install <code>pygments</code> via <code>conda install pygments==2.3.1</code> in <code>py36ESL</code> environment.</p>"},{"location":"website/#weasyprint","title":"WeasyPrint","text":"<p>https://weasyprint.org/</p> <ul> <li>convert HTML to PDF: see also </li> <li>customize HTML as PDF</li> </ul>"},{"location":"website/analytics/","title":"Google Analytics","text":"<ul> <li>6.2 \u6700\u5168Google Analytics(\u5206\u6790)\u4f7f\u7528\u6559\u7a0b - \u77e5\u4e4e</li> <li>Google Analytics\u4ee3\u7801DIY-\u8fdb\u9636\u7bc7</li> <li>\u6d45\u6790\u8c46\u74e3\u7684 Google Analytics \u5e94\u7528</li> </ul>"},{"location":"website/analytics/#upgrade-to-ga4","title":"Upgrade to GA4","text":"<p>Currently, I am using <code>analytics.js</code>, but GA4 requires <code>gtag.js</code>. As a result, the setup wizard does not successed.</p> <p></p> <p>But anyway, we still need to <code>Create Property</code> instead of skipping this step.</p> <p>After creating the property, we will have two properties for <code>ESL</code>, </p> <p></p> <p>But we have not added the javascript for ESL-GA4. The tracking code can be found via</p> <p><code>Admin</code> -&gt; <code>ESL-GA4</code> -&gt; <code>Data Streams</code> -&gt; <code>Web</code> -&gt; <code>Add new on-page tag</code> </p> <p>and then paste to the source of the webpages. Since <code>ESL-GA4</code> is another property from <code>ESL</code>, do not remove the existing tracking code for <code>ESL</code>.</p> <p>(Don\u2019t remove the old analytics.js tag; it will continue to collect data for your Universal Analytics property. The gtag.js tag that you\u2019re adding will collect data for your new Google Analytics 4 property.)</p> <p>Refer to \u5411\u5df2\u8bbe\u7f6e Analytics \u7684\u7f51\u7ad9\u6dfb\u52a0 Google Analytics\uff08\u5206\u6790\uff094 \u5a92\u4f53\u8d44\u6e90 - Google Analytics\uff08\u5206\u6790\uff09\u5e2e\u52a9</p> <p>Blogs on explaining the difference between different versions of Google Analytics (GA)</p> <ul> <li>\u65b0\u7248\u8c37\u6b4c\u5206\u6790 GA4 \u8be6\u7ec6\u8bbe\u7f6e/\u66f4\u65b0\u6307\u5357</li> </ul>"},{"location":"website/analytics/#exclude-localhost","title":"Exclude localhost","text":""},{"location":"website/analytics/#first-attempt","title":"first attempt","text":"<p>follow the instruction in [GA4] Filter out internal traffic, and add <code>127.0.0.1</code> as the internal ip, but it does not work. Then I realized that although I am visited the website from 127.0.0.1, the actual GA information is sent from my public IP.</p>"},{"location":"website/analytics/#second-attempt","title":"second attempt","text":"<p>I found the answers in how to disable google analytics on localhost, and then found the official documentations</p> <ul> <li>https://developers.google.com/analytics/devguides/collection/analyticsjs/user-opt-out</li> <li>https://developers.google.com/tag-platform/devguides/privacy#gtag.js_5</li> </ul> <p>where the first one is for the old GA, and the second one is for GA4. Although there is an alternative method for GA4, we can use the same method as in old GA, and the resulting scripts to be added before the GA script is</p> <pre><code>        &lt;script&gt;\nvar host = window.location.hostname;\nif (host == '127.0.0.1' || host == 'localhost') {\nwindow['ga-disable-UA-XXXXXXX'] = true;\nwindow['ga-disable-G-XXXXXX'] = true;\n}\n&lt;/script&gt;\n</code></pre>"},{"location":"website/css/","title":"CSS \u7b14\u8bb0","text":"<p>CSS \u5168\u79f0\u4e3a Cascading Style Sheets, \u4e2d\u6587\u540d\u4e3a\u5c42\u53e0\u6837\u5f0f\u8868.</p>"},{"location":"website/css/#_1","title":"\u5143\u7d20","text":"<ul> <li>\u5757\u7ea7\u5143\u7d20 (block-level element)</li> <li>\u5185\u8054\u7ea7\u5143\u7d20 (inline-level element)</li> </ul>"},{"location":"website/css/#_2","title":"\u9009\u62e9\u5668","text":"<ul> <li>\u7c7b\u9009\u62e9\u5668\uff1a<code>.</code></li> <li>ID\u9009\u62e9\u5668: <code>#</code></li> <li>\u5c5e\u6027\u9009\u62e9\u5668: <code>[]</code></li> <li>\u4f2a\u7c7b\u9009\u62e9\u5668: <code>:</code></li> <li>\u4f2a\u5143\u7d20\u9009\u62e9\u5668: <code>::</code></li> <li>\u5173\u7cfb\u9009\u62e9\u5668<ul> <li>\u540e\u4ee3: <code>&lt;space&gt;</code></li> <li>\u76f8\u90bb\u540e\u4ee3: <code>&gt;</code></li> <li>\u5144\u5f1f: <code>~</code></li> <li>\u76f8\u90bb\u5144\u5f1f: <code>+</code></li> </ul> </li> </ul>"},{"location":"website/css/#_3","title":"\u76d2\u5b50","text":"<ul> <li>\u5185\u5728\u76d2\u5b50:<ul> <li>content box: <code>content-box</code></li> <li>padding box: <code>padding-box</code></li> <li>border box: <code>border-box</code></li> <li>margin box: NONE</li> </ul> </li> </ul>"},{"location":"website/css/#widthheight","title":"<code>width/height</code> \u4f5c\u7528\u7684\u5177\u4f53\u7ec6\u8282","text":""},{"location":"website/css/#widthauto","title":"<code>width:auto</code>","text":""},{"location":"website/css/#widthxpx","title":"<code>width:Xpx</code>","text":"<ul> <li><code>width:100px</code> \u5982\u4f55\u4f5c\u7528\u5230 <code>&lt;div&gt;</code> \u5143\u7d20\u4e0a\uff1f</li> <li>content box \u73af\u7ed5\u7740 <code>width</code> \u548c <code>height</code> \u7ed9\u5b9a\u7684\u77e9\u5f62\u3002\u7531\u4e8e <code>&lt;div&gt;</code> \u5143\u7d20\u9ed8\u8ba4\u7684 <code>padding</code>, <code>border</code> \u548c <code>margin</code> \u5747\u4e3a 0\uff0c\u5219 <code>&lt;div&gt;</code> \u5448\u73b0\u7684\u50cf\u7d20\u4e5f\u4e3a 100px\u3002</li> </ul>"},{"location":"website/css/#box-sizing","title":"<code>box-sizing</code>","text":"<p>\u7528\u4e8e\u6539\u53d8 <code>width</code> \u4f5c\u7528\u7684\u76d2\u5b50</p> <p></p>"},{"location":"website/css/#height100","title":"<code>height:100%</code>","text":"<p>\u5982\u679c\u5305\u542b\u5757\u7684\u9ad8\u5ea6\u6ca1\u6709\u663e\u5f0f\u6307\u5b9a\uff08\u5373\u9ad8\u5ea6\u7531\u5185\u5bb9\u51b3\u5b9a\uff09\uff0c\u5e76\u4e14\u8be5\u5143\u7d20\u4e0d\u662f\u7edd\u5bf9\u5b9a\u4f4d\uff0c\u5219\u8ba1\u7b97\u503c\u4e3a <code>auto</code>\uff0c\u800c\u5b83\u548c\u767e\u5206\u6bd4\u662f\u8ba1\u7b97\u4e0d\u4e86\u7684\uff0c\u56e0\u6b64\u65e0\u6548; \u4f46\u5982\u679c\u5305\u542b\u5757\u7684\u5bbd\u5ea6\u53d6\u51b3\u4e8e\u8be5\u5143\u7d20\u7684\u5bbd\u5ea6\uff0c\u4ea7\u751f\u7684\u5e03\u5c40\u5728 CSS2.1 \u4e2d\u662f\u672a\u5b9a\u4e49\u7684\uff0c\u800c\u6d4f\u89c8\u5668\u53ef\u4ee5\u81ea\u884c\u5904\u7406\u672a\u5b9a\u4e49\u7684\u884c\u4e3a\u3002</p> NOT WORKNOT WORKWORKWORK <pre><code>div {\nwidth: 100%;\nheight: 100%; /* invalid */\n}\n</code></pre> <pre><code>body {\nheight: 100%;\n}\n</code></pre> <pre><code>html, body {\nheight: 100%;\n}\n</code></pre> <pre><code>div {\nheight: 100%;\nposition: absolute;\n}\n</code></pre>"},{"location":"website/css/#chrome-hover","title":"Chrome \u56fa\u5b9a <code>:hover</code> \u72b6\u6001","text":"<p>\u5728\u8bd5\u56fe\u89e3\u51b3 fix a problematic url #955 \u65f6\uff0c\u60f3\u901a\u8fc7 Chrome \u8c03\u8bd5\u770b\u770b <code>:hover</code> \u7684\u5177\u4f53 style \u5b9a\u4e49</p> <p></p>"},{"location":"website/css/#em-rem","title":"em \u548c rem","text":"<p>\u4f55\u65f6\u4f7f\u7528 Em \u4e0e Rem</p> <p>\u6216\u8005\u53c2\u8003</p> <p>rem\u3001px\u3001em\u4e4b\u95f4\u7684\u533a\u522b\u4ee5\u53ca\u7f51\u9875\u54cd\u5e94\u5f0f\u8bbe\u8ba1\u5199\u6cd5 - Gabriel_wei - \u535a\u5ba2\u56ed</p> <p>\u7b80\u5355\u8bf4\uff0c</p> <ul> <li><code>rem</code>: \u76f8\u5bf9\u6839\u8282\u70b9</li> <li><code>em</code>: \u76f8\u5bf9\u7236\u8282\u70b9</li> <li><code>px</code>: \u7edd\u5bf9\u503c</li> </ul>"},{"location":"website/css/#_4","title":"\u81ea\u9002\u5e94\u7f51\u9875\u5e03\u5c40","text":"<p>\u53c2\u8003 \u5229\u7528@media screen\u5b9e\u73b0\u7f51\u9875\u5e03\u5c40\u7684\u81ea\u9002\u5e94</p>"},{"location":"website/css/#12801200px","title":"1280\u5206\u8fa8\u7387\u4ee5\u4e0a\uff08\u5927\u4e8e1200px\uff09","text":"<pre><code>@media screen and (min-width:1200px){\n}\n</code></pre>"},{"location":"website/css/#1100960px1199px","title":"1100\u5206\u8fa8\u7387\uff08\u5927\u4e8e960px\uff0c\u5c0f\u4e8e1199px\uff09","text":"<pre><code>@media screen and (min-width: 960px) and (max-width: 1199px) {\n}\n</code></pre>"},{"location":"website/css/#880768px959px","title":"880\u5206\u8fa8\u7387\uff08\u5927\u4e8e768px\uff0c\u5c0f\u4e8e959px\uff09","text":"<pre><code>@media screen and (min-width: 768px) and (max-width: 959px) {\n}\n</code></pre>"},{"location":"website/css/#display","title":"display","text":"<p>\u5bf9 img \u6dfb\u52a0</p> <pre><code>display: block\n</code></pre> <p>\u8fbe\u5230\u5c45\u4e2d\u7684\u4f5c\u7528</p>"},{"location":"website/css/#meta","title":"meta \u6807\u7b7e","text":"<p>Meta\u6807\u7b7e\u7ed9\u641c\u7d22\u5f15\u64ce\u63d0\u4f9b\u4e86\u8bb8\u591a\u5173\u4e8e\u7f51\u9875\u7684\u4fe1\u606f\u3002</p> <p>\u4e3a\u4e86\u4e0d\u8ba9\u7528\u6237\u624b\u52a8\u53bb\u6539\u53d8\u9875\u9762\u5927\u5c0f\uff0c\u9700\u8981\u52a0\u4e0a</p> <pre><code>&lt;meta name=\"viewport\" content=\"width=device-width,initial-scale=1,user-scalable=no\"&gt;\n</code></pre> <ol> <li>Meta \u6807\u7b7e\u4e0e\u641c\u7d22\u5f15\u64ce\u4f18\u5316</li> <li>\u624b\u673a\u7f51\u9875\u5e03\u5c40\u7ecf\u9a8c\u603b\u7ed3</li> </ol>"},{"location":"website/css/#font-family","title":"font-family\u7684\u9009\u62e9","text":"<p>\u770b\u5230\u4e00\u7bc7\u8d85\u7ea7\u68d2\u7684\u535a\u5ba2</p> <p>\u5982\u4f55\u4f18\u96c5\u7684\u9009\u62e9\u5b57\u4f53(font-family)</p>"},{"location":"website/css/#cloudflare-rocket-load-module","title":"cloudflare \u7684rocket load module","text":"<p>\u614e\u7528\uff0c\u5728ESL\u4e0a\uff0c\u51fa\u73b0\u4e86\u5982\u4e0b\u95ee\u9898</p> <p>A Parser-blocking, cross-origin script, http://example.org/script.js, is invoked via document.write. This may be blocked by the browser if the device has poor network connectivity.</p> <p>\u4ee5\u53ca\u516c\u5f0f\u89e3\u6790\u9519\u8bef\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff0c\u53bbcloudflare\u4e3b\u9875disable\u6389rocket load module.</p>"},{"location":"website/css/#uncaught-referenceerror-is-not-defined","title":"Uncaught ReferenceError: $ is not defined?","text":"<p>\u53c2\u8003Uncaught ReferenceError: $ is not defined?</p>"},{"location":"website/css/#_5","title":"\u7f51\u9875\u5e95\u90e8\u51fa\u73b0\u6eda\u52a8\u6761","text":"<p>\u67e5\u770bfooter\u7684width\u662f\u5426\u4e3a100%\uff0c\u82e5\u662f\uff0c\u5219\u5220\u6389\uff0c\u67d0\u6b21\u662f\u56e0\u4e3a\u8fd9\u4e2a\u539f\u56e0\u3002</p>"},{"location":"website/css/#footer","title":"footer \u4fdd\u6301\u5728\u5e95\u90e8","text":"<p>\u901a\u8fc7 <code>flexbox</code>\uff0c\u4f8b\u5982</p> <pre><code>/* https://demo.tutorialzine.com/2016/03/quick-tip-the-best-way-to-make-sticky-footers/styles.css */\nbody{\ndisplay: flex;\nflex-direction: column;\nheight: 100%;\nfont: 400 15px/1.4 'Open Sans',sans-serif;\n}\n\nheader{\n/* We want the header to have a static height - it will always take up just as much space as it needs.  */\n/* 0 flex-grow, 0 flex-shrink, auto flex-basis */\nflex: 0 0 auto;\n}\n\n.main-content{\n/* By setting flex-grow to 1, the main content will take up\n    all of the remaining space on the page (the other elements have flex-grow: 0 and won't contest the free space). */\n/* 1 flex-grow, 0 flex-shrink, auto flex-basis */\nflex: 1 0 auto;\n}\n\nfooter{\n/* Just like the header, the footer will have a static height - it shouldn't grow or shrink.  */\n/* 0 flex-grow, 0 flex-shrink, auto flex-basis */\nflex: 0 0 auto;\n}\n</code></pre> <p>\u53c2\u8003</p> <ul> <li>\u544a\u8bc9\u4f60\u4e00\u4e2a\u5c06 footer \u4fdd\u6301\u5728\u5e95\u90e8\u7684\u6700\u597d\u65b9\u6cd5</li> <li>Quick Tip: The Best Way To Make Sticky Footers</li> </ul>"},{"location":"website/css/#mathjax","title":"Mathjax \u516c\u5f0f\u951a\u70b9\u504f\u79fb","text":"<p>\u8be6\u89c1 mathjax link to equation</p> <p>\u53c2\u8003\u8d44\u6599\uff1a</p> <ul> <li><code>:target</code> \u9009\u62e9\u5668: \u7528\u4e8e\u951a<code>#</code>\u5143\u7d20\u7684\u6837\u5f0f</li> <li>\u951a\u70b9\u5b9a\u4f4d\u5411\u4e0b\u504f\u79fb</li> <li>scroll issue mentioned in mkdocs-material:</li> <li>scroll issue when link anchor is in a table header #746</li> <li>and the changes seems only <code>scroll-margin-top</code></li> <li>css\u4e2d\u4e00\u4e2a\u5192\u53f7\u548c\u4e24\u4e2a\u5192\u53f7</li> <li>css \u4f2a\u5143\u7d20</li> <li>offsets anchor to adjust for fixed header</li> <li>Fixed page header overlaps in-page anchors</li> <li>negative margins</li> </ul>"},{"location":"website/disqus/","title":"Disqus for mainland China","text":"<p>\u5982\u679c\u80fd\u591f\u6b63\u5e38\u8bbf\u95ee Disqus\uff0c\u76f4\u63a5\u53c2\u8003\u5b98\u65b9\u6587\u6863\u8fdb\u884c\u914d\u7f6e\uff0c\u6216\u8005\u8fd9\u7bc7\u535a\u5ba2\uff0cAdding Disqus to a Jekyll Blog\u3002</p> <p>\u76ee\u524d\u4f7f\u7528 fooleap/disqus-php-api \u7684\u65b9\u6848\uff0c\u8be6\u89c1</p> <ul> <li>\u79d1\u5b66\u4f7f\u7528 Disqus</li> <li>\u68c0\u6d4b\u7f51\u7edc\u662f\u5426\u80fd\u591f\u8bbf\u95ee Disqus</li> </ul> <p>\u53e6\u5916\uff0c\u535a\u5ba2\u7edf\u8ba1\u62a5\u544a\uff082016 \u4e0a\u534a\u5e74\uff09 \u7684\u8bc4\u8bba\u7cfb\u7edf\u4e5f\u662f\u4f5c\u8005\u4f7f\u7528 Disqus API \u5199\u7684\uff0c\u4e0d\u8fc7\u76ee\u524d\u4f3c\u4e4e\u8fd8\u6ca1\u6709\u5265\u79bb\u51fa\u6765</p> <p>@Jerry Qu: \u4e0d\u662f\u4e0d\u60f3\u5f00\u6e90\u554a\uff0c\u4e3b\u8981\u662f\u8fd9\u90e8\u5206\u903b\u8f91\u8ddf\u6211\u535a\u5ba2\u7cfb\u7edf\u4ece Node.js \u5230 JS \u5230 CSS \u5168\u90e8\u8026\u5408\u5728\u4e00\u8d77\u4e86\u3002</p>"},{"location":"website/disqus/#disable-ads","title":"disable ads","text":"<p>use the following jquery scripts,</p> <pre><code>&lt;script src=\"/js/jquery-latest.min.js\"&gt;&lt;/script&gt;\n&lt;!--rm disqus ad refer to https://www.javaer101.com/article/25891160.html--&gt;\n&lt;script&gt;\n  (function($){\nsetInterval(() =&gt; {\n$.each($('iframe'), (arr,x) =&gt; {\nlet src = $(x).attr('src');\nif (src &amp;&amp; src.match(/(ads-iframe)|(disqusads)/gi)) {\n$(x).remove();\n}\n});\n}, 300);\n})(jQuery);\n</code></pre> <p>as used in my Chinese blog.</p>"},{"location":"website/disqus/#reconfigure-on-aws","title":"Reconfigure on AWS","text":"<p>\u4e4b\u524d\u662f\u5728 Vultr \u4e0a\u4e70\u4e86\u670d\u52a1\u5668\uff0c\u4f46\u662f\u82b1\u8d39\u4e5f\u4e0d\u5c0f\uff0c\u9042\u6539\u7528 AWS free tier.</p>"},{"location":"website/disqus/#step-1-install-apache2","title":"Step 1: Install Apache2","text":"<pre><code>sudo apt update\nsudo apt install apache2\n</code></pre> <p>\u914d\u7f6e\u4e91\u670d\u52a1\u5546\u7684\u5b89\u5168\u7ec4\uff0c\u6dfb\u52a0 80,443 \u7aef\u53e3\uff0c\u5219\u5e94\u8be5\u80fd\u591f\u8bbf\u95ee apache \u7684\u9ed8\u8ba4\u7f51\u9875\u3002</p> <p>\u7136\u540e\u5728 <code>/var/www</code> \u4e0b\u65b0\u5efa <code>disqus</code> \u6587\u4ef6\u5939</p> <pre><code>sudo mkdir /var/www/disqus\nsudo chown -R $USER:$USER /var/www/disqus\n</code></pre> <p>\u5e76\u914d\u7f6e</p> <pre><code>sudo nano /etc/apache2/sites-available/disqus.conf\n</code></pre> <p>\u53ef\u4ee5\u76f4\u63a5\u590d\u5236 <code>000-default.conf</code>\uff0c\u7136\u540e\u66f4\u6539 <code>ServerName</code> \u4e3a\u57df\u540d\uff0c\u800c <code>DocumentRoot</code>\u6539\u6210 <code>/var/www/disqus</code>.</p> <p>\u7136\u540e\u542f\u52a8 <code>disqus.conf</code> \u5e76\u5173\u95ed <code>000-default.conf</code></p> <pre><code>sudo a2ensite disqus.conf\nsudo a2dissite 000-default.conf\n</code></pre> <p>\u8fd9\u6837\u7684\u597d\u5904\u662f\u4ee5\u540e\u65b9\u4fbf\u6dfb\u52a0\u4e0d\u540c\u7684 hosts\u3002</p>"},{"location":"website/disqus/#step-2-install-php","title":"Step 2: Install php","text":"<p>\u76f4\u63a5\u4e0b\u8f7d\u5c31\u597d\u4e86</p> <pre><code>sudo apt install php\n</code></pre> <p>\u9ed8\u8ba4\u88c5\u7684\u662f php7.2\uff0c\u867d\u7136\u6587\u6863\u4e2d\u8bf4\u7684\u662f php5.6\uff0c\u5207\u6362\u4e0d\u540c\u7248\u672c\u7684 php \u53ef\u4ee5\u53c2\u8003 How to install php5 and php7 on Ubuntu 18.04 LTS</p> <p>\u4e3b\u8981\u6709\u4ee5\u4e0b\u4e24\u79cd\u65b9\u5f0f\uff0c</p> <ul> <li>\u901a\u8fc7 Apache2, \u5373</li> </ul> <pre><code># disable\nsudo a2dismod php5.6\nsudo a2enmod php7.2\n</code></pre> <ul> <li>\u901a\u8fc7 <code>update-alternatives</code></li> </ul> <pre><code>sudo update-alternatives --set php /usr/bin/php7.2\n# or select from the list\nsudo update-alternatives --config php\n</code></pre> <p>\u53e6\u5916\u8fd8\u8981\u5b89\u88c5 <code>cURL</code>\uff0c\u4e0d\u7136\u4f1a\u62a5\u9519</p> <p>PHP Fatal error:  Call to undefined function curl_init() in /var/www/disqus/disqus-php-api/api/init.php on line 104</p> <p>\u5176\u4e2d<code>curl_init()</code> \u662f cURL \u7684\u51fd\u6570\u3002\u9700\u8981\u6ce8\u610f\u9009\u62e9\u4e0e php \u5339\u914d\u7684\u7248\u672c</p> <pre><code>sudo apt-get install php7.2-curl\n</code></pre>"},{"location":"website/disqus/#step-3-install-api","title":"Step 3: Install api","text":"<pre><code>cd /var/www/disqus\ngit clone git@github.com:fooleap/disqus-php-api.git\n</code></pre> <p>\u7136\u540e\u914d\u7f6e <code>config.php</code>\uff0c\u4f3c\u4e4e\u4e5f\u8981\u7ed9 api \u6587\u4ef6\u5939\u5199\u7684\u6743\u9650\uff0c\u4e0d\u7136\u4f1a\u62a5\u51fa</p> <p></p> <p>\u7136\u540e\u5728 Disqus Api \u4e2d\u66f4\u65b0 callback url\uff0c\u540c\u65f6\u4e5f\u8981\u66f4\u65b0\u4e0b CNAME \u8bb0\u5f55\u3002</p> <p>\u6700\u540e\u53ef\u4ee5\u5728\u6d4f\u89c8\u5668\u4e2d\u8bbf\u95ee <code>****/login.php</code> \u770b\u662f\u5426\u914d\u7f6e\u6210\u529f\uff0c\u5982\u679c\u4e0d\u6210\u529f\uff0c\u53ef\u4ee5\u67e5\u770b\u65e5\u5fd7\u6587\u4ef6\u5bfb\u627e bug\uff0c</p> <pre><code>cat /var/log/error.log\n</code></pre> <p>\u6709\u4e00\u70b9\u6bd4\u8f83\u56f0\u60d1\u7684\u662f\uff0cdisqus \u4f1a\u62a5\u51fa\uff0c</p> <p></p> <p>\u4e8e\u662f\u6211\u624b\u52a8\u628a <code>login.php</code> \u6587\u4ef6\u4e2d\u7684 <code>$redirect</code> \u6539\u6210 callback url\uff0c\u8fd9\u6837\u786e\u5b9e\u4e5f\u6210\u529f\u4e86\uff0c\u4f46\u662f\u6211\u80af\u5b9a\u9519\u8fc7\u4e86\u4ec0\u4e48\u4e1c\u897f\uff0c\u4e5f\u8bb8 Apache \u76ee\u5f55\u540d\u7684\u8bbe\u7f6e\uff1f</p> <p>\u540e\u6765\u901a\u8fc7\u5728 <code>login.php</code> \u6587\u4ef6\u4e2d\u6dfb\u52a0\u6253\u5370\u8f93\u51fa\u8bed\u53e5</p> <pre><code>file_put_contents('php://stderr', print_r($redirect, TRUE));\n</code></pre> <p>\u4f3c\u4e4e\u4e5f\u53ea\u662f <code>http</code> \u548c <code>https</code> \u7684\u533a\u522b\uff0c\u6b64\u65f6\u5df2\u7ecf\u5728 apache \u914d\u7f6e\u6587\u4ef6\u6307\u5b9a\u4e86 host name \u4e3a\u57df\u540d\u3002\u4e8e\u662f\u53ef\u4ee5\u7528 <code>str_ireplace</code> \u6765\u5b8c\u6210\u66ff\u6362\u3002</p> <p>\u53e6\u5916\uff0c\u8bbe\u7f6e\u4e0d\u5141\u8bb8\u67e5\u770b Apache \u7684\u76ee\u5f55\uff0c\u53c2\u8003 How to make Apache more secure by hiding directory folders</p> <p><pre><code>$ sudo vi /etc/apache2/apache2.conf\n</code></pre> \u5c06 <pre><code>&lt;Directory /var/www/&gt;\n\u200b     Options Indexes FollowSymLinks\n\u200b     AllowOverride None\n\u200b     Require all granted\n\u200b&lt;/Directory&gt;\n</code></pre></p> <p>\u6539\u6210</p> <pre><code>&lt;Directory /var/www/&gt;\n\u200b     Options FollowSymLinks\n\u200b     AllowOverride None\n\u200b     Require all granted\n\u200b&lt;/Directory&gt;\n</code></pre> <p>\u7136\u540e</p> <pre><code>sudo service apache2 restart\n</code></pre>"},{"location":"website/disqus/#20201001-aws-wsl","title":"20201001: AWS -&gt; WSL","text":"<p>\u56e0\u4e3a aws \u7684 free tier \u5230\u671f\u4e86\uff0c\u6240\u4ee5\u9700\u8981\u6362\u4e00\u4e2a\u5883\u5916\u670d\u52a1\u5668\u6765\u8f6c\u53d1 disqus \u7684\u8bc4\u8bba\uff0c\u60f3\u5230\u53ef\u4ee5\u76f4\u63a5\u7528\u529e\u516c\u5ba4\u7684\u7535\u8111\u3002</p> <p>Step 1 \u4e0e\u4e0a\u6587\u5b8c\u5168\u4e00\u81f4\uff0c\u53ea\u4e0d\u8fc7\u4e0d\u9700\u8981\u914d\u7f6e\u5b89\u5168\u7ec4\uff0c\u53ea\u4e0d\u8fc7\u5728\u672c\u5730\u8bd5\u56fe\u8bbf\u95ee <code>localhost</code>\uff0c\u5982\u679c\u8df3\u51fa\u7f51\u7edc\u914d\u7f6e\u7684\u5bf9\u8bdd\u6846\uff0c\u70b9\u51fb\u5141\u8bb8\u5c31\u597d\u3002</p> <p>Step 2 \u76f4\u63a5\u6309\u7167 php \u5c31\u597d\uff0c\u56e0\u4e3a\u5e76\u6ca1\u6709 php5.6\uff0c\u5373</p> <pre><code>sudo apt install php\nsudo apt-get install php7.2-curl\n</code></pre> <p>\u5728 WSL \u4e2d\u542f\u52a8\u670d\u52a1\u5668\u65f6\uff0c\u51fa\u73b0</p> <pre><code>protocol not available ah00076 failed to enable apr_tcp_defer_accept\n</code></pre> <p>\u8fd9\u4e2a\u5728 APR_TCP_DEFER_ACCEPT error when starting Apache2 #1953 \u6709\u8ba8\u8bba\uff0c\u89e3\u51b3\u65b9\u6848\u662f\u5c06 WSL1 \u5347\u7ea7\u4e3a WSL2</p> <p>\u5728 Windows command prompt \u4e2d\u67e5\u770b WSL \u7684\u7248\u672c</p> <pre><code>C:\\&gt; wsl -l -v\n</code></pre> <p>\u5347\u7ea7\u547d\u4ee4\u4e3a</p> <pre><code>C:\\&gt; wsl --set-version Ubuntu 2\n</code></pre> <p>\u5176\u4e2d <code>Ubuntu</code> \u53ef\u80fd\u8fd8\u9700\u8981\u5e26\u4e0a\u5177\u4f53\u7248\u672c\uff0c\u4ee5\u4e0a\u4e00\u4e2a\u547d\u4ee4\u8bbf\u95ee\u7684\u7ed3\u679c\u4e3a\u51c6\u3002\u7136\u540e\u4f1a\u6709\u5347\u7ea7\u63d0\u793a\uff0c\u4f46\u662f\u540e\u6765\u53d1\u73b0\u5373\u4fbf\u4e0b\u8f7d\u4e86\u5347\u7ea7\u5305\uff0c\u4ecd\u7136\u9700\u8981\u5728 BIOS \u4e2d\u8fdb\u884c\u8bbe\u5b9a\uff0c\u800c\u73b0\u5728\u8fdc\u7a0b\u4e0d\u65b9\u4fbf\u91cd\u542f\u3002\u53ea\u597d\u4f5c\u7f62\u3002</p> <p>\u540e\u6765\u518d\u6b21\u8bd5\u56fe start apache\uff0c\u53d1\u73b0\u8fd9\u8fd9\u53ea\u662f\u4e2a warning\uff0c\u5e76\u4e0d\u5f71\u54cd\u8fd0\u884c\u3002</p> <p>Step 3 \u4e0d\u9700\u8981\u91cd\u65b0\u4e0b\u8f7d\u4e86\uff0c\u76f4\u63a5\u628a aws \u670d\u52a1\u5668\u4e2d\u7684\u6587\u4ef6\u5939\u590d\u5236\u8fc7\u6765\u5c31\u597d\u3002</p> <p>\u7136\u540e\u8fd0\u884c</p> <pre><code>./ngrok http 80\n</code></pre> <p>\u5373\u53ef\u901a\u8fc7\u5916\u7f51\u8bbf\u95ee\u8be5\u670d\u52a1\u5668\uff0c\u56e0\u4e3a\u57df\u540d\u5df2\u7ecf\u89e3\u6790\u81f3 CDN\uff0c\u6240\u4ee5\u76f4\u63a5\u5728 CDN \u914d\u7f6e\u4e2d\u66f4\u6539\u56de\u6e90\u57df\u540d\uff0c\u4e0d\u8fc7\u6b64\u65f6\u56de\u6e90 Host \u7684\u914d\u7f6e\u9700\u8981\u683c\u5916\u6ce8\u610f\u3002</p> <p>\u5982\u679c\u56de\u6e90 Host \u4ecd\u8bbe\u7f6e\u4e3a <code>hohoweiya</code> \u7684\u57df\u540d\uff0c\u5219\u8bd5\u56fe\u901a\u8fc7\u8be5\u57df\u540d\u8bbf\u95ee\u65f6\uff0c\u4f1a\u51fa\u73b0 <code>Tunnel xxx.hohoweiya.xyz</code> not found\uff0c\u800c\u4e14\u4f3c\u4e4e\u53ea\u6709\u5f53 https \u624d\u51fa\u73b0\u8fd9\u6837\u7684\u95ee\u9898\u3002</p> <p>\u6240\u4ee5\u56de\u6e90 Host \u5e94\u5f53\u8bbe\u7f6e\u4e3a ngrok \u5206\u914d\u7684\u57df\u540d\u3002</p> <p>\u5176\u5b9e\u4ed4\u7ec6\u60f3\u60f3\uff0c\u4e5f\u633a\u597d\u7406\u89e3\uff0c\u5982\u679c\u5728\u4e00\u53f0\u5df2\u77e5\u57df\u540d\u7684\u670d\u52a1\u5668\u4e0a\u4f7f\u7528 virtual host\uff0c\u914d\u7f6e\u6587\u4ef6\u4e2d\u5199\u7684 <code>ServerName</code> \u5176\u5b9e\u662f\u4e3a\u4e86\u901a\u8fc7\u57df\u540d\u6765\u7d22\u5f15\u5230\u8be5 virtual host\uff0c\u4f46\u662f\u73b0\u5728\u6211\u771f\u6b63\u7684\u670d\u52a1\u5668\u5e76\u6ca1\u6709\u516c\u7f51 ip \u6216\u8005\u57df\u540d\uff0c\u53ea\u662f\u901a\u8fc7 ngrok \u6765\u8f6c\u53d1\uff0c\u6240\u4ee5\u5982\u679c\u4ecd\u5c06 <code>hohoweiya</code> \u7684\u57df\u540d\u4f5c\u4e3a\u56de\u6e90 Host\uff0c\u5219\u662f\u8bd5\u56fe\u5728 ngrok \u7684\u670d\u52a1\u5668\u4e0a\u627e\u540d\u4e3a <code>xxx.hohoweiya.xyz</code> \u7684 virtual host\u3002\u5176\u5b9e\u9690\u7ea6\u89c9\u5f97\u8fd9\u4e2a\u4e5f\u53ef\u4ee5\u5b9e\u73b0\uff0c\u611f\u89c9\u8fd8\u662f\u4e00\u4e2a\u7aef\u53e3\u8f6c\u53d1\u7684\u95ee\u9898\uff0c\u56e0\u4e3a\u524d\u9762\u53d1\u73b0\u4f3c\u4e4e\u53ea\u6709 https \u65f6\u4e0d\u884c\u3002</p> <p>\u8fd9\u65f6\u53e6\u5916\u4e00\u4e2a\u95ee\u9898\u51fa\u73b0\u4e86\uff0c\u73b0\u5728\u867d\u7136\u53ef\u4ee5\u8bbf\u95ee <code>login.php</code>\uff0c\u4f46\u662f\u4e5f\u62a5\u51fa\u4e0a\u6587\u4e2d\u51fa\u73b0\u8fc7\u7684 <code>should match predefined callback URI</code> \u7684\u95ee\u9898\uff0c\u56e0\u4e3a\u6b64\u65f6\u5b9e\u9645\u4e0a\u662f\u901a\u8fc7 ngrok \u7684\u57df\u540d\u8bbf\u95ee\u7684\uff0c\u6240\u4ee5\u76f4\u63a5\u7684\u8bbf\u95ee\u4fbf\u662f\u5728 disqus application \u540e\u53f0\u66f4\u6539 callback URI\u3002</p>"},{"location":"website/disqus/#20210518-wsl-docker","title":"20210518: WSL -&gt; docker","text":"<p>\u56e0\u4e3a\u4eca\u5929\u529e\u516c\u5ba4\u4e34\u65f6\u505c\u7535\uff0c\u4e3a\u4e86\u4e0d\u5f71\u54cd\u8bc4\u8bba\u7cfb\u7edf\uff0c\u4e8e\u662f\u5c06\u5176\u77ed\u6682\u8fc1\u79fb\u81f3\u672c\u5730\u3002\u867d\u7136\u76f4\u63a5\u5728\u672c\u5730\u88c5 apache2 + php \u4e5f\u662f\u53ef\u884c\u7684\uff0c\u4f46\u662f\u4e3a\u4e86\u907f\u514d\u6f5c\u5728\u5bf9\u5176\u5b83\u7a0b\u5e8f\u9020\u6210\u7684\u5f71\u54cd\uff0c\u9042\u51b3\u5b9a\u4f7f\u7528 docker\u3002</p> <p>\u4e00\u5f00\u59cb\u4f7f\u7528 <code>alexcheng/apache2-php7</code>\u3002\u6b65\u9aa4\u5982\u4e0b\uff1a</p>"},{"location":"website/disqus/#step-0","title":"Step 0: \u63d0\u524d\u5907\u4efd","text":"<p>\u63d0\u524d\u4ece WSL \u4e2d\u5907\u4efd\u51fa <code>/var/www/disqus-php-api</code> \u6587\u4ef6\u5939\u81f3\u672c\u5730 <code>/media/weiya/PSSD/disqus20210518/</code>\uff0c\u6ce8\u610f\u4ecd\u4fdd\u7559\u6587\u4ef6\u5939 <code>disqus-php-api</code></p>"},{"location":"website/disqus/#step-1-docker","title":"Step 1: \u542f\u52a8 docker","text":"<pre><code>$ docker run --name apache2php7 -p 10080:80 -v /media/weiya/PSSD/disqus20210518/:/var/www/disqus/ alexcheng/apache2-php7\n</code></pre> <p>\u6b64\u65f6\u8fd0\u884c\u65e5\u5fd7\u6587\u4ef6\u76f4\u63a5\u8f93\u51fa\u5230\u4e86\u7ec8\u7aef</p>"},{"location":"website/disqus/#step-2-docker","title":"Step 2: \u8fdb\u5165 docker \u8fdb\u884c\u914d\u7f6e","text":"<pre><code>$ docker exec -it apache2php7 bash\n</code></pre> <p>\u4fee\u6539 <code>/etc/apache2/apache2.conf</code> \u914d\u7f6e\u6587\u4ef6\uff0c\u5c06 </p> <pre><code>DocumentRoot /var/www/html\n</code></pre> <p>\u6539\u81f3</p> <pre><code>DocumentRoot /var/www/disqus\n</code></pre> <p>\u6b64\u65f6\u5e94\u8be5\u80fd\u591f\u5728\u672c\u5730\u6d4f\u89c8\u5668\u4e2d\u8bbf\u95ee <code>http://127.0.0.1:10080/disqus-php-api/api/login.php</code>\uff0c\u5f53\u7136\u5ffd\u7565 <code>should match predefined callback URI</code> \u7684\u95ee\u9898\u3002</p>"},{"location":"website/disqus/#step-3","title":"Step 3: \u5916\u7f51\u8bbf\u95ee","text":"<p>\u9996\u5148\u4e0b\u8f7d ngrok\uff0c\u7136\u540e\u542f\u52a8\u5e76\u8fd0\u884c <code>./ngrok http 10080</code>\u3002</p> <p>\u7136\u540e\u5728\u963f\u91cc\u4e91 CDN \u7ba1\u7406\u5e73\u53f0\u4e0a\u8bbe\u7f6e\u4fee\u6539\u6e90\u7ad9\u4fe1\u606f\u53ca\u56de\u6e90 Host \u4e3a ngrok \u5206\u914d\u7684\u57df\u540d\u3002</p> <p>\u6b64\u65f6\u8bc4\u8bba\u7cfb\u7edf\u65e0\u8bba\u5728\u5185\u5730\u8fd8\u662f\u5883\u5916\u90fd\u53ef\u4ee5\u6b63\u5e38\u52a0\u8f7d\u3002</p>"},{"location":"website/disqus/#step-4","title":"Step 4: \u6d4b\u8bd5\u8bc4\u8bba","text":"<p>\u8bc4\u8bba\u53ef\u4ee5\u6b63\u5e38\u53d1\u51fa\uff0c\u4f46\u662f\u6ca1\u6709\u6536\u5230\u90ae\u4ef6\uff0c\u4e00\u5ea6\u6000\u7591\u662f php \u53d1\u9001\u90ae\u4ef6\u7684\u6a21\u5757\u51fa\u95ee\u9898\u4e86\uff0c\u800c\u4e14\u56e0\u4e3a\u6b64 docker image \u7684\u7279\u6b8a\u8bbe\u7f6e\uff0c</p> <pre><code>$ cat /etc/apache2/apache2.conf\n...\nErrorLog /proc/self/fd/2\n...\nCustomLog /proc/self/fd/1 combined\n</code></pre> <p>\u5176\u4e2d <code>/proc/self/fd/2</code> \u7c7b\u4f3c <code>&gt;&amp;2</code>\uff0c\u8be6\u89c1 What\u2019s the difference between \u201c&gt;&amp;1\u201d and \u201c&gt;/proc/self/fd/1\u201d redirection?\uff0c\u5373\u4fbf\u4fee\u6539\u4e3a</p> <pre><code>ErrorLog ${APACHE_LOG_DIR}/error.log\n</code></pre> <p>\u88ab\u8bb0\u5f55\u7684 error log \u4e5f\u53ea\u662f\u4e0b\u9762\u8fd9\u79cd\u65e0\u5173\u75db\u75d2\u7684\u8bb0\u5f55\uff0c</p> <pre><code>[Tue May 18 08:46:56.532391 2021] [mpm_prefork:notice] [pid 7777] AH00163: Apache/2.4.18 (Ubuntu) PHP/7.1.11 configured -- resuming normal operations [Tue May 18 08:46:56.532422 2021] [core:notice] [pid 7777] AH00094: Command line: '/usr/sbin/apache2'\n</code></pre> <p>\u8be6\u7ec6\u89e3\u91ca\u89c1 Apache is OK, but what is this in error.log - [mpm_prefork:notice]?</p> <p>\u6ca1\u6709\u5934\u7eea\uff0c\u7d22\u6027\u91cd\u65b0\u6362\u4e86 docker image\uff0cnimmis/apache-php7\uff0c\u7136\u540e\u91cd\u65b0\u8d70\u4e00\u904d\u4e0a\u8ff0\u6b65\u9aa4\uff0c\u8fd9\u4e2a\u5b8c\u5168\u5c31\u662f\u5b50\u7cfb\u7edf\u7684 apache2\uff0c\u6ca1\u53d1\u73b0\u6709\u7279\u610f\u66f4\u9ad8\u7684\u8bbe\u7f6e\uff0c\u6240\u4ee5\u66f4\u52a0\u719f\u6089\uff0c\u6bd4\u5982\u5728\u7981\u6b62\u76ee\u5f55\u8bbf\u95ee\u65f6\uff0c\u9700\u8981\u4fee\u6539</p> <pre><code>&lt;Directory /var/www/&gt;\n-\u200b     Options Indexes FollowSymLinks\n+\u200b     Options FollowSymLinks\n\u200b     AllowOverride None\n\u200b     Require all granted\n\u200b&lt;/Directory&gt;\n</code></pre> <p>\u800c\u4e14\u6b64\u65f6 <code>error.log</code> \u53ef\u4ee5\u8bb0\u5f55 php \u4e2d\u7684\u8f93\u51fa\u4e86\u3002\u540e\u6765\u5c31\u5728 php \u6587\u4ef6\u4e2d\u6dfb\u52a0\u8f93\u51fa\u8bed\u53e5</p> <pre><code>file_put_contents('php://stderr', print_r($_POST, TRUE));\n</code></pre> <p>\u8fdb\u884c debug\u3002\u4e0d\u8fc7\u540e\u6765\u624d\u53d1\u73b0\u90ae\u4ef6\u7cfb\u7edf\u672c\u8eab\u4ecd\u662f\u6b63\u5e38\u7684\uff0c\u53ea\u662f\u56e0\u4e3a\u6b64\u524d\u4e00\u5f00\u59cb\u90fd\u662f\u5728 disqus \u540e\u53f0\u8fdb\u884c\u56de\u590d\uff0c\u800c\u975e\u5728\u5177\u4f53\u9875\u9762\u4e0a\u56de\u590d\uff0c\u524d\u8005\u5e76\u4e0d\u901a\u8fc7\u6b64\u8f6c\u53d1\u7cfb\u7edf\uff0c\u6545\u6ca1\u6709\u6536\u5230\u90ae\u4ef6\u3002</p> <p>\u7ecf\u8fc7\u8fd9\u4e00\u6b21\u6298\u817e\uff0c\u4e5f\u719f\u6089\u4e86\u4e0b\u90ae\u4ef6\u63d0\u9192\u673a\u5236\uff0c\u4e3b\u8981\u6709\u4e00\u4e0b\u51e0\u70b9</p> <ul> <li>\u540e\u53f0\u6682\u5b58\u6570\u636e\u5f62\u5f0f\u4e3a <code>md5(name+email): real_email</code>\uff0c\u6ce8\u610f\u6b64\u5904 <code>email</code> \u5b9e\u9645\u4e0a\u662f\u4ece Disqus \u8bf7\u6c42\u8fd4\u56de\u503c\uff0c\u5373\u7c7b\u4f3c <code>s****@gmail.com</code> \u7684\u5f62\u5f0f\uff0c\u5e76\u4e0d\u662f\u5168\u660e\u6587 <code>real_email</code></li> <li>\u7236\u8bc4\u8bba\u8fd4\u56de\u65f6\u95f4\u6233 <code>time</code> \u4e3a\u5176 code\uff0c\u800c\u5b50\u8bc4\u8bba\u8fd4\u56de\u7236\u8bc4\u8bba\u7684 <code>md5(name+email)</code>\uff0c\u56e0\u800c\u53ef\u4ee5\u627e\u5230\u6682\u5b58\u7684\u90ae\u7bb1\u8fdb\u884c\u63d0\u9192</li> </ul>"},{"location":"website/disqus/#login","title":"login?","text":"<p>\u53e6\u5916\uff0c<code>login.php</code> \u4f3c\u4e4e\u7528\u4e0d\u4e0a\uff0c\u6240\u4ee5 callback url \u4f3c\u4e4e\u65e0\u9700\u4fee\u6539\u3002\u4e4b\u524d\u662f\u76f4\u63a5\u7528 ngrok \u8bbf\u95ee\u7684\u57df\u540d\uff0c\u8bd5\u56fe\u6362\u6210 <code>api.hohoweiya.xyz</code> \u540e\uff0c\u4ecd\u7136\u62a5\u51fa Invalid Request: should match predefined callback URI\u3002\u4f46\u662f\u6362\u4e2a\u89d2\u5ea6\uff0c\u767b\u5f55\u5728\u5185\u5730\u672c\u8eab\u5c31\u4e0d\u53ef\u884c\uff0c\u56e0\u4e3a\u6700\u7ec8\u8fd8\u662f\u8981 call back \u5230 disqus\uff08\u5185\u5730\u65e0\u6cd5\u8bbf\u95ee\uff09\u3002\u5982\u679c\u7528\u6237\u5df2\u7ecf\u7ffb\u5899\uff0c\u5219\u76f4\u63a5\u5448\u73b0\u7684\u662f disqus \u539f\u751f\u7a97\u53e3\uff0c\u767b\u5f55\u4e5f\u4e0d\u5728\u8bdd\u4e0b\u3002\u6240\u4ee5\u6b64\u8f6c\u53d1\u7cfb\u7edf\u4e3b\u8981\u670d\u52a1\u4e8e\u533f\u540d\uff08\u6307\u672a\u767b\u5f55\uff0c\u4f46\u4ecd\u8bb0\u5f55\u4e86\u540d\u5b57\u4e0e\u90ae\u7bb1\uff09\u8bc4\u8bba\u3002</p>"},{"location":"website/disqus/#20200520-docker-wsl","title":"20200520: docker -&gt; WSL","text":"<p>\u529e\u516c\u5ba4\u4f9b\u7535\u6062\u590d\u6b63\u5e38\u4e86\uff0c\u9042\u8003\u8651\u5c06\u670d\u52a1\u7cfb\u7edf\u5207\u56de\u3002\u56e0\u4e3a\u8fd9\u4e24\u5929\u5e76\u6ca1\u6709\u65b0\u8bc4\u8bba\uff0c\u6240\u4ee5\u65e0\u9700\u66f4\u65b0\u6682\u5b58\u90ae\u7bb1\u6570\u636e\u3002\u4e8e\u662f\u53ea\u9700\u4e24\u6b65</p> <ol> <li>\u5f00\u542f <code>./ngrok http 80</code> \u5e76\u5728\u963f\u91cc\u4e91\u540e\u53f0\u4fee\u6539\u57df\u540d\u56de\u6e90</li> <li>\u5f00\u542f apache2 \u670d\u52a1</li> </ol>"},{"location":"website/mkdocs/","title":"Mkdocs","text":""},{"location":"website/mkdocs/#add-icon","title":"Add icon","text":"<p>pick available icons on https://github.com/squidfunk/mkdocs-material/tree/master/material/.icons</p> <p>the original icon website, which might contain more icons</p> <ul> <li>https://fontawesome.com/</li> <li>Material Icons: https://fonts.google.com/icons?selected=Material+Icons</li> </ul>"},{"location":"website/xampp/","title":"XAMPP","text":"<p>XAMPP is a free and open-source cross-platform (X) web server solution stack package developed by Apache Friends, consisting mainly of the Apache HTTP Server (A), MariaDB database (M) (formerly MySQL), and interpreters for scripts written in the PHP (P) and Perl (P) programming languages.</p> <p>Info</p> <p>My DaSS Project</p> <p>Here is a great docker image!</p> <p>Start via</p> <pre><code>#$ docker pull tomsik68/xampp\n$ docker run --name myXAMPP -p 41061:22 -p 41062:80 -d -v ~/my_web_pages:/www tomsik68/xampp:8\n</code></pre> <p>Tip</p> <ul> <li><code>docker run</code> and <code>docker container run</code> are exactly the same </li> <li>since <code>docker run</code> will automatically download the image if no installed, then <code>docker pull</code> is unnecessary. </li> <li><code>-v /HOST-DIR:/CONTAINER-DIR</code> creates a bind mount.</li> <li><code>-p hostPort:containerPort</code> publishes the container\u2019s port to the host.</li> <li><code>-d</code> runs the container in the background and print the new container ID.</li> <li> More details can be checked via <code>man docker-run</code>.</li> </ul> <p>Then we can see the container via </p> <pre><code>$ docker container ls\nCONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS                                                    NAMES\n43e5a49cbfd5        tomsik68/xampp      \"sh /startup.sh\"    18 seconds ago      Up 17 seconds       3306/tcp, 0.0.0.0:41061-&gt;22/tcp, 0.0.0.0:41062-&gt;80/tcp   myXAMPP\n</code></pre> <p>Stop via</p> <pre><code>#$ docker container stop/kill [containerID]\n$ docker stop/kill [containerID]\n# then\n$ docker stop 43e5\n43e5\n$ docker container ls\nCONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES\n</code></pre> <p>Tip</p> <ul> <li>similarly, <code>docker container stop/kill</code> can be abbreviated as <code>docker stop/kill</code></li> <li><code>kill</code> \u5411\u5bb9\u5668\u91cc\u9762\u7684\u4e3b\u8fdb\u7a0b\u53d1\u51fa SIGKILL \u4fe1\u53f7\uff0c\u800c <code>stop</code> \u53d1\u51fa SIGTERM \u4fe1\u53f7\uff0c\u7136\u540e\u8fc7\u4e00\u6bb5\u65f6\u95f4\u518d\u53d1\u51fa SIGKILL \u4fe1\u53f7\u3002\u4e24\u8005\u5dee\u5f02\u662f\uff0c\u5e94\u7528\u7a0b\u5e8f\u6536\u5230 SIGTERM \u4fe1\u53f7\u540e\uff0c\u53ef\u4ee5\u81ea\u884c\u8fdb\u884c\u6536\u5c3e\u6e05\u7406\u5de5\u4f5c\uff0c\u4f46\u4e5f\u53ef\u4ee5\u4e0d\u7406\u4f1a\u8fd9\u4e2a\u4fe1\u53f7\u3002\u5982\u679c\u6536\u5230 SIGKILL \u4fe1\u53f7\uff0c\u5c31\u4f1a\u5f3a\u884c\u7acb\u5373\u7ec8\u6b62\uff0c\u90a3\u4e9b\u6b63\u5728\u8fdb\u884c\u7684\u64cd\u4f5c\u4f1a\u5168\u90e8\u4e22\u5931\u3002</li> <li><code>containerID</code> \u65e0\u9700\u5199\u5168\uff0c\u53ea\u8981\u80fd\u533a\u5206\u5373\u53ef</li> <li>since we have specified the name via <code>--name myXAMPP</code>, we can replace the containerID with such name.</li> </ul> <p>Restart via</p> <pre><code># find the container ID\n$ docker container ls -a\n$ docker container start [containerID]/[containerNAME]\n</code></pre> <p>Tip</p> <ul> <li><code>docker container ls</code> only shows the running ones, but <code>-a</code> will show all containers. More details can be found in <code>man docker-container-ls</code></li> </ul> <p>Establish a ssh connection,</p> <pre><code>$ ssh root@127.0.0.1 -p 41061\n</code></pre> <p>it sounds like the port-forwarding if we view the container as another linux machine.</p> <p>Info</p> <p>Both default username and password are <code>root</code>.</p> <p>Alternatively, we can get a shell terminal insider the container, just like ssh,</p> <pre><code>$ docker exec -it myXAMPP bash\n</code></pre> <p>Tip</p> <ul> <li><code>-t</code> allocates a pseudo-TTY.</li> <li><code>-i</code> keeps STDIN open even if not attached.</li> <li><code>docker [container] exec</code> \u7528\u4e8e\u8fdb\u5165\u4e00\u4e2a\u6b63\u5728\u8fd0\u884c\u7684 container. \u5982\u679c <code>docker run</code> \u547d\u4ee4\u8fd0\u884c\u5bb9\u5668\u65f6\uff0c\u6ca1\u6709\u4f7f\u7528 <code>-it</code>\uff0c\u5219\u9700\u8981\u8fd9\u4e2a\u547d\u4ee4\u8fdb\u5165\u5bb9\u5668\u3002</li> </ul> <p>If we are inside the container, we can export the path to use the commands provided by XAMPP,</p> <pre><code># inside docker container\nexport PATH=/opt/lampp/bin:$PATH\n# or add it to `.bashrc` of the container\n</code></pre> <p>If we modified the configuration of XAMPP, we need to restart the Apache server via</p> <pre><code>docker exec myXAMPP /opt/lampp/lampp restart\n</code></pre>"},{"location":"win/","title":"Windows \u7b14\u8bb0","text":""},{"location":"win/#win10","title":"win10 \u5e94\u7528\u5546\u5e97\u3001\u7167\u7247\u7b49\u7a0b\u5e8f\u6253\u4e0d\u5f00","text":"<p>\u53c2\u8003win10 \u5e94\u7528\u5546\u5e97\u8bef\u5220 \u6c42\u4fee\u590d\u65b9\u6cd5</p> <p>\u7ba1\u7406\u5458\u5728\u547d\u4ee4\u884c\u4e2d\u8fd0\u884c <pre><code>Get-AppXPackage -AllUsers | Foreach {Add-AppxPackage -DisableDevelopmentMode -Register \"$($_.InstallLocation)\\AppXManifest.xml\"}\n</code></pre></p>"},{"location":"win/#word","title":"word \u5728\u8bd5\u56fe\u6253\u5f00\u6587\u4ef6\u65f6\u9047\u5230\u9519\u8bef","text":"<p>word \u5728\u8bd5\u56fe\u6253\u5f00\u6587\u4ef6\u65f6\u9047\u5230\u9519\u8bef</p>"},{"location":"win/#hprun-dll","title":"HP\u6253\u5370\u673arun dll\u627e\u4e0d\u5230\u6a21\u5757","text":"<p>\u53c2\u8003Question</p> <p>\u8fdb\u5165 \u201cc:\\users*username*\\AppData\\Roaming\\Microsoft\\Windows\\Start Menu\\Programs\\Startup\"</p> <p>\u4e2d\u7684 Monitor Ink Alerts - HP Photosmart 5510 series.lnk or anything HP printer related. Delete it.</p>"},{"location":"win/#vs2015opencv","title":"vs2015\u914d\u7f6eopencv","text":"<p>OpenCV 2.4.13 \u5728 VS2015\u4e0a\u7684\u914d\u7f6e</p>"},{"location":"win/#windowsmongodb-32","title":"Windows\u4e0b\u5b89\u88c5MongoDB 3.2","text":"<p>Windows\u4e0b\u5b89\u88c5MongoDB 3.2</p> <p>MongoDB\u5165\u95e8</p>"},{"location":"win/#windows-10-rjava","title":"Windows 10 \u5b89\u88c5 rJava","text":"<ol> <li>windows 10</li> <li>R 3.3.0</li> <li>jdk 1.8.0</li> </ol> <p>\u6210\u529f\u5b89\u88c5rJava\u9700\u8981jvm.dll\u8fd9\u4e2a\u6587\u4ef6\uff0c\u6240\u4ee5\u5f88\u7b80\u5355\u7684\u505a\u6cd5\u5c31\u662f\u628a\u8fd9\u4e2a\u6587\u4ef6\u7684\u8def\u5f84\u6dfb\u52a0\u5230\u73af\u5883\u53d8\u91cf\u4e2d\uff0c\u6bd4\u5982\u8be5\u6587\u4ef6\u5728\u6211\u7535\u8111\u4e0a\u7684\u5b89\u88c5\u76ee\u5f55\u4e3a</p> <p>C:\\Program Files\\Java\\jdk1.8.0_102\\jre\\bin\\server</p> <p>\u4f60\u628a\u8fd9\u4e2a\u8def\u5f84\u52a0\u5230\u73af\u5883\u53d8\u91cf\u4e2d\u7684PATH\u4e2d\u5c31ok\u4e86\u3002</p>"},{"location":"win/#okular","title":"\u5b89\u88c5 okular","text":"<ol> <li>\u5148\u5b89\u88c5 KDE \u5305\u7ba1\u7406\u5668 chocolatey\uff0cThe package manager for Windows</li> <li>\u518d\u5b89\u88c5 okular\uff0cchoco install okular</li> <li>\u5728 WSL \u4e2d\u8fd0\u884c\u65f6\uff0c\u9700\u8981 enable display\uff0c\u5373 <code>export DISPLAY=:0</code></li> </ol>"},{"location":"win/#acrobat-cannot-save-pdf","title":"Acrobat cannot save pdf","text":"<p>situation:  the \u201cSave as\u201d windows open as blank</p> <ol> <li>Launch the application and go to Edit menu &gt; Preference &gt; General.</li> <li>Uncheck the box for \u201cShow online storage when saving files\u201d.</li> <li>Click \u201cOK\u201d at the bottom to save the settings.</li> </ol> <p>refer to Can\u2019t save pdf document</p>"},{"location":"win/#_1","title":"\u7981\u6b62\u81ea\u52a8\u66f4\u65b0","text":"<p>\u529e\u516c\u5ba4\u7535\u8111\u7ecf\u5e38\u5f39\u51fa\u9700\u8981\u66f4\u65b0\uff0c\u5373\u4fbf\u4e0d\u662f\u81ea\u52a8\u66f4\u65b0\uff0c\u4f46\u662f\u6bcf\u6b21\u5f39\u51fa\u603b\u8ba9\u4eba\u62c5\u5fc3\u4f1a\u4e0d\u4f1a\u4e0b\u6b21\u5b83\u81ea\u52a8\u91cd\u542f\u8fdb\u884c\u66f4\u65b0\u4e86\uff0c\u4e8e\u662f\u7d22\u6027\u7981\u6389\u5b83\uff0c\u53c2\u8003 \u5982\u4f55\u5173\u95edWindows10\u7684\u81ea\u52a8\u66f4\u65b0\uff1f \u4e2d\u7684\u7b2c\u4e00\u79cd\u4fee\u6539 service \u7684\u65b9\u5f0f\uff0c\u4e0d\u8fc7\u9700\u8981\u4ee5\u7ba1\u7406\u5458\u8fd0\u884c\u3002</p> <p>\u6309\u4f4f <code>Win</code>\uff0c\u7136\u540e\u76f4\u63a5\u6572\u547d\u4ee4\uff0c\u5982 <code>services</code>\uff0c\u7136\u540e\u9009\u62e9\u4ee5\u7ba1\u7406\u5458\u6743\u9650\u8fd0\u884c \u3002</p> <p>\u4f46\u662f\u521a\u521a\u53d1\u73b0\u8fd9\u79cd\u65b9\u5f0f\u4e5f\u4e0d\u80fd\u5b8c\u5168\u7981\u6b62\uff0c\u7981\u6b62\u540e\u4ecd\u7136\u4f1a\u91cd\u65b0\u542f\u52a8\uff0c\u751a\u81f3\u6700\u540e\u8fd8\u662f\u91cd\u542f\u66f4\u65b0\u4e86\u3002</p>"},{"location":"win/#_2","title":"\u622a\u5c4f\u8f6f\u4ef6","text":"<p>\u7cfb\u7edf\u81ea\u5e26\u7684 snipping tool \u4e0d\u80fd\u81ea\u52a8\u4fdd\u5b58\uff0c\u8fd9\u4e5f\u906d\u5230\u5176\u5b83\u7528\u6237\u7684\u5410\u69fd\uff0c\u5982</p> <ul> <li>Q&amp;A 1</li> <li>Q&amp;A 2</li> </ul> <p>\u4e0a\u8ff0\u7b2c\u4e8c\u4e2a\u56de\u7b54\u4e2d\u6709\u4eba\u63a8\u8350\u4e86 snippaste\u3002</p>"}]}