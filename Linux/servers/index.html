
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="技术博客">
      
      
      
        <meta name="author" content="weiya">
      
      
        <link rel="canonical" href="https://tech.hohoweiya.xyz/Linux/servers/">
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-7.0.6">
    
    
      
        <title>服务器 - techNotes</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.2c0c5eaf.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.7fa14f5b.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
    

  
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-85007363-6","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){var e;this.value&&(e=document.location.pathname,ga("send","pageview",e+"?q="+this.value))}),"undefined"!=typeof location$&&location$.subscribe(function(e){ga("send","pageview",e.pathname)})})</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
  <script data-ad-client="ca-pub-3680148472128768" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>


    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
      
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#servers" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="techNotes" class="md-header__button md-logo" aria-label="techNotes" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            techNotes
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              服务器
            
          </span>
        </div>
      </div>
    </div>
    <div class="md-header__options">
      
    </div>
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/szcf-weiya/techNotes" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    szcf-weiya/techNotes
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="techNotes" class="md-nav__button md-logo" aria-label="techNotes" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    techNotes
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/szcf-weiya/techNotes" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    szcf-weiya/techNotes
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      <label class="md-nav__link" for="__nav_2">
        Linux
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Linux" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Linux
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        系统
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../software/" class="md-nav__link">
        软件
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../shell/" class="md-nav__link">
        shell
      </a>
    </li>
  

          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          服务器
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        服务器
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#ssh" class="md-nav__link">
    建立 ssh 的信任关系
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gui" class="md-nav__link">
    远程运行服务器端的gui程序
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#submitting-multiple-jobs" class="md-nav__link">
    Submitting Multiple Jobs
  </a>
  
    <nav class="md-nav" aria-label="Submitting Multiple Jobs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pbs" class="md-nav__link">
    PBS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#slurm" class="md-nav__link">
    SLURM
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#spark" class="md-nav__link">
    安装 spark
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aws" class="md-nav__link">
    AWS
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nginx-failed" class="md-nav__link">
    腾讯云服务器nginx failed
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nginx" class="md-nav__link">
    重装nginx
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#centos-7" class="md-nav__link">
    CentOS 7
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cluster-ssh" class="md-nav__link">
    cluster 的 ssh 突然要密码了
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#disk-quota-in-cluster" class="md-nav__link">
    disk quota in cluster
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exclude-hosts-with-x-or-exclude" class="md-nav__link">
    exclude hosts with -x or --exclude
  </a>
  
    <nav class="md-nav" aria-label="exclude hosts with -x or --exclude">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#srun" class="md-nav__link">
    srun
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#salloc" class="md-nav__link">
    salloc
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sbatch" class="md-nav__link">
    sbatch
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#job-priority-calculation-in-the-cluster" class="md-nav__link">
    job priority calculation in the cluster
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#custom-module" class="md-nav__link">
    Custom Module
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#install-software-without-root" class="md-nav__link">
    Install software without root
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../16to18/" class="md-nav__link">
        16to18
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../asAserver/" class="md-nav__link">
        笔记本作为服务器
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      <label class="md-nav__link" for="__nav_3">
        R
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="R" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          R
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../R/" class="md-nav__link">
        一般问题
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../R/basic/" class="md-nav__link">
        统计基础
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../R/plot/" class="md-nav__link">
        plot 作图
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../R/ggplot/" class="md-nav__link">
        ggplot 作图
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../R/legend_from_zhihu/" class="md-nav__link">
        案例分析
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../R/install-notes-for-rmysql/" class="md-nav__link">
        源码安装 RMySQL
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../R/sample/" class="md-nav__link">
        new sample function (v3.6.0+)
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      <label class="md-nav__link" for="__nav_4">
        Python
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Python" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Python
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../python/" class="md-nav__link">
        一般问题
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../python/conda/" class="md-nav__link">
        Conda
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../python/pystan/" class="md-nav__link">
        PyStan 体验
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../python/opencv/" class="md-nav__link">
        OpenCV
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../python/finance/" class="md-nav__link">
        金融数据爬虫
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../python/rpy2/" class="md-nav__link">
        rpy2
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../python/esltag/" class="md-nav__link">
        自建关键词索引页
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../julia/" class="md-nav__link">
        Julia
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      <label class="md-nav__link" for="__nav_6">
        Tex
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Tex" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Tex
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../TeX/" class="md-nav__link">
        一般问题
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../TeX/arxiv/" class="md-nav__link">
        arXiv
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" >
      
      <label class="md-nav__link" for="__nav_7">
        Website
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Website" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Website
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../website/" class="md-nav__link">
        Website
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../website/css/" class="md-nav__link">
        CSS
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../js/" class="md-nav__link">
        JS
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../guitar/" class="md-nav__link">
        Guitar
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9" type="checkbox" id="__nav_9" >
      
      <label class="md-nav__link" for="__nav_9">
        Network
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Network" data-md-level="1">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          Network
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../Internet/" class="md-nav__link">
        一般问题
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../Internet/sci-int/" class="md-nav__link">
        访问内网
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../Internet/ipv6/" class="md-nav__link">
        IPv6
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10" type="checkbox" id="__nav_10" >
      
      <label class="md-nav__link" for="__nav_10">
        Tools
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Tools" data-md-level="1">
        <label class="md-nav__title" for="__nav_10">
          <span class="md-nav__icon md-icon"></span>
          Tools
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../autotools/" class="md-nav__link">
        Autotools
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../Emacs/" class="md-nav__link">
        Emacs
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../Git/" class="md-nav__link">
        Git
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../phantomjs/" class="md-nav__link">
        Phantomjs
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../Qt/" class="md-nav__link">
        Qt
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_11" type="checkbox" id="__nav_11" >
      
      <label class="md-nav__link" for="__nav_11">
        Stat
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Stat" data-md-level="1">
        <label class="md-nav__title" for="__nav_11">
          <span class="md-nav__icon md-icon"></span>
          Stat
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../stats/prob/" class="md-nav__link">
        Probability
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../stats/" class="md-nav__link">
        Statistics
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../scientific/" class="md-nav__link">
        Scientific
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../stats/matrix/" class="md-nav__link">
        Matrix
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../English/" class="md-nav__link">
        English
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../finance/" class="md-nav__link">
        Finance
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../mi/" class="md-nav__link">
        Mi
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../win/" class="md-nav__link">
        Win
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../fresh/" class="md-nav__link">
        Fresh
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../links/" class="md-nav__link">
        Links
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_18" type="checkbox" id="__nav_18" >
      
      <label class="md-nav__link" for="__nav_18">
        Misc
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Misc" data-md-level="1">
        <label class="md-nav__title" for="__nav_18">
          <span class="md-nav__icon md-icon"></span>
          Misc
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../misc/wx/" class="md-nav__link">
        小程序
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../misc/wxjssdk/" class="md-nav__link">
        jssdk
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../misc/report/" class="md-nav__link">
        讲座
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_19" type="checkbox" id="__nav_19" >
      
      <label class="md-nav__link" for="__nav_19">
        Others
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Others" data-md-level="1">
        <label class="md-nav__title" for="__nav_19">
          <span class="md-nav__icon md-icon"></span>
          Others
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../Matlab/" class="md-nav__link">
        Matlab
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../Cpp/" class="md-nav__link">
        Cpp
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../java/" class="md-nav__link">
        Java
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../SQL/" class="md-nav__link">
        SQL
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../cuda/" class="md-nav__link">
        Cuda
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../PHP/" class="md-nav__link">
        PHP
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#ssh" class="md-nav__link">
    建立 ssh 的信任关系
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gui" class="md-nav__link">
    远程运行服务器端的gui程序
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#submitting-multiple-jobs" class="md-nav__link">
    Submitting Multiple Jobs
  </a>
  
    <nav class="md-nav" aria-label="Submitting Multiple Jobs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pbs" class="md-nav__link">
    PBS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#slurm" class="md-nav__link">
    SLURM
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#spark" class="md-nav__link">
    安装 spark
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aws" class="md-nav__link">
    AWS
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nginx-failed" class="md-nav__link">
    腾讯云服务器nginx failed
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nginx" class="md-nav__link">
    重装nginx
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#centos-7" class="md-nav__link">
    CentOS 7
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cluster-ssh" class="md-nav__link">
    cluster 的 ssh 突然要密码了
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#disk-quota-in-cluster" class="md-nav__link">
    disk quota in cluster
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exclude-hosts-with-x-or-exclude" class="md-nav__link">
    exclude hosts with -x or --exclude
  </a>
  
    <nav class="md-nav" aria-label="exclude hosts with -x or --exclude">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#srun" class="md-nav__link">
    srun
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#salloc" class="md-nav__link">
    salloc
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sbatch" class="md-nav__link">
    sbatch
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#job-priority-calculation-in-the-cluster" class="md-nav__link">
    job priority calculation in the cluster
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#custom-module" class="md-nav__link">
    Custom Module
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#install-software-without-root" class="md-nav__link">
    Install software without root
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="servers">Servers<a class="headerlink" href="#servers" title="Permanent link">&para;</a></h1>
<h2 id="ssh">建立 ssh 的信任关系<a class="headerlink" href="#ssh" title="Permanent link">&para;</a></h2>
<p>首先在本地新建 ssh key，</p>
<div class="highlight"><pre><span></span><code>ssh-keygen -t <span class="o">[</span>rsa <span class="p">|</span> ed25519 <span class="p">|</span> ecdsa <span class="p">|</span> dsa<span class="o">]</span>
</code></pre></div>
<div class="admonition tip">
<p class="admonition-title">ssh 常见 key 格式</p>
<p>参考 <a href="https://neil-wu.github.io/2020/04/04/2020-04-04-SSH-key/">更新SSH key为Ed25519</a></p>
<ul>
<li>DSA: 不安全</li>
<li>RSA: 安全性依赖于key的大小，3072位或4096位的key是安全的，小于此大小的key可能需要升级一下，1024位的key已经被认为不安全。</li>
<li>ECDSA:  安全性取决于你的计算机生成随机数的能力，该随机数将用于创建签名，ECDSA使用的NIST曲线也存在可信赖性问题。</li>
<li>Ed25519: 目前最推荐的公钥算法</li>
</ul>
</div>
<p>然后会在本地生成 <code>~/.ssh</code> 文件夹。</p>
<ul>
<li>秘钥(<code>~/.ssh/id_rsa</code>): sensitive and important!!</li>
<li>公钥(<code>~/.ssh/id_rsa.pub</code>): contains the public key for authentication.  These files are not sensitive and can (but need not) be readable by anyone.</li>
<li>公钥授权文件(<code>~/.ssh/authorized_keys</code>)</li>
</ul>
<p>将登录端的 <code>id_rsa.pub</code> 内容复制到服务器端的 <code>authorized_keys</code> 文件中即可。</p>
<h2 id="gui">远程运行服务器端的gui程序<a class="headerlink" href="#gui" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code>weiya@T460p:~$ ssh weiya@G40
weiya@G40:~$ <span class="nb">export</span> <span class="nv">DISPLAY</span><span class="o">=</span>:0
weiya@G40:~$ firefox
</code></pre></div>
<p>如果不通过第二行来设置 DISPLAY，则会报错，</p>
<blockquote>
<p>Error: no DISPLAY environment variable specified</p>
</blockquote>
<p>另外 <code>:0</code> 可以通过在服务器端运行</p>
<div class="highlight"><pre><span></span><code>weiya@G40:~$ w
 <span class="m">20</span>:29:30 up <span class="m">10</span>:01,  <span class="m">2</span> users,  load average: <span class="m">1</span>.53, <span class="m">1</span>.42, <span class="m">1</span>.40
USER     TTY      FROM             LOGIN@   IDLE   JCPU   PCPU WHAT
weiya    :0       :0               <span class="m">10</span>:28   ?xdm?  <span class="m">22</span>:24   <span class="m">0</span>.00s /usr/lib/gdm3/gdm-x-session --run-script env GNOME
</code></pre></div>
<p>进行查看，其中 <code>FROM</code> 栏下的 <code>:0</code> 即为当前 display 号码。</p>
<p>参考 <a href="https://askubuntu.com/questions/47642/how-to-start-a-gui-software-on-a-remote-linux-pc-via-ssh">How to start a GUI software on a remote Linux PC via SSH</a></p>
<p>如果想要在本地运行服务器端的 GUI 程序，即将服务器端的窗口发送到本地，则登录时需要加上 <code>-X</code> 选项，</p>
<div class="highlight"><pre><span></span><code>ssh -X
</code></pre></div>
<h2 id="submitting-multiple-jobs">Submitting Multiple Jobs<a class="headerlink" href="#submitting-multiple-jobs" title="Permanent link">&para;</a></h2>
<p><a href="https://www.cuhk.edu.hk/itsc/hpc/slurm.html">SLURM</a> and PBS are two different cluster schedulers, and the common equivalent commands are as follows:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># PBS</span>
qsub -l <span class="nv">nodes</span><span class="o">=</span><span class="m">2</span>:ppn<span class="o">=</span><span class="m">16</span> -l <span class="nv">mem</span><span class="o">=</span>8g -N jobname -m be -M notify@cuhk.edu.hk
<span class="c1"># Slurm</span>
sbatch -N <span class="m">2</span> -c <span class="m">16</span> --mem<span class="o">=</span>8g -J jobname --mail-type<span class="o">=[</span>BEGIN,END,FAIL,REQUEUE,ALL<span class="o">]</span> --mail-user<span class="o">=</span>notify@cuhk.edu.hk
</code></pre></div>
<p>Sometimes, we want to submit multiple jobs quickly, or perform parallel computing by dividing a heavy task into multiple small tasks.</p>
<h3 id="pbs">PBS<a class="headerlink" href="#pbs" title="Permanent link">&para;</a></h3>
<p>Suppose there is a main program <code>toy.jl</code>, and I want to run it multiple times but with different parameters, which can be passed via the <code>-v</code> option.</p>
<div class="tabbed-set" data-tabs="1:3"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><label for="__tabbed_1_1">submit.sh</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>
<span class="k">for</span> number <span class="k">in</span> <span class="m">1</span> <span class="m">2</span> <span class="m">3</span> <span class="m">4</span> <span class="m">5</span><span class="p">;</span> <span class="k">do</span>
    <span class="k">for</span> letter <span class="k">in</span> a b c d e<span class="p">;</span> <span class="k">do</span>
        qsub -v <span class="nv">arg1</span><span class="o">=</span><span class="nv">$number</span>,arg2<span class="o">=</span><span class="nv">$letter</span> toy.job
    <span class="k">done</span>
<span class="k">done</span>
</code></pre></div>
</div>
<input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><label for="__tabbed_1_2">toy.job</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>
<span class="nb">cd</span> <span class="nv">$HOME</span>/PROJECT_FOLDER
julia toy.jl <span class="si">${</span><span class="nv">arg1</span><span class="si">}</span> <span class="si">${</span><span class="nv">arg2</span><span class="si">}</span>
</code></pre></div>
</div>
<input id="__tabbed_1_3" name="__tabbed_1" type="radio" /><label for="__tabbed_1_3">toy.jl</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">AGRS</span>
<span class="n">println</span><span class="p">(</span><span class="s">&quot;a = </span><span class="si">$a</span><span class="s">, b = </span><span class="si">$b</span><span class="s">&quot;</span><span class="p">)</span>
</code></pre></div>
</div>
</div>
<p>The submitting command is</p>
<div class="highlight"><pre><span></span><code>$ ./submit.sh
</code></pre></div>
<p>and here is <a href="https://github.com/szcf-weiya/Metabolic-Network/blob/09314f0558ddccc3997bcfcecf6b7576b281c3fd/old/mcmc-with-args.job">an example</a> in my private projects.</p>
<h3 id="slurm">SLURM<a class="headerlink" href="#slurm" title="Permanent link">&para;</a></h3>
<p>Suppose there is a main program <code>run.jl</code>, which runs in parallel with the number of cores <code>np</code>, and I also want to repeat the program for <code>N</code> times. To properly store the results, the index of repetition <code>nrep</code> for each job has been passed to the main program.</p>
<p>The arguments for job file can be passed by the <code>--export</code> option.</p>
<div class="tabbed-set" data-tabs="2:3"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><label for="__tabbed_2_1">submit.sh</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>
<span class="k">if</span> <span class="o">[</span> <span class="nv">$#</span> <span class="o">==</span> <span class="m">0</span> <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
    cat <span class="s">&lt;&lt;HELP_USAGE</span>
<span class="s">    $0 param1 param2</span>
<span class="s">    param1 number of repetitions</span>
<span class="s">    param2 node label, can be stat or chpc</span>
<span class="s">    param3 number of cores</span>
<span class="s">HELP_USAGE</span>
    <span class="nb">exit</span> <span class="m">0</span>
<span class="k">fi</span>
<span class="nv">resfolder</span><span class="o">=</span>res_<span class="k">$(</span>date -Iseconds<span class="k">)</span>
<span class="k">for</span> i <span class="k">in</span> <span class="k">$(</span>seq <span class="m">1</span> <span class="m">1</span> <span class="nv">$1</span><span class="k">)</span><span class="p">;</span> <span class="k">do</span>
    sbatch -N <span class="m">1</span> -c <span class="nv">$3</span> -p <span class="nv">$2</span> --export<span class="o">=</span><span class="nv">resfolder</span><span class="o">=</span><span class="si">${</span><span class="nv">resfolder</span><span class="si">}</span>,nrep<span class="o">=</span><span class="si">${</span><span class="nv">i</span><span class="si">}</span>,np<span class="o">=</span><span class="nv">$3</span> toy.job
<span class="k">done</span>
</code></pre></div>
</div>
<input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><label for="__tabbed_2_2">toy.job</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>
<span class="nb">cd</span> <span class="nv">$HOME</span>/PROJECT
julia -p <span class="nv">$np</span> run.jl <span class="nv">$nrep</span> <span class="nv">$resfolder</span>
</code></pre></div>
</div>
<input id="__tabbed_2_3" name="__tabbed_2" type="radio" /><label for="__tabbed_2_3">run.jl</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="k">using</span> <span class="n">Distributed</span>
<span class="kd">const</span> <span class="n">jobs</span> <span class="o">=</span> <span class="n">RemoteChannel</span><span class="p">(()</span><span class="o">-&gt;</span><span class="kt">Channel</span><span class="p">{</span><span class="kt">Tuple</span><span class="p">}(</span><span class="mi">32</span><span class="p">))</span>
<span class="kd">const</span> <span class="n">res</span> <span class="o">=</span> <span class="n">RemoteChannel</span><span class="p">(()</span><span class="o">-&gt;</span><span class="kt">Channel</span><span class="p">{</span><span class="kt">Tuple</span><span class="p">}(</span><span class="mi">32</span><span class="p">))</span>

<span class="k">function</span> <span class="n">make_jobs</span><span class="p">()</span> <span class="k">end</span>
<span class="k">function</span> <span class="n">do_work</span><span class="p">()</span> <span class="k">end</span>

<span class="n">nrep</span><span class="p">,</span> <span class="n">resfolder</span> <span class="o">=</span> <span class="nb">ARGS</span>
<span class="nd">@async</span> <span class="n">make_jobs</span><span class="p">()</span>
</code></pre></div>
</div>
</div>
<p>where</p>
<ul>
<li><a href="https://stackoverflow.com/questions/687780/documenting-shell-scripts-parameters"><code>HELP_USAGE</code></a> documents shell scripts&rsquo; parameters.</li>
<li><code>$1, $2, $3</code> denotes the 1st, 2nd, 3rd argument in the command line, and <code>$0</code> is the script name.</li>
</ul>
<p>The following command runs with <code>N = 100, np = 4</code> and on the <code>stat</code> partition,</p>
<div class="highlight"><pre><span></span><code>$ ./submit.sh <span class="m">100</span> stat <span class="m">4</span>
</code></pre></div>
<p>which is adopted from <a href="https://github.com/szcf-weiya/Cell-Video/blob/master/DP/parallel_oracle2.sh">my private project</a>.</p>
<h2 id="spark">安装 spark<a class="headerlink" href="#spark" title="Permanent link">&para;</a></h2>
<p><del>在内地云主机上，<a href="https://spark.apache.org/downloads.html">官网下载地址</a> 还没 5 秒就中断了，然后找到了<a href="https://mirrors.tuna.tsinghua.edu.cn/apache/spark/spark-2.4.4/">清华的镜像</a></del></p>
<p>第二天发现，其实不是中断了，而是下载完成了，因为那个还不是下载链接，点进去才有推荐的下载链接，而这些链接也是推荐的速度快的镜像。</p>
<p>顺带学习了 <code>wget</code> 重新下载 <code>-c</code> 和重复尝试 <code>-t 0</code> 的选项。</p>
<p>upgrade Java 7 to Java 8:</p>
<p>最近 oracle 更改了 license，导致 <a href="https://launchpad.net/~webupd8team/+archive/ubuntu/java">ppa 都用不了了</a></p>
<p><a href="https://www.vultr.com/docs/how-to-manually-install-java-8-on-ubuntu-16-04">源码安装</a></p>
<p>而且第一次听说 <a href="https://askubuntu.com/questions/233190/what-exactly-does-update-alternatives-do"><code>update-alternatives</code></a> 命令，有点类似更改默认程序的感觉。</p>
<p>接着按照 <a href="https://spark.apache.org/docs/latest/">official documentation</a> 进行学习</p>
<h2 id="aws">AWS<a class="headerlink" href="#aws" title="Permanent link">&para;</a></h2>
<ol>
<li>上传文件</li>
</ol>
<div class="highlight"><pre><span></span><code>scp -i MyKeyFile.pem FileToUpload.pdf ubuntu@ec2-123-123-123-123.compute-1.amazonaws.com:FileToUpload.pdf
</code></pre></div>
<p>refer to <a href="https://stackoverflow.com/questions/10364950/uploading-files-on-amazon-ec2">Uploading files on Amazon EC2</a></p>
<ol start="2">
<li>mirror 镜像</li>
</ol>
<p>wget http://apache.mirrors.tds.net/spark/spark-2.4.4/spark-2.4.4-bin-hadoop2.7.tgz</p>
<ol start="3">
<li>slave 结点连接不上 master</li>
</ol>
<div class="highlight"><pre><span></span><code>Caused by: java.io.IOException: Connecting to ×××× timed out (120000 ms)
</code></pre></div>
<p>安全组配置，后台允许 <code>7077</code> 端口 <code>In</code>，本来以为同在一个 VPC 不需要配置。</p>
<ol start="4">
<li>AWS 结点间免密登录</li>
</ol>
<p><a href="https://markobigdata.com/2018/04/29/passwordless-ssh-between-two-aws-instances/">Passwordless ssh between two AWS instances</a></p>
<h2 id="nginx-failed">腾讯云服务器nginx failed<a class="headerlink" href="#nginx-failed" title="Permanent link">&para;</a></h2>
<p>原因：80端口被占用
解决方法：kill掉占用80端口的</p>
<div class="highlight"><pre><span></span><code>sudo fuser -k 80/tcp
</code></pre></div>
<p>重启</p>
<div class="highlight"><pre><span></span><code>sudo /etc/init.d/nginx restart
</code></pre></div>
<h2 id="nginx">重装nginx<a class="headerlink" href="#nginx" title="Permanent link">&para;</a></h2>
<p>想重装nginx，把/etc/nginx也一并删除了，但是重新安装却报错找不到conf文件。</p>
<p>参考<a href="https://stackoverflow.com/questions/28141667/how-to-reinstall-nginx-if-i-deleted-etc-nginx-folder-ubuntu-14-04">How to reinstall nginx if I deleted /etc/nginx folder (Ubuntu 14.04)?</a></p>
<p>应当用
<div class="highlight"><pre><span></span><code>apt-get purge nginx nginx-common nginx-full
apt-get install nginx
</code></pre></div></p>
<p>注意用purge不会保存配置文件，而remove会保存配置文件。</p>
<h2 id="centos-7">CentOS 7<a class="headerlink" href="#centos-7" title="Permanent link">&para;</a></h2>
<p>想直接在服务器上用 Julia 的 PGFPlotsX 画图，因为默认会弹出画好的 pdf 图象，除非按照<a href="https://kristofferc.github.io/PGFPlotsX.jl/v0.2/man/save.html#REPL-1">官方教程</a>中的设置</p>
<div class="highlight"><pre><span></span><code><span class="n">PGFPlotsX</span><span class="o">.</span><span class="n">enable_interactive</span><span class="p">(</span><span class="kc">false</span><span class="p">)</span>
</code></pre></div>
<p>本来期望着用 evince 打开，但是最后竟然用 liberoffice 开开了，然后字体竟然不一致了，所以想着更改默认的 pdf 阅读软件，参考 <a href="https://superuser.com/questions/152202/how-to-set-default-browser-for-pdf-reader-evince-on-linux">How to set default browser for PDF reader Evince on Linux?</a></p>
<p>可以在 <code>.local/share/applications/mimeapps.list</code> 里面添加或者修改</p>
<p>虽然最后还是感觉通过服务器打开速度太慢了。</p>
<h2 id="cluster-ssh">cluster 的 ssh 突然要密码了<a class="headerlink" href="#cluster-ssh" title="Permanent link">&para;</a></h2>
<p>像往常一样 ssh，但是报错了</p>
<div class="highlight"><pre><span></span><code>@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@    WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!     @
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
IT IS POSSIBLE THAT SOMEONE IS DOING SOMETHING NASTY!
Someone could be eavesdropping on you right now <span class="o">(</span>man-in-the-middle attack<span class="o">)</span>!
It is also possible that a host key has just been changed.
The fingerprint <span class="k">for</span> the ECDSA key sent by the remote host is
SHA256:eSpztdqzLF6rBXRWd8pCW0v4utoE5CYTUHTaUb0Qn0w.
Please contact your system administrator.
Add correct host key <span class="k">in</span> /home/weiya/.ssh/known_hosts to get rid of this message.
Offending ECDSA key <span class="k">in</span> /home/weiya/.ssh/known_hosts:42
  remove with:
  ssh-keygen -f <span class="s2">&quot;/home/weiya/.ssh/known_hosts&quot;</span> -R <span class="s2">&quot;chpc-login01.itsc.cuhk.edu.hk&quot;</span>
ECDSA host key <span class="k">for</span> chpc-login01.itsc.cuhk.edu.hk has changed and you have requested strict checking.
Host key verification failed.
</code></pre></div>
<p>于是根据提示运行了</p>
<div class="highlight"><pre><span></span><code>ssh-keygen -f <span class="s2">&quot;/home/weiya/.ssh/known_hosts&quot;</span> -R <span class="s2">&quot;chpc-login01.itsc.cuhk.edu.hk&quot;</span>
</code></pre></div>
<p>然后重新 ssh，但还是要求输入密码。类似的问题另见 <a href="https://stackoverflow.com/questions/20840012/ssh-remote-host-identification-has-changed">ssh remote host identification has changed</a></p>
<p>这其实对应了服务器上 <code>/etc/ssh</code> 文件夹下几个 pub 文件，咨询 Michael 也得到回复说最近 public fingerprint 有修改，这应该是 known hosts 的内容。</p>
<p>可以<a href="https://superuser.com/questions/421997/what-is-a-ssh-key-fingerprint-and-how-is-it-generated">以 MD5 的形式展示</a>，</p>
<div class="highlight"><pre><span></span><code>$ ssh-keygen -l -E md5 -f ssh_host_ed25519_key.pub
</code></pre></div>
<p>另外，<a href="https://serverfault.com/questions/321167/add-correct-host-key-in-known-hosts-multiple-ssh-host-keys-per-hostname">扫描 ip 或域名对应的 key</a></p>
<div class="highlight"><pre><span></span><code>ssh-keyscan -t rsa server_ip
</code></pre></div>
<p>也能返回完全一致的结果，然后手动添加至 known_hosts 文件，仍然不能成功，尝试过新增其他格式的 key，</p>
<div class="highlight"><pre><span></span><code>ssh-keygen -t <span class="o">[</span>ed25519 <span class="p">|</span> ecdsa <span class="p">|</span> dsa<span class="o">]</span>
</code></pre></div>
<p>然而统统没用。</p>
<p>后来跟服务器管理员反复沟通，提交 <code>ssh -vvv xxx &amp;&gt; ssh.log</code> 日志文件供其检查，才确认是最近服务器配置更改的原因，虽然没有明说，但是注意到 <code>/etc/ssh/sshd_config</code> 更新后不久管理员就回复说好了，问及原因，他的回答是，</p>
<blockquote>
<p>It is related to security context which will make SELinux to block the file access. I think this required root permission to config.</p>
</blockquote>
<h2 id="disk-quota-in-cluster">disk quota in cluster<a class="headerlink" href="#disk-quota-in-cluster" title="Permanent link">&para;</a></h2>
<p>学校的 cluster disk quota 如下，</p>
<div class="highlight"><pre><span></span><code>lfs quota -gh your_user_id /lustre
<span class="c1"># 20GB by default from ITSC in /users/your_user_id</span>
lfs quota -gh Stat /lustre
<span class="c1"># 30TB shared by Statistics Department in /lustre/project/Stat</span>
lfs quota -gh StatScratch /lustre
<span class="c1"># 10TB by default from ITSC in /lustre/scratch/Stat</span>
</code></pre></div>
<p>已经好几次因为 disk quota 超了使得程序崩溃，于是试图将 home 文件夹中的部分文件移动到 <code>/lustre/project/Stat</code> 中，但似乎 quota 并没有变化。</p>
<p>后来才发现，原来 quota 是通过 group 来控制的，其中上述命令中 <code>-g</code> 选项即表示 group，也就是说 <code>your_user_id</code>, <code>Stat</code> 和 <code>StatScratch</code> 都是 group 名字。如果文件夹是从别处移动来的，group并不会改变，只有直接在 <code>/lustre/project/Stat</code> 中新建的文件或文件夹才继承 Stat 的 group，这一点是最开始在 <code>Stat</code> 文件夹下创建自己目录 <code>MYFOLDER</code> 时通过 <code>chmod g+s MYFOLDER</code> 保证的。</p>
<p>于是简单的方法便是直接更改 group，</p>
<div class="highlight"><pre><span></span><code>chgrp -R Stat SomeFolder
</code></pre></div>
<h2 id="exclude-hosts-with-x-or-exclude">exclude hosts with <code>-x</code> or <code>--exclude</code><a class="headerlink" href="#exclude-hosts-with-x-or-exclude" title="Permanent link">&para;</a></h2>
<h3 id="srun"><code>srun</code><a class="headerlink" href="#srun" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># cannot exclude</span>
$ srun -x chpc-cn050 hostname
chpc-cn050.rc.cuhk.edu.hk
</code></pre></div>
<h3 id="salloc"><code>salloc</code><a class="headerlink" href="#salloc" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># cannot exclude</span>
$ salloc -x chpc-cn050 -N1
salloc: Nodes chpc-cn050 are ready <span class="k">for</span> job
<span class="c1"># cannot exclude</span>
$ salloc -x chpc-cn050 srun hostname
salloc: Nodes chpc-cn050 are ready <span class="k">for</span> job
chpc-cn050.rc.cuhk.edu.hk
<span class="c1"># NB: exclude successfully</span>
$ salloc -w chpc-cn050 srun -x chpc-cn050 hostname
salloc: Nodes chpc-cn050 are ready <span class="k">for</span> job
srun: error: Hostlist is empty!  Can<span class="err">&#39;</span>t run job.
</code></pre></div>
<h3 id="sbatch"><code>sbatch</code><a class="headerlink" href="#sbatch" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># cannot exclude</span>
$ sbatch <span class="s">&lt;&lt; EOF</span>
<span class="s">&gt; #!/bin/sh</span>
<span class="s">&gt; #SBATCH -x chpc-cn050</span>
<span class="s">&gt; srun hostname</span>
<span class="s">&gt; EOF</span>
Submitted batch job <span class="m">246669</span>
$ cat slurm-246669.out
chpc-cn050.rc.cuhk.edu.hk

<span class="c1"># NB: exclude successfully</span>
$ sbatch <span class="s">&lt;&lt; EOF</span>
<span class="s">&gt; #!/bin/sh</span>
<span class="s">&gt; #SBATCH -w chpc-cn050</span>
<span class="s">&gt; srun -x chpc-cn050 hostname</span>
<span class="s">&gt; EOF</span>
Submitted batch job <span class="m">246682</span>
$ cat slurm-246682.out
srun: error: Hostlist is empty!  Can<span class="err">&#39;</span>t run job.
</code></pre></div>
<p><strong>Observation:</strong></p>
<p><code>-x</code> seems not to work in the allocation step, but it can exclude nodes from the allocated nodes.</p>
<p>Back to the manual of <code>-x</code> option:</p>
<blockquote>
<p>Explicitly exclude certain nodes from the resources <strong>granted</strong> to the job.</p>
</blockquote>
<p>So the exclusion seems only to perform on the granted resources instead of all nodes. If you want to allocate specified nodes, <code>-w</code> option should be used.</p>
<h2 id="job-priority-calculation-in-the-cluster">job priority calculation in the cluster<a class="headerlink" href="#job-priority-calculation-in-the-cluster" title="Permanent link">&para;</a></h2>
<p>the formula for job priority is given by
<div class="highlight"><pre><span></span><code><span class="nv">Job_priority</span> <span class="o">=</span>
    site_factor +
    <span class="o">(</span>PriorityWeightAge<span class="o">)</span> * <span class="o">(</span>age_factor<span class="o">)</span> +
    <span class="o">(</span>PriorityWeightAssoc<span class="o">)</span> * <span class="o">(</span>assoc_factor<span class="o">)</span> +
    <span class="o">(</span>PriorityWeightFairshare<span class="o">)</span> * <span class="o">(</span>fair-share_factor<span class="o">)</span> +
    <span class="o">(</span>PriorityWeightJobSize<span class="o">)</span> * <span class="o">(</span>job_size_factor<span class="o">)</span> +
    <span class="o">(</span>PriorityWeightPartition<span class="o">)</span> * <span class="o">(</span>partition_factor<span class="o">)</span> +
    <span class="o">(</span>PriorityWeightQOS<span class="o">)</span> * <span class="o">(</span>QOS_factor<span class="o">)</span> +
    SUM<span class="o">(</span>TRES_weight_cpu * TRES_factor_cpu,
        TRES_weight_&lt;type&gt; * TRES_factor_&lt;type&gt;,
        ...<span class="o">)</span>
    - nice_factor
</code></pre></div>
we can find those weights
<div class="highlight"><pre><span></span><code>$ scontrol show config <span class="p">|</span> grep ^Priority
<span class="nv">PriorityParameters</span>      <span class="o">=</span> <span class="o">(</span>null<span class="o">)</span>
<span class="nv">PrioritySiteFactorParameters</span> <span class="o">=</span> <span class="o">(</span>null<span class="o">)</span>
<span class="nv">PrioritySiteFactorPlugin</span> <span class="o">=</span> <span class="o">(</span>null<span class="o">)</span>
<span class="nv">PriorityDecayHalfLife</span>   <span class="o">=</span> <span class="m">7</span>-00:00:00
<span class="nv">PriorityCalcPeriod</span>      <span class="o">=</span> <span class="m">00</span>:05:00
<span class="nv">PriorityFavorSmall</span>      <span class="o">=</span> No
<span class="nv">PriorityFlags</span>           <span class="o">=</span> CALCULATE_RUNNING
<span class="nv">PriorityMaxAge</span>          <span class="o">=</span> <span class="m">7</span>-00:00:00
<span class="nv">PriorityUsageResetPeriod</span> <span class="o">=</span> NONE
<span class="nv">PriorityType</span>            <span class="o">=</span> priority/multifactor
<span class="nv">PriorityWeightAge</span>       <span class="o">=</span> <span class="m">0</span>
<span class="nv">PriorityWeightAssoc</span>     <span class="o">=</span> <span class="m">0</span>
<span class="nv">PriorityWeightFairShare</span> <span class="o">=</span> <span class="m">100000</span>
<span class="nv">PriorityWeightJobSize</span>   <span class="o">=</span> <span class="m">0</span>
<span class="nv">PriorityWeightPartition</span> <span class="o">=</span> <span class="m">0</span>
<span class="nv">PriorityWeightQOS</span>       <span class="o">=</span> <span class="m">0</span>
<span class="nv">PriorityWeightTRES</span>      <span class="o">=</span> <span class="o">(</span>null<span class="o">)</span>
</code></pre></div>
only the <code>PriorityWeightFairShare</code> is nonzero, and this agrees with
<div class="highlight"><pre><span></span><code>$ sprio -w
          JOBID PARTITION   PRIORITY       SITE  FAIRSHARE
        Weights                               <span class="m">1</span>     <span class="m">100000</span>
$ sprio -w -p stat
          JOBID PARTITION   PRIORITY       SITE  FAIRSHARE
        Weights                               <span class="m">1</span>     <span class="m">100000</span>
$ sprio -w -p chpc
          JOBID PARTITION   PRIORITY       SITE  FAIRSHARE
        Weights                               <span class="m">1</span>     <span class="m">100000</span>
</code></pre></div>
then the formula can be simplified as
<div class="highlight"><pre><span></span><code><span class="nv">Job_priority</span> <span class="o">=</span>
    site_factor +
    <span class="o">(</span>PriorityWeightFairshare<span class="o">)</span> * <span class="o">(</span>fair-share_factor<span class="o">)</span> +
    SUM<span class="o">(</span>TRES_weight_cpu * TRES_factor_cpu,
        TRES_weight_&lt;type&gt; * TRES_factor_&lt;type&gt;,
        ...<span class="o">)</span>
    - nice_factor
</code></pre></div>
where <code>TRES_weight_&lt;type&gt;</code> might be GPU, see the usage weight in the <a href="https://www.cuhk.edu.hk/itsc/hpc/slurm.html">table</a>, and a negative <code>nice_factor</code> can only be set by privileged users,</p>
<blockquote>
<p>Nice Factor
Users can adjust the priority of their own jobs by setting the nice value on their jobs. Like the system nice, positive values negatively impact a job&rsquo;s priority and negative values increase a job&rsquo;s priority. Only privileged users can specify a negative value. The adjustment range is +/-2147483645.</p>
</blockquote>
<ul>
<li>the fairshare can be obtained via <code>sshare</code>, and the calculated priority can be obtained via <code>sprio</code>.</li>
</ul>
<p>refer to</p>
<ul>
<li><a href="https://slurm.schedmd.com/priority_multifactor.html">Multifactor Priority Plugin</a></li>
<li><a href="http://www.ceci-hpc.be/slurm_prio.html">Slurm priorities</a></li>
</ul>
<h2 id="custom-module">Custom Module<a class="headerlink" href="#custom-module" title="Permanent link">&para;</a></h2>
<p>The cluster manages the software versions with <a href="https://linux.die.net/man/1/module">module</a>, and the default module file path is</p>
<div class="highlight"><pre><span></span><code>$ <span class="nb">echo</span> <span class="nv">$MODULEPATH</span>
/usr/share/Modules/modulefiles:/etc/modulefiles
</code></pre></div>
<p>which requires <code>sudo</code> privilege. A natural question is whether we can create custom (local) module file to switch the software which are installed by ourselves or have not been added into the modules.</p>
<p>Here is an example. There is an installed R in <code>/opt/share/R</code> named <code>3.6.3-v2</code>, which does not have the modulefile, since the same version <code>3.6.3</code> is already used. But there are still differences between these two &ldquo;same&rdquo; versions, <code>3.6.3-v2</code> supports figures, such as &ldquo;jpeg&rdquo;, &ldquo;png&rdquo;, &ldquo;tiff&rdquo; and &ldquo;cairo&rdquo;, while <code>3.6.3</code> not,</p>
<div class="highlight"><pre><span></span><code><span class="o">(</span><span class="m">3</span>.6.3<span class="o">)</span> &gt; capabilities<span class="o">()</span>
       jpeg         png        tiff       tcltk         X11        aqua
      FALSE       FALSE       FALSE        TRUE       FALSE       FALSE
   http/ftp     sockets      libxml        fifo      cledit       iconv
       TRUE        TRUE        TRUE        TRUE        TRUE        TRUE
        NLS     profmem       cairo         ICU long.double     libcurl
       TRUE       FALSE       FALSE        TRUE        TRUE        TRUE

<span class="o">(</span><span class="m">3</span>.6.3-v2<span class="o">)</span> &gt; capabilities<span class="o">()</span>
       jpeg         png        tiff       tcltk         X11        aqua
       TRUE        TRUE        TRUE        TRUE       FALSE       FALSE
   http/ftp     sockets      libxml        fifo      cledit       iconv
       TRUE        TRUE        TRUE        TRUE        TRUE        TRUE
        NLS     profmem       cairo         ICU long.double     libcurl
       TRUE       FALSE        TRUE        TRUE        TRUE        TRUE
</code></pre></div>
<p>To use <code>3.6.3-v2</code>, we can create our custom modulefile (<a href="https://www.sc.fsu.edu/computing/tech-docs/1177-linux-modules">ref</a>),</p>
<div class="highlight"><pre><span></span><code><span class="c1"># step 1: create a folder in your home directory</span>
~ $ mkdir modules
<span class="c1"># step 2: preappend your module path to the ~/.bashrc file</span>
~ $ <span class="nb">echo</span> <span class="s2">&quot;export MODULEPATH=</span><span class="si">${</span><span class="nv">MODULEPATH</span><span class="si">}</span><span class="s2">:</span><span class="si">${</span><span class="nv">HOME</span><span class="si">}</span><span class="s2">/modules&quot;</span> &gt;&gt; ~/.bashrc
<span class="c1"># step 3: copy the existing modulefile as a template</span>
<span class="c1"># here I skip the directory, just use name `R3.6`, which can also differ from the existing `R/3.6`</span>
~ $ cp /usr/share/Modules/modulefiles/R/3.6 modules/R3.6
<span class="c1"># step 4: modify the path to the software (`modroot`) as follows</span>
</code></pre></div>
<div class="tabbed-set" data-tabs="3:3"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio" /><label for="__tabbed_3_1">/usr/share/Modules/modulefiles/R/3.6</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="c1">#%Module1.0#####################################################################</span>
<span class="c1">##</span>
proc ModulesHelp <span class="o">{</span> <span class="o">}</span> <span class="o">{</span>
 global version modroot

puts stderr <span class="s2">&quot;R/3.6.3 - sets the Environment for</span>
<span class="s2">         R scripts v3.6.3 (gcc verion)</span>

<span class="s2">Use &#39;module whatis [module-info name]&#39; for more information&quot;</span>
<span class="o">}</span>

module-whatis <span class="s2">&quot;The R Project for Statistical Computing</span>
<span class="s2">R is a free software environment for statistical computing and graphics.</span>

<span class="s2">Here is the available versions:</span>
<span class="s2">        R/3.6.3&quot;</span>


<span class="nb">set</span>     version         <span class="m">3</span>.6.3
<span class="nb">set</span>     app             R
<span class="nb">set</span>     modroot         /opt/share/<span class="nv">$app</span>/<span class="nv">$version</span>

module load pcre2

conflict R

setenv R_HOME <span class="nv">$modroot</span>/lib64/R

prepend-path PATH <span class="nv">$modroot</span>/bin
prepend-path LD_LIBRARY_PATH <span class="nv">$modroot</span>/lib
prepend-path INCLUDE <span class="nv">$modroot</span>/include
</code></pre></div>
</div>
<input id="__tabbed_3_2" name="__tabbed_3" type="radio" /><label for="__tabbed_3_2">~/modules/R3.6</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="c1">#%Module1.0#####################################################################</span>
<span class="c1">##</span>
proc ModulesHelp <span class="o">{</span> <span class="o">}</span> <span class="o">{</span>
 global version modroot

puts stderr <span class="s2">&quot;R/3.6.3 - sets the Environment for</span>
<span class="s2">         R scripts v3.6.3 (gcc verion)</span>

<span class="s2">Use &#39;module whatis [module-info name]&#39; for more information&quot;</span>
<span class="o">}</span>

module-whatis <span class="s2">&quot;The R Project for Statistical Computing</span>
<span class="s2">R is a free software environment for statistical computing and graphics.</span>

<span class="s2">Here is the available versions:</span>
<span class="s2">        R/3.6.3&quot;</span>


<span class="nb">set</span>     version         <span class="m">3</span>.6.3
<span class="nb">set</span>     app             R
<span class="nb">set</span>     modroot         /opt/share/<span class="nv">$app</span>/<span class="si">${</span><span class="nv">version</span><span class="si">}</span>-v2

module load pcre2
module load intel
conflict R

setenv R_HOME <span class="nv">$modroot</span>/lib64/R

prepend-path PATH <span class="nv">$modroot</span>/bin
prepend-path LD_LIBRARY_PATH <span class="nv">$modroot</span>/lib
prepend-path INCLUDE <span class="nv">$modroot</span>/include
</code></pre></div>
</div>
<input id="__tabbed_3_3" name="__tabbed_3" type="radio" /><label for="__tabbed_3_3">diff -u</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="gu">@@ -18,10 +18,10 @@</span>

 set     version         3.6.3
 set     app             R
<span class="gd">-set     modroot         /opt/share/$app/$version</span>
<span class="gi">+set     modroot         /opt/share/$app/${version}-v2</span>

 module load pcre2
<span class="gd">-</span>
<span class="gi">+module load intel</span>
 conflict R
</code></pre></div>
</div>
</div>
<p>Note that <code>module load intel</code> is also added, otherwise it will throws,</p>
<div class="highlight"><pre><span></span><code>/opt/share/R/3.6.3-v2/lib64/R/bin/exec/R: error <span class="k">while</span> loading shared libraries: libiomp5.so: cannot open shared object file: No such file or directory
</code></pre></div>
<p>since <code>libiomp5</code> is for <code>openmp</code> (<a href="https://stackoverflow.com/a/28254656">ref</a>).</p>
<p>Now, you can use <code>3.6.3-v2</code> like other modules,</p>
<div class="highlight"><pre><span></span><code><span class="c1"># load `3.6.3-v2`</span>
$ module load R3.6
<span class="c1"># unload `3.6.3-v2`</span>
$ module unload R3.6
<span class="c1"># load original `3.6.3`</span>
$ module load R/3.6
</code></pre></div>
<h2 id="install-software-without-root">Install software without root<a class="headerlink" href="#install-software-without-root" title="Permanent link">&para;</a></h2>
<p><code>conda</code> can install many other programs, such as <code>tree</code>,</p>
<div class="highlight"><pre><span></span><code>conda install -c eumetsat tree
</code></pre></div>
<p>The trick is to check whether the package is available via <code>https://anaconda.org/search?q=</code></p>
<p>refer to <a href="https://stackoverflow.com/a/52561058">How to install packages in Linux (CentOS) without root user with automatic dependency handling?</a></p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        <a href="../../shell/" class="md-footer__link md-footer__link--prev" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              shell
            </div>
          </div>
        </a>
      
      
        <a href="../16to18/" class="md-footer__link md-footer__link--next" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              16to18
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2017-2021 weiya
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
  <div class="md-footer-social">
    
      
      
        
        
      
      <a href="https://github.com/szcf-weiya" target="_blank" rel="noopener" title="github.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg>
      </a>
    
      
      
        
        
      
      <a href="https://esl.hohoweiya.xyz" target="_blank" rel="noopener" title="esl.hohoweiya.xyz" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M448 360V24c0-13.3-10.7-24-24-24H96C43 0 0 43 0 96v320c0 53 43 96 96 96h328c13.3 0 24-10.7 24-24v-16c0-7.5-3.5-14.3-8.9-18.7-4.2-15.4-4.2-59.3 0-74.7 5.4-4.3 8.9-11.1 8.9-18.6zM128 134c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm0 64c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm253.4 250H96c-17.7 0-32-14.3-32-32 0-17.6 14.4-32 32-32h285.4c-1.9 17.1-1.9 46.9 0 64z"/></svg>
      </a>
    
      
      
        
        
      
      <a href="https://hohoweiya.xyz" target="_blank" rel="noopener" title="hohoweiya.xyz" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"/></svg>
      </a>
    
      
      
        
        
      
      <a href="https://stats.hohoweiya.xyz" target="_blank" rel="noopener" title="stats.hohoweiya.xyz" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M552 64H112c-20.858 0-38.643 13.377-45.248 32H24c-13.255 0-24 10.745-24 24v272c0 30.928 25.072 56 56 56h496c13.255 0 24-10.745 24-24V88c0-13.255-10.745-24-24-24zM48 392V144h16v248c0 4.411-3.589 8-8 8s-8-3.589-8-8zm480 8H111.422c.374-2.614.578-5.283.578-8V112h416v288zM172 280h136c6.627 0 12-5.373 12-12v-96c0-6.627-5.373-12-12-12H172c-6.627 0-12 5.373-12 12v96c0 6.627 5.373 12 12 12zm28-80h80v40h-80v-40zm-40 140v-24c0-6.627 5.373-12 12-12h136c6.627 0 12 5.373 12 12v24c0 6.627-5.373 12-12 12H172c-6.627 0-12-5.373-12-12zm192 0v-24c0-6.627 5.373-12 12-12h104c6.627 0 12 5.373 12 12v24c0 6.627-5.373 12-12 12H364c-6.627 0-12-5.373-12-12zm0-144v-24c0-6.627 5.373-12 12-12h104c6.627 0 12 5.373 12 12v24c0 6.627-5.373 12-12 12H364c-6.627 0-12-5.373-12-12zm0 72v-24c0-6.627 5.373-12 12-12h104c6.627 0 12 5.373 12 12v24c0 6.627-5.373 12-12 12H364c-6.627 0-12-5.373-12-12z"/></svg>
      </a>
    
      
      
      <a href="mailto:szcfweiya@gmail.com" target="_blank" rel="noopener" title="" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M464 64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm0 48v40.805c-22.422 18.259-58.168 46.651-134.587 106.49-16.841 13.247-50.201 45.072-73.413 44.701-23.208.375-56.579-31.459-73.413-44.701C106.18 199.465 70.425 171.067 48 152.805V112h416zM48 400V214.398c22.914 18.251 55.409 43.862 104.938 82.646 21.857 17.205 60.134 55.186 103.062 54.955 42.717.231 80.509-37.199 103.053-54.947 49.528-38.783 82.032-64.401 104.947-82.653V400H48z"/></svg>
      </a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}, "search": "../../assets/javascripts/workers/search.fb4a9340.min.js", "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.a1c7c35e.min.js"></script>
      
        <script src="../../javascripts/baiduzhanzhang.js"></script>
      
        <script src="../../javascripts/extra.js"></script>
      
        <script src="../../javascripts/mathjax.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
    
  </body>
</html>