
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="技术博客">
      
      
        <meta name="author" content="weiya">
      
      
        <link rel="canonical" href="https://tech.hohoweiya.xyz/Linux/tools/">
      
      
        <link rel="prev" href="../software/">
      
      
        <link rel="next" href="../../shell/">
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.1.3">
    
    
      
        <title>Command-line Tools - techNotes</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.c4a75a56.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.a0c5b2b5.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    

  

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-1JWL5Y1W90"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-1JWL5Y1W90');
  </script>
  <script data-ad-client="ca-pub-3680148472128768" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>


    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#command-line-tools" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="techNotes" class="md-header__button md-logo" aria-label="techNotes" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            techNotes
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Command-line Tools
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/szcf-weiya/techNotes" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    szcf-weiya/techNotes
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../.." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../" class="md-tabs__link md-tabs__link--active">
        Linux
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../comparisons/stat/" class="md-tabs__link">
        StatProgramming
      </a>
    </li>
  

      
        
  
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../../Cpp/" class="md-tabs__link">
        CSProgramming
      </a>
    </li>
  

  

      
        
  
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../../TeX/" class="md-tabs__link">
        DocProgramming
      </a>
    </li>
  

  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../Internet/sci-int/" class="md-tabs__link">
        Network/Internet
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../autotools/" class="md-tabs__link">
        Development
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../stats/prob/" class="md-tabs__link">
        Stat
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../biology/samtools/" class="md-tabs__link">
        InvitedPosts
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../English/" class="md-tabs__link">
        Misc
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="techNotes" class="md-nav__button md-logo" aria-label="techNotes" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    techNotes
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/szcf-weiya/techNotes" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    szcf-weiya/techNotes
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
      
      
      
        <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          Linux
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Linux
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        General
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" checked>
      
      
      
        <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
          Laptops
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_2_2">
          <span class="md-nav__icon md-icon"></span>
          Laptops
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../ubuntu/" class="md-nav__link">
        Ubuntu
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../software/" class="md-nav__link">
        Application Software
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Command-line Tools
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Command-line Tools
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#aria2" class="md-nav__link">
    aria2
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#awk" class="md-nav__link">
    awk
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cat" class="md-nav__link">
    cat
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#column" class="md-nav__link">
    column
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#convert" class="md-nav__link">
    convert
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cd" class="md-nav__link">
    cd
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cp" class="md-nav__link">
    cp
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#curl" class="md-nav__link">
    curl
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cut" class="md-nav__link">
    cut
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#date" class="md-nav__link">
    date
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#diff" class="md-nav__link">
    diff
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#du" class="md-nav__link">
    du
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#emacs" class="md-nav__link">
    emacs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#echo" class="md-nav__link">
    echo
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ffmpeg" class="md-nav__link">
    ffmpeg
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#find" class="md-nav__link">
    find
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#grep" class="md-nav__link">
    grep
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#htop" class="md-nav__link">
    htop
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#journalctl" class="md-nav__link">
    journalctl
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ln" class="md-nav__link">
    ln
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ls" class="md-nav__link">
    ls
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mkdir" class="md-nav__link">
    mkdir
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#notify-send" class="md-nav__link">
    notify-send
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#paste" class="md-nav__link">
    paste
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pdftk" class="md-nav__link">
    pdftk
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ps" class="md-nav__link">
    ps
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ps2pdf-pdf2ps" class="md-nav__link">
    ps2pdf, pdf2ps
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rename" class="md-nav__link">
    rename
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sar" class="md-nav__link">
    sar
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sed" class="md-nav__link">
    sed
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sendmail" class="md-nav__link">
    sendmail
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sort" class="md-nav__link">
    sort
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tail" class="md-nav__link">
    tail
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tesseract" class="md-nav__link">
    tesseract
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tmux" class="md-nav__link">
    tmux
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#type" class="md-nav__link">
    type
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#uchardet" class="md-nav__link">
    uchardet
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#unar" class="md-nav__link">
    unar
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#uniq" class="md-nav__link">
    uniq
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#unzip" class="md-nav__link">
    unzip
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vi" class="md-nav__link">
    vi
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#wget" class="md-nav__link">
    wget
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xargs" class="md-nav__link">
    xargs
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../shell/" class="md-nav__link">
        Shell Scripts
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../wsl/" class="md-nav__link">
        WSL
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_6" >
      
      
      
        <label class="md-nav__link" for="__nav_2_2_6" id="__nav_2_2_6_label" tabindex="0">
          Blog
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_2_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_2_6">
          <span class="md-nav__icon md-icon"></span>
          Blog
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../blog/2020-08-25-PSSD/" class="md-nav__link">
        Portable SSD
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../blog/2020-09-01-charge-battery-adaptively/" class="md-nav__link">
        Charge Battery Adaptively
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../blog/2021-06-07-switch-monitor/" class="md-nav__link">
        Switch Monitor Mode
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../blog/2021-07-28-use-old-kernel/" class="md-nav__link">
        Use Old Kernel
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
      
      
      
        <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
          Servers
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_3">
          <span class="md-nav__icon md-icon"></span>
          Servers
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../servers/" class="md-nav__link">
        General
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../ecs/" class="md-nav__link">
        AliECS
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../rocky-server/" class="md-nav__link">
        Rocky-Linux
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../asAserver/" class="md-nav__link">
        G40
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" >
      
      
      
        <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
          CHPC-Cluster
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_4">
          <span class="md-nav__icon md-icon"></span>
          CHPC-Cluster
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../chpc/" class="md-nav__link">
        Tips
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_2" >
      
      
      
        <label class="md-nav__link" for="__nav_2_4_2" id="__nav_2_4_2_label" tabindex="0">
          Blog
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_4_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_4_2">
          <span class="md-nav__icon md-icon"></span>
          Blog
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../blog/2020-12-17-passwordless-failed/" class="md-nav__link">
        Fail to SSH passwordlessly
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../blog/2021-05-12-fail-to-access-home/" class="md-nav__link">
        Fail to Access Home
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../blog/2022-11-19-why-job-restart/" class="md-nav__link">
        Why Job Restart?
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
      
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          StatProgramming
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          StatProgramming
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../comparisons/stat/" class="md-nav__link">
        Comparisons
      </a>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
      
      
      
        <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
          R
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_2">
          <span class="md-nav__icon md-icon"></span>
          R
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../R/" class="md-nav__link">
        Base
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../R/plot/" class="md-nav__link">
        Plot
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_3" >
      
      
      
        <label class="md-nav__link" for="__nav_3_2_3" id="__nav_3_2_3_label" tabindex="0">
          Blog
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_2_3">
          <span class="md-nav__icon md-icon"></span>
          Blog
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../R/legend_from_zhihu/" class="md-nav__link">
        ggplot2 中的 legend
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../R/sample/" class="md-nav__link">
        new sample function (v3.6.0+)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../R/factor/" class="md-nav__link">
        一道与 factor 有关的问题
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
      
      
      
        <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
          Python
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_3">
          <span class="md-nav__icon md-icon"></span>
          Python
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../python/" class="md-nav__link">
        Base
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../python/conda/" class="md-nav__link">
        Conda
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../python/opencv/" class="md-nav__link">
        OpenCV
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../python/rpy2/" class="md-nav__link">
        rpy2
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3_5" >
      
      
      
        <label class="md-nav__link" for="__nav_3_3_5" id="__nav_3_3_5_label" tabindex="0">
          Blog
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_3_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_3_5">
          <span class="md-nav__icon md-icon"></span>
          Blog
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../python/pystan/" class="md-nav__link">
        PyStan 体验
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../python/esltag/" class="md-nav__link">
        自建关键词索引页
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
      
      
      
        <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
          Julia
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_4">
          <span class="md-nav__icon md-icon"></span>
          Julia
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../julia/" class="md-nav__link">
        Base
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../julia/plot/" class="md-nav__link">
        Plot
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5" >
      
      
      
        <label class="md-nav__link" for="__nav_3_5" id="__nav_3_5_label" tabindex="0">
          Matlab
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_5">
          <span class="md-nav__icon md-icon"></span>
          Matlab
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Matlab/" class="md-nav__link">
        Base
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../SAS/" class="md-nav__link">
        SAS
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
      
      
      
        <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
          CSProgramming
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          CSProgramming
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1" >
      
      
      
        <label class="md-nav__link" for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
          C/C++
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_1">
          <span class="md-nav__icon md-icon"></span>
          C/C++
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Cpp/" class="md-nav__link">
        General
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Cpp/Qt/" class="md-nav__link">
        Qt
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../java/" class="md-nav__link">
        Java
      </a>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" >
      
      
      
        <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
          SQL
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_3">
          <span class="md-nav__icon md-icon"></span>
          SQL
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../SQL/" class="md-nav__link">
        General
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../R/install-notes-for-rmysql/" class="md-nav__link">
        RMySQL
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../cuda/" class="md-nav__link">
        Cuda
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
      
      
      
        <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
          DocProgramming
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          DocProgramming
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1" >
      
      
      
        <label class="md-nav__link" for="__nav_5_1" id="__nav_5_1_label" tabindex="0">
          TeX
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5_1">
          <span class="md-nav__icon md-icon"></span>
          TeX
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../TeX/" class="md-nav__link">
        General
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../TeX/CI/" class="md-nav__link">
        TravisCI
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../TeX/arxiv/" class="md-nav__link">
        arXiv
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../TeX/vargreek/" class="md-nav__link">
        VarGreek
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../TeX/overleaf/" class="md-nav__link">
        Overleaf
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" >
      
      
      
        <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
          Markdown
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5_2">
          <span class="md-nav__icon md-icon"></span>
          Markdown
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../doc/markdown/" class="md-nav__link">
        General
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_3" >
      
      
      
        <label class="md-nav__link" for="__nav_5_3" id="__nav_5_3_label" tabindex="0">
          StaticPages
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5_3">
          <span class="md-nav__icon md-icon"></span>
          StaticPages
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../website/" class="md-nav__link">
        Website
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../website/disqus/" class="md-nav__link">
        Disqus
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../website/css/" class="md-nav__link">
        CSS
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../js/" class="md-nav__link">
        JS
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../website/analytics/" class="md-nav__link">
        Analytics
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_4" >
      
      
      
        <label class="md-nav__link" for="__nav_5_4" id="__nav_5_4_label" tabindex="0">
          DynamicPages
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5_4">
          <span class="md-nav__icon md-icon"></span>
          DynamicPages
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../PHP/" class="md-nav__link">
        PHP
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../website/xampp/" class="md-nav__link">
        XAMPP
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
      
      
      
        <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
          Network/Internet
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Network/Internet
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Internet/sci-int/" class="md-nav__link">
        科学上网
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Internet/" class="md-nav__link">
        一般问题
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Internet/ipv6/" class="md-nav__link">
        IPv6
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Internet/encrypt/" class="md-nav__link">
        加密算法
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
      
      
      
        <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
          Development
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Development
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../autotools/" class="md-nav__link">
        Autotools
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../dev/docker/" class="md-nav__link">
        Docker
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Git/" class="md-nav__link">
        Git
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../phantomjs/" class="md-nav__link">
        Phantomjs
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
      
      
      
        <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
          Stat
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          Stat
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../stats/prob/" class="md-nav__link">
        Probability
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../stats/" class="md-nav__link">
        Statistics
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../scientific/" class="md-nav__link">
        Scientific
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../stats/matrix/" class="md-nav__link">
        Matrix
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
      
      
      
        <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
          InvitedPosts
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          InvitedPosts
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../biology/samtools/" class="md-nav__link">
        Samtools
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../maximum-usage-of-ITSC-cluster-resource/" class="md-nav__link">
        MaxClusterUsage
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" >
      
      
      
        <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
          Misc
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_10">
          <span class="md-nav__icon md-icon"></span>
          Misc
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../English/" class="md-nav__link">
        English
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../guitar/" class="md-nav__link">
        Guitar
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../win/" class="md-nav__link">
        Windows
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../biology/" class="md-nav__link">
        Biology
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../finance/" class="md-nav__link">
        Finance
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../fresh/" class="md-nav__link">
        Fresh
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../links/" class="md-nav__link">
        Links
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../misc/live/" class="md-nav__link">
        Live
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../misc/wx/" class="md-nav__link">
        小程序
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../misc/wxjssdk/" class="md-nav__link">
        jssdk
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../misc/report/" class="md-nav__link">
        讲座
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../mi/" class="md-nav__link">
        Mi
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../misc/terms/" class="md-nav__link">
        Terminology
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#aria2" class="md-nav__link">
    aria2
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#awk" class="md-nav__link">
    awk
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cat" class="md-nav__link">
    cat
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#column" class="md-nav__link">
    column
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#convert" class="md-nav__link">
    convert
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cd" class="md-nav__link">
    cd
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cp" class="md-nav__link">
    cp
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#curl" class="md-nav__link">
    curl
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cut" class="md-nav__link">
    cut
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#date" class="md-nav__link">
    date
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#diff" class="md-nav__link">
    diff
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#du" class="md-nav__link">
    du
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#emacs" class="md-nav__link">
    emacs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#echo" class="md-nav__link">
    echo
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ffmpeg" class="md-nav__link">
    ffmpeg
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#find" class="md-nav__link">
    find
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#grep" class="md-nav__link">
    grep
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#htop" class="md-nav__link">
    htop
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#journalctl" class="md-nav__link">
    journalctl
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ln" class="md-nav__link">
    ln
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ls" class="md-nav__link">
    ls
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mkdir" class="md-nav__link">
    mkdir
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#notify-send" class="md-nav__link">
    notify-send
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#paste" class="md-nav__link">
    paste
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pdftk" class="md-nav__link">
    pdftk
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ps" class="md-nav__link">
    ps
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ps2pdf-pdf2ps" class="md-nav__link">
    ps2pdf, pdf2ps
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rename" class="md-nav__link">
    rename
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sar" class="md-nav__link">
    sar
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sed" class="md-nav__link">
    sed
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sendmail" class="md-nav__link">
    sendmail
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sort" class="md-nav__link">
    sort
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tail" class="md-nav__link">
    tail
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tesseract" class="md-nav__link">
    tesseract
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tmux" class="md-nav__link">
    tmux
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#type" class="md-nav__link">
    type
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#uchardet" class="md-nav__link">
    uchardet
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#unar" class="md-nav__link">
    unar
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#uniq" class="md-nav__link">
    uniq
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#unzip" class="md-nav__link">
    unzip
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vi" class="md-nav__link">
    vi
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#wget" class="md-nav__link">
    wget
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xargs" class="md-nav__link">
    xargs
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="command-line-tools">Command-line Tools<a class="headerlink" href="#command-line-tools" title="Permanent link">&para;</a></h1>
<h2 id="aria2">aria2<a class="headerlink" href="#aria2" title="Permanent link">&para;</a></h2>
<details class="warning">
<summary>Idle</summary>
<p>It is a lightweight multi-protocol &amp; multi-source command-line download utility.</p>
<p>Homepage: <a href="https://aria2.github.io/">https://aria2.github.io/</a></p>
</details>
<h2 id="awk"><code>awk</code><a class="headerlink" href="#awk" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="https://www.shortcutfoo.com/app/dojos/awk/cheatsheet">cheat sheet</a></li>
</ul>
<h4 id="basic-usage">basic usage<a class="headerlink" href="#basic-usage" title="Permanent link">&para;</a></h4>
<p><code>awk</code> 标准用法为</p>
<div class="highlight"><pre><span></span><code>awk<span class="w"> </span><span class="s1">&#39;/pattern/ {print &quot;$1&quot;}&#39;</span>
</code></pre></div>
<p><code>/pattern/</code> 可以是正则表达式，也可以是两个特殊的pattern，</p>
<ul>
<li><code>BEGIN</code>: execute the action(s) before any input lines are read</li>
<li><code>END</code>: execute the action(s) before it actually exits</li>
</ul>
<p>默认分隔符为空格，或者通过 <code>-F</code> 指定其它的分隔符，</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s1">&#39;a b&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>awk<span class="w"> </span><span class="s1">&#39;{print $2}&#39;</span>
b
$<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s1">&#39;a,b&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>awk<span class="w"> </span>-F,<span class="w"> </span><span class="s1">&#39;{print $2}&#39;</span>
b
</code></pre></div>
<p>其中 <code>$i</code> 指第 i 列，而 <code>$0</code> 指整条记录（including leading and trailing whitespace. ），详见 <code>man awk</code>.</p>
<p>另外上述脚本中用到了 <code>awk</code> 支持跨行状态的特性，即</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span><span class="nb">echo</span><span class="w"> </span>-e<span class="w"> </span><span class="s1">&#39;a b \n c d&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>awk<span class="w"> </span><span class="s1">&#39;{print $2}&#39;</span>
b
d
</code></pre></div>
<p>其中 <code>-e</code> 是为了 escape 换行符，最后一列也可以用 <code>$NF</code> 表示，</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span><span class="nb">echo</span><span class="w"> </span>-e<span class="w"> </span><span class="s1">&#39;a b \n c d&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>awk<span class="w"> </span><span class="s1">&#39;{print $NF}&#39;</span>
b
d
</code></pre></div>
<p>如果想要得到列数，则使用 <code>NF</code>,</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span><span class="nb">echo</span><span class="w"> </span>-e<span class="w"> </span><span class="s1">&#39;a b \n c d&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>awk<span class="w"> </span><span class="s1">&#39;{print NF}&#39;</span>
<span class="m">2</span>
<span class="m">2</span>
</code></pre></div>
<p>如果默认每行列数相等，只想得到列数的话，可以使用</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span><span class="nb">echo</span><span class="w"> </span>-e<span class="w"> </span><span class="s1">&#39;a b \n c d&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>awk<span class="w"> </span><span class="s1">&#39;{print NF; exit}&#39;</span>
<span class="m">2</span>
</code></pre></div>
<p>如果数据文件为 <code>file.txt</code>，则可以直接用</p>
<div class="highlight"><pre><span></span><code>awk<span class="w"> </span><span class="s1">&#39;{print NF; exit}&#39;</span><span class="w"> </span>file.txt
</code></pre></div>
<p>如果需要输出行数，则用</p>
<div class="highlight"><pre><span></span><code>awk<span class="w"> </span><span class="s1">&#39;{print NR, &quot;:&quot;, $0}&#39;</span><span class="w"> </span>file.txt
</code></pre></div>
<p>如果想从 0 开始，则改成 <code>NR-1</code>.</p>
<h4 id="processing-two-files">processing two files<a class="headerlink" href="#processing-two-files" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>awk<span class="w"> </span><span class="s1">&#39;NR == FNR {# some actions; next} # other condition {# other actions}&#39;</span><span class="w"> </span>file1.txt<span class="w"> </span>file2.txt
</code></pre></div>
<p>where</p>
<ul>
<li><code>NR</code>: stores the total number of input records read so far, regardless of how many files have been read. </li>
<li><code>FNR</code>: stores the number of records read from the current file being processed.</li>
<li>so <code>NR == FNR</code> is only true when reading the first file</li>
<li><code>next</code> prevents the other condition/actions when reading the first file</li>
</ul>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>A single number <code>1</code> can also serve as the condition, which means True, see also <a href="https://backreference.org/2010/02/10/idiomatic-awk/#comment-24936">awk &lsquo;{sub(/pattern/, &ldquo;foobar&rdquo;)} 1&rsquo;</a>.</p>
<blockquote>
<p>&ldquo;1&rdquo; is an always-true pattern; the action is missing, which means that it is <code>{print}</code> (the default action that is executed if the pattern is true).</p>
</blockquote>
</div>
<p>refer to <a href="https://backreference.org/2010/02/10/idiomatic-awk/">Idiomatic awk</a> (<strong>A fantastic tutorial with many examples</strong>)</p>
<p>For example, print the specific lines in <code>test.md</code> whose row numbers are defined in <code>line.txt</code>,</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>awk<span class="w"> </span><span class="s1">&#39;FNR==NR{wanted[$0]; next} FNR in wanted&#39;</span><span class="w"> </span>lines.txt<span class="w"> </span>test.md
</code></pre></div>
<p>first came across in <a href="https://stackoverflow.com/a/26672005">selecting a large number of (specific) rows in file - Stack Overflow</a>, but it used <code>wanted[$0]++</code>, which does not make differences.</p>
<h4 id="sum-of-a-column-of-numbers">sum of a column of numbers<a class="headerlink" href="#sum-of-a-column-of-numbers" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code>awk<span class="w"> </span><span class="s1">&#39;{s+=$1} END {print s}&#39;</span><span class="w"> </span>data.txt
</code></pre></div>
<p>refer to <a href="https://stackoverflow.com/questions/3096259/bash-command-to-sum-a-column-of-numbers">Bash command to sum a column of numbers - Stack Overflow</a> for other approaches.</p>
<p>For example, sum up the memory usage,</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>ps<span class="w"> </span>-e<span class="w"> </span>-o<span class="w"> </span>pid,cmd,%mem<span class="w"> </span>--sort<span class="o">=</span>-%mem<span class="w"> </span><span class="p">|</span><span class="w"> </span>awk<span class="w"> </span><span class="s1">&#39;NR &gt; 1{s+=$NF} END {print s}&#39;</span>
</code></pre></div>
<h4 id="select-lines-with-conditions">select lines with conditions<a class="headerlink" href="#select-lines-with-conditions" title="Permanent link">&para;</a></h4>
<ul>
<li>select lines whose 2nd column is not empty: <strong>usage of <code>!~</code></strong></li>
</ul>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span><span class="nb">echo</span><span class="w"> </span>-e<span class="w"> </span><span class="s1">&#39;a \n c d&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>awk<span class="w"> </span><span class="s1">&#39;$2 !~ /^$/{print $2}&#39;</span>
d
</code></pre></div>
<ul>
<li>select lines whose 2nd column is not either empty or <code>-</code>: <strong>usage of <code>|</code></strong></li>
</ul>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span><span class="nb">echo</span><span class="w"> </span>-e<span class="w"> </span><span class="s1">&#39;a -\n c d&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>awk<span class="w"> </span><span class="s1">&#39;$2 !~ /-|^$/{print $2}&#39;</span>
d
</code></pre></div>
<ul>
<li>select lines whose both 2nd column and 3rd column are not empty: <strong>usage of <code>&amp;&amp;</code></strong></li>
</ul>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span><span class="nb">echo</span><span class="w"> </span>-e<span class="w"> </span><span class="s1">&#39;a - 1 \n c d 3 \n 5 6 &#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>awk<span class="w"> </span><span class="s1">&#39;$2 !~ /-|^$/ &amp;&amp; $3 !~ /^$/ {print $2}&#39;</span>
d
</code></pre></div>
<h2 id="cat"><code>cat</code><a class="headerlink" href="#cat" title="Permanent link">&para;</a></h2>
<ul>
<li>add text to the beginning of a file</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="nb">echo</span><span class="w"> </span><span class="s1">&#39;task goes here&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>cat<span class="w"> </span>-<span class="w"> </span>todo.txt<span class="w"> </span>&gt;<span class="w"> </span>temp<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>mv<span class="w"> </span>temp<span class="w"> </span>todo.txt
</code></pre></div>
<p>where <code>-</code> represents the standard input, see also <a href="https://blog.csdn.net/liuxiao723846/article/details/91041629"><img alt="🔗" class="twemoji" src="https://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/1f517.svg" title=":link:" /></a></p>
<p>alternatively, we can use <code>sed</code>, refer to <a href="https://superuser.com/questions/246837/how-do-i-add-text-to-the-beginning-of-a-file-in-bash"><img alt="🔗" class="twemoji" src="https://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/1f517.svg" title=":link:" /></a> for more details</p>
<h2 id="column"><code>column</code><a class="headerlink" href="#column" title="Permanent link">&para;</a></h2>
<p>display the csv beautifully,</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>head<span class="w"> </span>file1.txt<span class="w"> </span><span class="p">|</span><span class="w"> </span>column<span class="w"> </span>-s,<span class="w"> </span>-t
</code></pre></div>
<p>if two files share the same columns, </p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span><span class="o">(</span>head<span class="w"> </span>file1.txt<span class="p">;</span><span class="w"> </span>head<span class="w"> </span>file2.txt<span class="o">)</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>column<span class="w"> </span>-s,<span class="w"> </span>-t
</code></pre></div>
<p>where</p>
<ul>
<li><code>-s,</code>: specify the delimiter as <code>,</code></li>
<li><code>-t</code>: print in a table</li>
</ul>
<p>refer to <a href="https://stackoverflow.com/questions/1875305/view-tabular-file-such-as-csv-from-command-line">View tabular file such as CSV from command line</a></p>
<h2 id="convert"><code>convert</code><a class="headerlink" href="#convert" title="Permanent link">&para;</a></h2>
<h4 id="_1">图片裁剪<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h4>
<p>在连接显示器状态下，全屏截图时有一个屏幕是多余的，可以批量裁剪</p>
<div class="highlight"><pre><span></span><code><span class="c1"># 截右屏</span>
$<span class="w"> </span>ls<span class="w"> </span>-1<span class="w"> </span><span class="p">|</span><span class="w"> </span>xargs<span class="w"> </span>-I<span class="w"> </span><span class="o">{}</span><span class="w"> </span>convert<span class="w"> </span><span class="o">{}</span><span class="w"> </span>-crop<span class="w"> </span>1920x1200+1920+0<span class="w"> </span>crop_<span class="o">{}</span>
<span class="c1"># 截左屏</span>
$<span class="w"> </span>ls<span class="w"> </span>-1<span class="w"> </span><span class="p">|</span><span class="w"> </span>xargs<span class="w"> </span>-I<span class="w"> </span><span class="o">{}</span><span class="w"> </span>convert<span class="w"> </span><span class="o">{}</span><span class="w"> </span>-crop<span class="w"> </span>1920x1200+0+0<span class="w"> </span>crop_<span class="o">{}</span>
</code></pre></div>
<p>其中 <code>-crop</code> 参数格式为 <code>width</code>x<code>height</code>+<code>left</code>+<code>top</code>.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p><code>Ctrl+Alt+PrtSc</code> 可以只截鼠标所在屏幕。</p>
</div>
<h4 id="_2">图片拼接<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="c1"># 水平方向</span>
convert<span class="w"> </span>+append<span class="w"> </span>*.png<span class="w"> </span>out.png
<span class="c1"># 垂直方向</span>
convert<span class="w"> </span>-append<span class="w"> </span>*.png<span class="w"> </span>out.png
</code></pre></div>
<p>参考 <a href="https://askubuntu.com/a/889772">How do I join two images in Ubuntu?</a></p>
<p>如果同时想两张图片高度一样，则加入 <code>-resize xW</code> 语法，如</p>
<div class="highlight"><pre><span></span><code><span class="c1"># NOT work</span>
$<span class="w"> </span>convert<span class="w"> </span>map.png<span class="w"> </span>IMG_20210808_172104.jpg<span class="w"> </span>+append<span class="w"> </span>-resize<span class="w"> </span>x600<span class="w"> </span>/tmp/p1.png
<span class="c1"># work</span>
$<span class="w"> </span>convert<span class="w"> </span>+append<span class="w"> </span>map.png<span class="w"> </span>IMG_20210808_172104.jpg<span class="w"> </span>-resize<span class="w"> </span>x600<span class="w"> </span>/tmp/p1.png
</code></pre></div>
<p>但是要注意此时 <code>+append</code> 要放在前面，也就是 <code>-resize</code> 需要紧跟着图片。</p>
<p>参考 <a href="https://stackoverflow.com/questions/20737061/merge-images-side-by-sidehorizontally">Merge Images Side by Side(Horizontally) - Stack Overflow</a></p>
<p>但是注意 <code>-resize</code> 会使得 orientation 无效，然后图片会发生旋转，参考 <a href="https://legacy.imagemagick.org/discourse-server/viewtopic.php?t=33900">ImageMagick convert rotates images during resize</a>，使用 <code>-auto-orient</code> 参数，就能避免丢失图片中的 orientation 信息，</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>convert<span class="w"> </span>-auto-orient<span class="w"> </span>+append<span class="w"> </span>map.png<span class="w"> </span>IMG_20210808_172104.jpg<span class="w"> </span>-resize<span class="w"> </span>x600<span class="w"> </span>/tmp/p2.png
</code></pre></div>
<h4 id="_3">缩小图片大小<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="c1"># only specify the wide as 1024 pixel to keep the aspect ratio</span>
convert<span class="w"> </span>input.png<span class="w"> </span>-resize<span class="w"> </span>1024x<span class="w"> </span>out.png
convert<span class="w"> </span>input.png<span class="w"> </span>-quality<span class="w"> </span><span class="m">50</span>%<span class="w"> </span>out.png
</code></pre></div>
<p>参考<a href="https://askubuntu.com/questions/781497/how-can-i-compress-images">How can I compress images?</a></p>
<h4 id="jpgpdf">合并jpg到pdf<a class="headerlink" href="#jpgpdf" title="Permanent link">&para;</a></h4>
<p>参考<a href="https://unix.stackexchange.com/questions/20026/convert-images-to-pdf-how-to-make-pdf-pages-same-size">convert images to pdf: How to make PDF Pages same size</a></p>
<p>直接采用</p>
<div class="highlight"><pre><span></span><code>pdftk<span class="w"> </span>A.pdf<span class="w"> </span>B.pdf<span class="w"> </span>cat<span class="w"> </span>output<span class="w"> </span>merge.pdf
</code></pre></div>
<p>得到的pdf中页面大小不一致，于是采用下面的命令</p>
<div class="highlight"><pre><span></span><code>convert<span class="w"> </span>a.png<span class="w"> </span>b.png<span class="w"> </span>-compress<span class="w"> </span>jpeg<span class="w"> </span>-resize<span class="w"> </span>1240x1753<span class="w"> </span><span class="se">\</span>
<span class="w">                      </span>-extent<span class="w"> </span>1240x1753<span class="w"> </span>-gravity<span class="w"> </span>center<span class="w"> </span><span class="se">\</span>
<span class="w">                      </span>-units<span class="w"> </span>PixelsPerInch<span class="w"> </span>-density<span class="w"> </span>150x150<span class="w"> </span>multipage.pdf
</code></pre></div>
<p>注意重点是 <code>-density 150x150</code>，若去掉这个选项，则还是得不到相同页面大小的文件。</p>
<p>另外，上述命令是对于<code>.png</code>而言的，完全可以换成<code>.jpg</code>。</p>
<p>同时，注意<code>1240x1753</code>中间是字母<code>x</code>.</p>
<h4 id="pdf-jpg">pdf 转为 jpg<a class="headerlink" href="#pdf-jpg" title="Permanent link">&para;</a></h4>
<p><code>-quality 100</code> 控制质量
 <code>-density 600x600</code> 控制分辨率</p>
<p>并注意参数放置文件的前面</p>
<p>pdf 转 png 更好的命令是 <code>pdftoppm</code>，参考 <a href="https://askubuntu.com/questions/50170/how-to-convert-pdf-to-image">How to convert PDF to Image?</a></p>
<div class="highlight"><pre><span></span><code>pdftoppm<span class="w"> </span>alg.pdf<span class="w"> </span>alg<span class="w"> </span>-png<span class="w"> </span>-singlefile
</code></pre></div>
<p>图片质量比 <code>convert</code> 好很多！！</p>
<h4 id="convert-imgs-to-pdf">convert imgs to pdf<a class="headerlink" href="#convert-imgs-to-pdf" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code>ls<span class="w"> </span>-1<span class="w"> </span>./*jpg<span class="w"> </span><span class="p">|</span><span class="w"> </span>xargs<span class="w"> </span>-L1<span class="w"> </span>-I<span class="w"> </span><span class="o">{}</span><span class="w"> </span>img2pdf<span class="w"> </span><span class="o">{}</span><span class="w"> </span>-o<span class="w"> </span><span class="o">{}</span>.pdf
pdftk<span class="w"> </span>likelihoodfree-design-a-discussion-<span class="o">{</span><span class="m">1</span>..13<span class="o">}</span>-1024.jpg.pdf<span class="w"> </span>cat<span class="w"> </span>output<span class="w"> </span>likelihoodfree-design-a-discussion.pdf
</code></pre></div>
<p>注意这里需要用 <code>ls -1</code>，如果 <code>ll</code> 则第一行会有 <code>total xxx</code> 的信息，即 <code>ll | wc -l</code> 等于 <code>ls -1 | wc -l</code> + 1，而且在我的 Ubuntu 18.04 中，<code>ll</code> 甚至还会列出</p>
<div class="highlight"><pre><span></span><code>./
../
</code></pre></div>
<p>这一点在服务器上没看到。</p>
<h4 id="adjust-brightness-and-contrast">adjust brightness and contrast<a class="headerlink" href="#adjust-brightness-and-contrast" title="Permanent link">&para;</a></h4>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Here is <a href="https://github.com/szcf-weiya/SZmedinfo/issues/5">one example</a> used in my project.</p>
</div>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>convert<span class="w"> </span>-brightness-contrast<span class="w"> </span>10x5<span class="w"> </span>input.jpg<span class="w"> </span>output.jpg
</code></pre></div>
<p>where <code>10x5</code> increases the brightness 10 percent and the contrast 5 percent. </p>
<p>These two values range from -100 to 100, and</p>
<ul>
<li>negative value: decrease</li>
<li>zero: leave it off</li>
<li>positive value: increase</li>
</ul>
<p>more details refer to <a href="https://www.imagemagick.org/script/command-line-options.php#brightness-contrast">ImageMagick: Annotated List of Command-line Options</a></p>
<p>As an alternative, the GUI software <code>Shotwell</code> also provides similar functions, just clicking <code>enhance</code>.</p>
<h2 id="cd"><code>cd</code><a class="headerlink" href="#cd" title="Permanent link">&para;</a></h2>
<ul>
<li><code>cd "$(dirname "$0")"</code>: <a href="https://stackoverflow.com/questions/3349105/how-to-set-current-working-directory-to-the-directory-of-the-script">cd current directory</a></li>
</ul>
<h2 id="cp"><code>cp</code><a class="headerlink" href="#cp" title="Permanent link">&para;</a></h2>
<p>the common usage is <code>cp SOURCE DEST</code>, but if we want to copy multiple files into a single folder at once, we can use</p>
<div class="highlight"><pre><span></span><code>cp<span class="w"> </span>-t<span class="w"> </span>DIRECTORY<span class="w"> </span>SOURCE
</code></pre></div>
<p>where <code>SOURCE</code> can be multiple files, inspired from <a href="https://askubuntu.com/a/816826">Copying multiple specific files from one folder to another - Ask Ubuntu</a></p>
<h2 id="curl"><code>curl</code><a class="headerlink" href="#curl" title="Permanent link">&para;</a></h2>
<ul>
<li><code>-O</code>: save locally with the same remote name</li>
</ul>
<h2 id="cut"><code>cut</code><a class="headerlink" href="#cut" title="Permanent link">&para;</a></h2>
<p>To select the first field of a file <code>file.txt</code>,</p>
<div class="highlight"><pre><span></span><code><span class="nv">a</span><span class="o">=</span><span class="k">$(</span>cut<span class="w"> </span>-d<span class="s1">&#39;.&#39;</span><span class="w"> </span>-f1<span class="w"> </span><span class="o">&lt;&lt;&lt;</span><span class="w"> </span><span class="nv">$1</span><span class="k">)</span>_test
<span class="nb">echo</span><span class="w"> </span><span class="nv">$a</span>
</code></pre></div>
<p>where <code>-d'.'</code> is to define the delimiter, and then <code>-f1</code> get the first field.</p>
<p>If we need to get the last field, we can use <code>rev</code>, i.e.,</p>
<div class="highlight"><pre><span></span><code><span class="nb">echo</span><span class="w"> </span><span class="s1">&#39;maps.google.com&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>rev<span class="w"> </span><span class="p">|</span><span class="w"> </span>cut<span class="w"> </span>-d<span class="s1">&#39;.&#39;</span><span class="w"> </span>-f<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>rev
</code></pre></div>
<p>refer to <a href="https://stackoverflow.com/questions/22727107/how-to-find-the-last-field-using-cut">How to find the last field using &lsquo;cut&rsquo;</a> and <a href="https://opensource.com/article/17/2/command-line-tools-data-analysis-linux">10 command-line tools for data analysis in Linux</a></p>
<h2 id="date"><code>date</code><a class="headerlink" href="#date" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="nv">timestamp</span><span class="o">=</span><span class="k">$(</span>date<span class="w"> </span>+<span class="s2">&quot;%Y-%m-%dT%H:%M:%S&quot;</span><span class="k">)</span>
<span class="nb">echo</span><span class="w"> </span><span class="nv">$timestamp</span>
<span class="c1"># 2020-02-11T10:51:42</span>
</code></pre></div>
<p>we can compare two timestamps as follows</p>
<div class="highlight"><pre><span></span><code><span class="nv">d1</span><span class="o">=</span><span class="k">$(</span>date<span class="w"> </span>-d<span class="w"> </span><span class="s2">&quot;2019-09-22 20:07:25&quot;</span><span class="w"> </span>+<span class="s1">&#39;%s&#39;</span><span class="k">)</span>
<span class="nv">d2</span><span class="o">=</span><span class="k">$(</span>date<span class="w"> </span>-d<span class="w"> </span><span class="s2">&quot;2019-09-22 20:08:25&quot;</span><span class="w"> </span>+<span class="s1">&#39;%s&#39;</span><span class="k">)</span>
<span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="nv">$d1</span><span class="w"> </span>-gt<span class="w"> </span><span class="nv">$d2</span><span class="w"> </span><span class="o">]</span>
<span class="k">then</span>
<span class="w">  </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;d1 &gt; d2&quot;</span>
<span class="k">else</span>
<span class="w">  </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;d1 &lt; d2&quot;</span>
<span class="k">fi</span>
</code></pre></div>
<p>where</p>
<ul>
<li><code>-d</code>: display time described by STRING, not &lsquo;now&rsquo; (from <code>man date</code>) Alternatively, we can use format <code>-d "-10 days -8 hours -Iseconds"</code> to refer to the timestamp based on the current date, and <code>-Iseconds</code> specifies the unit as <code>seconds</code>, see the application in <a href="../../Git/#change-commit-time">Git: change-commit-time</a>.</li>
<li><code>+%[format-option]</code>: format specifiers (details formats refer to <code>man date</code>, but I am curious why <code>+</code>, no hints from <code>many date</code>, but here is one from <a href="https://www.geeksforgeeks.org/date-command-linux-examples/">date command in Linux with examples</a>)</li>
<li><code>-gt</code>: larger than, <code>-lt</code>: less than; with equality, <code>-ge</code> and <code>-le</code>, (from <a href="https://www.runoob.com/linux/linux-shell-basic-operators.html">Shell 基本运算符</a>)</li>
<li>条件表达式要放在方括号之间，并且要有空格, from <a href="https://www.runoob.com/linux/linux-shell-basic-operators.html">Shell 基本运算符</a></li>
</ul>
<p>refer to <a href="https://unix.stackexchange.com/questions/375911/how-to-compare-two-time-stamps">How to compare two time stamps?</a></p>
<h2 id="diff"><code>diff</code><a class="headerlink" href="#diff" title="Permanent link">&para;</a></h2>
<ul>
<li>compare contents of two folders, see also <a href="https://askubuntu.com/questions/421712/comparing-the-contents-of-two-directories"><img alt="🔗" class="twemoji" src="https://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/1f517.svg" title=":link:" /></a></li>
</ul>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>diff<span class="w"> </span>folder1<span class="w"> </span>folder2
</code></pre></div>
<h2 id="du"><code>du</code><a class="headerlink" href="#du" title="Permanent link">&para;</a></h2>
<ul>
<li>list size of subdirectories/files: <code>du -shc *</code>, where <code>-c</code> outputs the total. If sort according to size with <code>| sort -n</code>, the option <code>-h</code> is problematic, since <code>sort</code> cannot recognize the units <code>K, M</code>. Hopefully, <code>sort</code> also supports <code>-h</code> option, so just use <code>| sort -h</code>.</li>
</ul>
<h2 id="emacs"><code>emacs</code><a class="headerlink" href="#emacs" title="Permanent link">&para;</a></h2>
<details class="warning">
<summary>Uninstalled</summary>
<h4 id="_4">常用命令<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h4>
<ol>
<li>切换缓存区：C-o</li>
<li>水平新建缓存区：C-2</li>
<li>垂直新建缓存区：C-3</li>
<li>关闭当前缓存区：C-0</li>
<li>删除缓存区：C-k</li>
<li>只保留当前缓存区：C-1</li>
</ol>
<h4 id="emacsfcitx">Emacs使用Fcitx中文<a class="headerlink" href="#emacsfcitx" title="Permanent link">&para;</a></h4>
<p>参考博客：<a href="http://wangzhe3224.github.io/emacs/2015/08/31/fcitx-emacs.html">fcitx-emacs</a></p>
<ul>
<li>Step 1: 确定系统当前支持的字符集</li>
</ul>
<div class="highlight"><pre><span></span><code>locale<span class="w"> </span>-a
</code></pre></div>
<p>若其中有 zh_CN.utf8，则表明已经包含了中文字符集。</p>
<ul>
<li>Step 2: 设置系统变量</li>
</ul>
<div class="highlight"><pre><span></span><code>emacs<span class="w"> </span>~/.bashrc
<span class="nb">export</span><span class="w"> </span><span class="nv">LC_CTYPE</span><span class="o">=</span>zh_CN.utf8<span class="w"> </span>
<span class="nb">source</span><span class="w"> </span>~/.bashrc
</code></pre></div>
<ul>
<li>配置文件: <a href="http://download.csdn.net/download/karotte/3812760">http://download.csdn.net/download/karotte/3812760</a></li>
<li>自动补全: 参考<a href="http://www.cnblogs.com/liyongmou/archive/2013/04/26/3044155.html#sec-1-2">emacs自动补全插件auto-complet和yasnippet，安装、配置和扩展</a></li>
</ul>
</details>
<h2 id="echo"><code>echo</code><a class="headerlink" href="#echo" title="Permanent link">&para;</a></h2>
<h4 id="string-started-with-">string started with <code>-</code><a class="headerlink" href="#string-started-with-" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span><span class="nv">a</span><span class="o">=</span><span class="s2">&quot;-n 1&quot;</span>
$<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="nv">$a</span>
<span class="m">1</span>
$<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$a</span><span class="s2">&quot;</span>
-n<span class="w"> </span><span class="m">1</span>
</code></pre></div>
<p>double quotes are necessary, otherwise it would be treat as the option for <code>echo</code>. But if the string is pure <code>-</code>, the double quotes also failed,</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span><span class="nv">b</span><span class="o">=</span><span class="s2">&quot;-n&quot;</span>
$<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$b</span><span class="s2">&quot;</span>
</code></pre></div>
<p>use <code>printf</code> would be more proper,</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span><span class="nb">printf</span><span class="w"> </span><span class="s2">&quot;%s\n&quot;</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$b</span><span class="s2">&quot;</span>
-n
$<span class="w"> </span><span class="nb">printf</span><span class="w"> </span><span class="s2">&quot;%s\n&quot;</span><span class="w"> </span><span class="nv">$b</span>
-n
</code></pre></div>
<p>and no need to add double quotes.</p>
<p>refer to <a href="https://stackoverflow.com/questions/3652524/bash-echo-string-that-starts-with">Bash: echo string that starts with “-”</a></p>
<h4 id="print-bytes">print bytes<a class="headerlink" href="#print-bytes" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="nb">echo</span><span class="w"> </span>-n<span class="w"> </span>-e<span class="w"> </span><span class="s1">&#39;\x66\x6f\x6f&#39;</span>
</code></pre></div>
<p>do not miss quotes, and <code>-e</code> is also necessary, refer to <a href="https://unix.stackexchange.com/questions/118247/echo-bytes-to-a-file">echo bytes to a file</a></p>
<h4 id="different-save-behavior">different save behavior<a class="headerlink" href="#different-save-behavior" title="Permanent link">&para;</a></h4>
<p>a column of elements would be stored in an array, then save via <code>echo</code> would result one line.</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>awk<span class="w"> </span><span class="s1">&#39;{print $1}&#39;</span><span class="w"> </span>duplicated.idx<span class="w"> </span>&gt;<span class="w"> </span>t1.txt
$<span class="w"> </span>cat<span class="w"> </span>t1.txt<span class="w"> </span>
<span class="m">2</span>
<span class="m">2</span>
$<span class="w"> </span><span class="nv">t1</span><span class="o">=</span><span class="k">$(</span>awk<span class="w"> </span><span class="s1">&#39;{print $1}&#39;</span><span class="w"> </span>duplicated.idx<span class="k">)</span>
$<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="nv">$t1</span><span class="w"> </span>&gt;<span class="w"> </span>t2.txt
$<span class="w"> </span>cat<span class="w"> </span>t2.txt<span class="w"> </span>
<span class="m">2</span><span class="w"> </span><span class="m">2</span>
</code></pre></div>
<h2 id="ffmpeg"><code>ffmpeg</code><a class="headerlink" href="#ffmpeg" title="Permanent link">&para;</a></h2>
<h4 id="_5">提取音频<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h4>
<p>下载 B 站视频歌曲后，提取音频</p>
<div class="highlight"><pre><span></span><code>ffmpeg<span class="w"> </span>-i<span class="w"> </span>input.mp4<span class="w"> </span>output.mp3
</code></pre></div>
<div class="admonition tip">
<p class="admonition-title">B 站视频下载方法</p>
<ol>
<li>F12 打开开发者工具，并选择移动版页面</li>
<li>切换至 Network 下的 Media，然后 F5 刷新</li>
<li>网页上点击播放，等待缓存</li>
<li>右键点击缓存文件，选择 Copy &gt; Copy link address，即可得到视频链接</li>
</ol>
<p>参考 <a href="https://www.zhihu.com/question/295852104/answer/2076417322">怎么提取b站里面的音频？ - 视频编辑助手的回答 - 知乎</a></p>
</div>
<h4 id="_6">去除音频<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h4>
<p>参考 <a href="https://hefang.link/article/how-remove-voice-with-ffmpeg.html">如何使用ffmpeg去除视频声音？</a></p>
<div class="highlight"><pre><span></span><code>ffmpeg<span class="w"> </span>-i<span class="w"> </span>.<span class="se">\i</span>nput.mp4<span class="w"> </span>-map<span class="w"> </span><span class="m">0</span>:0<span class="w"> </span>-vcodec<span class="w"> </span>copy<span class="w"> </span>out.mp4
</code></pre></div>
<h4 id="_7">慢速播放和快速播放<a class="headerlink" href="#_7" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="c1"># 2 times faster</span>
$<span class="w"> </span>ffmpeg<span class="w"> </span>-i<span class="w"> </span>input.mkv<span class="w"> </span>-filter:v<span class="w"> </span><span class="s2">&quot;setpts=0.5*PTS&quot;</span><span class="w"> </span>output.mkv
</code></pre></div>
<p>但是如果只对视频快速播放，而不处理音频，则文件的总时长仍不变。如果只关注视频，可以先去除音频，然后再做变速处理。</p>
<p>参考 <a href="https://blog.csdn.net/ternence_hsu/article/details/85865718">ffmpeg 视频倍速播放 和 慢速播放</a></p>
<p>除此之外，还可以通过先转成 raw bitstream 文件（未尝试），详见 <a href="https://trac.ffmpeg.org/wiki/How%20to%20speed%20up%20/%20slow%20down%20a%20video">How to speed up / slow down a video – FFmpeg</a></p>
<p>对于 GIF 文件，还可以用 <code>convert</code> 中的  <code>-delay</code> 选项实现。两者区别在于，前者会丢帧，而后者不会，</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>convert<span class="w"> </span>-delay<span class="w"> </span><span class="m">10</span><span class="w"> </span>input.gif<span class="w"> </span>output.gif
</code></pre></div>
<p>refer to <a href="https://infoheap.com/imagemagick-convert-edit-animated-gif-speed-fps/">https://infoheap.com/imagemagick-convert-edit-animated-gif-speed-fps/</a></p>
<h4 id="_8">视频旋转<a class="headerlink" href="#_8" title="Permanent link">&para;</a></h4>
<p>参考<a href="https://askubuntu.com/questions/83711/how-can-i-rotate-a-video">How can I rotate a video?</a></p>
<p>直接用</p>
<div class="highlight"><pre><span></span><code>ffmpeg<span class="w"> </span>-i<span class="w"> </span><span class="k">in</span>.mov<span class="w"> </span>-vf<span class="w"> </span><span class="s2">&quot;transpose=1&quot;</span><span class="w"> </span>out.mov
</code></pre></div>
<p>然后报错 <a href="(https://stackoverflow.com/questions/32931685/the-encoder-aac-is-experimental-but-experimental-codecs-are-not-enabled)">“The encoder &lsquo;aac&rsquo; is experimental but experimental codecs are not enabled”</a></p>
<p>注意添加 <code>-strict -2</code> 要注意放置位置，一开始直接在上述命令后面加入，但失败，应该写成</p>
<div class="highlight"><pre><span></span><code>ffmpeg<span class="w"> </span>-i<span class="w"> </span><span class="k">in</span>.mov<span class="w"> </span>-vf<span class="w"> </span><span class="s2">&quot;transpose=1&quot;</span><span class="w"> </span>-strict<span class="w"> </span>-2<span class="w"> </span>out.mov
</code></pre></div>
<h4 id="_9">视频剪切<a class="headerlink" href="#_9" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code>ffmpeg<span class="w"> </span>-ss<span class="w"> </span><span class="m">00</span>:00:30.0<span class="w"> </span>-i<span class="w"> </span>input.wmv<span class="w"> </span>-c<span class="w"> </span>copy<span class="w"> </span>-t<span class="w"> </span><span class="m">00</span>:00:10.0<span class="w"> </span>output.wmv
</code></pre></div>
<p>where</p>
<ul>
<li>(optional) <code>-ss</code> specifies the start timestamp, the format is <code>HH:MM:SS.xxx</code></li>
<li>(optional) <code>-t</code> specifies the duration, or use <code>-to</code> to specifies the end timestamp</li>
</ul>
<p>refer to <a href="https://superuser.com/questions/138331/using-ffmpeg-to-cut-up-video">Using ffmpeg to cut up video</a></p>
<h4 id="concat">concat<a class="headerlink" href="#concat" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>ffmpeg<span class="w"> </span>-f<span class="w"> </span>concat<span class="w"> </span>-safe<span class="w"> </span><span class="m">0</span><span class="w"> </span>-i<span class="w"> </span>&lt;<span class="o">(</span><span class="nb">echo</span><span class="w"> </span>file<span class="w"> </span><span class="nv">$PWD</span>/8xonlyVID_20210808_170208.mp4<span class="p">;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span>file<span class="w"> </span><span class="nv">$PWD</span>/8xonlyVID_20210808_170328.mp4<span class="o">)</span><span class="w"> </span>-c<span class="w"> </span>copy<span class="w"> </span>8xonlyVID_20210808_170208+328.mp4
</code></pre></div>
<p>note that <code>$PWD</code> is necessary, otherwise it throws</p>
<blockquote>
<p>Impossible to open &lsquo;/dev/fd/8xonlyVID_20210808_170328.mp4&rsquo;
/dev/fd/63: No such file or directory</p>
</blockquote>
<p>Also note that <code>&amp;</code> seems will print the file info reversely,</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="w"> </span><span class="p">&amp;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;2&quot;</span>
<span class="o">[</span><span class="m">5</span><span class="o">]</span><span class="w"> </span><span class="m">5142</span>
<span class="m">2</span>
<span class="o">[</span><span class="m">4</span><span class="o">]</span><span class="w">   </span>Done<span class="w">                    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;1&quot;</span>
<span class="m">1</span>
$<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="p">;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;2&quot;</span>
<span class="m">1</span>
<span class="m">2</span>
</code></pre></div>
<p>refer to <a href="https://stackoverflow.com/questions/7333232/how-to-concatenate-two-mp4-files-using-ffmpeg">How to concatenate two MP4 files using FFmpeg? - Stack Overflow</a></p>
<h2 id="find"><code>find</code><a class="headerlink" href="#find" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>find<span class="w"> </span>.<span class="w"> </span>-group<span class="w"> </span>group
$<span class="w"> </span>find<span class="w"> </span>.<span class="w"> </span>-user<span class="w"> </span>user
</code></pre></div>
<p>refer to <a href="https://unix.stackexchange.com/questions/518268/list-files-with-specific-group-and-user-name">list files with specific group and user name</a></p>
<ul>
<li><a href="https://askubuntu.com/questions/307876/how-to-search-for-files-recursively-into-subdirectories">recursively list files in subdirectories</a></li>
</ul>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>find<span class="w"> </span>.<span class="w"> </span>-name<span class="w"> </span><span class="s1">&#39;*.md&#39;</span>
</code></pre></div>
<p>alternatively,</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>ls<span class="w"> </span>-R<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span><span class="s1">&#39;\.md$&#39;</span>
</code></pre></div>
<p>where <code>.</code> needs to be escape and <code>$</code> is necessary, otherwise it would match strings like <code>rmd</code>.</p>
<ul>
<li>list all symbolic links</li>
</ul>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>find<span class="w"> </span>.<span class="w"> </span>-type<span class="w"> </span>l<span class="w"> </span>-ls
</code></pre></div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Parsing <code>ls</code>, such as <code>ls | grep "\-&gt;"</code> is a bad idea. <a href="https://askubuntu.com/questions/522051/how-to-list-all-symbolic-links-in-a-directory"><img alt="🔗" class="twemoji" src="https://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/1f517.svg" title=":link:" /></a></p>
</div>
<p>usage of <code>-exec</code></p>
<div class="highlight"><pre><span></span><code>find<span class="w"> </span>/path<span class="w"> </span><span class="o">[</span>args<span class="o">]</span><span class="w"> </span>-exec<span class="w"> </span><span class="o">[</span>cmd<span class="o">]</span><span class="w"> </span><span class="o">{}</span><span class="w"> </span><span class="se">\;</span>
</code></pre></div>
<p>where </p>
<ul>
<li><code>{}</code> is a placeholder, similar in <code>xargs</code>.</li>
<li><code>\;</code> indicates that for each found result, the command <code>cmd</code> is executed once with the found result.</li>
</ul>
<p>For example, convert the file encoding in <a href="https://github.com/szcf-weiya/Matlab30IAs">szcf-weiya/Matlab30IAs</a></p>
<div class="highlight"><pre><span></span><code>find<span class="w"> </span>.<span class="w"> </span>-name<span class="w"> </span><span class="s1">&#39;*.m&#39;</span><span class="w"> </span>-ls<span class="w"> </span>-exec<span class="w"> </span>iconv<span class="w"> </span>-f<span class="w"> </span>GB18030<span class="w"> </span><span class="o">{}</span><span class="w"> </span>-t<span class="w"> </span>UTF8<span class="w"> </span>-o<span class="w"> </span><span class="o">{}</span><span class="w"> </span><span class="se">\;</span>
</code></pre></div>
<p>see also <a href="https://www.howtouselinux.com/post/linux-find-exec-examples-advanced-part"><img alt="🔗" class="twemoji" src="https://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/1f517.svg" title=":link:" /></a></p>
<h2 id="grep"><code>grep</code><a class="headerlink" href="#grep" title="Permanent link">&para;</a></h2>
<ul>
<li><code>-P</code>: perl-style regex</li>
<li><code>-o</code>: only print the matched part instead of the whole line</li>
<li><code>-v</code>: 反选</li>
</ul>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>grep<span class="w"> </span>-oP<span class="w"> </span><span class="s2">&quot;hello \K\w+&quot;</span><span class="w"> </span><span class="o">&lt;&lt;&lt;</span><span class="w"> </span><span class="s2">&quot;hello world&quot;</span>
world
</code></pre></div>
<p>where <code>\K</code> is the short form of <code>(?&lt;=pattern)</code> as a zero-width look-behind assertion before the text to output, and <code>(?=pattern)</code> can be used as a zero-width look-ahead assertion after the text to output. For example, extract the text between <code>hello</code> and <code>weiya</code>.</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>grep<span class="w"> </span>-oP<span class="w"> </span><span class="s2">&quot;hello \K(.*)(?=, weiya)&quot;</span><span class="w"> </span><span class="o">&lt;&lt;&lt;</span><span class="w"> </span><span class="s2">&quot;hello world, weiya!&quot;</span>
world
</code></pre></div>
<p>or equivalently,</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>grep<span class="w"> </span>-oP<span class="w"> </span><span class="s2">&quot;(?&lt;=hello )(.*)(?=, weiya)&quot;</span><span class="w"> </span><span class="o">&lt;&lt;&lt;</span><span class="w"> </span><span class="s2">&quot;hello world, weiya!&quot;</span>world
world
</code></pre></div>
<p>note that the space is also counted, </p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>grep<span class="w"> </span>-oP<span class="w"> </span><span class="s2">&quot;(?&lt;=hello)(.*)(?=, weiya)&quot;</span><span class="w"> </span><span class="o">&lt;&lt;&lt;</span><span class="w"> </span><span class="s2">&quot;hello world, weiya!&quot;</span>
<span class="w"> </span>world
</code></pre></div>
<p>refer to <a href="https://unix.stackexchange.com/questions/13466/can-grep-output-only-specified-groupings-that-match">Can grep output only specified groupings that match? - Unix &amp; Linux Stack Exchange</a></p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p><a href="https://github.com/szcf-weiya/Cell-Video/blob/14a7dac4cd5c4bbfbf31d80eead85712eb8ba55a/report/update_bib.sh#L23">A practical example.</a></p>
</div>
<ul>
<li>find all files given keywords, refer to <a href="https://stackoverflow.com/questions/16956810/how-do-i-find-all-files-containing-specific-text-on-linuxb">How do I find all files containing specific text on Linux? - Stack Overflow</a></li>
</ul>
<div class="highlight"><pre><span></span><code>grep<span class="w"> </span>-rnw<span class="w"> </span><span class="s1">&#39;/path/to/somewhere/&#39;</span><span class="w"> </span>-e<span class="w"> </span><span class="s1">&#39;pattern&#39;</span>
</code></pre></div>
<p>For example, J asked me about a situation that python failed to print to the log file in real time, and I indeed remembered that I had came cross this situation, but cannot find the relative notes. So I am trying to find files given possible keywords, such as <code>real time</code>, <code>print</code>, and finally I got the results</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>grep<span class="w"> </span>-rnw<span class="w"> </span>docs/*/*.md<span class="w"> </span>-e<span class="w"> </span><span class="s1">&#39;输出&#39;</span>
docs/julia/index.md:765:&gt;<span class="w"> </span>HASH函数是这么一种函数，他接受一段数据作为输入，然后生成一串数据作为输出，从理论上说，设计良好的HASH函数，对于任何不同的输入数据，都应该以极高的概率生成不同的输出数据，因此可以作为“指纹”使用，来判断两个文件是否相同。
docs/Linux/index.md:588:发现一件很迷的事情，要加上<span class="w"> </span><span class="sb">`</span>-u<span class="sb">`</span><span class="w"> </span>才能实现实时查看输出。
docs/shell/index.md:125:1.<span class="w"> </span>单引号里的任何字符都会原样输出，单引号字符串中的变量是无效的；
</code></pre></div>
<p>As a comparison, the search function provided by GitHub is not so powerful since no related results returned in the search link <a href="https://github.com/szcf-weiya/techNotes/search?q=%E8%BE%93%E5%87%BA&amp;type=issues">https://github.com/szcf-weiya/techNotes/search?q=%E8%BE%93%E5%87%BA&amp;type=issues</a></p>
<p>When I perform it on <code>syslog</code>, it did not return all matched results, and outputs,</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>grep<span class="w"> </span>-i<span class="w"> </span>failed<span class="w"> </span>syslog
Jul<span class="w"> </span><span class="m">24</span><span class="w"> </span><span class="m">13</span>:17:11<span class="w"> </span>weiya-ThinkPad-T460p<span class="w"> </span>gvfsd-metadata<span class="o">[</span><span class="m">13786</span><span class="o">]</span>:<span class="w"> </span>g_udev_device_has_property:<span class="w"> </span>assertion<span class="w"> </span><span class="s1">&#39;G_UDEV_IS_DEVICE (device)&#39;</span><span class="w"> </span>failed
Jul<span class="w"> </span><span class="m">24</span><span class="w"> </span><span class="m">14</span>:02:53<span class="w"> </span>weiya-ThinkPad-T460p<span class="w"> </span>gvfsd-metadata<span class="o">[</span><span class="m">13786</span><span class="o">]</span>:<span class="w"> </span>g_udev_device_has_property:<span class="w"> </span>assertion<span class="w"> </span><span class="s1">&#39;G_UDEV_IS_DEVICE (device)&#39;</span><span class="w"> </span>failed
Jul<span class="w"> </span><span class="m">24</span><span class="w"> </span><span class="m">14</span>:02:53<span class="w"> </span>weiya-ThinkPad-T460p<span class="w"> </span>gvfsd-metadata<span class="o">[</span><span class="m">13786</span><span class="o">]</span>:<span class="w"> </span>g_udev_device_has_property:<span class="w"> </span>assertion<span class="w"> </span><span class="s1">&#39;G_UDEV_IS_DEVICE (device)&#39;</span><span class="w"> </span>failed
Binary<span class="w"> </span>file<span class="w"> </span>syslog<span class="w"> </span>matches
</code></pre></div>
<p>refer to <a href="https://stackoverflow.com/questions/23512852/grep-binary-file-matches-how-to-get-normal-grep-output">https://stackoverflow.com/questions/23512852/grep-binary-file-matches-how-to-get-normal-grep-output</a>, add <code>-a</code> option.</p>
<h2 id="htop"><code>htop</code><a class="headerlink" href="#htop" title="Permanent link">&para;</a></h2>
<p>A much more powerful command than <code>top</code>, refer to <a href="https://www.cyberciti.biz/faq/find-out-what-processes-are-running-in-the-background-on-linux/">Find out what processes are running in the background on Linux</a></p>
<ul>
<li>setup: modify the information layout when there are many CPUs. Firstly select the panel from the rightmost column, and then press <code>Left</code>, <code>Right</code>, <code>Up</code>, <code>Down</code> to move. The resulting configure file would be written into <code>~/.config/htop/htoprc</code>.</li>
</ul>
<h2 id="journalctl"><code>journalctl</code><a class="headerlink" href="#journalctl" title="Permanent link">&para;</a></h2>
<ul>
<li>list log of previous boots</li>
</ul>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>journalctl<span class="w"> </span>--list-boots
</code></pre></div>
<ul>
<li>display last boot log</li>
</ul>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>journalctl<span class="w"> </span>-b-1
</code></pre></div>
<p>see also: <a href="https://askubuntu.com/questions/765315/how-to-find-previous-boot-log-after-ubuntu-16-04-restarts"><img alt="🔗" class="twemoji" src="https://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/1f517.svg" title=":link:" /></a></p>
<h2 id="ln"><code>ln</code><a class="headerlink" href="#ln" title="Permanent link">&para;</a></h2>
<ul>
<li>with <code>-s</code>, create a soft link</li>
<li>without <code>-s</code>, create a hard link</li>
</ul>
<p>A &ldquo;hard link&rdquo; is actually between two directory entries; they&rsquo;re really the same file. And the number of the permission of <code>ll</code> also shows the number of hard links, such as <code>2</code> in <code>-rw-rw-r--  2</code>.</p>
<p><strong>the same file as another is they have the same inode number; no other file will have that.</strong></p>
<p>We can get the <code>inode</code> as follows,</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>stat<span class="w"> </span>resolve_utf.py<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>-i<span class="w"> </span>inode
Device:<span class="w"> </span>811h/2065d<span class="w">  </span>Inode:<span class="w"> </span><span class="m">14716809</span><span class="w">    </span>Links:<span class="w"> </span><span class="m">2</span>
</code></pre></div>
<p>refer to <a href="https://unix.stackexchange.com/questions/170444/how-to-find-out-a-file-is-hard-link-or-symlink">How to find out a file is hard link or symlink?</a></p>
<h2 id="ls"><code>ls</code><a class="headerlink" href="#ls" title="Permanent link">&para;</a></h2>
<ul>
<li><code>-S</code>: sort by filesize</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="c1"># only show directory</span>
ls<span class="w"> </span>-d<span class="w"> </span>*/
</code></pre></div>
<p>refer to <a href="https://stackoverflow.com/questions/14352290/listing-only-directories-using-ls-in-bash">Listing only directories using ls in Bash?</a></p>
<p>My application: <a href="https://github.com/szcf-weiya/TeXtemplates/blob/master/new.sh#L9">TeXtemplates: create a tex template</a></p>
<h4 id="check-whether-a-certain-file-typeextension-exists-in-directory">check whether a certain file type/extension exists in directory<a class="headerlink" href="#check-whether-a-certain-file-typeextension-exists-in-directory" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="k">if</span><span class="w"> </span>ls<span class="w"> </span>*.bib<span class="w"> </span><span class="p">&amp;</span>&gt;/dev/null<span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">  </span><span class="c1">#</span>
<span class="k">fi</span>
</code></pre></div>
<p>refer to <a href="https://stackoverflow.com/questions/3856747/check-whether-a-certain-file-type-extension-exists-in-directory">Check whether a certain file type/extension exists in directory</a></p>
<p>My application: <a href="https://github.com/szcf-weiya/TeXtemplates/blob/master/new.sh#L18-L20">TeXtemplates: create a tex template</a></p>
<h2 id="mkdir"><code>mkdir</code><a class="headerlink" href="#mkdir" title="Permanent link">&para;</a></h2>
<ul>
<li><code>mkdir -p</code>: <a href="https://stackoverflow.com/questions/793858/how-to-mkdir-only-if-a-dir-does-not-already-exist">mkdir only if a dir does not already exist?</a></li>
</ul>
<h2 id="notify-send"><code>notify-send</code><a class="headerlink" href="#notify-send" title="Permanent link">&para;</a></h2>
<ul>
<li>use <code>critical</code> level: by default the message in the notification list cannot show full message when hovering it, it can display the message when it pops up. So an alternative is to extend the time of showing up. However, the manual <code>help notify-send</code> tells that Ubuntu&rsquo;s Notify OSD and GNOME Shell both ignore the expire time parameter <code>-t</code>. Hopefully, we can set <code>-u critical</code> to make the urgency level high, and it turns out that the pops up window would not disappear only when you click it.</li>
<li>show whole message: leave summary empty and only show body, but still only when mouse is hovering the pop window, see also <a href="https://unix.stackexchange.com/questions/300099/notify-send-how-to-display-full-message-when-message-is-longer-than-one-line"><img alt="🔗" class="twemoji" src="https://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/1f517.svg" title=":link:" /></a></li>
<li>escape <code>-</code> in the string, otherwise it throws <code>Unknown option</code></li>
<li>specify icon <code>-i your_icon_path</code>, note that the path should be full path instead of relative path. </li>
</ul>
<div class="admonition note">
<p class="admonition-title">Applications</p>
<ul>
<li><a href="../../English/random.sh">random pop up English words</a></li>
<li><a href="../check_video.sh">monitor status of watching videos</a></li>
</ul>
</div>
<h2 id="paste"><code>paste</code><a class="headerlink" href="#paste" title="Permanent link">&para;</a></h2>
<p>按列拼接文本文件</p>
<div class="highlight"><pre><span></span><code><span class="c1">### 按列</span>
paste<span class="w"> </span>file1<span class="w"> </span>file2<span class="w"> </span>&gt;<span class="w"> </span>outputfile
<span class="c1">### 按行</span>
cat<span class="w"> </span>file1<span class="w"> </span>file2<span class="w"> </span>&gt;<span class="w"> </span>outputfile
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">See also</p>
<p><code>cat</code></p>
</div>
<p>convert a column to a row with delimiter <code>,</code></p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span><span class="k">for</span><span class="w"> </span>i<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="o">{</span><span class="m">1</span>..10<span class="o">}</span><span class="p">;</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="nv">$i</span><span class="p">;</span><span class="w"> </span><span class="k">done</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>paste<span class="w"> </span>-s<span class="w"> </span>-d<span class="s1">&#39;,&#39;</span>
<span class="m">1</span>,2,3,4,5,6,7,8,9,10
</code></pre></div>
<p>where <code>-s</code> aims to paste one file at a time instead of in parallel, which results in one line. Refer to <a href="https://stackoverflow.com/questions/10303600/how-to-concatenate-lines-into-one-string">how to concatenate lines into one string</a></p>
<div class="admonition example">
<p class="admonition-title">Example</p>
<p><a href="https://stackoverflow.com/questions/20163225/paste-files-from-list-of-paths-into-single-output-file">Paste files from list of paths into single output file</a></p>
<div class="highlight"><pre><span></span><code>paste<span class="w"> </span><span class="sb">`</span>cat<span class="w"> </span>filelist.txt<span class="sb">`</span><span class="w"> </span>&gt;<span class="w"> </span>output.txt
</code></pre></div>
<p>and</p>
<div class="highlight"><pre><span></span><code>touch<span class="w"> </span>buffer.txt
cat<span class="w"> </span>filelist.txt<span class="w"> </span><span class="p">|</span><span class="w"> </span>xargs<span class="w"> </span>-iXX<span class="w"> </span>bash<span class="w"> </span>-c<span class="w"> </span><span class="s1">&#39;paste buffer.txt XX &gt; output.txt; mv output.txt buffer.txt&#39;</span><span class="p">;</span><span class="w"> </span>
mv<span class="w"> </span>buffer.txt<span class="w"> </span>output.txt
</code></pre></div>
</div>
<h2 id="pdftk"><code>pdftk</code><a class="headerlink" href="#pdftk" title="Permanent link">&para;</a></h2>
<ul>
<li>split pdf pages: <code>pdftk all.pdf cat 1 output first.pdf</code>, see also <a href="../../TeX/arxiv/">arXiv</a>. Alternatively, one can use <code>print to file</code> function provided by pdf viewer, such as <code>evince</code>, particularly when <code>pdftk</code> failed like in <a href="https://github.com/szcf-weiya/techNotes/issues/45">Issue 45</a>.</li>
<li>modify pdf metadata via <code>pdftk</code></li>
</ul>
<div class="highlight"><pre><span></span><code>pdftk<span class="w"> </span>input.pdf<span class="w"> </span>dump_data<span class="w"> </span>output<span class="w"> </span>metadata
<span class="c1"># edit metadata</span>
pdftk<span class="w"> </span>input.pdf<span class="w"> </span>update_info<span class="w"> </span>metadata<span class="w"> </span>output<span class="w"> </span>output.pdf
</code></pre></div>
<h2 id="ps"><code>ps</code><a class="headerlink" href="#ps" title="Permanent link">&para;</a></h2>
<ul>
<li>brackets around processes: when the arguments to the command cannot be located. <a href="https://unix.stackexchange.com/questions/22121/what-do-the-brackets-around-processes-mean"><img alt="🔗" class="twemoji" src="https://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/1f517.svg" title=":link:" /></a></li>
</ul>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>ps<span class="w"> </span>-aef<span class="w"> </span>
weiya<span class="w">     </span><span class="m">793892</span><span class="w">    </span><span class="m">7821</span><span class="w">  </span><span class="m">0</span><span class="w"> </span><span class="m">19</span>:33<span class="w"> </span>pts/10<span class="w">   </span><span class="m">00</span>:00:00<span class="w"> </span>/bin/bash
root<span class="w">      </span><span class="m">794217</span><span class="w">       </span><span class="m">2</span><span class="w">  </span><span class="m">0</span><span class="w"> </span><span class="m">19</span>:35<span class="w"> </span>?<span class="w">        </span><span class="m">00</span>:00:00<span class="w"> </span><span class="o">[</span>kworker/3:0<span class="o">]</span>
root<span class="w">      </span><span class="m">794336</span><span class="w">       </span><span class="m">2</span><span class="w">  </span><span class="m">0</span><span class="w"> </span><span class="m">19</span>:35<span class="w"> </span>?<span class="w">        </span><span class="m">00</span>:00:00<span class="w"> </span><span class="o">[</span>kworker/u8:3<span class="o">]</span>
</code></pre></div>
<ul>
<li>show long character usernames which consists of <code>+</code>. <a href="https://askubuntu.com/questions/523673/ps-aux-for-long-charactered-usernames-shows-a-plus-sign"><img alt="🔗" class="twemoji" src="https://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/1f517.svg" title=":link:" /></a></li>
</ul>
<div class="highlight"><pre><span></span><code>ps<span class="w"> </span>axo<span class="w"> </span>user:20,pid,pcpu,pmem,vsz,rss,tty,stat,start,time,comm
<span class="nb">alias</span><span class="w"> </span><span class="nv">psaux</span><span class="o">=</span><span class="s1">&#39;ps axo user:20,pid,pcpu,pmem,vsz,rss,tty,stat,start,time,comm&#39;</span>
</code></pre></div>
<h2 id="ps2pdf-pdf2ps"><code>ps2pdf, pdf2ps</code><a class="headerlink" href="#ps2pdf-pdf2ps" title="Permanent link">&para;</a></h2>
<h4 id="reduce-pdf-file-size">reduce pdf file size<a class="headerlink" href="#reduce-pdf-file-size" title="Permanent link">&para;</a></h4>
<p>It can be used to reduce the pdf size. </p>
<p>Generally, there are two major reasons why PDF file size can be unexpectedly large (refer to <a href="https://www.evermap.com/PDFFileSize.asp">Understanding PDF File Size</a>).</p>
<ul>
<li>one or more fonts are stored inside PDF document.</li>
<li>using images for creating PDF file.</li>
</ul>
<p>I just got a large non-scanned pdf with size 136M, and it probably is due to many embedded fonts which can be checked in the properties.</p>
<p>Then I tried the command <code>ps2pdf</code> mentioned in <a href="https://www.journaldev.com/34668/reduce-pdf-file-size-in-linux">Reduce PDF File Size in Linux</a>, the file size is significantly reduced, only 5.5M!</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>ps2pdf<span class="w"> </span>-dPDFSETTINGS<span class="o">=</span>/ebook<span class="w"> </span>Puntanen2011_Book_MatrixTricksForLinearStatistic.pdf<span class="w"> </span>Puntanen2011_Book_MatrixTricksForLinearStatistic_reduced.pdf
$<span class="w"> </span>pdfinfo<span class="w"> </span>Puntanen2011_Book_MatrixTricksForLinearStatistic.pdf<span class="w"> </span>
Creator:<span class="w">        </span>
Producer:<span class="w">       </span>Acrobat<span class="w"> </span>Distiller<span class="w"> </span><span class="m">8</span>.0.0<span class="o">(</span>Windows<span class="o">)</span>
CreationDate:<span class="w">   </span>Tue<span class="w"> </span>Jul<span class="w"> </span><span class="m">26</span><span class="w"> </span><span class="m">20</span>:43:43<span class="w"> </span><span class="m">2011</span><span class="w"> </span>CST
ModDate:<span class="w">        </span>Fri<span class="w"> </span>Aug<span class="w"> </span><span class="m">19</span><span class="w"> </span><span class="m">19</span>:57:50<span class="w"> </span><span class="m">2011</span><span class="w"> </span>CST
Tagged:<span class="w">         </span>no
UserProperties:<span class="w"> </span>no
Suspects:<span class="w">       </span>no
Form:<span class="w">           </span>AcroForm
JavaScript:<span class="w">     </span>no
Pages:<span class="w">          </span><span class="m">504</span>
Encrypted:<span class="w">      </span>no
Page<span class="w"> </span>size:<span class="w">      </span><span class="m">439</span>.37<span class="w"> </span>x<span class="w"> </span><span class="m">666</span>.142<span class="w"> </span>pts
Page<span class="w"> </span>rot:<span class="w">       </span><span class="m">0</span>
File<span class="w"> </span>size:<span class="w">      </span><span class="m">142394146</span><span class="w"> </span>bytes
Optimized:<span class="w">      </span>no
PDF<span class="w"> </span>version:<span class="w">    </span><span class="m">1</span>.3
$<span class="w"> </span>pdfinfo<span class="w"> </span>Puntanen2011_Book_MatrixTricksForLinearStatistic_reduced.pdf<span class="w"> </span>
Creator:<span class="w">        </span>
Producer:<span class="w">       </span>GPL<span class="w"> </span>Ghostscript<span class="w"> </span><span class="m">9</span>.26
CreationDate:<span class="w">   </span>Tue<span class="w"> </span>Apr<span class="w"> </span><span class="m">13</span><span class="w"> </span><span class="m">18</span>:04:57<span class="w"> </span><span class="m">2021</span><span class="w"> </span>CST
ModDate:<span class="w">        </span>Tue<span class="w"> </span>Apr<span class="w"> </span><span class="m">13</span><span class="w"> </span><span class="m">18</span>:04:57<span class="w"> </span><span class="m">2021</span><span class="w"> </span>CST
Tagged:<span class="w">         </span>no
UserProperties:<span class="w"> </span>no
Suspects:<span class="w">       </span>no
Form:<span class="w">           </span>none
JavaScript:<span class="w">     </span>no
Pages:<span class="w">          </span><span class="m">504</span>
Encrypted:<span class="w">      </span>no
Page<span class="w"> </span>size:<span class="w">      </span><span class="m">439</span>.37<span class="w"> </span>x<span class="w"> </span><span class="m">666</span>.14<span class="w"> </span>pts
Page<span class="w"> </span>rot:<span class="w">       </span><span class="m">0</span>
File<span class="w"> </span>size:<span class="w">      </span><span class="m">5766050</span><span class="w"> </span>bytes
Optimized:<span class="w">      </span>no
PDF<span class="w"> </span>version:<span class="w">    </span><span class="m">1</span>.4
</code></pre></div>
<p>We can compare the fonts before/after reducing,</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>pdffonts<span class="w"> </span>Puntanen2011_Book_MatrixTricksForLinearStatistic_reduced.pdf<span class="w"> </span><span class="p">|</span><span class="w"> </span>wc<span class="w"> </span>-l
<span class="m">57</span>
$<span class="w"> </span>pdffonts<span class="w"> </span>Puntanen2011_Book_MatrixTricksForLinearStatistic.pdf<span class="w"> </span><span class="p">|</span><span class="w"> </span>wc<span class="w"> </span>-l
<span class="m">125</span>
</code></pre></div>
<p>and it seems not directly to remove fonts. Instead, most font names have been modified. Besides, these are duplicated font names (column one), such as </p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>pdffonts<span class="w"> </span>Puntanen2011_Book_MatrixTricksForLinearStatistic.pdf<span class="w"> </span><span class="p">|</span><span class="w"> </span>sed<span class="w"> </span><span class="m">1</span>,2d<span class="w"> </span>-<span class="w"> </span><span class="p">|</span><span class="w"> </span>awk<span class="w"> </span><span class="s1">&#39;{print $1}&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>sort<span class="w"> </span><span class="p">|</span><span class="w"> </span>uniq<span class="w"> </span>-c
<span class="w">      </span><span class="m">1</span><span class="w"> </span>AMJQSV+LMSans8-Regular
<span class="w">        </span>...
<span class="w">     </span><span class="m">13</span><span class="w"> </span>OELTPO+LMMathItalic10-Regular
<span class="w">        </span>...
<span class="w">      </span><span class="m">1</span><span class="w"> </span>Times
<span class="w">      </span><span class="m">2</span><span class="w"> </span>TimesNewRoman
<span class="w">      </span><span class="m">1</span><span class="w"> </span>TimesNewRoman,Italic
<span class="w">      </span><span class="m">3</span><span class="w"> </span>Times-Roman
<span class="w">        </span>...
<span class="w">     </span><span class="m">15</span><span class="w"> </span>YCQSHP+LMRoman10-Bold
<span class="w">      </span><span class="m">4</span><span class="w"> </span>YWGCMO+LMMathSymbols7-Regular
<span class="w">     </span><span class="m">16</span><span class="w"> </span>ZMWYHT+LMRoman10-Regular
</code></pre></div>
<p>Count the number of unique names,</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>pdffonts<span class="w"> </span>Puntanen2011_Book_MatrixTricksForLinearStatistic.pdf<span class="w"> </span><span class="p">|</span><span class="w"> </span>sed<span class="w"> </span><span class="m">1</span>,2d<span class="w"> </span>-<span class="w"> </span><span class="p">|</span><span class="w"> </span>awk<span class="w"> </span><span class="s1">&#39;{print $1}&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>sort<span class="w"> </span><span class="p">|</span><span class="w"> </span>uniq<span class="w"> </span>-c<span class="w"> </span><span class="p">|</span><span class="w"> </span>wc<span class="w"> </span>-l
<span class="m">50</span>
$<span class="w"> </span>pdffonts<span class="w"> </span>Puntanen2011_Book_MatrixTricksForLinearStatistic_reduced.pdf<span class="w"> </span><span class="p">|</span><span class="w"> </span>sed<span class="w"> </span><span class="m">1</span>,2d<span class="w"> </span>-<span class="w"> </span><span class="p">|</span><span class="w"> </span>awk<span class="w"> </span><span class="s1">&#39;{print $1}&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>sort<span class="w"> </span><span class="p">|</span><span class="w"> </span>uniq<span class="w"> </span>-c<span class="w"> </span><span class="p">|</span><span class="w"> </span>wc<span class="w"> </span>-l
<span class="m">55</span>
</code></pre></div>
<p>it shows that the reduced pdf does not have duplicated font names, (here the first two lines are removed, 57 = 55 + 2).</p>
<div class="admonition tip">
<p class="admonition-title">pdffonts</p>
<p>Another application of <code>pdffonts</code> is to check if the font has been embedded. If not, it might cause some display issue, such as the non-embedded <code>Symbol</code> in <a href="https://stackoverflow.com/questions/10277418/the-pdf-viewer-evince-on-linux-can-not-display-some-math-symbols-correctly">The PDF viewer &lsquo;Evince&rsquo; on Linux can not display some math symbols correctly</a>. In contrast, Adobe Reader already ships with application-embedded instances of some fonts, such as <code>Symbol</code>, so it can render the pdf properly.
A remedy is to use <code>gs</code>, see more details in the above reference.</p>
</div>
<h4 id="flatten-pdf-file">flatten pdf file<a class="headerlink" href="#flatten-pdf-file" title="Permanent link">&para;</a></h4>
<p>Flattening a PDF means to merge separated contents of the document into one so that,</p>
<ul>
<li>Interactive elements in PDF forms such as checkboxes, tex boxes, radio buttons, drop-down lists are no longer fillable</li>
<li>Annotations become &ldquo;native text&rdquo;</li>
<li>Multiple layers of text, images, page numbers, and header styles turn into one single layer.</li>
</ul>
<p>An easy way is</p>
<div class="highlight"><pre><span></span><code>pdf2ps<span class="w"> </span>orig.pdf<span class="w"> </span>-<span class="w"> </span><span class="p">|</span><span class="w"> </span>ps2pdf<span class="w"> </span>-<span class="w"> </span>flattened.pdf
</code></pre></div>
<p>some alternatives can be found in <a href="https://unix.stackexchange.com/questions/162922/is-there-a-way-to-flatten-a-pdf-image-from-the-command-line">is-there-a-way-to-flatten-a-pdf-image-from-the-command-line</a>.</p>
<h2 id="rename"><code>rename</code><a class="headerlink" href="#rename" title="Permanent link">&para;</a></h2>
<p>Ubuntu 18.04 和 CentOS 7 中的 <code>rename</code> 不一样，</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Ubuntu 18.04</span>
$<span class="w"> </span>rename<span class="w"> </span>-V
/usr/bin/rename<span class="w"> </span>using<span class="w"> </span>File::Rename<span class="w"> </span>version<span class="w"> </span><span class="m">0</span>.20
<span class="c1"># CentOS 7</span>
$<span class="w"> </span>rename<span class="w"> </span>-V
rename<span class="w"> </span>from<span class="w"> </span>util-linux<span class="w"> </span><span class="m">2</span>.23.2
</code></pre></div>
<p>用法也有差异，前者采用类似 <code>sed</code> 格式语句进行替换</p>
<div class="highlight"><pre><span></span><code>rename<span class="w"> </span>-n<span class="w"> </span><span class="s1">&#39;s/Sam3/Stm32/&#39;</span><span class="w"> </span>*.nc<span class="w">　　</span>/*确认需要重命名的文件*/
rename<span class="w"> </span>-v<span class="w"> </span><span class="s1">&#39;s/Sam3/Stm32/&#39;</span><span class="w"> </span>*.nc<span class="w">　　</span>/*执行修改，并列出已重命名的文件*/
</code></pre></div>
<p>而后者需要将替换的字符串当作参数传入，并且只替换第一次出现的字符串，即</p>
<div class="highlight"><pre><span></span><code>rename<span class="w"> </span>Sam3<span class="w"> </span>Stm32<span class="w"> </span>*.nc
</code></pre></div>
<p>参考</p>
<ul>
<li><a href="http://www.linuxidc.com/Linux/2016-11/137041.htm">Ubuntu中rename命令和批量重命名</a></li>
<li><a href="https://stackoverflow.com/questions/10803296/modifying-replace-string-in-xargs">Modifying replace string in xargs</a></li>
</ul>
<h2 id="sar"><code>sar</code><a class="headerlink" href="#sar" title="Permanent link">&para;</a></h2>
<p>a tool for checking io wait, refer to <a href="https://unix.stackexchange.com/questions/55212/how-can-i-monitor-disk-io">https://unix.stackexchange.com/questions/55212/how-can-i-monitor-disk-io</a></p>
<div class="highlight"><pre><span></span><code>sar
<span class="c1"># read more history</span>
sar<span class="w"> </span>-f<span class="w"> </span>/var/log/sa/sa04
</code></pre></div>
<h2 id="sed"><code>sed</code><a class="headerlink" href="#sed" title="Permanent link">&para;</a></h2>
<ul>
<li>打印特定行，比如第 10 行：<code>sed '10!d' file.txt</code>, 参考 <a href="https://stackoverflow.com/questions/19327556/get-specific-line-from-text-file-using-just-shell-script">Get specific line from text file using just shell script</a></li>
<li>打印行范围，<code>sed -n '10,20p' file.txt</code>，则单独打印第 10 行也可以由 <code>sed -n '10p' file.txt</code> 给出，如果采用分号 <code>;</code> 则不是连续选择，而只是特定的行，参考 <a href="https://blog.csdn.net/raysen_zj/article/details/46761253">sed之打印特定行与连续行</a><ul>
<li>第一行到最后一行：<code>sed -n '1,$p'</code></li>
<li>第一行和最后一行：<code>sed -n '1p;$p'</code>, not <del><code>sed -n '1;$p'</code></del></li>
</ul>
</li>
<li>删除最后一行：<code>sed -i '$ d' file.txt</code></li>
<li>在 vi 中注释多行：按住 v 选定特定行之后，按住 <code>:s/^/#/g</code> 即可添加注释，取消注释则用 <code>:s/^#//g</code>. 另见 VI.</li>
<li>print lines between two matching patterns (<a href="https://unix.stackexchange.com/questions/264962/print-lines-of-a-file-between-two-matching-patterns"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17.36 20.2v-5.38h1.79V22H3v-7.18h1.8v5.38h12.56M6.77 14.32l.37-1.76 8.79 1.85-.37 1.76-8.79-1.85m1.16-4.21.76-1.61 8.14 3.78-.76 1.62-8.14-3.79m2.26-3.99 1.15-1.38 6.9 5.76-1.15 1.37-6.9-5.75m4.45-4.25L20 9.08l-1.44 1.07-5.36-7.21 1.44-1.07M6.59 18.41v-1.8h8.98v1.8H6.59Z"/></svg></span></a>): <code>/^pattern1/,/^pattern2/p</code>, and if one want to just print once, use <code>/^pattern1/,${p;/^pattern2/q}</code></li>
<li>insertion (refer to <a href="https://fabianlee.org/2018/10/28/linux-using-sed-to-insert-lines-before-or-after-a-match/"><img alt="🔗" class="twemoji" src="https://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/1f517.svg" title=":link:" /></a> and <a href="(https://www.thegeekstuff.com/2009/11/unix-sed-tutorial-append-insert-replace-and-count-file-lines/)"><img alt="🔗" class="twemoji" src="https://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/1f517.svg" title=":link:" /></a>)<ul>
<li>insert before the line of matched expression: <code>sed '/expr/i something-to-insert'</code></li>
<li>insert after the line: replace <code>i</code> with <code>a</code></li>
<li>insert multiple lines: add <code>\n</code> in the text to insert, or add <code>\</code> at each end of line, see also <a href="https://askubuntu.com/questions/702677/how-to-insert-multiple-lines-with-sed"><img alt="🔗" class="twemoji" src="https://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/1f517.svg" title=":link:" /></a></li>
<li>insert at the beginning without new line: <a href="https://stackoverflow.com/questions/9533679/how-to-insert-a-text-at-the-beginning-of-a-file"><img alt="🔗" class="twemoji" src="https://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/1f517.svg" title=":link:" /></a>, <code>sed -i '1s/^/&lt;added text&gt; /' file</code></li>
<li><code>r</code>: read a file and append it at the current point, <code>sed '/EOF/r $thingToAdd' $fileToAddItTo</code>, see also <a href="https://stackoverflow.com/questions/7085979/r-in-sed-shell-script"><img alt="🔗" class="twemoji" src="https://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/1f517.svg" title=":link:" /></a></li>
</ul>
</li>
<li>竖线 <code>|</code> 元字符是元字符扩展集的一部分，用于指定正则表达式的联合。如果某行匹配其中的一个正则表达式，那么它就匹配该模式。 <a href="https://github.com/szcf-weiya/SZmedinfo/blob/af354f207d18ea270408562ac409b636eb17b5af/src/patterns_cut.sed#L4"><img alt="🔗" class="twemoji" src="https://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/1f517.svg" title=":link:" /></a></li>
<li>directly replace hex string, such as <a href="https://github.com/szcf-weiya/SZmedinfo/blob/af354f207d18ea270408562ac409b636eb17b5af/src/patterns_cut.sed#L6"><code>'s/\xee\x81\xab/合/g'</code></a>, see also <a href="https://stackoverflow.com/questions/7760717/hex-string-replacement-using-sed"><img alt="🔗" class="twemoji" src="https://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/1f517.svg" title=":link:" /></a></li>
<li>replace multi-line string: <a href="https://unix.stackexchange.com/questions/26284/how-can-i-use-sed-to-replace-a-multi-line-string"><img alt="🔗" class="twemoji" src="https://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/1f517.svg" title=":link:" /></a><ul>
<li>alternatively, use <code>perl</code>, e.g., scripts to switch versions of manuscript <a href="https://github.com/szcf-weiya/Cell-Video/blob/2b4a65d3ce0fd866c5fa75a10c04d630206bc18c/release.sh"><img alt="🔗" class="twemoji" src="https://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/1f517.svg" title=":link:" /></a>
<div class="highlight"><pre><span></span><code>perl<span class="w"> </span>-0777<span class="w"> </span>-i<span class="w"> </span>-pe<span class="w"> </span><span class="s2">&quot;s/###BEGIN-EXCLUDE(.*?)###END-EXCLUDE//igs&quot;</span><span class="w"> </span>_release/src/data.jl
</code></pre></div></li>
</ul>
</li>
<li>swap two texts, use <code>\x0</code> as a temp storage. refer to <a href="https://stackoverflow.com/questions/26568952/how-to-swap-text-based-on-patterns-at-once-with-sed"><img alt="🔗" class="twemoji" src="https://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/1f517.svg" title=":link:" /></a></li>
</ul>
<div class="highlight"><pre><span></span><code>~$<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;abbc&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>sed<span class="w"> </span><span class="s1">&#39;s/ab/\x0/g; s/bc/ab/g; s/\x0/bc/g&#39;</span>
bcab
</code></pre></div>
<p>Refer to</p>
<ol>
<li><a href="http://man.linuxde.net/sed">Linux sed 命令用法详解：功能强大的流式文本编辑器</a></li>
<li><a href="https://www.cnblogs.com/nhlinkin/p/3647357.html">sed &amp; awk常用正则表达式 - 菲一打 - 博客园</a></li>
</ol>
<h4 id="-r"><code>-r</code>: 扩展的正则表达式<a class="headerlink" href="#-r" title="Permanent link">&para;</a></h4>
<p>参考<a href="https://www.gnu.org/software/sed/manual/html_node/Extended-regexps.html">Extended regexps - sed, a stream editor</a></p>
<p>摘录如下</p>
<blockquote>
<p>The only difference between basic and extended regular expressions is in the behavior of a few characters: ‘?’, ‘+’, parentheses, and braces (‘{}’). While basic regular expressions require these to be escaped if you want them to behave as special characters, when using extended regular expressions you must escape them if you want them to match a literal character.</p>
</blockquote>
<p><strong>就是说 basic 模式下，要使用特殊字符（如正则表达式中）需要转义，但 extended 模式相反，转义后表达的是原字符。</strong></p>
<p>举个例子</p>
<ol>
<li><code>abc?</code> becomes <code>abc\?</code> when using extended regular expressions. It matches the literal string ‘abc?’.</li>
<li><code>c\+</code> becomes <code>c+</code> when using extended regular expressions. It matches one or more ‘c’s.</li>
<li><code>a\{3,\}</code> becomes <code>a{3,}</code> when using extended regular expressions. It matches three or more ‘a’s.</li>
<li><code>\(abc\)\{2,3\}</code> becomes <code>(abc){2,3}</code> when using extended regular expressions. It matches either <code>abcabc</code> or <code>abcabcabc</code>.</li>
<li><code>\(abc*\)\1</code> becomes <code>(abc*)\1</code> when using extended regular expressions. Backreferences must still be escaped when using extended regular expressions.</li>
</ol>
<h4 id="single-or-double-quotes">single or double quotes<a class="headerlink" href="#single-or-double-quotes" title="Permanent link">&para;</a></h4>
<p>When using double quotes, the string is first interpreted  by the shell before being passed to <code>sed</code>. As a result,</p>
<ul>
<li>more backslashes are needed (see also <a href="https://askubuntu.com/a/1368043">my answer</a>)</li>
</ul>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;\alpha&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>sed<span class="w"> </span><span class="s1">&#39;s/\\alpha/\\beta/&#39;</span>
<span class="se">\b</span>eta
$<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;\alpha&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>sed<span class="w"> </span><span class="s2">&quot;s/\\\alpha/\\\beta/&quot;</span>
<span class="se">\b</span>eta
</code></pre></div>
<ul>
<li>command expressions (also dollar expressions) would be evaluated firstly</li>
</ul>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s1">&#39;`date`&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>sed<span class="w"> </span><span class="s1">&#39;s/`date`/`uptime`/&#39;</span>
<span class="sb">`</span>uptime<span class="sb">`</span>
$<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s1">&#39;`date`&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>sed<span class="w"> </span><span class="s2">&quot;s/`date`/`uptime`/&quot;</span>
<span class="sb">`</span>date<span class="sb">`</span>
</code></pre></div>
<p>refer to <a href="https://askubuntu.com/questions/1146789/single-quote-and-double-quotes-in-sed/">single quote and double quotes in sed - Ask Ubuntu</a></p>
<h2 id="sendmail"><code>sendmail</code><a class="headerlink" href="#sendmail" title="Permanent link">&para;</a></h2>
<p>send mail on the command line. On the stapc-WSL, install it via</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>sendmail
</code></pre></div>
<p>monitor the updates of <code>/var/log/apache2/error.log</code>. If the modified time is recent, then send email to alert.</p>
<div class="highlight"><pre><span></span><code><span class="k">while</span><span class="w"> </span>true<span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="nv">last_date</span><span class="o">=</span><span class="k">$(</span>date<span class="w"> </span>-r<span class="w"> </span>/var/log/apache2/error.log<span class="w"> </span>+%s<span class="k">)</span>
<span class="c1">#   curr_date=$(date -d &quot;-1 mins&quot; +%s)</span>
<span class="w">    </span>sleep<span class="w"> </span>1m
<span class="w">    </span><span class="nv">curr_date</span><span class="o">=</span><span class="k">$(</span>date<span class="w"> </span>+%s<span class="k">)</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$last_date</span><span class="w"> </span>&gt;<span class="w"> </span><span class="nv">$curr_date</span><span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">        </span><span class="o">(</span>
<span class="w">            </span>cat<span class="w"> </span><span class="s">&lt;&lt;-EOT</span>
<span class="s">            TO: ${TO}</span>
<span class="s">            From: ${FROM}</span>
<span class="s">            Subject: ${SUBJ}</span>

<span class="s">            There is some updates on the /var/log/apache2/error.log</span>

<span class="s">            EOT</span>
<span class="w">        </span><span class="o">)</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>sendmail<span class="w"> </span>-v<span class="w"> </span><span class="si">${</span><span class="nv">TO</span><span class="si">}</span>
<span class="w">    </span><span class="k">fi</span>
<span class="k">done</span>
</code></pre></div>
<p>其中 <code>date -r file</code> 返回文件的上次修改时间，而 <code>+%s</code> 将时间转换为 seconds，方便进行比较，另外 <code>-d "-1 mins"</code> 能对时间进行加减处理。 </p>
<h2 id="sort"><code>sort</code><a class="headerlink" href="#sort" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="https://unix.stackexchange.com/questions/104525/sort-based-on-the-third-column">sort according to the third column</a>: <code>sort -k 3,3 file.txt</code></li>
<li><a href="https://stackoverflow.com/questions/14562423/is-there-a-way-to-ignore-header-lines-in-a-unix-sort">sort with header</a>
: <code>cat your_data | (sed -u 1q; sort)</code></li>
</ul>
<h2 id="tail"><code>tail</code><a class="headerlink" href="#tail" title="Permanent link">&para;</a></h2>
<ul>
<li><code>-f</code>: output appended data as the file grows, powerful for checking the log file in real time.</li>
</ul>
<h2 id="tesseract"><code>tesseract</code><a class="headerlink" href="#tesseract" title="Permanent link">&para;</a></h2>
<p>OCR text extraction: <a href="https://github.com/tesseract-ocr/tesseract">Tesseract OCR</a></p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>tesseract<span class="w"> </span>tmp.png<span class="w"> </span>stdout<span class="w"> </span>-l<span class="w"> </span>eng+chi_sim<span class="w"> </span>quiet
</code></pre></div>
<p>where</p>
<ul>
<li><code>quiet</code> redirects the warning message</li>
<li><code>stdout</code> directly outputs the results instead of writing into another text file</li>
</ul>
<p>more details refer to <code>man tesseract</code>.</p>
<h2 id="tmux"><code>tmux</code><a class="headerlink" href="#tmux" title="Permanent link">&para;</a></h2>
<p>可以实现本地终端分屏。</p>
<p>参考 <a href="http://blog.csdn.net/u010454729/article/details/49496381">linux 工具——终端分屏与vim分屏</a></p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>现在改用 <code>Terminator</code>, 又称 <code>X-terminal-emulator</code>。</p>
</div>
<p>还可以切换后台运行，在服务器上操作特别方便。</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>此前还用过类似的软件，<code>screen</code>，</p>
<div class="highlight"><pre><span></span><code>screen<span class="w"> </span>-list<span class="w"> </span><span class="c1">#或screen -r</span>
screen<span class="w"> </span>-r<span class="w"> </span><span class="o">[</span>pid<span class="o">]</span><span class="w"> </span><span class="c1"># 进入</span>
<span class="c1">### ctrl+A, 然后输入&quot;:quit&quot;</span>
</code></pre></div>
<p>更多用法详见 <a href="https://www.cnblogs.com/mchina/archive/2013/01/30/2880680.html">linux screen 命令详解</a>，以及 <a href="https://stackoverflow.com/questions/1509677/kill-detached-screen-session">Kill detached screen session - Stack Overflow</a></p>
</div>
<p>常用操作</p>
<div class="highlight"><pre><span></span><code><span class="c1"># new a shell</span>
tmux
<span class="c1"># new a shell with name</span>
tmux<span class="w"> </span>new<span class="w"> </span>-s<span class="w"> </span>NAME
<span class="c1"># view all shell</span>
tmux<span class="w"> </span>ls
<span class="c1"># go back</span>
tmux<span class="w"> </span>attach-session<span class="w"> </span>-t<span class="w"> </span><span class="o">[</span>NUM<span class="o">]</span>
<span class="c1"># simplify</span>
tmux<span class="w"> </span>attach<span class="w"> </span>-t<span class="w"> </span><span class="o">[</span>NUM<span class="o">]</span>
<span class="c1"># more simplify</span>
tmux<span class="w"> </span>a<span class="w"> </span>-t<span class="w"> </span><span class="o">[</span>NUM<span class="o">]</span>
<span class="c1"># via name</span>
tmux<span class="w"> </span>a<span class="w"> </span>-t<span class="w"> </span>NAME
<span class="c1"># complete reset: https://stackoverflow.com/questions/38295615/complete-tmux-reset</span>
tmux<span class="w"> </span>kill-server
<span class="c1"># rename: https://superuser.com/questions/428016/how-do-i-rename-a-session-in-tmux</span>
Ctrl<span class="w"> </span>+<span class="w"> </span>B,<span class="w"> </span>$
<span class="c1"># kill the current session</span>
Ctrl<span class="w"> </span>+<span class="w"> </span>B,<span class="w"> </span>x
</code></pre></div>
<p>refer to</p>
<ul>
<li><a href="https://askubuntu.com/questions/824496/how-do-i-access-tmux-session-after-i-leave-it">How do I access tmux session after I leave it?</a></li>
<li><a href="https://linuxize.com/post/getting-started-with-tmux/">Getting started with Tmux</a></li>
<li><a href="https://gist.github.com/henrik/1967800">tmux cheatsheet</a></li>
<li>see also: <a href="https://www.rushiagr.com/blog/2016/06/16/everything-you-need-to-know-about-tmux-copy-pasting-ubuntu/">Tmux copy paste</a></li>
</ul>
<h2 id="type"><code>type</code><a class="headerlink" href="#type" title="Permanent link">&para;</a></h2>
<h4 id="which-vs-type"><code>which</code> vs <code>type</code><a class="headerlink" href="#which-vs-type" title="Permanent link">&para;</a></h4>
<p>在 CentOS7 服务器上，</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>which<span class="w"> </span>-v
GNU<span class="w"> </span>which<span class="w"> </span>v2.20,<span class="w"> </span>Copyright<span class="w"> </span><span class="o">(</span>C<span class="o">)</span><span class="w"> </span><span class="m">1999</span><span class="w"> </span>-<span class="w"> </span><span class="m">2008</span><span class="w"> </span>Carlo<span class="w"> </span>Wood.
GNU<span class="w"> </span>which<span class="w"> </span>comes<span class="w"> </span>with<span class="w"> </span>ABSOLUTELY<span class="w"> </span>NO<span class="w"> </span>WARRANTY<span class="p">;</span>
This<span class="w"> </span>program<span class="w"> </span>is<span class="w"> </span>free<span class="w"> </span>software<span class="p">;</span><span class="w"> </span>your<span class="w"> </span>freedom<span class="w"> </span>to<span class="w"> </span>use,<span class="w"> </span>change
and<span class="w"> </span>distribute<span class="w"> </span>this<span class="w"> </span>program<span class="w"> </span>is<span class="w"> </span>protected<span class="w"> </span>by<span class="w"> </span>the<span class="w"> </span>GPL.
</code></pre></div>
<p><code>which</code> 可以返回 alias 中的命令，而且更具体地，<code>man which</code> 显示可以通过选项 <code>--read-alias</code> 和 <code>--skip-alias</code> 来控制要不要包括 alias. </p>
<p>而在本地 Ubuntu 18.04 机器上，不支持 <code>-v</code> 或 <code>--version</code> 来查看版本，而且 <code>man which</code> 也很简单，从中可以看出其大致版本信息，<code>29 Jun 2016</code>。</p>
<p>那怎么显示 alias 呢，<a href="https://askubuntu.com/questions/102093/how-to-see-the-command-attached-to-a-bash-alias"><code>type</code> 可以解决这个问题</a>，注意查看其帮助文档需要用 <code>help</code> 而非 <code>man</code>。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span><span class="nb">type</span><span class="w"> </span>scp_to_chpc<span class="w"> </span>
scp_to_chpc<span class="w"> </span>is<span class="w"> </span>a<span class="w"> </span><span class="k">function</span>
scp_to_chpc<span class="w"> </span><span class="o">()</span><span class="w"> </span>
<span class="o">{</span><span class="w"> </span>
<span class="w">    </span>scp<span class="w"> </span>-r<span class="w"> </span><span class="nv">$1</span><span class="w"> </span>user@host:~/<span class="nv">$2</span>
<span class="o">}</span>
</code></pre></div>
<h2 id="uchardet"><code>uchardet</code><a class="headerlink" href="#uchardet" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>uchardet<span class="w"> </span>FILENAME
</code></pre></div>
<p>detect the file encoding</p>
<h2 id="unar"><code>unar</code><a class="headerlink" href="#unar" title="Permanent link">&para;</a></h2>
<p>如果 zip 文件解压乱码，可以试试 unar,</p>
<p>采用 <code>unar your.zip</code></p>
<p>参考 <a href="https://www.findhao.net/easycoding/1605">Linux文件乱码</a></p>
<p>虽然它会自动识别编码，但有时候处理中文压缩文件仍然出现乱码，比如解压 <a href="https://uploads.cosx.org/2011/03/SongPoem.tar.gz">https://uploads.cosx.org/2011/03/SongPoem.tar.gz</a> 这个文件，</p>
<p>这时通过 <code>-e</code> 指定编码</p>
<div class="highlight"><pre><span></span><code><span class="w"> </span>unar<span class="w"> </span>-e<span class="w"> </span>GB18030<span class="w"> </span>~/PDownloads/SongPoem.tar.gz<span class="w"> </span>
/home/weiya/PDownloads/SongPoem.tar.gz:<span class="w"> </span>Tar<span class="w"> </span><span class="k">in</span><span class="w"> </span>Gzip
<span class="w">  </span>SongPoem.csv<span class="w">  </span><span class="o">(</span><span class="m">4171055</span><span class="w"> </span>B<span class="o">)</span>...<span class="w"> </span>OK.
<span class="w">  </span>宋词.R<span class="w">  </span><span class="o">(</span><span class="m">583</span><span class="w"> </span>B<span class="o">)</span>...<span class="w"> </span>OK.
Successfully<span class="w"> </span>extracted<span class="w"> </span>to<span class="w"> </span><span class="s2">&quot;SongPoem&quot;</span>.
</code></pre></div>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>根据时间演化以及大小关系，常见中文编码方式</p>
<blockquote>
<p>GB18030 &gt; GBK &gt; GB2312</p>
</blockquote>
<p>详见 <a href="https://www.zhihu.com/question/19677619">GB2312、GBK、GB18030 这几种字符集的主要区别是什么？</a></p>
</div>
<p>但是！这只能保证压缩文件的文件名以指定的编码格式进行编码，文件内容仍然是乱码，于是仍需指定编码格式。为了一劳永逸，直接转换成 UTF8 格式，</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>iconv<span class="w"> </span>-f<span class="w"> </span>GB18030<span class="w"> </span>SongPoem.csv<span class="w"> </span>-t<span class="w"> </span>UTF8<span class="w"> </span>-o<span class="w"> </span>SongPoem.csv.utf8
$<span class="w"> </span>iconv<span class="w"> </span>-f<span class="w"> </span>GB18030<span class="w"> </span>宋词.R<span class="w"> </span>-t<span class="w"> </span>UTF8<span class="w"> </span>-o<span class="w"> </span>script.R
</code></pre></div>
<h2 id="uniq"><code>uniq</code><a class="headerlink" href="#uniq" title="Permanent link">&para;</a></h2>
<ul>
<li>count the frequency: <code>cat file.txt | sort | uniq -c</code>.<ul>
<li>note that <code>sort</code> is necessary, otherwise <code>uniq</code> only performs locally</li>
<li>examples: <a href="https://github.com/szcf-weiya/TB/issues/46#issuecomment-831761174">classificacaoFinal</a></li>
</ul>
</li>
</ul>
<h2 id="unzip"><code>unzip</code><a class="headerlink" href="#unzip" title="Permanent link">&para;</a></h2>
<h4 id="unzip-all-zip-file-in-a-directory">unzip all <code>.zip</code> file in a directory<a class="headerlink" href="#unzip-all-zip-file-in-a-directory" title="Permanent link">&para;</a></h4>
<p>tried <code>unzip *.zip</code> but does not work, it seems that I missed something although I have checked <code>man unzip</code> in which <code>*</code> is indeed allowed, then I found</p>
<div class="highlight"><pre><span></span><code>unzip<span class="w"> </span><span class="se">\*</span>.zip
</code></pre></div>
<p>in <a href="https://stackoverflow.com/questions/2374772/unzip-all-files-in-a-directory/29248777">Unzip All Files In A Directory</a></p>
<p>Otherwise, use quotes <code>"*.zip"</code>. More advancely, only zip files with character <code>3</code>,</p>
<div class="highlight"><pre><span></span><code>unzip<span class="w"> </span><span class="s2">&quot;*3*.zip&quot;</span>
</code></pre></div>
<h4 id="unzip-extract-here"><code>unzip</code> 和右键 <code>Extract Here</code> 的区别<a class="headerlink" href="#unzip-extract-here" title="Permanent link">&para;</a></h4>
<p>对于 A.zip，假设内部结构为 <code>dir/file</code>，则通过 <code>unzip A.zip</code> 会直接得到 <code>dir/file</code>，而右键解压会得到 <code>A/dir/file</code>.</p>
<h2 id="vi"><code>vi</code><a class="headerlink" href="#vi" title="Permanent link">&para;</a></h2>
<ul>
<li><code>u</code>: undo, <code>ctrl+u</code>: redo</li>
</ul>
<h4 id="_10">复制<a class="headerlink" href="#_10" title="Permanent link">&para;</a></h4>
<ul>
<li>单行复制: 在命令模式下，将光标移动到将要复制的行处，按“yy”进行复制；</li>
<li>多行复制: 在命令模式下，<ul>
<li><code>nyy</code> + <code>p</code></li>
<li><code>:6,9 co 12</code>:复制第6行到第9行之间的内容到第12行后面。</li>
<li>设置标签，光标移到起始行（结束行，粘贴行），输入 <code>ma</code> (<code>mb</code>, <code>mc</code>) <code>:'a, 'b co 'c</code>。</li>
</ul>
</li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>将 <code>co</code> 改成 <code>m</code> 就变成剪切了。</p>
</div>
<h4 id="_11">删除<a class="headerlink" href="#_11" title="Permanent link">&para;</a></h4>
<ul>
<li>删除光标后的字符 <code>d$</code></li>
<li><code>:.,$d</code>: 删除当前行到最后一行</li>
</ul>
<p>参考 <a href="https://linuxize.com/post/vim-delete-line/">How to Delete Lines in Vim / Vi</a></p>
<h4 id="bom">去除 BOM<a class="headerlink" href="#bom" title="Permanent link">&para;</a></h4>
<p><a href="https://zh.wikipedia.org/wiki/%E4%BD%8D%E5%85%83%E7%B5%84%E9%A0%86%E5%BA%8F%E8%A8%98%E8%99%9F">BOM (byte-order mark, 字节顺序标记)</a> 是位于码点 <code>U+FEFF</code> 的统一码字符的名称。</p>
<blockquote>
<p>在UTF-8中，虽然在 Unicode 标准上允许字节顺序标记的存在，但实际上并不一定需要。UTF-8编码过的字节顺序标记则被用来标示它是UTF-8的文件。它只用来标示一个UTF-8的文件，而不用来说明字节顺序。许多视窗程序（包含记事本）会需要添加字节顺序标记到UTF-8文件，否则将无法正确解析编码，而出现乱码。然而，在类Unix系统（大量使用文本文件，用于文件格式，用于进程间通信）中，这种做法则不被建议采用。因为它会妨碍到如解译器脚本开头的Shebang等的一些重要的码的正确处理。它亦会影响到无法识别它的编程语言。如gcc会报告源码档开头有无法识别的字符。</p>
</blockquote>
<p>如果需要去除 BOM，直接 vim 打开，</p>
<div class="highlight"><pre><span></span><code>:set<span class="w"> </span>nobomb
:wq
</code></pre></div>
<p>参考</p>
<ul>
<li><a href="https://segmentfault.com/q/1010000000256502">Linux环境下如何将utf-8格式文件转变成无bom的utf-8格式文件？</a></li>
<li><a href="https://www.zhihu.com/question/20167122">「带 BOM 的 UTF-8」和「无 BOM 的 UTF-8」有什么区别？网页代码一般使用哪个？</a></li>
</ul>
<h4 id="ctrls">Ctrl+s 假死<a class="headerlink" href="#ctrls" title="Permanent link">&para;</a></h4>
<p>vim并没有死掉，只是停止向终端输出而已，要想退出这种状态，只需按 <code>Ctrl + q</code> 即可恢复正常。</p>
<p>参考<a href="http://blog.csdn.net/tsuliuchao/article/details/7553003">vim按了Ctrl + s后假死的解决办法</a></p>
<h4 id="_12">执行当前脚本<a class="headerlink" href="#_12" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code>:!%
</code></pre></div>
<p>其中 <code>%</code> expands current file name，另外</p>
<div class="highlight"><pre><span></span><code>:!<span class="w"> </span>%:p
</code></pre></div>
<p>会指定绝对路径，而如果路径中有空格，则用</p>
<div class="highlight"><pre><span></span><code>:!<span class="w"> </span><span class="s2">&quot;%:p&quot;</span>
</code></pre></div>
<p>参考</p>
<ul>
<li><a href="https://stackoverflow.com/questions/953398/how-to-execute-file-im-editing-in-vim">How to execute file I&rsquo;m editing in Vi(m)</a></li>
<li><a href="https://blog.csdn.net/bnxf00000/article/details/46618465">VIM中执行Shell命令（炫酷）</a></li>
</ul>
<h4 id="write-with-sudo">write with sudo<a class="headerlink" href="#write-with-sudo" title="Permanent link">&para;</a></h4>
<p>For example, as said in <a href="https://stackoverflow.com/questions/2600783/how-does-the-vim-write-with-sudo-trick-work">How does the vim “write with sudo” trick work?</a></p>
<div class="highlight"><pre><span></span><code>:w<span class="w"> </span>!sudo<span class="w"> </span>tee<span class="w"> </span>%
</code></pre></div>
<p>and such reference gives a more detailed explanation for the trick.</p>
<h4 id="_13">打开另外一个文件<a class="headerlink" href="#_13" title="Permanent link">&para;</a></h4>
<p>参考</p>
<ol>
<li><a href="https://zhidao.baidu.com/question/873060894102392532.html">vim 打开一个文件后,如何打开另一个文件?</a></li>
<li><a href="https://www.cnblogs.com/david-wei0810/p/5749408.html">VI打开和编辑多个文件的命令 分屏操作 - David.Wei0810 - 博客园</a></li>
</ol>
<h4 id="_14">对每行行首进行追加、替换<a class="headerlink" href="#_14" title="Permanent link">&para;</a></h4>
<p>按住 v 或者 V 选定需要追加的行，然后再进入 <code>:</code> 模式，输入正常的 <code>sed</code> 命令，如</p>
<div class="highlight"><pre><span></span><code>s/^/#/g
</code></pre></div>
<p>参考 <a href="http://blog.csdn.net/u010555688/article/details/48416765">Ubuntu 下对文本文件每行行首进行追加、替换</a></p>
<p>全选：<code>VggG</code> 或者 <code>ggVG</code>，其中</p>
<ul>
<li><code>gg</code> 跳至第一行，</li>
<li><code>G</code> 跳到最后一行</li>
</ul>
<p>参考 <a href="https://vi.stackexchange.com/questions/9028/what-is-the-command-for-select-all-in-vim-and-vsvim">what is the command for “Select All” in vim and VsVim?</a></p>
<h2 id="wget"><code>wget</code><a class="headerlink" href="#wget" title="Permanent link">&para;</a></h2>
<h4 id="wget-a-series-of-files-in-order">wget a series of files in order<a class="headerlink" href="#wget-a-series-of-files-in-order" title="Permanent link">&para;</a></h4>
<p>下载连续编号的文件，如</p>
<div class="highlight"><pre><span></span><code>wget http://work.caltech.edu/slides/slides{01..18}.pdf
</code></pre></div>
<p>参考 <a href="https://askubuntu.com/questions/240702/wget-a-series-of-files-in-order">Wget a series of files in order</a></p>
<h4 id="wget-vs-curl"><code>wget</code> vs <code>curl</code><a class="headerlink" href="#wget-vs-curl" title="Permanent link">&para;</a></h4>
<p><code>wget</code> 不用添加 <code>-O</code> 就可以将下载的文件存储下来，但是 <code>curl</code> 并不默认将下载的文件存入本地文件，除非加上 <code>-o</code> 选项，而 <code>wget</code> 的 <code>-O</code> 只是为了更改文件名。</p>
<p>比如<a href="https://github.com/huan/docker-wine/blob/54e7ba2f042a59de72a06bafc37f1fb8c554541e/Dockerfile#L36">这里</a>，直接将下载的内容输出到下一个命令</p>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-sL<span class="w"> </span>https://dl.winehq.org/wine-builds/winehq.key<span class="w"> </span><span class="p">|</span><span class="w"> </span>apt-key<span class="w"> </span>add<span class="w"> </span>-
</code></pre></div>
<p>更多比较详见 <a href="https://unix.stackexchange.com/questions/47434/what-is-the-difference-between-curl-and-wget">What is the difference between curl and wget?</a></p>
<h2 id="xargs"><code>xargs</code><a class="headerlink" href="#xargs" title="Permanent link">&para;</a></h2>
<h4 id="mv-files">mv files<a class="headerlink" href="#mv-files" title="Permanent link">&para;</a></h4>
<p>use <code>-I {}</code> to replace some string.</p>
<div class="highlight"><pre><span></span><code>ls<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span><span class="s1">&#39;config[0-9].txt&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>xargs<span class="w"> </span>-I<span class="w"> </span><span class="o">{}</span><span class="w"> </span>mv<span class="w"> </span><span class="o">{}</span><span class="w"> </span>configs/
</code></pre></div>
<p>see more details in <a href="https://askubuntu.com/questions/487035/mv-files-with-xargs">mv files with | xargs</a></p>
<h4 id="rm-files">rm files<a class="headerlink" href="#rm-files" title="Permanent link">&para;</a></h4>
<p>it is safer to check the files before appending <code>rm</code> into the pipeline.</p>
<div class="highlight"><pre><span></span><code>ls<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span><span class="s2">&quot;.txt&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>xargs<span class="w"> </span>-I<span class="w"> </span><span class="o">{}</span><span class="w"> </span>rm<span class="w"> </span>-rf<span class="w"> </span><span class="o">{}</span>
</code></pre></div>
<p>an application is asked by @van1yu3</p>
<blockquote>
<p>在当前目录下有10个子目录dir1-dir10，dir1-dir10里的文件都是相同的名字；我想要保留其中5个特定名字的文件，其他的删掉</p>
</blockquote>
<p>then <code>find</code> would be more suitable since a full path is required,</p>
<div class="highlight"><pre><span></span><code>~/tmp4$<span class="w"> </span><span class="k">for</span><span class="w"> </span>i<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="o">{</span><span class="m">1</span>..4<span class="o">}</span><span class="p">;</span><span class="w"> </span><span class="k">do</span><span class="w"> </span>sh<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;mkdir </span><span class="nv">$i</span><span class="s2">; touch </span><span class="nv">$i</span><span class="s2">/foo.txt </span><span class="nv">$i</span><span class="s2">/bar.txt&quot;</span><span class="p">;</span><span class="w"> </span><span class="k">done</span>
~/tmp4$<span class="w"> </span>ls
<span class="m">1</span><span class="w">  </span><span class="m">2</span><span class="w">  </span><span class="m">3</span><span class="w">  </span><span class="m">4</span>
~/tmp4$<span class="w"> </span>tree
.
├──<span class="w"> </span><span class="m">1</span>
│<span class="w">   </span>├──<span class="w"> </span>bar.txt
│<span class="w">   </span>└──<span class="w"> </span>foo.txt
├──<span class="w"> </span><span class="m">2</span>
│<span class="w">   </span>├──<span class="w"> </span>bar.txt
│<span class="w">   </span>└──<span class="w"> </span>foo.txt
├──<span class="w"> </span><span class="m">3</span>
│<span class="w">   </span>├──<span class="w"> </span>bar.txt
│<span class="w">   </span>└──<span class="w"> </span>foo.txt
└──<span class="w"> </span><span class="m">4</span>
<span class="w">    </span>├──<span class="w"> </span>bar.txt
<span class="w">    </span>└──<span class="w"> </span>foo.txt

<span class="m">4</span><span class="w"> </span>directories,<span class="w"> </span><span class="m">8</span><span class="w"> </span>files
~/tmp4$<span class="w"> </span>find<span class="w"> </span>.<span class="w"> </span>-type<span class="w"> </span>f<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>-v<span class="w"> </span><span class="s2">&quot;foo&quot;</span>
./2/bar.txt
./4/bar.txt
./1/bar.txt
./3/bar.txt
~/tmp4$<span class="w"> </span>find<span class="w"> </span>.<span class="w"> </span>-type<span class="w"> </span>f<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>-v<span class="w"> </span><span class="s2">&quot;foo&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>xargs<span class="w"> </span>-I<span class="w"> </span><span class="o">{}</span><span class="w"> </span>rm<span class="w"> </span>-f<span class="w"> </span><span class="o">{}</span>
~/tmp4$<span class="w"> </span>tree
.
├──<span class="w"> </span><span class="m">1</span>
│<span class="w">   </span>└──<span class="w"> </span>foo.txt
├──<span class="w"> </span><span class="m">2</span>
│<span class="w">   </span>└──<span class="w"> </span>foo.txt
├──<span class="w"> </span><span class="m">3</span>
│<span class="w">   </span>└──<span class="w"> </span>foo.txt
└──<span class="w"> </span><span class="m">4</span>
<span class="w">    </span>└──<span class="w"> </span>foo.txt

<span class="m">4</span><span class="w"> </span>directories,<span class="w"> </span><span class="m">4</span><span class="w"> </span>files
</code></pre></div>
<p>BTW, I tried the popular chatGPT to ask the question.</p>
<details class="note">
<summary>chatGPT</summary>
<p><img alt="screencapture-chat-openai-chat-2022-12-06-22_28_50" src="https://user-images.githubusercontent.com/13688320/206089957-bc92d621-3cb4-4c16-b7c3-a792eba34283.png" /></p>
</details>

  <hr>
<div class="md-source-file">
  <small>
    
      Last update:
      <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">February 1, 2023</span>
      
        <br>
        Created:
        <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">April 13, 2021</span>
      
    
  </small>
</div>





  <h2 id="__comments">Comments</h2>
  <script src="https://giscus.app/client.js"
        data-repo="szcf-weiya/techNotes"
        data-repo-id="MDEwOlJlcG9zaXRvcnk4NDA2NDk0Mw=="
        data-category="Announcements"
        data-category-id="DIC_kwDOBQK6r84CSDX_"
        data-mapping="pathname"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="bottom"
        data-theme="preferred_color_scheme"
        data-lang="en"
        crossorigin="anonymous"
        async>
    </script>

  <!-- Synchronize Giscus theme with palette -->
  <script>
    var giscus = document.querySelector("script[src*=giscus]")

    /* Set palette on initial load */
    var palette = __md_get("__palette")
    if (palette && typeof palette.color === "object") {
      var theme = palette.color.scheme === "slate" ? "dark" : "light"
      giscus.setAttribute("data-theme", theme) 
    }

    /* Register event handlers after documented loaded */
    document.addEventListener("DOMContentLoaded", function() {
      var ref = document.querySelector("[data-md-component=palette]")
      ref.addEventListener("change", function() {
        var palette = __md_get("__palette")
        if (palette && typeof palette.color === "object") {
          var theme = palette.color.scheme === "slate" ? "dark" : "light"

          /* Instruct Giscus to change theme */
          var frame = document.querySelector(".giscus-frame")
          frame.contentWindow.postMessage(
            { giscus: { setConfig: { theme } } },
            "https://giscus.app"
          )
        }
      })
    })
  </script>

                
              </article>
            </div>
          
          
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2017-2023 weiya
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/szcf-weiya" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://esl.hohoweiya.xyz" target="_blank" rel="noopener" title="esl.hohoweiya.xyz" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M96 0C43 0 0 43 0 96v320c0 53 43 96 96 96h320c17.7 0 32-14.3 32-32s-14.3-32-32-32v-64c17.7 0 32-14.3 32-32V32c0-17.7-14.3-32-32-32H96zm0 384h256v64H96c-17.7 0-32-14.3-32-32s14.3-32 32-32zm32-240c0-8.8 7.2-16 16-16h192c8.8 0 16 7.2 16 16s-7.2 16-16 16H144c-8.8 0-16-7.2-16-16zm16 48h192c8.8 0 16 7.2 16 16s-7.2 16-16 16H144c-8.8 0-16-7.2-16-16s7.2-16 16-16z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://hohoweiya.xyz" target="_blank" rel="noopener" title="hohoweiya.xyz" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M575.8 255.5c0 18-15 32.1-32 32.1h-32l.7 160.2c0 2.7-.2 5.4-.5 8.1V472c0 22.1-17.9 40-40 40h-16c-1.1 0-2.2 0-3.3-.1-1.4.1-2.8.1-4.2.1H392c-22.1 0-40-17.9-40-40v-88c0-17.7-14.3-32-32-32h-64c-17.7 0-32 14.3-32 32v88c0 22.1-17.9 40-40 40h-55.9c-1.5 0-3-.1-4.5-.2-1.2.1-2.4.2-3.6.2h-16c-22.1 0-40-17.9-40-40V360c0-.9 0-1.9.1-2.8v-69.6H32c-18 0-32-14-32-32.1 0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7l255.4 224.5c8 7 12 15 11 24z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://stats.hohoweiya.xyz" target="_blank" rel="noopener" title="stats.hohoweiya.xyz" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M168 80c-13.3 0-24 10.7-24 24v304c0 8.4-1.4 16.5-4.1 24H440c13.3 0 24-10.7 24-24V104c0-13.3-10.7-24-24-24H168zM72 432c13.3 0 24-10.7 24-24V104c0-39.8 32.2-72 72-72h272c39.8 0 72 32.2 72 72v304c0 39.8-32.2 72-72 72H72c-39.8 0-72-32.2-72-72V112c0-13.3 10.7-24 24-24s24 10.7 24 24v296c0 13.3 10.7 24 24 24zm104-296c0-13.3 10.7-24 24-24h208c13.3 0 24 10.7 24 24v80c0 13.3-10.7 24-24 24H200c-13.3 0-24-10.7-24-24v-80zm24 136h64c13.3 0 24 10.7 24 24s-10.7 24-24 24h-64c-13.3 0-24-10.7-24-24s10.7-24 24-24zm144 0h64c13.3 0 24 10.7 24 24s-10.7 24-24 24h-64c-13.3 0-24-10.7-24-24s10.7-24 24-24zm-144 80h64c13.3 0 24 10.7 24 24s-10.7 24-24 24h-64c-13.3 0-24-10.7-24-24s10.7-24 24-24zm144 0h64c13.3 0 24 10.7 24 24s-10.7 24-24 24h-64c-13.3 0-24-10.7-24-24s10.7-24 24-24z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://blog.csdn.net/szcf715" target="_blank" rel="noopener" title="blog.csdn.net" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M64 80c-8.8 0-16 7.2-16 16v320c0 8.8 7.2 16 16 16h224v-80c0-17.7 14.3-32 32-32h80V96c0-8.8-7.2-16-16-16H64zm224 400H64c-35.3 0-64-28.7-64-64V96c0-35.3 28.7-64 64-64h320c35.3 0 64 28.7 64 64v229.5c0 17-6.7 33.3-18.7 45.3l-90.5 90.5c-12 12-28.3 18.7-45.3 18.7H288z"/></svg>
    </a>
  
    
    
    
    
    <a href="mailto:szcfweiya@gmail.com" target="_blank" rel="noopener" title="" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M64 112c-8.8 0-16 7.2-16 16v22.1l172.5 141.6c20.7 17 50.4 17 71.1 0L464 150.1V128c0-8.8-7.2-16-16-16H64zM48 212.2V384c0 8.8 7.2 16 16 16h384c8.8 0 16-7.2 16-16V212.2L322 328.8c-38.4 31.5-93.7 31.5-132 0L48 212.2zM0 128c0-35.3 28.7-64 64-64h384c35.3 0 64 28.7 64 64v256c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V128z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.sections", "navigation.top"], "search": "../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.efa0ade1.min.js"></script>
      
        <script src="../../javascripts/baiduzhanzhang.js"></script>
      
        <script src="../../javascripts/extra.js"></script>
      
        <script src="../../javascripts/mathjax.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
    
  </body>
</html>