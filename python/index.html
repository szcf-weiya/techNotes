
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="技术博客">
      
      
      
        <meta name="author" content="weiya">
      
      
        <link rel="canonical" href="https://tech.hohoweiya.xyz/python/">
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.2.1, mkdocs-material-7.1.10">
    
    
      
        <title>一般问题 - techNotes</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.1fe995fd.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.f1a3b89f.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
    

  
  



  
  



  <script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-85007363-6","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){var e;this.value&&(e=document.location.pathname,ga("send","pageview",e+"?q="+this.value))}),"undefined"!=typeof location$&&location$.subscribe(function(e){ga("send","pageview",e.pathname)})})</script>
  <script async src="https://www.google-analytics.com/analytics.js"></script>


  <script data-ad-client="ca-pub-3680148472128768" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>


    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    <script>function __prefix(e){return new URL("..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#python-notes" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="techNotes" class="md-header__button md-logo" aria-label="techNotes" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            techNotes
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              一般问题
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/szcf-weiya/techNotes" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    szcf-weiya/techNotes
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href=".." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../Linux/" class="md-tabs__link">
        Linux
      </a>
    </li>
  

  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../comparisons/stat/" class="md-tabs__link md-tabs__link--active">
        StatProgramming
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../Cpp/" class="md-tabs__link">
        CSProgramming
      </a>
    </li>
  

      
        
  
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../TeX/" class="md-tabs__link">
        DocProgramming
      </a>
    </li>
  

  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../Internet/" class="md-tabs__link">
        Network/Internet
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../autotools/" class="md-tabs__link">
        Development
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../stats/prob/" class="md-tabs__link">
        Stat
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../English/" class="md-tabs__link">
        Misc
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="techNotes" class="md-nav__button md-logo" aria-label="techNotes" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    techNotes
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/szcf-weiya/techNotes" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    szcf-weiya/techNotes
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      <label class="md-nav__link" for="__nav_2">
        Linux
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Linux" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Linux
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_1" type="checkbox" id="__nav_2_1" >
      
      <label class="md-nav__link" for="__nav_2_1">
        General
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="General" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_1">
          <span class="md-nav__icon md-icon"></span>
          General
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Linux/" class="md-nav__link">
        System
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Linux/software/" class="md-nav__link">
        Graphical Software
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Linux/tools/" class="md-nav__link">
        Command-line Tools
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../shell/" class="md-nav__link">
        Shell
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_2" type="checkbox" id="__nav_2_2" >
      
      <label class="md-nav__link" for="__nav_2_2">
        Laptop
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Laptop" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_2">
          <span class="md-nav__icon md-icon"></span>
          Laptop
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Linux/16to18/" class="md-nav__link">
        16to18
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_3" type="checkbox" id="__nav_2_3" >
      
      <label class="md-nav__link" for="__nav_2_3">
        Servers
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Servers" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_3">
          <span class="md-nav__icon md-icon"></span>
          Servers
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Linux/servers/" class="md-nav__link">
        Common
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Linux/chpc/" class="md-nav__link">
        CHPC-Cluster
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Linux/rocky-server/" class="md-nav__link">
        Rocky-Linux
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Linux/asAserver/" class="md-nav__link">
        G40
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      <label class="md-nav__link" for="__nav_3">
        StatProgramming
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="StatProgramming" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          StatProgramming
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../comparisons/stat/" class="md-nav__link">
        Comparisons
      </a>
    </li>
  

          
            
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_2" type="checkbox" id="__nav_3_2" >
      
      <label class="md-nav__link" for="__nav_3_2">
        R
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="R" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_2">
          <span class="md-nav__icon md-icon"></span>
          R
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../R/" class="md-nav__link">
        一般问题
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../R/plot/" class="md-nav__link">
        plot 作图
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../R/ggplot/" class="md-nav__link">
        ggplot 作图
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../R/legend_from_zhihu/" class="md-nav__link">
        案例分析
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../R/install-notes-for-rmysql/" class="md-nav__link">
        源码安装 RMySQL
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../R/sample/" class="md-nav__link">
        new sample function (v3.6.0+)
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../R/factor/" class="md-nav__link">
        一道与 factor 有关的问题
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
    
  
  
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_3" type="checkbox" id="__nav_3_3" checked>
      
      <label class="md-nav__link" for="__nav_3_3">
        Python
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Python" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_3">
          <span class="md-nav__icon md-icon"></span>
          Python
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          一般问题
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        一般问题
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#base" class="md-nav__link">
    Base
  </a>
  
    <nav class="md-nav" aria-label="Base">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#xrange-vs-range" class="md-nav__link">
    xrange vs range
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-m" class="md-nav__link">
    -m
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#with" class="md-nav__link">
    with 语句
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage-of-yield" class="md-nav__link">
    usage of yield
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#class" class="md-nav__link">
    Class
  </a>
  
    <nav class="md-nav" aria-label="Class">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vs-class-classname-vs-class-classnameobject" class="md-nav__link">
    新式类 vs 经典类 (class ClassName vs class ClassName(object))
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#__getitem__-and-__setitem__" class="md-nav__link">
    __getitem__ and __setitem__
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#staticmethod-vs-classmethod" class="md-nav__link">
    @staticmethod vs @classmethod
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cli-options" class="md-nav__link">
    CLI Options
  </a>
  
    <nav class="md-nav" aria-label="CLI Options">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sysargv" class="md-nav__link">
    sys.argv
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#argparse" class="md-nav__link">
    argparse
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#click" class="md-nav__link">
    click
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fileio" class="md-nav__link">
    FileIO
  </a>
  
    <nav class="md-nav" aria-label="FileIO">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#non-ascii" class="md-nav__link">
    写入 non-ascii 字符
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#url-string-to-normal-string" class="md-nav__link">
    URL string to normal string
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#u5" class="md-nav__link">
    &lt;U5
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uu-rr-b-in-string" class="md-nav__link">
    u/U, r/R, b in string
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#function" class="md-nav__link">
    Function
  </a>
  
    <nav class="md-nav" aria-label="Function">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#args-and-args" class="md-nav__link">
    *args and **args
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#annotations" class="md-nav__link">
    annotations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#no-tuple-here" class="md-nav__link">
    No Tuple here
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ipython" class="md-nav__link">
    IPython
  </a>
  
    <nav class="md-nav" aria-label="IPython">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#built-in-magic-commands" class="md-nav__link">
    Built-in magic commands
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#remote-ipython-kernel" class="md-nav__link">
    remote ipython kernel
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#json" class="md-nav__link">
    JSON
  </a>
  
    <nav class="md-nav" aria-label="JSON">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#convert-string-to-json" class="md-nav__link">
    convert string to json
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jsondumps-jsondump" class="md-nav__link">
    json.dumps() 和 json.dump() 的区别
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flask-jsonify-jsondumps" class="md-nav__link">
    flask 中 jsonify 和 json.dumps 的区别
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jupyter" class="md-nav__link">
    Jupyter
  </a>
  
    <nav class="md-nav" aria-label="Jupyter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#github" class="md-nav__link">
    GitHub 语言比例过分倾斜
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jupyter-notebook" class="md-nav__link">
    jupyter notebook 出错
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jupyter-notebook_1" class="md-nav__link">
    创建 jupyter notebook 权限问题
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nbconvert-failed-validate-got-an-unexpected-keyword-argument-relax_add_props" class="md-nav__link">
    nbconvert failed: validate() got an unexpected keyword argument 'relax_add_props'
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#different-kernels" class="md-nav__link">
    different kernels
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#list" class="md-nav__link">
    List
  </a>
  
    <nav class="md-nav" aria-label="List">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#find-index-of-an-item" class="md-nav__link">
    find index of an item
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#index-a-list-with-another-list" class="md-nav__link">
    index a list with another list
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getting-indices-of-true" class="md-nav__link">
    getting indices of true
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#remove-by-index" class="md-nav__link">
    remove by index
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#typeerror-unhashable-type-list" class="md-nav__link">
    TypeError: unhashable type: 'list'
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#convert-list-of-lists-to-list" class="md-nav__link">
    convert list of lists to list
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#matplotlibpyplot" class="md-nav__link">
    matplotlib.pyplot
  </a>
  
    <nav class="md-nav" aria-label="matplotlib.pyplot">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#seaborn" class="md-nav__link">
    seaborn
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#xy" class="md-nav__link">
    画图 xy 顺序
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subplots" class="md-nav__link">
    subplots 的间距
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#equal-axis-aspect-ratio" class="md-nav__link">
    equal axis aspect ratio
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scatter-size" class="md-nav__link">
    scatter size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#interactive-mode" class="md-nav__link">
    interactive mode
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#math-symbols" class="md-nav__link">
    math symbols
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#show-matplotlib-plots-in-ubuntu-windows-subsystem-for-linux" class="md-nav__link">
    Show matplotlib plots in Ubuntu (Windows subsystem for Linux)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#numpy" class="md-nav__link">
    NumPy
  </a>
  
    <nav class="md-nav" aria-label="NumPy">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#r-1-vs-r" class="md-nav__link">
    (R, 1) vs (R, )
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#array-operation" class="md-nav__link">
    array operation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arrays-with-different-size" class="md-nav__link">
    arrays with different size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#npnewaxis" class="md-nav__link">
    np.newaxis
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#array-of-falsetrue" class="md-nav__link">
    array of FALSE/TRUE
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#array-of-array" class="md-nav__link">
    Array of Array
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#print-numpy-objects-without-line-breaks" class="md-nav__link">
    print numpy objects without line breaks
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#merge-multiple-slices" class="md-nav__link">
    merge multiple slices
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    /=
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#re" class="md-nav__link">
    re
  </a>
  
    <nav class="md-nav" aria-label="re">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#extract-the-starting-position" class="md-nav__link">
    extract the starting position
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    又拍云的短信平台
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mdx_math" class="md-nav__link">
    mdx_math安装命令
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-can-i-use-conda-to-install-mysqldb" class="md-nav__link">
    How can I use Conda to install MySQLdb?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mysql" class="md-nav__link">
    远程连接 mysql
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sphinx" class="md-nav__link">
    sphinx 相关
  </a>
  
    <nav class="md-nav" aria-label="sphinx 相关">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#init" class="md-nav__link">
    init
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#thread-vs-process" class="md-nav__link">
    thread vs process
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kite" class="md-nav__link">
    Kite 使用体验
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pip" class="md-nav__link">
    pip
  </a>
  
    <nav class="md-nav" aria-label="pip">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#set-mirror-in-mainland-china" class="md-nav__link">
    set mirror in mainland China
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#temporary-proxy" class="md-nav__link">
    temporary proxy
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upgrade-package" class="md-nav__link">
    upgrade package
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-from-github" class="md-nav__link">
    install from github
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uninstalling-a-distutils-installed-project-error" class="md-nav__link">
    'Uninstalling a distutils installed project' error
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sys" class="md-nav__link">
    sys
  </a>
  
    <nav class="md-nav" aria-label="sys">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-first-argument-in-syspathinsert" class="md-nav__link">
    the first argument in sys.path.insert()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tensorflow" class="md-nav__link">
    TensorFlow
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-i-th-row-in-pandas" class="md-nav__link">
    the i-th row in pandas
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#key-in-sorted" class="md-nav__link">
    key in sorted
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#unittest-and-coverage" class="md-nav__link">
    unittest and coverage
  </a>
  
    <nav class="md-nav" aria-label="unittest and coverage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#run-locally" class="md-nav__link">
    run locally
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#combine-with-julia-in-actions" class="md-nav__link">
    combine with julia in Actions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#misc" class="md-nav__link">
    Misc
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="conda/" class="md-nav__link">
        Conda
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="pystan/" class="md-nav__link">
        PyStan 体验
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="opencv/" class="md-nav__link">
        OpenCV
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="finance/" class="md-nav__link">
        金融数据爬虫
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="rpy2/" class="md-nav__link">
        rpy2
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="esltag/" class="md-nav__link">
        自建关键词索引页
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../julia/" class="md-nav__link">
        Julia
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Matlab/" class="md-nav__link">
        Matlab
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      <label class="md-nav__link" for="__nav_4">
        CSProgramming
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="CSProgramming" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          CSProgramming
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Cpp/" class="md-nav__link">
        C/C++
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../java/" class="md-nav__link">
        Java
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../SQL/" class="md-nav__link">
        SQL
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../cuda/" class="md-nav__link">
        Cuda
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      <label class="md-nav__link" for="__nav_5">
        DocProgramming
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="DocProgramming" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          DocProgramming
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_1" type="checkbox" id="__nav_5_1" >
      
      <label class="md-nav__link" for="__nav_5_1">
        TeX
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="TeX" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_1">
          <span class="md-nav__icon md-icon"></span>
          TeX
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../TeX/" class="md-nav__link">
        一般问题
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../TeX/arxiv/" class="md-nav__link">
        arXiv
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../TeX/vargreek/" class="md-nav__link">
        VarGreek
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_2" type="checkbox" id="__nav_5_2" >
      
      <label class="md-nav__link" for="__nav_5_2">
        Web
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Web" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_2">
          <span class="md-nav__icon md-icon"></span>
          Web
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../website/" class="md-nav__link">
        Website
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../website/disqus/" class="md-nav__link">
        Disqus
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../website/css/" class="md-nav__link">
        CSS
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../js/" class="md-nav__link">
        JS
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../PHP/" class="md-nav__link">
        PHP
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../website/xampp/" class="md-nav__link">
        XAMPP
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      <label class="md-nav__link" for="__nav_6">
        Network/Internet
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Network/Internet" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Network/Internet
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Internet/" class="md-nav__link">
        一般问题
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Internet/sci-int/" class="md-nav__link">
        访问内网
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Internet/ipv6/" class="md-nav__link">
        IPv6
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" >
      
      <label class="md-nav__link" for="__nav_7">
        Development
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Development" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Development
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../autotools/" class="md-nav__link">
        Autotools
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../dev/docker/" class="md-nav__link">
        Docker
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Git/" class="md-nav__link">
        Git
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../phantomjs/" class="md-nav__link">
        Phantomjs
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Qt/" class="md-nav__link">
        Qt
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8" type="checkbox" id="__nav_8" >
      
      <label class="md-nav__link" for="__nav_8">
        Stat
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Stat" data-md-level="1">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          Stat
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../stats/prob/" class="md-nav__link">
        Probability
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../stats/" class="md-nav__link">
        Statistics
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../scientific/" class="md-nav__link">
        Scientific
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../stats/matrix/" class="md-nav__link">
        Matrix
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9" type="checkbox" id="__nav_9" >
      
      <label class="md-nav__link" for="__nav_9">
        Misc
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Misc" data-md-level="1">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          Misc
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../English/" class="md-nav__link">
        English
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../guitar/" class="md-nav__link">
        Guitar
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../win/" class="md-nav__link">
        Windows
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../finance/" class="md-nav__link">
        Finance
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../fresh/" class="md-nav__link">
        Fresh
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../links/" class="md-nav__link">
        Links
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../misc/live/" class="md-nav__link">
        Live
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../misc/wx/" class="md-nav__link">
        小程序
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../misc/wxjssdk/" class="md-nav__link">
        jssdk
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../misc/report/" class="md-nav__link">
        讲座
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../mi/" class="md-nav__link">
        Mi
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#base" class="md-nav__link">
    Base
  </a>
  
    <nav class="md-nav" aria-label="Base">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#xrange-vs-range" class="md-nav__link">
    xrange vs range
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-m" class="md-nav__link">
    -m
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#with" class="md-nav__link">
    with 语句
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage-of-yield" class="md-nav__link">
    usage of yield
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#class" class="md-nav__link">
    Class
  </a>
  
    <nav class="md-nav" aria-label="Class">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vs-class-classname-vs-class-classnameobject" class="md-nav__link">
    新式类 vs 经典类 (class ClassName vs class ClassName(object))
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#__getitem__-and-__setitem__" class="md-nav__link">
    __getitem__ and __setitem__
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#staticmethod-vs-classmethod" class="md-nav__link">
    @staticmethod vs @classmethod
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cli-options" class="md-nav__link">
    CLI Options
  </a>
  
    <nav class="md-nav" aria-label="CLI Options">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sysargv" class="md-nav__link">
    sys.argv
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#argparse" class="md-nav__link">
    argparse
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#click" class="md-nav__link">
    click
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fileio" class="md-nav__link">
    FileIO
  </a>
  
    <nav class="md-nav" aria-label="FileIO">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#non-ascii" class="md-nav__link">
    写入 non-ascii 字符
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#url-string-to-normal-string" class="md-nav__link">
    URL string to normal string
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#u5" class="md-nav__link">
    &lt;U5
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uu-rr-b-in-string" class="md-nav__link">
    u/U, r/R, b in string
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#function" class="md-nav__link">
    Function
  </a>
  
    <nav class="md-nav" aria-label="Function">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#args-and-args" class="md-nav__link">
    *args and **args
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#annotations" class="md-nav__link">
    annotations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#no-tuple-here" class="md-nav__link">
    No Tuple here
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ipython" class="md-nav__link">
    IPython
  </a>
  
    <nav class="md-nav" aria-label="IPython">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#built-in-magic-commands" class="md-nav__link">
    Built-in magic commands
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#remote-ipython-kernel" class="md-nav__link">
    remote ipython kernel
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#json" class="md-nav__link">
    JSON
  </a>
  
    <nav class="md-nav" aria-label="JSON">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#convert-string-to-json" class="md-nav__link">
    convert string to json
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jsondumps-jsondump" class="md-nav__link">
    json.dumps() 和 json.dump() 的区别
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flask-jsonify-jsondumps" class="md-nav__link">
    flask 中 jsonify 和 json.dumps 的区别
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jupyter" class="md-nav__link">
    Jupyter
  </a>
  
    <nav class="md-nav" aria-label="Jupyter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#github" class="md-nav__link">
    GitHub 语言比例过分倾斜
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jupyter-notebook" class="md-nav__link">
    jupyter notebook 出错
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jupyter-notebook_1" class="md-nav__link">
    创建 jupyter notebook 权限问题
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nbconvert-failed-validate-got-an-unexpected-keyword-argument-relax_add_props" class="md-nav__link">
    nbconvert failed: validate() got an unexpected keyword argument 'relax_add_props'
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#different-kernels" class="md-nav__link">
    different kernels
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#list" class="md-nav__link">
    List
  </a>
  
    <nav class="md-nav" aria-label="List">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#find-index-of-an-item" class="md-nav__link">
    find index of an item
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#index-a-list-with-another-list" class="md-nav__link">
    index a list with another list
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getting-indices-of-true" class="md-nav__link">
    getting indices of true
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#remove-by-index" class="md-nav__link">
    remove by index
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#typeerror-unhashable-type-list" class="md-nav__link">
    TypeError: unhashable type: 'list'
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#convert-list-of-lists-to-list" class="md-nav__link">
    convert list of lists to list
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#matplotlibpyplot" class="md-nav__link">
    matplotlib.pyplot
  </a>
  
    <nav class="md-nav" aria-label="matplotlib.pyplot">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#seaborn" class="md-nav__link">
    seaborn
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#xy" class="md-nav__link">
    画图 xy 顺序
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subplots" class="md-nav__link">
    subplots 的间距
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#equal-axis-aspect-ratio" class="md-nav__link">
    equal axis aspect ratio
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scatter-size" class="md-nav__link">
    scatter size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#interactive-mode" class="md-nav__link">
    interactive mode
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#math-symbols" class="md-nav__link">
    math symbols
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#show-matplotlib-plots-in-ubuntu-windows-subsystem-for-linux" class="md-nav__link">
    Show matplotlib plots in Ubuntu (Windows subsystem for Linux)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#numpy" class="md-nav__link">
    NumPy
  </a>
  
    <nav class="md-nav" aria-label="NumPy">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#r-1-vs-r" class="md-nav__link">
    (R, 1) vs (R, )
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#array-operation" class="md-nav__link">
    array operation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arrays-with-different-size" class="md-nav__link">
    arrays with different size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#npnewaxis" class="md-nav__link">
    np.newaxis
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#array-of-falsetrue" class="md-nav__link">
    array of FALSE/TRUE
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#array-of-array" class="md-nav__link">
    Array of Array
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#print-numpy-objects-without-line-breaks" class="md-nav__link">
    print numpy objects without line breaks
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#merge-multiple-slices" class="md-nav__link">
    merge multiple slices
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    /=
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#re" class="md-nav__link">
    re
  </a>
  
    <nav class="md-nav" aria-label="re">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#extract-the-starting-position" class="md-nav__link">
    extract the starting position
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    又拍云的短信平台
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mdx_math" class="md-nav__link">
    mdx_math安装命令
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-can-i-use-conda-to-install-mysqldb" class="md-nav__link">
    How can I use Conda to install MySQLdb?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mysql" class="md-nav__link">
    远程连接 mysql
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sphinx" class="md-nav__link">
    sphinx 相关
  </a>
  
    <nav class="md-nav" aria-label="sphinx 相关">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#init" class="md-nav__link">
    init
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#thread-vs-process" class="md-nav__link">
    thread vs process
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kite" class="md-nav__link">
    Kite 使用体验
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pip" class="md-nav__link">
    pip
  </a>
  
    <nav class="md-nav" aria-label="pip">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#set-mirror-in-mainland-china" class="md-nav__link">
    set mirror in mainland China
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#temporary-proxy" class="md-nav__link">
    temporary proxy
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upgrade-package" class="md-nav__link">
    upgrade package
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-from-github" class="md-nav__link">
    install from github
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uninstalling-a-distutils-installed-project-error" class="md-nav__link">
    'Uninstalling a distutils installed project' error
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sys" class="md-nav__link">
    sys
  </a>
  
    <nav class="md-nav" aria-label="sys">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-first-argument-in-syspathinsert" class="md-nav__link">
    the first argument in sys.path.insert()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tensorflow" class="md-nav__link">
    TensorFlow
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-i-th-row-in-pandas" class="md-nav__link">
    the i-th row in pandas
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#key-in-sorted" class="md-nav__link">
    key in sorted
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#unittest-and-coverage" class="md-nav__link">
    unittest and coverage
  </a>
  
    <nav class="md-nav" aria-label="unittest and coverage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#run-locally" class="md-nav__link">
    run locally
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#combine-with-julia-in-actions" class="md-nav__link">
    combine with julia in Actions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#misc" class="md-nav__link">
    Misc
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="python-notes">Python Notes<a class="headerlink" href="#python-notes" title="Permanent link">&para;</a></h1>
<h2 id="base">Base<a class="headerlink" href="#base" title="Permanent link">&para;</a></h2>
<h3 id="xrange-vs-range">xrange vs range<a class="headerlink" href="#xrange-vs-range" title="Permanent link">&para;</a></h3>
<p>基本都在循环时使用，输出结果也是一样的，但略有差异</p>
<ul>
<li>range 直接生成一个 list 对象</li>
<li>xrange 返回一个生成器。性能会比 range 好，特别是很大的时候。</li>
</ul>
<p>参考<a href="http://blog.csdn.net/imzoer/article/details/8742283">Python中range和xrange的区别</a></p>
<h3 id="-m"><code>-m</code><a class="headerlink" href="#-m" title="Permanent link">&para;</a></h3>
<p><code>python -m</code> lets you run modules as scripts, and it reflects the motto&ndash;&ldquo;batteries included&rdquo;. <a href="http://pythonwise.blogspot.com/2015/01/python-m.html">Here</a> are some powerful features/functions, such as creating a simple http server</p>
<div class="highlight"><pre><span></span><code><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">SimpleHTTPServer</span> <span class="mi">80</span>
</code></pre></div>
<h3 id="with">with 语句<a class="headerlink" href="#with" title="Permanent link">&para;</a></h3>
<p>参考</p>
<ul>
<li><a href="https://www.cnblogs.com/zhangkaikai/p/6669750.html">Python with语句</a></li>
<li><a href="https://www.geeksforgeeks.org/with-statement-in-python/">with statement in Python</a></li>
</ul>
<p>简言之，“使用with后不管with中的代码出现什么错误，都会进行对当前对象进行清理工作。”</p>
<p>这也就是为什么在用 MySQLdb 的时候，称“With the with keyword, the Python interpreter automatically releases the resources. It also provides error handling.” 详见<a href="http://zetcode.com/db/mysqlpython/">MySQL Python tutorial - programming MySQL in Python</a></p>
<p>另外，现在经常在神经网络中碰到，如</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">tensorflow</span> <span class="k">as</span> <span class="nn">tf</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">Variable</span><span class="p">(</span><span class="mf">3.0</span><span class="p">)</span>
<span class="k">with</span> <span class="n">tf</span><span class="o">.</span><span class="n">GradientTape</span><span class="p">()</span> <span class="k">as</span> <span class="n">tape</span><span class="p">:</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span>    
<span class="n">dy_dx</span> <span class="o">=</span> <span class="n">tape</span><span class="o">.</span><span class="n">gradient</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
</code></pre></div>
<h3 id="usage-of-yield">usage of <code>yield</code><a class="headerlink" href="#usage-of-yield" title="Permanent link">&para;</a></h3>
<blockquote>
<p>We should use yield when we want to iterate over a sequence, but don’t want to store the entire sequence in memory.</p>
</blockquote>
<p>More details refer to <a href="https://www.geeksforgeeks.org/use-yield-keyword-instead-return-keyword-python/">When to use yield instead of return in Python?</a></p>
<p>An example gave in <a href="https://stackoverflow.com/questions/12555443/squaring-all-elements-in-a-list">Squaring all elements in a list</a></p>
<div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="k">def</span> <span class="nf">square</span><span class="p">(</span><span class="nb">list</span><span class="p">):</span>
<span class="o">...</span>     <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">:</span>
<span class="o">...</span>             <span class="k">yield</span> <span class="n">i</span> <span class="o">**</span> <span class="mi">2</span>
<span class="o">...</span> 
<span class="o">&gt;&gt;&gt;</span> <span class="n">square</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="o">&lt;</span><span class="n">generator</span> <span class="nb">object</span> <span class="n">square</span> <span class="n">at</span> <span class="mh">0x7f343963dca8</span><span class="o">&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">square</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]):</span>
<span class="o">...</span>     <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="o">...</span> 
<span class="mi">1</span>
<span class="mi">4</span>
</code></pre></div>
<p>along with other methods to square a list,</p>
<div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="nb">list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="p">[</span><span class="n">i</span><span class="o">**</span><span class="mi">2</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">]</span>
<span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span>
<span class="o">&lt;</span><span class="nb">map</span> <span class="nb">object</span> <span class="n">at</span> <span class="mh">0x7f3439642f60</span><span class="o">&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
<span class="o">...</span>     <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="o">...</span> 
<span class="mi">1</span>
<span class="mi">4</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">ret</span> <span class="o">=</span> <span class="p">[]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">:</span>
<span class="o">...</span>     <span class="n">ret</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
<span class="o">...</span> 
<span class="o">&gt;&gt;&gt;</span> <span class="n">ret</span>
<span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
</code></pre></div>
<h2 id="class">Class<a class="headerlink" href="#class" title="Permanent link">&para;</a></h2>
<h3 id="vs-class-classname-vs-class-classnameobject">新式类 vs 经典类 (<code>class ClassName</code> vs <code>class ClassName(object)</code>)<a class="headerlink" href="#vs-class-classname-vs-class-classnameobject" title="Permanent link">&para;</a></h3>
<ul>
<li>python 2.x 中，默认为经典类，只有当写成 <code>class A(object)</code> 才成为新式类</li>
<li>python 3.x 中，默认为新式类</li>
</ul>
<p>详见 <a href="https://www.zhihu.com/question/22475395">python新式类和经典类的区别？</a></p>
<ol>
<li>In python 2.x, when you inherit from &ldquo;object&rdquo; you class is a &ldquo;new style&rdquo; class; the non inheriting from &ldquo;object&rdquo; case creates an &ldquo;old style&rdquo; class.</li>
<li>In python 3.x, all classes are new style - no need to set the metaclass.</li>
</ol>
<p>refer to <a href="https://stackoverflow.com/questions/10043963/class-classname-versus-class-classnameobject">class ClassName versus class ClassName(object)</a></p>
<h3 id="__getitem__-and-__setitem__"><code>__getitem__</code> and <code>__setitem__</code><a class="headerlink" href="#__getitem__-and-__setitem__" title="Permanent link">&para;</a></h3>
<p>I came across the usage of <code>__getitem__</code> <a href="https://github.com/MeepMoop/tilecoding/blob/master/example.py#L34">here</a>, which seems powerful, and not only accept</p>
<div class="highlight"><pre><span></span><code><span class="n">T</span><span class="p">[</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">]</span>
</code></pre></div>
<p>also supports</p>
<div class="highlight"><pre><span></span><code><span class="n">T</span><span class="p">[[</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">]]</span>
</code></pre></div>
<p>in <a href="https://github.com/szcf-weiya/RLnotes/blob/8e714286c1ba09113c4bf295d89ed774a8c5be5c/ModelFree/mountaincar.py#L68">my code</a>, where <code>T</code> is an instance of a class and <code>[x, y]</code> is the coordinate. The <code>[]</code> is enabled due to the <code>__getitem__</code> method.</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">TildCoder</span><span class="p">():</span>
    <span class="k">def</span> <span class="nf">__init</span><span class="p">(</span><span class="o">...</span><span class="p">):</span>
        <span class="o">...</span>

    <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="o">...</span>
</code></pre></div>
<p>Then I found <a href="https://stackoverflow.com/a/43627975/">more detailed explanation</a> for the usage.</p>
<blockquote>
<p>The <code>[]</code> syntax for getting item by key or index is just syntax sugar. When you evaluate <code>a[i]</code>, Python calls <code>a.__getitem__(i)</code> or <code>type(a).__getitem__(a, i)</code>.</p>
</blockquote>
<h3 id="staticmethod-vs-classmethod">@staticmethod vs @classmethod<a class="headerlink" href="#staticmethod-vs-classmethod" title="Permanent link">&para;</a></h3>
<p>参考</p>
<ol>
<li>
<p><a href="https://www.pythoncentral.io/difference-between-staticmethod-and-classmethod-in-python/">Difference between @staticmethod and @classmethod in Python</a></p>
</li>
<li>
<p><a href="https://julien.danjou.info/guide-python-static-class-abstract-methods/">The definitive guide on how to use static, class or abstract methods in Python</a></p>
</li>
</ol>
<h2 id="cli-options">CLI Options<a class="headerlink" href="#cli-options" title="Permanent link">&para;</a></h2>
<h3 id="sysargv"><code>sys.argv</code><a class="headerlink" href="#sysargv" title="Permanent link">&para;</a></h3>
<p>The arguments are stored in the array <code>sys.argv</code>, where the first element is the script name itself.</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">from</span> <span class="nn">glob</span> <span class="kn">import</span> <span class="n">glob</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span>
</code></pre></div>
<p>With quote, the character <code>*</code> would expanding before passing into the argument.</p>
<div class="highlight"><pre><span></span><code>$ python star_arg.py ../*.png
<span class="o">[</span><span class="s1">&#39;star_arg.py&#39;</span>, <span class="s1">&#39;../error_jupyter_1.png&#39;</span>, <span class="s1">&#39;../error_jupyter.png&#39;</span>, <span class="s1">&#39;../err_theano.png&#39;</span>, <span class="s1">&#39;../ipython.png&#39;</span>, <span class="s1">&#39;../spyder-qtconsole.png&#39;</span><span class="o">]</span>
$ python star_arg.py <span class="s2">&quot;../*.png&quot;</span>
<span class="o">[</span><span class="s1">&#39;star_arg.py&#39;</span>, <span class="s1">&#39;../*.png&#39;</span><span class="o">]</span>
</code></pre></div>
<p>If we want to wrap it with a bash function,</p>
<div class="highlight"><pre><span></span><code>$ star_arg<span class="o">()</span> <span class="o">{</span> python star_arg.py <span class="nv">$1</span> <span class="p">;</span> <span class="o">}</span>
</code></pre></div>
<p>The quote for the pattern containing <code>*</code> is also necessary, otherwise it first expands and just passes the first matched filename due to <code>$1</code>,</p>
<div class="highlight"><pre><span></span><code>$ star_arg ../*.png
<span class="o">[</span><span class="s1">&#39;star_arg.py&#39;</span>, <span class="s1">&#39;../error_jupyter_1.png&#39;</span><span class="o">]</span>
$ star_arg <span class="s2">&quot;../*.png&quot;</span>
<span class="o">[</span><span class="s1">&#39;star_arg.py&#39;</span>, <span class="s1">&#39;../error_jupyter_1.png&#39;</span>, <span class="s1">&#39;../error_jupyter.png&#39;</span>, <span class="s1">&#39;../err_theano.png&#39;</span>, <span class="s1">&#39;../ipython.png&#39;</span>, <span class="s1">&#39;../spyder-qtconsole.png&#39;</span><span class="o">]</span>
</code></pre></div>
<p>But note that the above bash function does not wrap <code>$1</code>. With quote, the original string can be passed into python script</p>
<div class="highlight"><pre><span></span><code>$ star_arg2<span class="o">()</span> <span class="o">{</span> python star_arg.py <span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span> <span class="p">;</span> <span class="o">}</span>
$ star_arg2 <span class="s2">&quot;../*.png&quot;</span>
<span class="o">[</span><span class="s1">&#39;star_arg.py&#39;</span>, <span class="s1">&#39;../*.png&#39;</span><span class="o">]</span>
$ star_arg2 ../*.png
<span class="o">[</span><span class="s1">&#39;star_arg.py&#39;</span>, <span class="s1">&#39;../error_jupyter_1.png&#39;</span><span class="o">]</span>
</code></pre></div>
<h3 id="argparse"><code>argparse</code><a class="headerlink" href="#argparse" title="Permanent link">&para;</a></h3>
<p>Documentation: <a href="https://docs.python.org/3/library/argparse.html">argparse — Parser for command-line options, arguments and sub-commands</a></p>
<p>An example: <a href="https://github.com/fxsjy/jieba/blob/master/jieba/__main__.py">jieba/<strong>main</strong>.py</a></p>
<h3 id="click"><code>click</code><a class="headerlink" href="#click" title="Permanent link">&para;</a></h3>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>More related code can be found in <a href="https://github.com/search?l=Python&amp;q=user%3Aszcf-weiya+click&amp;type=Code">My Code Results on GitHub</a></p>
</div>
<p>It enables to use command line arguments. For example, </p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">click</span> <span class="c1"># DO NOT NAME THE FILE AS THE SAME NAME</span>

<span class="nd">@click</span><span class="o">.</span><span class="n">command</span><span class="p">()</span>
<span class="nd">@click</span><span class="o">.</span><span class="n">option</span><span class="p">(</span><span class="s2">&quot;--a&quot;</span><span class="p">,</span> <span class="n">default</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
<span class="nd">@click</span><span class="o">.</span><span class="n">option</span><span class="p">(</span><span class="s2">&quot;--b&quot;</span><span class="p">,</span> <span class="n">is_flag</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">default</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
<span class="nd">@click</span><span class="o">.</span><span class="n">option</span><span class="p">(</span><span class="s2">&quot;--c&quot;</span><span class="p">,</span> <span class="n">default</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="nb">type</span> <span class="o">=</span> <span class="nb">float</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;a = </span><span class="si">{</span><span class="n">a</span><span class="si">}</span><span class="s2">, b = </span><span class="si">{</span><span class="n">b</span><span class="si">}</span><span class="s2">, c = </span><span class="si">{</span><span class="n">c</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>$ python3 ex_click.py --a <span class="m">1</span> --b
<span class="nv">a</span> <span class="o">=</span> <span class="m">1</span>, <span class="nv">b</span> <span class="o">=</span> True
$ python3 ex_click.py --a <span class="m">1</span>
<span class="nv">a</span> <span class="o">=</span> <span class="m">1</span>, <span class="nv">b</span> <span class="o">=</span> False
$ python3 ex_click.py --a <span class="m">2</span>
<span class="nv">a</span> <span class="o">=</span> <span class="m">2</span>, <span class="nv">b</span> <span class="o">=</span> False
</code></pre></div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The script filename cannot be the same as the module name, <code>click.py</code>. Otherwise, it throws,
<div class="highlight"><pre><span></span><code>$ python3 click.py --a <span class="m">1</span> --b
Traceback <span class="o">(</span>most recent call last<span class="o">)</span>:
File <span class="s2">&quot;click.py&quot;</span>, line <span class="m">1</span>, <span class="k">in</span> &lt;module&gt;
    import click
File <span class="s2">&quot;/media/weiya/Seagate/GitHub/techNotes/docs/python/ex/click.py&quot;</span>, line <span class="m">3</span>, <span class="k">in</span> &lt;module&gt;
    @click.command<span class="o">()</span>
AttributeError: module <span class="s1">&#39;click&#39;</span> has no attribute <span class="s1">&#39;command&#39;</span>
</code></pre></div></p>
</div>
<div class="admonition failure">
<p class="admonition-title">float value</p>
<p>With 
<div class="highlight"><pre><span></span><code><span class="nd">@click</span><span class="o">.</span><span class="n">option</span><span class="p">(</span><span class="s2">&quot;--c&quot;</span><span class="p">,</span> <span class="n">default</span> <span class="o">=</span> <span class="mi">2</span><span class="p">)</span>
</code></pre></div>
it throws
<div class="highlight"><pre><span></span><code>$ python ex_click.py --a <span class="m">1</span> --b --c <span class="m">2</span>.0
Usage: ex_click.py <span class="o">[</span>OPTIONS<span class="o">]</span>
Try <span class="s1">&#39;ex_click.py --help&#39;</span> <span class="k">for</span> help.

Error: Invalid value <span class="k">for</span> <span class="s1">&#39;--c&#39;</span>: <span class="m">2</span>.0 is not a valid integer
</code></pre></div></p>
<p><code>type = float</code> needs to be specified.</p>
</div>
<h2 id="fileio">FileIO<a class="headerlink" href="#fileio" title="Permanent link">&para;</a></h2>
<h3 id="non-ascii">写入 non-ascii 字符<a class="headerlink" href="#non-ascii" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;filename&quot;</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span>
<span class="n">write_str</span> <span class="o">=</span> <span class="sa">u</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">some non ascii symbols</span>
<span class="s1">&#39;&#39;&#39;</span>
<span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">write</span><span class="o">.</span><span class="n">str</span><span class="p">)</span>
</code></pre></div>
<p>会报错</p>
<div class="highlight"><pre><span></span><code>&#39;ascii&#39; codec can&#39;t encode character
</code></pre></div>
<p>参考 <a href="https://stackoverflow.com/questions/33255846/python-write-a-list-with-non-ascii-characters-to-a-text-file">Python: write a list with non-ASCII characters to a text file</a> 采用 <code>codecs.open(, "w", encoding="utf-8")</code> 可以解决需求。</p>
<h3 id="url-string-to-normal-string">URL string to normal string<a class="headerlink" href="#url-string-to-normal-string" title="Permanent link">&para;</a></h3>
<p>参考<a href="https://stackoverflow.com/questions/11768070/transform-url-string-into-normal-string-in-python-20-to-space-etc">transform-url-string-into-normal-string-in-python-20-to-space-etc</a></p>
<ol>
<li>python2</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">urllib2</span>
<span class="nb">print</span> <span class="n">urllib2</span><span class="o">.</span><span class="n">unquote</span><span class="p">(</span><span class="s2">&quot;%CE%B1%CE%BB%20&quot;</span><span class="p">)</span>
</code></pre></div>
<ol start="2">
<li>python3</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">urllib.parse</span> <span class="kn">import</span> <span class="n">unquote</span>
<span class="nb">print</span><span class="p">(</span><span class="n">unquote</span><span class="p">(</span><span class="s2">&quot;%CE%B1%CE%BB%20&quot;</span><span class="p">))</span>
</code></pre></div>
<h3 id="u5"><code>&lt;U5</code><a class="headerlink" href="#u5" title="Permanent link">&para;</a></h3>
<p>I met this term in <a href="https://stackoverflow.com/questions/16037824/how-to-convert-numpy-object-array-into-str-unicode-array">How to convert numpy object array into str/unicode array?</a></p>
<p>I am confused about the <a href="https://docs.scipy.org/doc/numpy-1.10.0/reference/arrays.dtypes.html">official english documentation</a></p>
<p><a href="https://segmentfault.com/q/1010000012049371">A Chinese answer</a> solves my question,</p>
<ul>
<li><code>&lt;</code> 表示字节顺序，小端（最小有效字节存储在最小地址中）</li>
<li><code>U</code> 表示Unicode，数据类型</li>
<li><code>5</code> 表示元素位长，数据大小</li>
</ul>
<h3 id="uu-rr-b-in-string"><code>u/U</code>, <code>r/R</code>, <code>b</code> in string<a class="headerlink" href="#uu-rr-b-in-string" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>u/U: 表示unicode字符串。不是仅仅是针对中文, 可以针对任何的字符串，代表是对字符串进行unicode编码。一般英文字符在使用各种编码下, 基本都可以正常解析, 所以一般不带u；但是中文, 必须表明所需编码, 否则一旦编码转换就会出现乱码。建议所有编码方式采用utf8</p>
</li>
<li>
<p>r/R: 非转义的原始字符串，常用于正则表达式 re 中。</p>
</li>
<li>
<p>b:bytes:</p>
<ul>
<li>python3.x里默认的str是(py2.x里的)unicode, bytes是(py2.x)的str, b”“前缀代表的就是bytes</li>
<li>python2.x里, b前缀没什么具体意义， 只是为了兼容python3.x的这种写法</li>
</ul>
</li>
</ul>
<p>另外</p>
<ul>
<li><code>str</code> -&gt; <code>bytes</code>: encode</li>
<li><code>bytes</code> -&gt; <code>str</code>: decode </li>
</ul>
<div class="highlight"><pre><span></span><code><span class="c1"># python 3.6: str 为 Unicode</span>
<span class="o">&gt;&gt;&gt;</span> <span class="s2">&quot;中文&quot;</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf8&quot;</span><span class="p">)</span>
<span class="sa">b</span><span class="s1">&#39;</span><span class="se">\xe4\xb8\xad\xe6\x96\x87</span><span class="s1">&#39;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="s2">&quot;中文&quot;</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf8&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;utf8&quot;</span><span class="p">)</span>
<span class="s1">&#39;中文&#39;</span>

<span class="c1"># python 2.7： str 为 bytes</span>
<span class="o">&gt;&gt;&gt;</span> <span class="s2">&quot;中文&quot;</span>
<span class="s1">&#39;</span><span class="se">\xe4\xb8\xad\xe6\x96\x87</span><span class="s1">&#39;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="s2">&quot;中文&quot;</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;utf8&quot;</span><span class="p">)</span>
<span class="sa">u</span><span class="s1">&#39;</span><span class="se">\u4e2d\u6587</span><span class="s1">&#39;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;中文&quot;</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;utf8&quot;</span><span class="p">))</span>
<span class="n">中文</span>
</code></pre></div>
<p>参考:</p>
<ul>
<li><a href="https://www.oschina.net/question/437227_106832">python字符串前面加u,r,b的含义</a></li>
<li><a href="https://www.cnblogs.com/chownjy/p/6625299.html">浅析Python3中的bytes和str类型 - Chown-Jane-Y - 博客园</a></li>
<li><a href="https://stackoverflow.com/questions/606191/convert-bytes-to-a-string">convert-bytes-to-a-string</a></li>
</ul>
<h2 id="function">Function<a class="headerlink" href="#function" title="Permanent link">&para;</a></h2>
<h3 id="args-and-args"><code>*args</code> and <code>**args</code><a class="headerlink" href="#args-and-args" title="Permanent link">&para;</a></h3>
<ul>
<li><code>*args</code>: pass a <strong>non-keyword</strong> and <strong>variable-length</strong> argument list to a function.</li>
<li><code>**args</code>: pass a <strong>keyworded</strong>, <strong>variable-length</strong> argument list, actually <code>dict</code></li>
</ul>
<p>refer to <a href="https://www.geeksforgeeks.org/args-kwargs-python/"><code>*args</code> and <code>**kwargs</code> in Python</a>, and <a href="https://treyhunner.com/2018/10/asterisks-in-python-what-they-are-and-how-to-use-them/">Asterisks in Python: what they are and how to use them</a></p>
<p>One example,</p>
<div class="highlight"><pre><span></span><code>    <span class="k">def</span> <span class="nf">feature_size</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">conv3</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">conv2</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">conv1</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">input_shape</span><span class="p">))))</span><span class="o">.</span><span class="n">view</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">size</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</code></pre></div>
<p>where <code>*self.input_shape</code> aims to unpacking something like <code>[3, 4, 5]</code> to <code>3, 4, 5</code>.</p>
<h3 id="annotations">annotations<a class="headerlink" href="#annotations" title="Permanent link">&para;</a></h3>
<p>When I am writing the custom loss function in XGBoost, there are some new syntax in the example function,</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">squared_log</span><span class="p">(</span><span class="n">predt</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span>
                <span class="n">dtrain</span><span class="p">:</span> <span class="n">xgb</span><span class="o">.</span><span class="n">DMatrix</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]:</span>
</code></pre></div>
<p>what is the meaning of <code>:</code> and <code>-&gt;</code>. Then I <a href="https://stackoverflow.com/questions/14379753/what-does-mean-in-python-function-definitions">found</a> that they are <a href="https://www.python.org/dev/peps/pep-3107/">functional annotations</a>.</p>
<blockquote>
<p>By itself, Python does not attach any particular meaning or significance to annotations. </p>
<p>The only way that annotations take on meaning is when they are interpreted by third-party libraries. </p>
</blockquote>
<h3 id="no-tuple-here">No <code>Tuple</code> here<a class="headerlink" href="#no-tuple-here" title="Permanent link">&para;</a></h3>
<p>Actually, seems no need to add <code>Tuple</code> before <code>[np.ndarray, np.ndarray]</code>, which will throws an error </p>
<blockquote>
<p>NameError: name &lsquo;Tuple&rsquo; is not defined</p>
</blockquote>
<p>Ohhh, to avoid such problem, </p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Tuple</span><span class="p">,</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">List</span>
</code></pre></div>
<p>refer to <a href="https://github.com/dmlc/xgboost/blob/master/demo/guide-python/custom_rmsle.py#L16">custom_rmsle.py#L16</a></p>
<h2 id="ipython">IPython<a class="headerlink" href="#ipython" title="Permanent link">&para;</a></h2>
<h3 id="built-in-magic-commands">Built-in magic commands<a class="headerlink" href="#built-in-magic-commands" title="Permanent link">&para;</a></h3>
<p>Refer to <a href="https://ipython.readthedocs.io/en/stable/interactive/magics.html"><img alt="🔗" class="twemoji" src="https://twemoji.maxcdn.com/v/latest/svg/1f517.svg" title=":link:" /></a> for more details.</p>
<ul>
<li><code>%matplotlib inline</code> enables the inline backend for usage with the IPython notebook.</li>
<li><code>!ls</code> simply calls system&rsquo;s <code>ls</code>, but <code>!!ls</code> also returns the result formatted as a list, which is equivalent to <code>%sx ls</code>.</li>
<li><code>%sx</code>: shell execute, run shell command and capture output, and <code>!!</code> is short-hand.</li>
</ul>
<h3 id="remote-ipython-kernel">remote ipython kernel<a class="headerlink" href="#remote-ipython-kernel" title="Permanent link">&para;</a></h3>
<p>一直想玩 jupyter 的远程 ipython kernel 连接，这样可以减轻本机的压力。</p>
<p>这两篇介绍得很详细，但是最后设置 ssh 那一步总是报错，总是说无法连接。</p>
<ul>
<li><a href="https://medium.com/@halmubarak/connecting-spyder-ide-to-a-remote-ipython-kernel-25a322f2b2be">Connecting Spyder IDE to a remote IPython kernel</a></li>
<li><a href="https://medium.com/@mazzine.r/how-to-connect-your-spyder-ide-to-an-external-ipython-kernel-with-ssh-putty-tunnel-e1c679e44154">How to connect your Spyder IDE to an external ipython kernel with SSH PuTTY tunnel</a></li>
</ul>
<p>因为我是直接把 <code>id_rsa.pub</code> 文件当作 <code>.pem</code> 文件，但如果我换成密码登录后就成功了。</p>
<p>而如果<a href="https://github.com/ipython/ipython/wiki/Cookbook:-Connecting-to-a-remote-kernel-via-ssh">直接命令行操作</a>，则就像正常 ssh 一样，也会成功。</p>
<p>所以中间的差异应该就是 <code>.pem</code> 与 <code>id_rsa.pub</code> 不等同。具体比较详见 <a href="https://stackoverflow.com/questions/17670446/what-is-the-difference-between-various-keys-in-public-key-encryption">what is the difference between various keys in public key encryption</a></p>
<h2 id="json">JSON<a class="headerlink" href="#json" title="Permanent link">&para;</a></h2>
<h3 id="convert-string-to-json">convert string to json<a class="headerlink" href="#convert-string-to-json" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">payload</span><span class="o">=</span><span class="s1">&#39;{&#39;</span><span class="n">name</span><span class="s1">&#39;: weiya}&#39;</span>
<span class="c1"># payload=&#39;payload = {&#39;name&#39;: weiya}&#39;</span>
</code></pre></div>
<p>换成json</p>
<div class="highlight"><pre><span></span><code><span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">payload</span><span class="p">)</span>
</code></pre></div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>注意不能采用注释掉的部分。</p>
</div>
<h3 id="jsondumps-jsondump">json.dumps() 和 json.dump() 的区别<a class="headerlink" href="#jsondumps-jsondump" title="Permanent link">&para;</a></h3>
<p>简言之，<code>dumps()</code>和<code>loads()</code>都是针对字符串而言的，而<code>dump()</code>和<code>load()</code>是针对文件而言的。具体细节参见<a href="https://www.cnblogs.com/wswang/p/5411826.html">python json.dumps()  json.dump()的区别 - wswang - 博客园</a></p>
<h3 id="flask-jsonify-jsondumps">flask 中 jsonify 和 json.dumps 的区别<a class="headerlink" href="#flask-jsonify-jsondumps" title="Permanent link">&para;</a></h3>
<p>参考<a href="http://blog.csdn.net/Duke_Huan_of_Qi/article/details/76064225">在flask中使用jsonify和json.dumps的区别</a></p>
<p>另外 flask 的入门文档见</p>
<p><a href="http://docs.jinkan.org/docs/flask/quickstart.html#quickstart">快速入门 &mdash; Flask 0.10.1 文档</a></p>
<h2 id="jupyter">Jupyter<a class="headerlink" href="#jupyter" title="Permanent link">&para;</a></h2>
<h3 id="github">GitHub 语言比例过分倾斜<a class="headerlink" href="#github" title="Permanent link">&para;</a></h3>
<p><a href="https://github.com/github/linguist/issues/3316">LInguist is reporting my project as a Jupyter Notebook</a></p>
<h3 id="jupyter-notebook">jupyter notebook 出错<a class="headerlink" href="#jupyter-notebook" title="Permanent link">&para;</a></h3>
<p><img alt="" src="error_jupyter.png" /></p>
<p>可以通过
<div class="highlight"><pre><span></span><code>rm -r .pki
</code></pre></div>
解决</p>
<h3 id="jupyter-notebook_1">创建 jupyter notebook 权限问题<a class="headerlink" href="#jupyter-notebook_1" title="Permanent link">&para;</a></h3>
<p><img alt="" src="error_jupyter_1.png" /></p>
<p>原因是所给的路径的用户权限不一致，jupyter的用户及用户组均为root，为解决这个问题，直接更改用户权限</p>
<p><div class="highlight"><pre><span></span><code>sudo chown weiya jupyter/ -R
sudo chgrp weiya jupyter/ -R
</code></pre></div>
其中-R表示递归调用，使得文件夹中所有内容的用户权限都进行更改。</p>
<h3 id="nbconvert-failed-validate-got-an-unexpected-keyword-argument-relax_add_props"><code>nbconvert failed: validate() got an unexpected keyword argument 'relax_add_props'</code><a class="headerlink" href="#nbconvert-failed-validate-got-an-unexpected-keyword-argument-relax_add_props" title="Permanent link">&para;</a></h3>
<p>refer to <a href="https://github.com/jupyter/notebook/issues/2901">nbconvert failed: validate() got an unexpected keyword argument &lsquo;relax_add_props&rsquo; #2901</a></p>
<p>其实我的版本是一致的，但可能由于我进入 Jupyter notebook 方式不一样。</p>
<ul>
<li>一开始，直接从base 进入，然后选择 snakes 的 kernel，导出失败，错误原因如上</li>
<li>直接在 snakes 进入 Jupyter notebook，这样可以成功导出</li>
</ul>
<h3 id="different-kernels">different kernels<a class="headerlink" href="#different-kernels" title="Permanent link">&para;</a></h3>
<h4 id="python">Python<a class="headerlink" href="#python" title="Permanent link">&para;</a></h4>
<p>其实不用对每个 environment 安装单独的 jupyter，只要安装 <code>ipykernel</code> 就好，这样都能从 base environment 中通过 jupyter 来选择不同 kernel，详见 <a href="https://ipython.readthedocs.io/en/stable/install/kernel_install.html#kernels-for-different-environments">Kernels for different environments</a></p>
<div class="highlight"><pre><span></span><code>$ conda activate myenv
$ conda install ipykernel
$ python -m ipykernel install --user --name myenv --display-name <span class="s2">&quot;Python (myenv)&quot;</span>
</code></pre></div>
<h4 id="julia">Julia<a class="headerlink" href="#julia" title="Permanent link">&para;</a></h4>
<p>打开特定版本的 Julia，</p>
<div class="highlight"><pre><span></span><code><span class="o">&gt;</span> <span class="n">add</span> <span class="n">IJulia</span>
</code></pre></div>
<h4 id="r">R<a class="headerlink" href="#r" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="nf">install.packages</span><span class="p">(</span><span class="s">&#39;IRkernel&#39;</span><span class="p">)</span>
<span class="c1">#IRkernel::installspec()</span>
<span class="n">IRkernel</span><span class="o">::</span><span class="nf">installspec</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">&quot;3.6.0&quot;</span><span class="p">,</span> <span class="n">displayname</span> <span class="o">=</span> <span class="s">&quot;R 3.6.0&quot;</span><span class="p">)</span>
</code></pre></div>
<p>另见 <a href="../R/#using-r-in-jupyterlab">using R in JupyterLab</a></p>
<h4 id="management">management<a class="headerlink" href="#management" title="Permanent link">&para;</a></h4>
<p>列出所有安装的 kernel，</p>
<div class="highlight"><pre><span></span><code>$ jupyter kernelspec list
Available kernels:
  <span class="m">3</span>.6.0        /home/project09/.local/share/jupyter/kernels/3.6.0
  ir           /home/project09/.local/share/jupyter/kernels/ir
  julia-1.1    /home/project09/.local/share/jupyter/kernels/julia-1.1
  julia-1.4    /home/project09/.local/share/jupyter/kernels/julia-1.4
  mu-lux-cz    /home/project09/.local/share/jupyter/kernels/mu-lux-cz
  sam          /home/project09/.local/share/jupyter/kernels/sam
  python3      /home/project09/miniconda3/share/jupyter/kernels/python3
</code></pre></div>
<p>但是没有显示出 display name，其定义在文件夹下的 <code>kernel.json</code> 文件中（refer to <a href="https://stackoverflow.com/questions/48960699/how-to-change-jupyter-notebook-kernel-display-name">How to Change Jupyter Notebook Kernel Display Name</a>）</p>
<div class="highlight"><pre><span></span><code>$ jupyter kernelspec list <span class="p">|</span> sed -n <span class="s1">&#39;2,$p&#39;</span> <span class="p">|</span> awk <span class="s1">&#39;{print $2}&#39;</span> <span class="p">|</span> xargs -I <span class="o">{}</span> grep display <span class="o">{}</span>/kernel.json
  <span class="s2">&quot;display_name&quot;</span>: <span class="s2">&quot;R 3.6.0&quot;</span>,
  <span class="s2">&quot;display_name&quot;</span>: <span class="s2">&quot;R&quot;</span>,
  <span class="s2">&quot;display_name&quot;</span>: <span class="s2">&quot;Julia 1.1.1&quot;</span>,
  <span class="s2">&quot;display_name&quot;</span>: <span class="s2">&quot;Julia 1.4.2&quot;</span>,
 <span class="s2">&quot;display_name&quot;</span>: <span class="s2">&quot;py37&quot;</span>,
 <span class="s2">&quot;display_name&quot;</span>: <span class="s2">&quot;py37 (sam)&quot;</span>,
 <span class="s2">&quot;display_name&quot;</span>: <span class="s2">&quot;Python 3&quot;</span>,
</code></pre></div>
<p>为了打印出对应的 env 名，</p>
<div class="highlight"><pre><span></span><code>$ paste &lt;<span class="o">(</span>jupyter kernelspec list <span class="p">|</span> sed -n <span class="s1">&#39;2,$p&#39;</span><span class="o">)</span> &lt;<span class="o">(</span>jupyter kernelspec list <span class="p">|</span> sed -n <span class="s1">&#39;2,$p&#39;</span> <span class="p">|</span> awk <span class="s1">&#39;{print $2}&#39;</span> <span class="p">|</span> xargs -I <span class="o">{}</span> grep display <span class="o">{}</span>/kernel.json<span class="o">)</span>
  <span class="m">3</span>.6.0        /home/project09/.local/share/jupyter/kernels/3.6.0     <span class="s2">&quot;display_name&quot;</span>: <span class="s2">&quot;R 3.6.0&quot;</span>,
  ir           /home/project09/.local/share/jupyter/kernels/ir    <span class="s2">&quot;display_name&quot;</span>: <span class="s2">&quot;R&quot;</span>,
  julia-1.1    /home/project09/.local/share/jupyter/kernels/julia-1.1     <span class="s2">&quot;display_name&quot;</span>: <span class="s2">&quot;Julia 1.1.1&quot;</span>,
  julia-1.4    /home/project09/.local/share/jupyter/kernels/julia-1.4     <span class="s2">&quot;display_name&quot;</span>: <span class="s2">&quot;Julia 1.4.2&quot;</span>,
  mu-lux-cz    /home/project09/.local/share/jupyter/kernels/mu-lux-cz    <span class="s2">&quot;display_name&quot;</span>: <span class="s2">&quot;py37&quot;</span>,
  sam          /home/project09/.local/share/jupyter/kernels/sam  <span class="s2">&quot;display_name&quot;</span>: <span class="s2">&quot;py37 (sam)&quot;</span>,
  python3      /home/project09/miniconda3/share/jupyter/kernels/python3  <span class="s2">&quot;display_name&quot;</span>: <span class="s2">&quot;Python 3&quot;</span>,
</code></pre></div>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>此处很不优雅地重新复制了一下 <code>jupyter kernelspec list | sed -n '2,$p'</code>，在 pipeline 中是否有更直接的方法？</p>
</div>
<h2 id="list">List<a class="headerlink" href="#list" title="Permanent link">&para;</a></h2>
<h3 id="find-index-of-an-item">find index of an item<a class="headerlink" href="#find-index-of-an-item" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="mi">0</span>
<span class="o">&gt;&gt;&gt;</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">e</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span> <span class="k">if</span> <span class="n">e</span> <span class="o">==</span> <span class="mi">1</span><span class="p">]</span>
<span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">g</span> <span class="o">=</span> <span class="p">(</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">e</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span> <span class="k">if</span> <span class="n">e</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">next</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="mi">0</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">next</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="mi">2</span>
</code></pre></div>
<p>refer to <a href="https://stackoverflow.com/questions/176918/finding-the-index-of-an-item-given-a-list-containing-it-in-python">Finding the index of an item given a list containing it in Python</a></p>
<h3 id="index-a-list-with-another-list">index a list with another list<a class="headerlink" href="#index-a-list-with-another-list" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">L</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">,</span> <span class="s1">&#39;g&#39;</span><span class="p">,</span> <span class="s1">&#39;h&#39;</span><span class="p">]</span>
<span class="n">Idx</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">7</span><span class="p">]</span>
<span class="n">T</span> <span class="o">=</span> <span class="p">[</span><span class="n">L</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">Idx</span><span class="p">]</span>
</code></pre></div>
<p>refer to <a href="https://stackoverflow.com/questions/1012185/in-python-how-do-i-index-a-list-with-another-list">In Python, how do I index a list with another list?</a></p>
<h3 id="getting-indices-of-true">getting indices of true<a class="headerlink" href="#getting-indices-of-true" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">t</span> <span class="o">=</span> <span class="p">[</span><span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">t</span><span class="p">)</span> <span class="k">if</span> <span class="n">x</span><span class="p">]</span>
<span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">]</span>
</code></pre></div>
<p>refer to <a href="https://stackoverflow.com/questions/21448225/getting-indices-of-true-values-in-a-boolean-list">Getting indices of True values in a boolean list</a></p>
<h3 id="remove-by-index">remove by index<a class="headerlink" href="#remove-by-index" title="Permanent link">&para;</a></h3>
<p><code>del</code></p>
<p>refer to <a href="https://stackoverflow.com/questions/627435/how-to-remove-an-element-from-a-list-by-index">How to remove an element from a list by index?</a></p>
<h3 id="typeerror-unhashable-type-list"><code>TypeError: unhashable type: 'list'</code><a class="headerlink" href="#typeerror-unhashable-type-list" title="Permanent link">&para;</a></h3>
<h4 id="convert-a-nested-list-to-a-list">convert a nested list to a list<a class="headerlink" href="#convert-a-nested-list-to-a-list" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="n">Python</span> <span class="mf">3.6.9</span> <span class="p">(</span><span class="n">default</span><span class="p">,</span> <span class="n">Apr</span> <span class="mi">18</span> <span class="mi">2020</span><span class="p">,</span> <span class="mi">01</span><span class="p">:</span><span class="mi">56</span><span class="p">:</span><span class="mi">04</span><span class="p">)</span> 
<span class="p">[</span><span class="n">GCC</span> <span class="mf">8.4.0</span><span class="p">]</span> <span class="n">on</span> <span class="n">linux</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">set</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">],</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">])</span>
<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
  <span class="n">File</span> <span class="s2">&quot;&lt;stdin&gt;&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="ne">TypeError</span><span class="p">:</span> <span class="n">unhashable</span> <span class="nb">type</span><span class="p">:</span> <span class="s1">&#39;list&#39;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">set</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,(</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">),</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">])</span>
<span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">}</span>
</code></pre></div>
<h4 id="hash-a-nested-list">hash a nested list<a class="headerlink" href="#hash-a-nested-list" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="nb">hash</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,],</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">])</span>
<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
  <span class="n">File</span> <span class="s2">&quot;&lt;stdin&gt;&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="ne">TypeError</span><span class="p">:</span> <span class="n">unhashable</span> <span class="nb">type</span><span class="p">:</span> <span class="s1">&#39;list&#39;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">hash</span><span class="p">(</span><span class="nb">tuple</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,],</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">]))</span>
<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
  <span class="n">File</span> <span class="s2">&quot;&lt;stdin&gt;&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="ne">TypeError</span><span class="p">:</span> <span class="n">unhashable</span> <span class="nb">type</span><span class="p">:</span> <span class="s1">&#39;list&#39;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">hash</span><span class="p">(</span><span class="nb">tuple</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,]),</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">]))</span>
<span class="o">-</span><span class="mi">7943504827826258506</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">hash</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,]),</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">])</span>
<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
  <span class="n">File</span> <span class="s2">&quot;&lt;stdin&gt;&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="ne">TypeError</span><span class="p">:</span> <span class="n">unhashable</span> <span class="nb">type</span><span class="p">:</span> <span class="s1">&#39;list&#39;</span>
</code></pre></div>
<p>refer to <a href="https://stackoverflow.com/questions/13675296/python-typeerror-unhashable-type-list">Python: TypeError: unhashable type: &lsquo;list&rsquo;</a></p>
<h3 id="convert-list-of-lists-to-list">convert list of lists to list<a class="headerlink" href="#convert-list-of-lists-to-list" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>&gt;&gt;&gt; <span class="nv">a</span> <span class="o">=</span> <span class="o">[[</span><span class="m">1</span>, <span class="m">2</span><span class="o">]</span>, <span class="o">[</span><span class="m">3</span>, <span class="m">4</span><span class="o">]]</span>
&gt;&gt;&gt; <span class="o">[</span>y <span class="k">for</span> x <span class="k">in</span> a <span class="k">for</span> y <span class="k">in</span> x<span class="o">]</span>
<span class="o">[</span><span class="m">1</span>, <span class="m">2</span>, <span class="m">3</span>, <span class="m">4</span><span class="o">]</span>
</code></pre></div>
<p>refer to <a href="https://stackoverflow.com/questions/952914/how-to-make-a-flat-list-out-of-a-list-of-lists">How to make a flat list out of a list of lists?</a></p>
<h2 id="matplotlibpyplot">matplotlib.pyplot<a class="headerlink" href="#matplotlibpyplot" title="Permanent link">&para;</a></h2>
<h3 id="seaborn">seaborn<a class="headerlink" href="#seaborn" title="Permanent link">&para;</a></h3>
<p>Homepage: <a href="https://seaborn.pydata.org/">seaborn: statistical data visualization</a></p>
<blockquote>
<p>Seaborn的底层是基于Matplotlib的，他们的差异有点像在点餐时选套餐还是自己点的区别，Matplotlib是独立点菜，可能费时费心（尤其是对我这种选择困难症患者&hellip;）但最后上桌的菜全是特别适合自己的；而Seaborn是点套餐，特别简单，一切都是配好的，虽然省时省心，但可能套餐里总有些菜是不那么合自己口味的。</p>
<p><img alt="🔗" class="twemoji" src="https://twemoji.maxcdn.com/v/latest/svg/1f517.svg" title=":link:" /> <a href="https://www.zhihu.com/question/301637122/answer/528183410">Jack Sun @ 知乎</a></p>
</blockquote>
<h3 id="xy">画图 xy 顺序<a class="headerlink" href="#xy" title="Permanent link">&para;</a></h3>
<ol>
<li>imshow 中的 <a href="https://matplotlib.org/tutorials/intermediate/imshow_extent.html">origin and extent</a></li>
</ol>
<blockquote>
<p>Generally, for an array of shape (M, N), the first index runs along the vertical, the second index runs along the horizontal. The pixel centers are at integer positions ranging from 0 to N&rsquo; = N - 1 horizontally and from 0 to M&rsquo; = M - 1 vertically. origin determines how to the data is filled in the bounding box.</p>
</blockquote>
<p>also refer to</p>
<p><a href="https://stackoverflow.com/questions/37706005/matplotlib-coordinates-convention-of-image-imshow-incompatible-with-plot">matplotlib: coordinates convention of image imshow incompatible with plot</a></p>
<h3 id="subplots">subplots 的间距<a class="headerlink" href="#subplots" title="Permanent link">&para;</a></h3>
<p><code>plt.tight_layout()</code> 可以调节间距，如果有必要，可以带上参数，比如，<a href="https://github.com/szcf-weiya/ESL-CN/commit/a79daf246320a7cd0ae57c0b229fc096d98483f6">B spline in R, C++ and Python</a></p>
<div class="highlight"><pre><span></span><code>plt.tight_layout<span class="o">(</span><span class="nv">pad</span> <span class="o">=</span> <span class="m">3</span>.0<span class="o">)</span>
</code></pre></div>
<h3 id="equal-axis-aspect-ratio">equal axis aspect ratio<a class="headerlink" href="#equal-axis-aspect-ratio" title="Permanent link">&para;</a></h3>
<p>According to the <a href="https://matplotlib.org/stable/gallery/subplots_axes_and_figures/axis_equal_demo.html">official documentation</a>,</p>
<div class="highlight"><pre><span></span><code><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="mi">3</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">an</span><span class="p">),</span> <span class="mi">3</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">an</span><span class="p">))</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="mi">3</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">an</span><span class="p">),</span> <span class="mi">3</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">an</span><span class="p">))</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s2">&quot;equal&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="mi">3</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">an</span><span class="p">),</span> <span class="mi">3</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">an</span><span class="p">))</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">set_aspect</span><span class="p">(</span><span class="s2">&quot;equal&quot;</span><span class="p">,</span> <span class="s2">&quot;box&quot;</span><span class="p">)</span>
</code></pre></div>
<p><img alt="image" src="https://user-images.githubusercontent.com/13688320/122642147-7cae3780-d13b-11eb-9e14-9356d2e2f6a9.png" /></p>
<p>we prefer to the last one. If we want to directly call <code>plt</code> instead of <code>fig, ax</code>, then</p>
<div class="highlight"><pre><span></span><code><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="mi">3</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">an</span><span class="p">),</span> <span class="mi">3</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">an</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">set_aspect</span><span class="p">(</span><span class="s2">&quot;equal&quot;</span><span class="p">,</span> <span class="s2">&quot;box&quot;</span><span class="p">)</span>
</code></pre></div>
<p>note the middle <code>gca()</code>.</p>
<h3 id="scatter-size">scatter size<a class="headerlink" href="#scatter-size" title="Permanent link">&para;</a></h3>
<p>the size is defined by the area, <a href="https://stackoverflow.com/questions/14827650/pyplot-scatter-plot-marker-size">pyplot scatter plot marker size</a></p>
<h3 id="interactive-mode">interactive mode<a class="headerlink" href="#interactive-mode" title="Permanent link">&para;</a></h3>
<ul>
<li><a href="https://stackoverflow.com/questions/47273107/how-to-pause-a-for-loop-and-waiting-for-user-input-matplotlib">How to pause a for loop and waiting for user input matplotlib</a></li>
<li><a href="https://matplotlib.org/3.1.1/users/event_handling.html">Event handling and picking</a></li>
</ul>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Related projects:
- <a href="https://github.com/szcf-weiya/Cell-Video/blob/4721ef10b6f77f59dbed639c6806faa1b644ba06/models/BF_single.py#L166-L167">pause for stopping and resuming to plot</a>
- <a href="https://bitbucket.org/weiya/fruitcup/src/3880402ca0ef892eaca6856a93ee026676e80fab/src/fruitcup_solution_wlj/FruitCup.py#lines-347:348">plot every X seconds</a></p>
</div>
<h3 id="math-symbols">math symbols<a class="headerlink" href="#math-symbols" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\lambda&quot;</span><span class="p">)</span>
</code></pre></div>
<p>refer to <a href="https://matplotlib.org/users/mathtext.html">Writing mathematical expressions</a></p>
<h3 id="show-matplotlib-plots-in-ubuntu-windows-subsystem-for-linux">Show matplotlib plots in Ubuntu (Windows subsystem for Linux)<a class="headerlink" href="#show-matplotlib-plots-in-ubuntu-windows-subsystem-for-linux" title="Permanent link">&para;</a></h3>
<p>参考
<a href="https://stackoverflow.com/questions/43397162/show-matplotlib-plots-in-ubuntu-windows-subsystem-for-linux">Show matplotlib plots in Ubuntu (Windows subsystem for Linux)</a></p>
<h2 id="numpy">NumPy<a class="headerlink" href="#numpy" title="Permanent link">&para;</a></h2>
<h3 id="r-1-vs-r"><code>(R, 1)</code> vs <code>(R, )</code><a class="headerlink" href="#r-1-vs-r" title="Permanent link">&para;</a></h3>
<blockquote>
<p>The best way to think about NumPy arrays is that they consist of two parts, a <strong>data buffer</strong> which is just a block of raw elements, and a <strong>view</strong> which describes how to interpret the data buffer. <a href="https://stackoverflow.com/questions/22053050/difference-between-numpy-array-shape-r-1-and-r"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17.36 20.2v-5.38h1.79V22H3v-7.18h1.8v5.38h12.56M6.77 14.32l.37-1.76 8.79 1.85-.37 1.76-8.79-1.85m1.16-4.21.76-1.61 8.14 3.78-.76 1.62-8.14-3.79m2.26-3.99 1.15-1.38 6.9 5.76-1.15 1.37-6.9-5.75m4.45-4.25L20 9.08l-1.44 1.07-5.36-7.21 1.44-1.07M6.59 18.41v-1.8h8.98v1.8H6.59z"/></svg></span></a></p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">shape</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">)))</span>
<span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">shape</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span> <span class="p">)))</span>
<span class="p">(</span><span class="mi">3</span><span class="p">,)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">shape</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">3</span><span class="p">)))</span>
<span class="p">(</span><span class="mi">3</span><span class="p">,)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">shape</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="p">(</span><span class="mi">3</span><span class="p">,)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">shape</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span> <span class="c1"># ERROR!</span>
</code></pre></div>
<h3 id="array-operation">array operation<a class="headerlink" href="#array-operation" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">]],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">c</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">]],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">keepdims</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">a</span><span class="o">/</span><span class="n">c</span>
<span class="n">array</span><span class="p">([[</span> <span class="mf">1.</span> <span class="p">,</span>  <span class="mf">5.</span> <span class="p">],</span>
       <span class="p">[</span> <span class="mf">0.2</span><span class="p">,</span>  <span class="mf">1.</span> <span class="p">]])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">a</span>
<span class="n">array</span><span class="p">([</span> <span class="mf">1.</span><span class="p">,</span>  <span class="mf">5.</span><span class="p">])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">c</span>
<span class="n">array</span><span class="p">([[</span> <span class="mf">1.</span><span class="p">],</span>
       <span class="p">[</span> <span class="mf">5.</span><span class="p">]])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">d</span>
<span class="n">array</span><span class="p">([[</span> <span class="mi">1</span><span class="p">,</span>  <span class="mi">5</span><span class="p">],</span>
      <span class="p">[</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">]])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">d</span><span class="o">/</span><span class="n">c</span>
<span class="n">array</span><span class="p">([[</span> <span class="mf">1.</span><span class="p">,</span>  <span class="mf">5.</span><span class="p">],</span>
      <span class="p">[</span> <span class="mf">0.</span><span class="p">,</span>  <span class="mf">2.</span><span class="p">]])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">d</span><span class="o">/</span><span class="n">a</span>
<span class="n">array</span><span class="p">([[</span> <span class="mf">1.</span><span class="p">,</span>  <span class="mf">1.</span><span class="p">],</span>
      <span class="p">[</span> <span class="mf">0.</span><span class="p">,</span>  <span class="mf">2.</span><span class="p">]])</span>
</code></pre></div>
<h3 id="arrays-with-different-size">arrays with different size<a class="headerlink" href="#arrays-with-different-size" title="Permanent link">&para;</a></h3>
<ul>
<li>nested list</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="p">[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]]</span>
</code></pre></div>
<ul>
<li>numpy</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]],</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">object</span><span class="p">)</span>
</code></pre></div>
<p>refer to <a href="https://stackoverflow.com/questions/3386259/how-to-make-a-multidimension-numpy-array-with-a-varying-row-size">How to make a multidimension numpy array with a varying row size?</a></p>
<h3 id="npnewaxis"><code>np.newaxis</code><a class="headerlink" href="#npnewaxis" title="Permanent link">&para;</a></h3>
<p>add new dimensions to a numpy array <a href="https://stackoverflow.com/questions/17394882/how-can-i-add-new-dimensions-to-a-numpy-array"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17.36 20.2v-5.38h1.79V22H3v-7.18h1.8v5.38h12.56M6.77 14.32l.37-1.76 8.79 1.85-.37 1.76-8.79-1.85m1.16-4.21.76-1.61 8.14 3.78-.76 1.62-8.14-3.79m2.26-3.99 1.15-1.38 6.9 5.76-1.15 1.37-6.9-5.75m4.45-4.25L20 9.08l-1.44 1.07-5.36-7.21 1.44-1.07M6.59 18.41v-1.8h8.98v1.8H6.59z"/></svg></span></a>.</p>
<div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">shape</span><span class="p">(</span><span class="n">a</span><span class="p">[:,</span> <span class="p">:,</span> <span class="kc">None</span><span class="p">])</span>
<span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">shape</span><span class="p">(</span><span class="n">a</span><span class="p">[:,</span> <span class="p">:,</span> <span class="n">np</span><span class="o">.</span><span class="n">newaxis</span><span class="p">])</span>
<span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</code></pre></div>
<h3 id="array-of-falsetrue">array of FALSE/TRUE<a class="headerlink" href="#array-of-falsetrue" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="n">dtype</span> <span class="o">=</span> <span class="nb">bool</span><span class="p">)</span>
</code></pre></div>
<h3 id="array-of-array">Array of Array<a class="headerlink" href="#array-of-array" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">In</span> <span class="p">[</span><span class="mi">29</span><span class="p">]:</span> <span class="n">a</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">29</span><span class="p">]:</span> 
<span class="n">array</span><span class="p">([[</span> <span class="mf">83.</span><span class="p">,</span>  <span class="mf">11.</span><span class="p">],</span>
       <span class="p">[</span><span class="mf">316.</span><span class="p">,</span>  <span class="mf">19.</span><span class="p">],</span>
       <span class="p">[</span><span class="mf">372.</span><span class="p">,</span>  <span class="mf">35.</span><span class="p">]])</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">30</span><span class="p">]:</span> <span class="n">np</span><span class="o">.</span><span class="n">hstack</span><span class="p">([</span><span class="n">a</span><span class="p">,</span> <span class="n">a</span><span class="p">])</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">30</span><span class="p">]:</span> 
<span class="n">array</span><span class="p">([[</span> <span class="mf">83.</span><span class="p">,</span>  <span class="mf">11.</span><span class="p">,</span>  <span class="mf">83.</span><span class="p">,</span>  <span class="mf">11.</span><span class="p">],</span>
       <span class="p">[</span><span class="mf">316.</span><span class="p">,</span>  <span class="mf">19.</span><span class="p">,</span> <span class="mf">316.</span><span class="p">,</span>  <span class="mf">19.</span><span class="p">],</span>
       <span class="p">[</span><span class="mf">372.</span><span class="p">,</span>  <span class="mf">35.</span><span class="p">,</span> <span class="mf">372.</span><span class="p">,</span>  <span class="mf">35.</span><span class="p">]])</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">31</span><span class="p">]:</span> <span class="n">b</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">a</span><span class="p">,</span> <span class="n">a</span><span class="p">])</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">32</span><span class="p">]:</span> <span class="n">b</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">32</span><span class="p">]:</span> 
<span class="n">array</span><span class="p">([[</span> <span class="mf">83.</span><span class="p">,</span>  <span class="mf">11.</span><span class="p">],</span>
       <span class="p">[</span><span class="mf">316.</span><span class="p">,</span>  <span class="mf">19.</span><span class="p">],</span>
       <span class="p">[</span><span class="mf">372.</span><span class="p">,</span>  <span class="mf">35.</span><span class="p">]])</span>
</code></pre></div>
<h3 id="print-numpy-objects-without-line-breaks">print numpy objects without line breaks<a class="headerlink" href="#print-numpy-objects-without-line-breaks" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="n">x_str</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array_repr</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x_str</span><span class="p">)</span>
</code></pre></div>
<p>refer to <a href="https://stackoverflow.com/questions/29102955/how-to-print-numpy-objects-without-line-breaks">How to print numpy objects without line breaks</a></p>
<h3 id="merge-multiple-slices">merge multiple slices<a class="headerlink" href="#merge-multiple-slices" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">((</span><span class="mi">15</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="n">x</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">:</span><span class="mi">15</span><span class="p">],:]</span>
</code></pre></div>
<p>refer to <a href="https://stackoverflow.com/questions/46640821/numpy-an-efficient-way-to-merge-multiple-slices">Numpy: An efficient way to merge multiple slices</a></p>
<p>but it does not allow the iterator to construct the list,</p>
<div class="highlight"><pre><span></span><code>In: [i:i+3 for i in 1:3]
  File &quot;&lt;ipython-input-247-8e21d57e8f2d&gt;&quot;, line 1
    [i:i+3 for i in 1:3]
      ^
SyntaxError: invalid syntax

In: np.r_[i:i+3 for i in 1:3]
  File &quot;&lt;ipython-input-246-02f2b1ded12b&gt;&quot;, line 1
    np.r_[i:i+3 for i in 1:3]
                ^
SyntaxError: invalid syntax
</code></pre></div>
<p>As a comparison, Julia seems more flexible,</p>
<div class="highlight"><pre><span></span><code><span class="n">julia</span><span class="o">&gt;</span> <span class="n">vcat</span><span class="p">([</span><span class="n">i</span><span class="o">:</span><span class="n">i</span><span class="o">+</span><span class="mi">3</span> <span class="k">for</span> <span class="n">i</span> <span class="k">in</span> <span class="mi">1</span><span class="o">:</span><span class="mi">3</span><span class="p">]</span><span class="o">...</span><span class="p">)</span><span class="o">&#39;</span>
<span class="mi">1</span><span class="o">×</span><span class="mi">12</span> <span class="n">adjoint</span><span class="p">(</span><span class="o">::</span><span class="kt">Vector</span><span class="p">{</span><span class="kt">Int64</span><span class="p">})</span> <span class="n">with</span> <span class="n">eltype</span> <span class="kt">Int64</span><span class="o">:</span>
 <span class="mi">1</span>  <span class="mi">2</span>  <span class="mi">3</span>  <span class="mi">4</span>  <span class="mi">2</span>  <span class="mi">3</span>  <span class="mi">4</span>  <span class="mi">5</span>  <span class="mi">3</span>  <span class="mi">4</span>  <span class="mi">5</span>  <span class="mi">6</span>
</code></pre></div>
<h3 id="_1"><code>/=</code><a class="headerlink" href="#_1" title="Permanent link">&para;</a></h3>
<p>According to the builtin manual, <code>help('/=')</code>,</p>
<blockquote>
<p>An augmented assignment expression like &ldquo;x += 1&rdquo; can be rewritten as
&ldquo;x = x + 1&rdquo; to achieve a similar, but not exactly equal effect. In the
augmented version, &ldquo;x&rdquo; is only evaluated once. Also, when possible,
the actual operation is performed <em>in-place</em>, meaning that rather than
creating a new object and assigning that to the target, the old object
is modified instead.</p>
</blockquote>
<p>So it would be cautious when using it on arrays,</p>
<div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">a1</span> <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">a1</span> <span class="o">/=</span> <span class="mf">0.5</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">a1</span>
<span class="o">---------------------------------------------------------------------------</span>
<span class="ne">TypeError</span>                                 <span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">)</span>
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">106</span><span class="o">-</span><span class="mi">71</span><span class="n">f04990b2bb</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
      <span class="mi">1</span> <span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]])</span>
      <span class="mi">2</span> <span class="n">a1</span> <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="p">]</span>
<span class="o">----&gt;</span> <span class="mi">3</span> <span class="n">a1</span> <span class="o">/=</span> <span class="mf">0.5</span>
      <span class="mi">4</span> <span class="n">a1</span>

<span class="ne">TypeError</span><span class="p">:</span> <span class="n">ufunc</span> <span class="s1">&#39;true_divide&#39;</span> <span class="n">output</span> <span class="p">(</span><span class="n">typecode</span> <span class="s1">&#39;d&#39;</span><span class="p">)</span> <span class="n">could</span> <span class="ow">not</span> <span class="n">be</span> <span class="n">coerced</span> <span class="n">to</span> <span class="n">provided</span> <span class="n">output</span> <span class="n">parameter</span> <span class="p">(</span><span class="n">typecode</span> <span class="s1">&#39;l&#39;</span><span class="p">)</span> <span class="n">according</span> <span class="n">to</span> <span class="n">the</span> <span class="n">casting</span> <span class="n">rule</span> <span class="s1">&#39;&#39;</span><span class="n">same_kind</span><span class="s1">&#39;&#39;</span>
</code></pre></div>
<p>The above error is due to incompatible type, so it can be avoided by specifying the element type of the array, but the original array also has been updated,</p>
<div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]],</span> <span class="n">dtype</span> <span class="o">=</span> <span class="nb">float</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">a1</span> <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">a1</span> <span class="o">/=</span> <span class="mf">0.5</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">a1</span>
<span class="n">array</span><span class="p">([</span><span class="mf">2.</span><span class="p">,</span> <span class="mf">4.</span><span class="p">,</span> <span class="mf">6.</span><span class="p">])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">a</span>
<span class="n">array</span><span class="p">([[</span><span class="mf">2.</span><span class="p">,</span> <span class="mf">4.</span><span class="p">,</span> <span class="mf">6.</span><span class="p">],</span>
       <span class="p">[</span><span class="mf">4.</span><span class="p">,</span> <span class="mf">5.</span><span class="p">,</span> <span class="mf">6.</span><span class="p">]])</span>
</code></pre></div>
<p>In contrast, <code>/</code> would retain the original array.</p>
<div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]],</span> <span class="n">dtype</span> <span class="o">=</span> <span class="nb">float</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">a1</span> <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">a1</span> <span class="o">=</span> <span class="n">a1</span> <span class="o">/</span> <span class="mf">0.5</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">a1</span>
<span class="n">array</span><span class="p">([</span><span class="mf">2.</span><span class="p">,</span> <span class="mf">4.</span><span class="p">,</span> <span class="mf">6.</span><span class="p">])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">a</span>
<span class="n">array</span><span class="p">([[</span><span class="mf">1.</span><span class="p">,</span> <span class="mf">2.</span><span class="p">,</span> <span class="mf">3.</span><span class="p">],</span>
       <span class="p">[</span><span class="mf">4.</span><span class="p">,</span> <span class="mf">5.</span><span class="p">,</span> <span class="mf">6.</span><span class="p">]])</span>
</code></pre></div>
<h2 id="re"><code>re</code><a class="headerlink" href="#re" title="Permanent link">&para;</a></h2>
<h3 id="extract-the-starting-position">extract the starting position<a class="headerlink" href="#extract-the-starting-position" title="Permanent link">&para;</a></h3>
<p>Given an error message returns by <code>decode("utf8")</code> on a problematic characters, such as</p>
<div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="s2">&quot;编程&quot;</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf8&quot;</span><span class="p">)</span>
<span class="sa">b</span><span class="s1">&#39;</span><span class="se">\xe7\xbc\x96\xe7\xa8\x8b</span><span class="s1">&#39;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="sa">b</span><span class="s2">&quot;</span><span class="se">\xe7\xbc</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;utf8&quot;</span><span class="p">)</span>
<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
  <span class="n">File</span> <span class="s2">&quot;&lt;stdin&gt;&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="ne">UnicodeDecodeError</span><span class="p">:</span> <span class="s1">&#39;utf-8&#39;</span> <span class="n">codec</span> <span class="n">can</span><span class="s1">&#39;t decode bytes in position 0-1: unexpected end of data</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">e</span> <span class="o">=</span> <span class="s2">&quot;&#39;utf-8&#39; codec can&#39;t decode bytes in position 0-1: invalid continuation byte&quot;</span>
</code></pre></div>
<p>I want to get the starting position. Suppose only one byte is wrong, and since a Chinese character is encoded by 3 bytes, then there are only two possible cases,</p>
<ul>
<li><code>xoo</code> and <code>oox</code>: position <code>n</code>-<code>n+1</code></li>
<li><code>oxo</code>: position <code>n</code></li>
</ul>
<div class="highlight"><pre><span></span><code>&gt;&gt;&gt; re.search<span class="o">(</span><span class="s2">&quot;position ([0-9]{1,3})&quot;</span>, e<span class="o">)</span>.group<span class="o">(</span><span class="m">1</span><span class="o">)</span>
<span class="s1">&#39;0&#39;</span>
&gt;&gt;&gt; re.search<span class="o">(</span><span class="s2">&quot;position ([0-9]{1,3})&quot;</span>, e<span class="o">)</span>.group<span class="o">(</span><span class="m">0</span><span class="o">)</span>
<span class="s1">&#39;position 0&#39;</span>
</code></pre></div>
<p>where <code>()</code> is used to group, and <code>group(1)</code> returns the first group, while <code>group(0)</code> returns the whole match.</p>
<h2 id="_2">又拍云的短信平台<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h2>
<p>参考文献</p>
<ol>
<li><a href="http://blog.csdn.net/junli_chen/article/details/53670887">Python 使用requests发送POST请求 - CSDN博客</a></li>
<li><a href="https://www.cnblogs.com/fredkeke/p/7000687.html">Python-爬虫-requests库用语post登录</a></li>
</ol>
<h2 id="mdx_math">mdx_math安装命令<a class="headerlink" href="#mdx_math" title="Permanent link">&para;</a></h2>
<p>参考<a href="http://wutongtree.github.io/devops/manage-your-cms-using-mkdocs">manage-your-cms-using-mkdocs</a></p>
<div class="highlight"><pre><span></span><code>sudo pip install python-markdown-math
</code></pre></div>
<h2 id="how-can-i-use-conda-to-install-mysqldb">How can I use Conda to install MySQLdb?<a class="headerlink" href="#how-can-i-use-conda-to-install-mysqldb" title="Permanent link">&para;</a></h2>
<p>参考<a href="https://stackoverflow.com/questions/34140472/how-can-i-use-conda-to-install-mysqldb">How can I use Conda to install MySQLdb?</a></p>
<h2 id="mysql">远程连接 mysql<a class="headerlink" href="#mysql" title="Permanent link">&para;</a></h2>
<p>首先需要在服务器端，在<code>my.cnf</code> 中注释掉</p>
<div class="highlight"><pre><span></span><code><span class="c1"># bind-address = 127.0.0.1</span>
</code></pre></div>
<p>并且在 mysql 中创建用户并设置权限，如</p>
<div class="highlight"><pre><span></span><code>create user <span class="s1">&#39;test&#39;</span>@<span class="s1">&#39;%&#39;</span> identified by <span class="s1">&#39;test123&#39;</span><span class="p">;</span>
grant all privileges on testdb.* to <span class="s1">&#39;test&#39;</span>@<span class="s1">&#39;%&#39;</span> with grant option<span class="p">;</span>
</code></pre></div>
<p>参考</p>
<ol>
<li><a href="https://stackoverflow.com/questions/1559955/host-xxx-xx-xxx-xxx-is-not-allowed-to-connect-to-this-mysql-server">Host &lsquo;xxx.xx.xxx.xxx&rsquo; is not allowed to connect to this MySQL server</a></li>
<li><a href="https://stackoverflow.com/questions/14779104/how-to-allow-remote-connection-to-mysql">How to allow remote connection to mysql</a></li>
</ol>
<h2 id="sphinx">sphinx 相关<a class="headerlink" href="#sphinx" title="Permanent link">&para;</a></h2>
<h3 id="init"><strong>init</strong><a class="headerlink" href="#init" title="Permanent link">&para;</a></h3>
<p><a href="https://stackoverflow.com/questions/5599254/how-to-use-sphinxs-autodoc-to-document-a-classs-init-self-method">https://stackoverflow.com/questions/5599254/how-to-use-sphinxs-autodoc-to-document-a-classs-init-self-method</a></p>
<h2 id="thread-vs-process">thread vs process<a class="headerlink" href="#thread-vs-process" title="Permanent link">&para;</a></h2>
<p>参考 <a href="https://foofish.net/thread-and-process.html">一道面试题：说说进程和线程的区别</a></p>
<div class="highlight"><pre><span></span><code><span class="c1"># -*- coding: utf-8 -*-</span>

<span class="c1"># https://foofish.net/thread-and-process.html</span>

<span class="kn">import</span> <span class="nn">os</span>

<span class="c1"># 进程是资源（CPU、内存等）分配的基本单位，它是程序执行时的一个实例。</span>
<span class="c1"># 程序运行时系统就会创建一个进程，并为它分配资源，然后把该进程放入进程就绪队列，</span>
<span class="c1"># 进程调度器选中它的时候就会为它分配CPU时间，程序开始真正运行。</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;current process: </span><span class="si">%s</span><span class="s2"> start...&quot;</span> <span class="o">%</span> <span class="n">os</span><span class="o">.</span><span class="n">getpid</span><span class="p">())</span>
<span class="n">pid</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">fork</span><span class="p">()</span>
<span class="k">if</span> <span class="n">pid</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;child process: </span><span class="si">%s</span><span class="s1">, parent process: </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">getpid</span><span class="p">(),</span> <span class="n">os</span><span class="o">.</span><span class="n">getppid</span><span class="p">()))</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;process </span><span class="si">%s</span><span class="s1"> create child process: </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">getpid</span><span class="p">(),</span> <span class="n">pid</span><span class="p">)</span> <span class="p">)</span>

<span class="c1"># fork函数会返回两次结果，因为操作系统会把当前进程的数据复制一遍，</span>
<span class="c1"># 然后程序就分两个进程继续运行后面的代码，fork分别在父进程和子进程中返回，</span>
<span class="c1"># 在子进程返回的值pid永远是0，在父进程返回的是子进程的进程id。</span>


<span class="c1"># 线程是程序执行时的最小单位，它是进程的一个执行流，</span>
<span class="c1"># 是CPU调度和分派的基本单位，一个进程可以由很多个线程组成，</span>
<span class="c1"># 线程间共享进程的所有资源，每个线程有自己的堆栈和局部变量。</span>
</code></pre></div>
<h2 id="kite">Kite 使用体验<a class="headerlink" href="#kite" title="Permanent link">&para;</a></h2>
<p>Copilot 一直 detect 不出 spyder，只有刚开始装的时候检测到了，但那时候也没有起作用。而 kite 本身一直在 spyder 右下角的状态栏中。</p>
<h2 id="pip"><code>pip</code><a class="headerlink" href="#pip" title="Permanent link">&para;</a></h2>
<ul>
<li><code>pip list</code>: 查看已安装的包</li>
</ul>
<h3 id="set-mirror-in-mainland-china">set mirror in mainland China<a class="headerlink" href="#set-mirror-in-mainland-china" title="Permanent link">&para;</a></h3>
<p>在win10下设置，参考<a href="http://blog.csdn.net/testcs_dn/article/details/54374849">Python pip 国内镜像大全及使用办法</a></p>
<p>在用户文件夹下新建pip文件夹，里面新建pip.ini文件</p>
<div class="highlight"><pre><span></span><code>[global]
index-url=http://mirrors.aliyun.com/pypi/simple/
[install]
trusted-host=mirrors.aliyun.com
</code></pre></div>
<p>注意编码格式为utf8无BOM。</p>
<h3 id="temporary-proxy">temporary proxy<a class="headerlink" href="#temporary-proxy" title="Permanent link">&para;</a></h3>
<p>通过 <code>conda</code> 安装镜像在 <code>.condarc</code> 中设置, 如在内地可以用<a href="https://mirrors.tuna.tsinghua.edu.cn/help/anaconda/">清华的镜像</a>，而通过 <code>pip</code> 详见 <a href="https://mirror.tuna.tsinghua.edu.cn/help/pypi/">pypi 镜像使用帮助</a>，临时使用可以运行</p>
<div class="highlight"><pre><span></span><code>pip install -i https://pypi.tuna.tsinghua.edu.cn/simple some-package
</code></pre></div>
<h3 id="upgrade-package">upgrade package<a class="headerlink" href="#upgrade-package" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># pip install PACKAGE -upgrade</span>
pip install PACKAGE -U
</code></pre></div>
<h3 id="install-from-github">install from github<a class="headerlink" href="#install-from-github" title="Permanent link">&para;</a></h3>
<p>For example, ESL-CN used the forked plugin, <a href="https://github.com/szcf-weiya/mkdocs-git-revision-date-plugin">szcf-weiya/mkdocs-git-revision-date-plugin</a>, to set the update time, then in the <code>.travis.yml</code> file,</p>
<div class="highlight"><pre><span></span><code>pip install git+https://github.com/szcf-weiya/mkdocs-git-revision-date-plugin.git
</code></pre></div>
<h3 id="uninstalling-a-distutils-installed-project-error">&lsquo;Uninstalling a distutils installed project&rsquo; error<a class="headerlink" href="#uninstalling-a-distutils-installed-project-error" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>pip install --ignore-installed <span class="si">${</span><span class="nv">PACKAGE_NAME</span><span class="si">}</span>
</code></pre></div>
<p>refer to <a href="https://github.com/blockstack/blockstack-core/issues/504">&lsquo;Uninstalling a distutils installed project&rsquo; error when installing blockstack #504</a></p>
<h2 id="sys"><code>sys</code><a class="headerlink" href="#sys" title="Permanent link">&para;</a></h2>
<h3 id="the-first-argument-in-syspathinsert">the first argument in <code>sys.path.insert()</code><a class="headerlink" href="#the-first-argument-in-syspathinsert" title="Permanent link">&para;</a></h3>
<blockquote>
<p>But for <code>sys.path</code> specifically, element 0 is the path containing the script, and so using index 1 causes Python to search that path first and then the inserted path, versus the other way around when inserted at index 0.</p>
</blockquote>
<p>The reason is that <code>sys.path</code> returns a list, while <code>.insert</code> is the method for a list, which insert object before the given index. Thus, if the first argument is 0, then the inserted path would be firstly searched, otherwise, it would be inserted after the first path, the current folder.</p>
<p>refer to <a href="https://stackoverflow.com/questions/37176836/first-argument-of-sys-path-insert-in-python">First argument of sys.path.insert in python</a></p>
<h2 id="tensorflow">TensorFlow<a class="headerlink" href="#tensorflow" title="Permanent link">&para;</a></h2>
<h2 id="the-i-th-row-in-pandas">the <code>i</code>-th row in pandas<a class="headerlink" href="#the-i-th-row-in-pandas" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="n">df_test</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</code></pre></div>
<h2 id="key-in-sorted"><code>key</code> in <code>sorted</code><a class="headerlink" href="#key-in-sorted" title="Permanent link">&para;</a></h2>
<p>As said in <a href="https://docs.python.org/3/howto/sorting.html">Key Functions &ndash; Sorting HOW TO</a>, the <code>key</code> function is to specify a function to be called on each list element prior to making comparisons.</p>
<div class="highlight"><pre><span></span><code><span class="nb">sorted</span><span class="p">(</span><span class="s2">&quot;This is a test string from Andrew&quot;</span><span class="o">.</span><span class="n">split</span><span class="p">(),</span> <span class="n">key</span><span class="o">=</span><span class="nb">str</span><span class="o">.</span><span class="n">lower</span><span class="p">)</span>
</code></pre></div>
<p>and met such technique in <a href="https://github.com/4ment/marginal-experiments/blob/41124a1fbeed566cd7abc3dc474ea908a5ee8b28/run_simulations.py#L229">4ment/marginal-experiments</a></p>
<h2 id="unittest-and-coverage">unittest and coverage<a class="headerlink" href="#unittest-and-coverage" title="Permanent link">&para;</a></h2>
<ul>
<li>
<p>candidate packages</p>
<ul>
<li><a href="https://coverage.readthedocs.io/en/coverage-5.5/">Coverage.py</a></li>
<li><a href="https://coveralls-python.readthedocs.io/en/latest/usage/index.html"><img alt="✅" class="twemoji" src="https://twemoji.maxcdn.com/v/latest/svg/2705.svg" title=":white_check_mark:" /> coveralls-python</a></li>
</ul>
</li>
<li>
<p>the schematic of unittest framework in python: <a href="https://stackoverflow.com/questions/1896918/running-unittest-with-typical-test-directory-structure">Running unittest with typical test directory structure</a></p>
</li>
</ul>
<h3 id="run-locally">run locally<a class="headerlink" href="#run-locally" title="Permanent link">&para;</a></h3>
<ol>
<li>write unittest scripts in folder <code>test</code></li>
<li>install <a href="https://coveralls-python.readthedocs.io/en/latest/usage/index.html">coveralls-python</a>: <code>conda install coveralls</code></li>
<li>obtain the COVERALLS_REPO_TOKEN from <a href="https://coveralls.io/">coveralls</a></li>
<li>run the script file</li>
</ol>
<div class="tabbed-set" data-tabs="1:1"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><label for="__tabbed_1_1">run_local_coverall.sh</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>
<span class="nb">cd</span> test/
coverage run test_script.py
mv .coverage ..
<span class="nb">cd</span> ..

<span class="nv">COVERALLS_REPO_TOKEN</span><span class="o">=</span>XXXXXXXXXXXXXXXXXXXXXXX coveralls
</code></pre></div>
</div>
</div>
<h3 id="combine-with-julia-in-actions">combine with julia in Actions<a class="headerlink" href="#combine-with-julia-in-actions" title="Permanent link">&para;</a></h3>
<p>combine the coverage from julia by merging the resulted json file, which need <code>coveralls-lcov</code> to convert <code>LCOV</code> to <code>JSON</code>.</p>
<p>refer to:</p>
<ul>
<li><a href="https://github.com/aodj/icelandreview/actions/runs/33951158/workflow">An Example of Python in Github Action</a></li>
<li><a href="https://coveralls-python.readthedocs.io/en/latest/usage/multilang.html">Multiple Language Support</a></li>
<li><a href="https://github.com/szcf-weiya/Cell-Video/blob/102153462e7fd65718738bd2ad0ef37d4150f722/.github/workflows/blank.yml">GitHub: Cell-Video</a></li>
</ul>
<h2 id="misc">Misc<a class="headerlink" href="#misc" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="http://www.cnblogs.com/biaoyu/p/4857911.html">人工鱼群算法-python实现</a></li>
<li><a href="https://segmentfault.com/q/1010000000685938">请问phantom-proxy如何设置代理ip</a></li>
<li><a href="http://blog.chinaunix.net/uid-27838438-id-4227131.html">Python编码介绍——encode和decode</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/20410446">爬虫必备——requests</a></li>
<li><a href="http://www.jb51.net/article/48112.htm">Python使用代理抓取网站图片（多线程）</a></li>
<li><a href="http://blog.chinaunix.net/uid-27571599-id-3484048.html">python中threading模块详解（一）</a></li>
<li><a href="http://30daydo.com/article/94">python 爬虫获取XiciDaili代理IP</a></li>
<li><a href="https://www.liaoxuefeng.com/wiki/001374738125095c955c1e6d8bb493182103fac9270762a000/001388320596292f925f46d56ef4c80a1c9d8e47e2d5711000">使用SQLite</a></li>
<li><a href="http://www.cnblogs.com/hongten/p/hongten_python_sqlite3.html">python 使用sqlite3</a></li>
<li><a href="http://www.cnblogs.com/yuxc/archive/2011/08/18/2143606.html">用Python进行SQLite数据库操作</a></li>
<li><a href="https://www.oschina.net/question/54100_27233">Python调用MongoDB使用心得</a></li>
<li><a href="http://www.pythontab.com/html/2014/pythonhexinbiancheng_1128/928.html">python urllib2详解及实例</a></li>
<li><a href="https://www.jianshu.com/p/ffd02cc9d4ef">Python爬虫入门实战七：使用Selenium&ndash;以QQ空间为例</a></li>
<li><a href="https://www.cnblogs.com/arkenstone/p/5727883.html">Python中将打印输出导向日志文件</a></li>
<li><a href="https://www.cnblogs.com/tk091/p/4012004.html">python 中文编码(一)</a></li>
<li><a href="https://cuiqingcai.com/1319.html">Python爬虫利器二之Beautiful Soup的用法</a></li>
<li><a href="http://www.jb51.net/article/28035.htm">正则表达式之捕获组/非捕获组介绍</a></li>
<li><a href="https://stackoverflow.com/questions/40208051/selenium-using-python-geckodriver-executable-needs-to-be-in-path">Selenium using Python - Geckodriver executable needs to be in PATH</a></li>
</ul>
                
              
              
                


              
            </article>
          </div>
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" data-md-state="hidden">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"/></svg>
            Back to top
          </a>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../R/factor/" class="md-footer__link md-footer__link--prev" aria-label="Previous: 一道与 factor 有关的问题" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              一道与 factor 有关的问题
            </div>
          </div>
        </a>
      
      
        
        <a href="conda/" class="md-footer__link md-footer__link--next" aria-label="Next: Conda" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Conda
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2017-2021 weiya
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
  <div class="md-footer-social">
    
      
      
        
        
      
      <a href="https://github.com/szcf-weiya" target="_blank" rel="noopener" title="github.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg>
      </a>
    
      
      
        
        
      
      <a href="https://esl.hohoweiya.xyz" target="_blank" rel="noopener" title="esl.hohoweiya.xyz" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M448 360V24c0-13.3-10.7-24-24-24H96C43 0 0 43 0 96v320c0 53 43 96 96 96h328c13.3 0 24-10.7 24-24v-16c0-7.5-3.5-14.3-8.9-18.7-4.2-15.4-4.2-59.3 0-74.7 5.4-4.3 8.9-11.1 8.9-18.6zM128 134c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm0 64c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm253.4 250H96c-17.7 0-32-14.3-32-32 0-17.6 14.4-32 32-32h285.4c-1.9 17.1-1.9 46.9 0 64z"/></svg>
      </a>
    
      
      
        
        
      
      <a href="https://hohoweiya.xyz" target="_blank" rel="noopener" title="hohoweiya.xyz" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M280.37 148.26 96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47 488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"/></svg>
      </a>
    
      
      
        
        
      
      <a href="https://stats.hohoweiya.xyz" target="_blank" rel="noopener" title="stats.hohoweiya.xyz" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M552 64H112c-20.858 0-38.643 13.377-45.248 32H24c-13.255 0-24 10.745-24 24v272c0 30.928 25.072 56 56 56h496c13.255 0 24-10.745 24-24V88c0-13.255-10.745-24-24-24zM48 392V144h16v248c0 4.411-3.589 8-8 8s-8-3.589-8-8zm480 8H111.422c.374-2.614.578-5.283.578-8V112h416v288zM172 280h136c6.627 0 12-5.373 12-12v-96c0-6.627-5.373-12-12-12H172c-6.627 0-12 5.373-12 12v96c0 6.627 5.373 12 12 12zm28-80h80v40h-80v-40zm-40 140v-24c0-6.627 5.373-12 12-12h136c6.627 0 12 5.373 12 12v24c0 6.627-5.373 12-12 12H172c-6.627 0-12-5.373-12-12zm192 0v-24c0-6.627 5.373-12 12-12h104c6.627 0 12 5.373 12 12v24c0 6.627-5.373 12-12 12H364c-6.627 0-12-5.373-12-12zm0-144v-24c0-6.627 5.373-12 12-12h104c6.627 0 12 5.373 12 12v24c0 6.627-5.373 12-12 12H364c-6.627 0-12-5.373-12-12zm0 72v-24c0-6.627 5.373-12 12-12h104c6.627 0 12 5.373 12 12v24c0 6.627-5.373 12-12 12H364c-6.627 0-12-5.373-12-12z"/></svg>
      </a>
    
      
      
      <a href="mailto:szcfweiya@gmail.com" target="_blank" rel="noopener" title="" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M464 64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm0 48v40.805c-22.422 18.259-58.168 46.651-134.587 106.49-16.841 13.247-50.201 45.072-73.413 44.701-23.208.375-56.579-31.459-73.413-44.701C106.18 199.465 70.425 171.067 48 152.805V112h416zM48 400V214.398c22.914 18.251 55.409 43.862 104.938 82.646 21.857 17.205 60.134 55.186 103.062 54.955 42.717.231 80.509-37.199 103.053-54.947 49.528-38.783 82.032-64.401 104.947-82.653V400H48z"/></svg>
      </a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tabs", "navigation.sections", "navigation.top"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../assets/javascripts/workers/search.477d984a.min.js", "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.ddd52ceb.min.js"></script>
      
        <script src="../javascripts/baiduzhanzhang.js"></script>
      
        <script src="../javascripts/extra.js"></script>
      
        <script src="../javascripts/mathjax.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
    
  </body>
</html>