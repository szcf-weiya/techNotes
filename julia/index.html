
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="技术博客">
      
      
        <meta name="author" content="weiya">
      
      
        <link rel="canonical" href="https://tech.hohoweiya.xyz/julia/">
      
      
        <link rel="prev" href="../python/esltag/">
      
      
        <link rel="next" href="plot/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.38">
    
    
      
        <title>Base - techNotes</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.8c3ca2c6.min.css">
      
      


    
    
      
    
    
      
    
    
      <link rel="stylesheet" href="https://cdn.tonycrane.cc/jbmono/jetbrainsmono.css">
    
      <link rel="stylesheet" href="https://cdn.tonycrane.cc/lxgw/lxgwscreen.css">
    
      <link rel="stylesheet" href="../stylesheets/custom.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    

  

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-1JWL5Y1W90"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-1JWL5Y1W90');
  </script>
  <script data-ad-client="ca-pub-3680148472128768" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>


    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#julia" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="techNotes" class="md-header__button md-logo" aria-label="techNotes" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            techNotes
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Base
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/szcf-weiya/techNotes" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    szcf-weiya/techNotes
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../Linux/" class="md-tabs__link">
          
  
    
  
  Linux

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../comparisons/stat/" class="md-tabs__link">
          
  
    
  
  StatProgramming

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../Cpp/" class="md-tabs__link">
          
  
    
  
  CSProgramming

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../TeX/" class="md-tabs__link">
          
  
    
  
  DocProgramming

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../website/" class="md-tabs__link">
          
  
    
  
  BuildWebsite

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../autotools/" class="md-tabs__link">
          
  
    
  
  Development

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../stats/prob/" class="md-tabs__link">
          
  
    
  
  Stat

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../biology/samtools/" class="md-tabs__link">
          
  
    
  
  InvitedPosts

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../links/" class="md-tabs__link">
          
  
    
  
  Links

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../English/" class="md-tabs__link">
          
  
    
  
  Misc

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="techNotes" class="md-nav__button md-logo" aria-label="techNotes" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    techNotes
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/szcf-weiya/techNotes" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    szcf-weiya/techNotes
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
          
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../Linux/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Linux
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Linux
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Linux/general/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    General
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Linux/tools/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Command-line Tools
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../shell/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Shell Scripts
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5" >
        
          
          <label class="md-nav__link" for="__nav_2_5" id="__nav_2_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Laptops
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_5">
            <span class="md-nav__icon md-icon"></span>
            Laptops
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Linux/ubuntu/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ubuntu
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Linux/software/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Applications
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Linux/asAserver/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    G40
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Linux/wsl/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    WSL
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5_5" >
        
          
          <label class="md-nav__link" for="__nav_2_5_5" id="__nav_2_5_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Blog
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_5_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_5_5">
            <span class="md-nav__icon md-icon"></span>
            Blog
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Linux/blog/2024-03-09-CD-drive/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CD in USB Drive
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Linux/blog/2020-08-25-PSSD/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Portable SSD
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Linux/blog/2020-09-01-charge-battery-adaptively/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Charge Adaptively
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Linux/blog/2021-06-07-switch-monitor/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Switch Monitor Mode
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Linux/blog/2021-07-28-use-old-kernel/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Use Old Kernel
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6" >
        
          
          <label class="md-nav__link" for="__nav_2_6" id="__nav_2_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Servers
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_6">
            <span class="md-nav__icon md-icon"></span>
            Servers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Linux/servers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    General
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Linux/ecs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AliECS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Linux/rocky-server/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Rocky-Linux @ Fan Group
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Linux/chpc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CHPC-Cluster @ CUHK
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6_5" >
        
          
          <label class="md-nav__link" for="__nav_2_6_5" id="__nav_2_6_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Blog
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_6_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_6_5">
            <span class="md-nav__icon md-icon"></span>
            Blog
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Internet/ipv6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ipv6 on aws
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Linux/blog/2020-12-17-passwordless-failed/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fail to SSH pwdlessly
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Linux/blog/2021-05-12-fail-to-access-home/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fail to Access Home
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Linux/blog/2022-11-19-why-job-restart/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Why Job Restart?
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_7" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../Internet/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Network/Internet
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_7" id="__nav_2_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_7">
            <span class="md-nav__icon md-icon"></span>
            Network/Internet
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Internet/sci-int/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    科学上网
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Internet/encrypt/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    加密算法
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
          
        
      
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../SAS/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    StatProgramming
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            StatProgramming
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../comparisons/stat/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Comparisons
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../R/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    R
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_2" id="__nav_3_2_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            R
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../R/plot/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Plot
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_3" >
        
          
          <label class="md-nav__link" for="__nav_3_2_3" id="__nav_3_2_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Blog
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2_3">
            <span class="md-nav__icon md-icon"></span>
            Blog
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../R/blog/2024-02-13-blipr-yale-hpc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Install blipr on Yale HPC
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../R/legend_from_zhihu/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Legend in ggplot2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../R/sample/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    New sample function (v3.6.0+)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../R/factor/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Speedup related to factor
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../python/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Python
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_3" id="__nav_3_3_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            Python
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../python/conda/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Conda
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../python/opencv/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OpenCV
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../python/rpy2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    rpy2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3_5" >
        
          
          <label class="md-nav__link" for="__nav_3_3_5" id="__nav_3_3_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Blog
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3_5">
            <span class="md-nav__icon md-icon"></span>
            Blog
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../misc/report/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    那些年抢过的讲座
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../python/pystan/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PyStan 体验
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../python/esltag/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    自建关键词索引页
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="./" class="md-nav__link md-nav__link--active">
              
  
  <span class="md-ellipsis">
    Julia
  </span>
  

            </a>
            
              
              <label class="md-nav__link md-nav__link--active" for="__nav_3_4" id="__nav_3_4_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            Julia
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="plot/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Plot
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="dev_package/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Dev
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../Matlab/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Matlab
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5">
            <span class="md-nav__icon md-icon"></span>
            Matlab
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    CSProgramming
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            CSProgramming
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
          
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../Cpp/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    C/C++
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1">
            <span class="md-nav__icon md-icon"></span>
            C/C++
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Cpp/Qt/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Qt
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../java/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Java
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            Java
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../SQL/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    SQL
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            SQL
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../R/install-notes-for-rmysql/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RMySQL
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../cuda/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    CUDA
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4">
            <span class="md-nav__icon md-icon"></span>
            CUDA
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    DocProgramming
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            DocProgramming
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../TeX/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    TeX
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5_1" id="__nav_5_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1">
            <span class="md-nav__icon md-icon"></span>
            TeX
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../TeX/CI/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TravisCI
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../TeX/arxiv/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    arXiv
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../TeX/vargreek/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    VarGreek
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../TeX/overleaf/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overleaf
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Markdown
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            Markdown
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../doc/markdown/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    General
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../website/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    BuildWebsite
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6" id="__nav_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            BuildWebsite
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_2" >
        
          
          <label class="md-nav__link" for="__nav_6_2" id="__nav_6_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Components
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_2">
            <span class="md-nav__icon md-icon"></span>
            Components
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../website/css/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CSS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../website/js/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    JS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../website/disqus/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Disqus
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../website/analytics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Analytics
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_3" >
        
          
          <label class="md-nav__link" for="__nav_6_3" id="__nav_6_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Static
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_3">
            <span class="md-nav__icon md-icon"></span>
            Static
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../website/jekyll/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Jekyll
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_4" >
        
          
          <label class="md-nav__link" for="__nav_6_4" id="__nav_6_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Dynamic
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_4">
            <span class="md-nav__icon md-icon"></span>
            Dynamic
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../website/2024-06-10-spinup-rshiny/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Shiny
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../website/php/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PHP
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../website/xampp/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    XAMPP
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../misc/wx/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    微信小程序
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../website/cdn/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CDN
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_6" >
        
          
          <label class="md-nav__link" for="__nav_6_6" id="__nav_6_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Others
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_6">
            <span class="md-nav__icon md-icon"></span>
            Others
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../website/general/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    其它问题
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../misc/wxjssdk/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    jssdk
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
          
        
      
        
          
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../autotools/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Development
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_7" id="__nav_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Development
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dev/docker/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Docker
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Git/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Git
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../phantomjs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Phantomjs
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
          
        
      
        
          
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../stats/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Stat
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_8" id="__nav_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Stat
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../stats/prob/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Probability
  </span>
  

      </a>
    </li>
  

              
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../scientific/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Scientific
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../stats/matrix/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Matrix
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    InvitedPosts
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            InvitedPosts
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../biology/samtools/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Samtools
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Linux/maximum-usage-of-ITSC-cluster-resource/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MaxClusterUsage
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../links/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Links
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            Links
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
      
        
          
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_11" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../English/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Misc
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_11" id="__nav_11_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_11">
            <span class="md-nav__icon md-icon"></span>
            Misc
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../guitar/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Guitar
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../win/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Windows
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../biology/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Biology
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../finance/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Finance
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../fresh/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fresh
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../misc/live/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Live
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mi/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mi
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../misc/terms/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Terminology
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#version-control" class="md-nav__link">
    <span class="md-ellipsis">
      Version Control
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#array" class="md-nav__link">
    <span class="md-ellipsis">
      Array
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Array">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pretty-println" class="md-nav__link">
    <span class="md-ellipsis">
      pretty println
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vs-when-assigning-a-rowcolumn-vector" class="md-nav__link">
    <span class="md-ellipsis">
      .= vs = when assigning a row/column vector
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dims1" class="md-nav__link">
    <span class="md-ellipsis">
      dims=1
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#array-in-functions" class="md-nav__link">
    <span class="md-ellipsis">
      array in functions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#no-reduction-with-11" class="md-nav__link">
    <span class="md-ellipsis">
      no reduction with [1:1]
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#convert-a-matrix-into-an-array-of-array" class="md-nav__link">
    <span class="md-ellipsis">
      convert a matrix into an array of array
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#index-from-0" class="md-nav__link">
    <span class="md-ellipsis">
      index from 0
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#base" class="md-nav__link">
    <span class="md-ellipsis">
      Base
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Base">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#disable-warning" class="md-nav__link">
    <span class="md-ellipsis">
      disable warning
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#__dir__" class="md-nav__link">
    <span class="md-ellipsis">
      @__DIR__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#relative-path-in-include-vs-read" class="md-nav__link">
    <span class="md-ellipsis">
      Relative path in include vs read
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      连等号赋值
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#error-expected-typet" class="md-nav__link">
    <span class="md-ellipsis">
      ERROR: expected Type{T}
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#type-instance-and-object" class="md-nav__link">
    <span class="md-ellipsis">
      type, instance, and object
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#control-flow" class="md-nav__link">
    <span class="md-ellipsis">
      Control Flow
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Control Flow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#priority-of" class="md-nav__link">
    <span class="md-ellipsis">
      priority of &amp;
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ifelse-vs" class="md-nav__link">
    <span class="md-ellipsis">
      ifelse vs ?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#for-in-array" class="md-nav__link">
    <span class="md-ellipsis">
      for in array
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#distributed" class="md-nav__link">
    <span class="md-ellipsis">
      Distributed
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Distributed">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#distributed_1" class="md-nav__link">
    <span class="md-ellipsis">
      @distributed
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sync-vs-async" class="md-nav__link">
    <span class="md-ellipsis">
      @sync vs @async
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gurobi" class="md-nav__link">
    <span class="md-ellipsis">
      Gurobi
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jld-vs-jld2" class="md-nav__link">
    <span class="md-ellipsis">
      JLD vs JLD2
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#juno" class="md-nav__link">
    <span class="md-ellipsis">
      Juno
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Juno">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#shortcuts" class="md-nav__link">
    <span class="md-ellipsis">
      Shortcuts
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bug-when-cltr-enter" class="md-nav__link">
    <span class="md-ellipsis">
      Bug when Cltr + Enter
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#system-proxy" class="md-nav__link">
    <span class="md-ellipsis">
      System Proxy
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#function" class="md-nav__link">
    <span class="md-ellipsis">
      Function
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Function">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#calculation-in-arguments" class="md-nav__link">
    <span class="md-ellipsis">
      calculation in arguments
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#function-redefinition-in-if" class="md-nav__link">
    <span class="md-ellipsis">
      function redefinition in if
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#invoke-function-via-string" class="md-nav__link">
    <span class="md-ellipsis">
      invoke function via string
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#default-argument-and-optional-arguments" class="md-nav__link">
    <span class="md-ellipsis">
      default argument and optional arguments
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#function-in-function" class="md-nav__link">
    <span class="md-ellipsis">
      function in function
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pkg" class="md-nav__link">
    <span class="md-ellipsis">
      Pkg
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pycall" class="md-nav__link">
    <span class="md-ellipsis">
      PyCall
    </span>
  </a>
  
    <nav class="md-nav" aria-label="PyCall">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#update-matplotlib" class="md-nav__link">
    <span class="md-ellipsis">
      Update Matplotlib
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#couldnt-find-libpython-error" class="md-nav__link">
    <span class="md-ellipsis">
      Couldn&rsquo;t find libpython error
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#record-for-install-pycall" class="md-nav__link">
    <span class="md-ellipsis">
      Record for install PyCall
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rcall" class="md-nav__link">
    <span class="md-ellipsis">
      RCall
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#random" class="md-nav__link">
    <span class="md-ellipsis">
      Random
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Random">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#case-1-two-files" class="md-nav__link">
    <span class="md-ellipsis">
      Case 1: Two files
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#case-2-a-single-file" class="md-nav__link">
    <span class="md-ellipsis">
      Case 2: a single file
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#a-correct-way" class="md-nav__link">
    <span class="md-ellipsis">
      A Correct Way
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#revise" class="md-nav__link">
    <span class="md-ellipsis">
      Revise
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Revise">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#is-there-a-way-to-undo-using-in-julia" class="md-nav__link">
    <span class="md-ellipsis">
      Is there a way to undo using in Julia?
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#statistics-statsbase-distributions" class="md-nav__link">
    <span class="md-ellipsis">
      Statistics (StatsBase, Distributions)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Statistics (StatsBase, Distributions)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mean" class="md-nav__link">
    <span class="md-ellipsis">
      关于 mean()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#normal-0" class="md-nav__link">
    <span class="md-ellipsis">
      Normal 中标准差为 0 的问题
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sympy-symbolic-math" class="md-nav__link">
    <span class="md-ellipsis">
      SymPy: Symbolic Math
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#parallel" class="md-nav__link">
    <span class="md-ellipsis">
      parallel
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pbsdsh-unsolved" class="md-nav__link">
    <span class="md-ellipsis">
      pbsdsh (unsolved)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="pbsdsh (unsolved)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#references" class="md-nav__link">
    <span class="md-ellipsis">
      references
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#julia-local-package" class="md-nav__link">
    <span class="md-ellipsis">
      julia local package 失败折腾记录
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#variable-scopes" class="md-nav__link">
    <span class="md-ellipsis">
      Variable Scopes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Variable Scopes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#for-loop" class="md-nav__link">
    <span class="md-ellipsis">
      for loop
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#while-loop" class="md-nav__link">
    <span class="md-ellipsis">
      while loop
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#and-hash" class="md-nav__link">
    <span class="md-ellipsis">
      自定义 == and hash()
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#methoderror-objects-of-type-module-are-not-callable" class="md-nav__link">
    <span class="md-ellipsis">
      MethodError: objects of type Module are not callable
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#libx86_64-linux-gnulibzso1-versionzlib_129-not-found" class="md-nav__link">
    <span class="md-ellipsis">
      /lib/x86_64-linux-gnu/libz.so.1: versionZLIB_1.2.9&rsquo; not found`
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#work-with-gpu" class="md-nav__link">
    <span class="md-ellipsis">
      work with GPU
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#load-imageview-on-server" class="md-nav__link">
    <span class="md-ellipsis">
      load ImageView on Server
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#-i-vs-l" class="md-nav__link">
    <span class="md-ellipsis">
      -i vs -L
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#unable-to-display-plot-using-the-repl-gks-errors" class="md-nav__link">
    <span class="md-ellipsis">
      Unable to display plot using the REPL. GKS errors
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reset-kw-value" class="md-nav__link">
    <span class="md-ellipsis">
      reset kw... value
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#some-interesting-behavior" class="md-nav__link">
    <span class="md-ellipsis">
      some interesting behavior
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pass-array-into-function" class="md-nav__link">
    <span class="md-ellipsis">
      pass array into function
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#check-whether-array-entry-is-undef" class="md-nav__link">
    <span class="md-ellipsis">
      check whether array entry is undef
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#memory-allocation" class="md-nav__link">
    <span class="md-ellipsis">
      Memory Allocation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Memory Allocation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#usage-of-gcgc" class="md-nav__link">
    <span class="md-ellipsis">
      Usage of GC.gc()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memory-allocation-of-undef" class="md-nav__link">
    <span class="md-ellipsis">
      memory allocation of undef
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#wrong-arrangement-of-multiple-figures-in-a-grid" class="md-nav__link">
    <span class="md-ellipsis">
      wrong arrangement of multiple figures in a grid
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#package" class="md-nav__link">
    <span class="md-ellipsis">
      同时安装多个 package
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      内地镜像源
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#select-text-in-the-output-pdf" class="md-nav__link">
    <span class="md-ellipsis">
      select text in the output pdf
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#colorviews-for-images" class="md-nav__link">
    <span class="md-ellipsis">
      colorviews for images
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#return-values-of-function" class="md-nav__link">
    <span class="md-ellipsis">
      return values of function
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#string" class="md-nav__link">
    <span class="md-ellipsis">
      String
    </span>
  </a>
  
    <nav class="md-nav" aria-label="String">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#padding-zero-on-the-left" class="md-nav__link">
    <span class="md-ellipsis">
      padding zero on the left
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#check-if-substring" class="md-nav__link">
    <span class="md-ellipsis">
      check if substring
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#singledouble-quoting" class="md-nav__link">
    <span class="md-ellipsis">
      single/double quoting
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#run-command-line" class="md-nav__link">
    <span class="md-ellipsis">
      run command line
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#foreach" class="md-nav__link">
    <span class="md-ellipsis">
      foreach
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#regex" class="md-nav__link">
    <span class="md-ellipsis">
      Regex
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#underscores" class="md-nav__link">
    <span class="md-ellipsis">
      Underscores
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
    <a href="https://github.com/szcf-weiya/techNotes/edit/master/docs/julia/index.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  


<h1 id="julia">Julia 笔记<a class="headerlink" href="#julia" title="Permanent link">&para;</a></h1>
<ul>
<li><a href="https://julialang.org/">主页</a></li>
<li><a href="https://medium.com/@Jernfrost/my-new-workflow-with-julia-1-0-99711103d97c">My New Workflow with Julia 1.0</a>, mainly focus on how to develop a Julia package.</li>
<li><a href="http://www.pkofod.com/2017/04/24/timing-in-julia/">Timing in Julia</a></li>
<li><a href="https://tamaspapp.eu/post/plot-workflow/">Publication quality plots in Julia</a></li>
</ul>
<div class="admonition warning">
<p class="admonition-title">not use ~ in serialize</p>
<p>use explicit path.</p>
</div>
<h2 id="version-control">Version Control<a class="headerlink" href="#version-control" title="Permanent link">&para;</a></h2>
<ol>
<li>download the &ldquo;Generic Linux Binaries for x86 (64-bit)&rdquo; of a particular version from <a href="https://julialang.org/downloads/">Download Julia</a></li>
<li>put it into customed folder, such as <code>src</code> under home directory,</li>
<li>link it to the system path, such as</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>/usr/local/bin
sudo<span class="w"> </span>ln<span class="w"> </span>-s<span class="w"> </span>/home/weiya/src/julia-1.3.1/bin/julia<span class="w"> </span>julia1.3.1
</code></pre></div>
<p>Currently, I have installed the following different versions.</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>ll<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>julia
lrwxrwxrwx<span class="w">  </span><span class="m">1</span><span class="w"> </span>root<span class="w"> </span>root<span class="w">      </span><span class="m">37</span><span class="w"> </span>8月<span class="w">  </span><span class="m">31</span><span class="w">  </span><span class="m">2018</span><span class="w"> </span>julia<span class="w"> </span>-&gt;<span class="w"> </span>/home/weiya/src/julia-1.0.0/bin/julia*
lrwxrwxrwx<span class="w">  </span><span class="m">1</span><span class="w"> </span>root<span class="w"> </span>root<span class="w">      </span><span class="m">37</span><span class="w"> </span>7月<span class="w">  </span><span class="m">30</span><span class="w">  </span><span class="m">2019</span><span class="w"> </span>julia1.1.1<span class="w"> </span>-&gt;<span class="w"> </span>/home/weiya/src/julia-1.1.1/bin/julia*
lrwxrwxrwx<span class="w">  </span><span class="m">1</span><span class="w"> </span>root<span class="w"> </span>root<span class="w">      </span><span class="m">37</span><span class="w"> </span>9月<span class="w">  </span><span class="m">18</span><span class="w"> </span><span class="m">15</span>:28<span class="w"> </span>julia1.2.0<span class="w"> </span>-&gt;<span class="w"> </span>/home/weiya/src/julia-1.2.0/bin/julia*
lrwxrwxrwx<span class="w">  </span><span class="m">1</span><span class="w"> </span>root<span class="w"> </span>root<span class="w">      </span><span class="m">37</span><span class="w"> </span>3月<span class="w">  </span><span class="m">18</span><span class="w"> </span><span class="m">10</span>:25<span class="w"> </span>julia1.3.1<span class="w"> </span>-&gt;<span class="w"> </span>/home/weiya/src/julia-1.3.1/bin/julia*
</code></pre></div>
<p>The source folders can be freely moved to another place, and only need to update the symbol links, which can be firstly deleted and then created, or use</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>ln<span class="w"> </span>-sf<span class="w"> </span>TARGET<span class="w"> </span>LINK_NAME
</code></pre></div>
<p>to override current link. But, if the links is to a folder, then <code>-n</code> need to be added to override,</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>ln<span class="w"> </span>-sfn<span class="w"> </span>TARGET<span class="w"> </span>LINK_NAME
</code></pre></div>
<p>otherwise, a soft link with the filename of <code>TARGET</code> will be created in the folder <code>LINK_NAME</code>.</p>
<p>since </p>
<ul>
<li><code>-f</code>: remove existing destination files</li>
<li><code>-n</code>: treat LINK_NAME as a normal file if it is a symbolic link to a directory</li>
</ul>
<p>refer to <a href="https://unix.stackexchange.com/questions/151999/how-to-change-where-a-symlink-points">How to change where a symlink points</a></p>
<p>If <code>LINK_NAME</code> is <code>.</code>, then it would be the same file/folder name as in the <code>TARGET</code> by removing the path, and no need to specify <code>-n</code> for folders.</p>
<p>Also, note that the link to a folder should be deleted with</p>
<div class="highlight"><pre><span></span><code>rm<span class="w"> </span>folder
</code></pre></div>
<p>instead of</p>
<div class="highlight"><pre><span></span><code>rm<span class="w"> </span>-r<span class="w"> </span>folder/<span class="w"> </span><span class="c1"># delete the original folder</span>
</code></pre></div>
<h2 id="array">Array<a class="headerlink" href="#array" title="Permanent link">&para;</a></h2>
<ul>
<li>drop dimensions: <code>dropdims</code>, see <a href="https://stackoverflow.com/questions/52505760/dropping-singleton-dimensions-in-julia/"><img alt="🔗" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.0.3/assets/svg/1f517.svg" title=":link:" /></a> for discussion on the necessity to specify the dims to drop</li>
<li>iterate each row of matrix: <code>eachrow()</code></li>
<li>tuple to array: <code>collect()</code> or <code>[i for i in t]</code></li>
<li>index of unique elements: <code>unique(i-&gt;x[i], 1:length(x))</code>, used in <a href="https://github.com/szcf-weiya/Clouds/blob/ae8fda7f7af41f10cdf341374919bbead0c67908/src/utils.jl#L49x"><img alt="🔗" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.0.3/assets/svg/1f517.svg" title=":link:" /></a></li>
</ul>
<h3 id="pretty-println">pretty println<a class="headerlink" href="#pretty-println" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">println</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="p">[</span><span class="mf">0.4850429731437079</span><span class="w"> </span><span class="mf">0.1694257866946448</span><span class="p">;</span><span class="w"> </span><span class="mf">0.36463804331828364</span><span class="w"> </span><span class="mf">0.6757027403913352</span><span class="p">;</span><span class="w"> </span><span class="mf">0.1855162834299503</span><span class="w"> </span><span class="mf">0.8954169294007691</span><span class="p">]</span>

<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">display</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="mi">3</span><span class="o">×</span><span class="mi">2</span><span class="w"> </span><span class="kt">Matrix</span><span class="p">{</span><span class="kt">Float64</span><span class="p">}</span><span class="o">:</span>
<span class="w"> </span><span class="mf">0.485043</span><span class="w">  </span><span class="mf">0.169426</span>
<span class="w"> </span><span class="mf">0.364638</span><span class="w">  </span><span class="mf">0.675703</span>
<span class="w"> </span><span class="mf">0.185516</span><span class="w">  </span><span class="mf">0.895417</span>
</code></pre></div>
<p>More advanced, maybe we can rewrite <code>show</code> to display as you want.</p>
<p>see also: <a href="https://stackoverflow.com/questions/35536437/how-to-not-print-types-in-julia">https://stackoverflow.com/questions/35536437/how-to-not-print-types-in-julia</a></p>
<h3 id="vs-when-assigning-a-rowcolumn-vector"><code>.=</code> vs <code>=</code> when assigning a row/column vector<a class="headerlink" href="#vs-when-assigning-a-rowcolumn-vector" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">using</span><span class="w"> </span><span class="n">StatsBase</span>
<span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">zeros</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span>
<span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">randn</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span>
<span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mean</span><span class="p">(</span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="n">dims</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="c"># 1×2 Array{Float64,2}</span>
<span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="o">:</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="c"># OK!</span>
<span class="n">a</span><span class="p">[</span><span class="o">:</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="c"># OK!</span>
<span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="o">:</span><span class="p">]</span><span class="w"> </span><span class="o">.=</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="c"># DimensionMismatch(&quot;cannot broadcast array to have fewer dimensions&quot;)</span>
<span class="n">a</span><span class="p">[</span><span class="o">:</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">.=</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="c"># DimensionMismatch(&quot;cannot broadcast array to have fewer dimensions&quot;)</span>
</code></pre></div>
<p>similarly for column vector,</p>
<div class="highlight"><pre><span></span><code><span class="n">d</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mean</span><span class="p">(</span><span class="n">randn</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">),</span><span class="w"> </span><span class="n">dims</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="c"># 2×1 Array{Float64,2}</span>
<span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="o">:</span><span class="p">]</span><span class="w"> </span><span class="o">.=</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="c"># DimensionMismatch(&quot;cannot broadcast array to have fewer dimensions&quot;)</span>
</code></pre></div>
<p>one remedy is to reduce the dimension of the row/column vector</p>
<div class="highlight"><pre><span></span><code><span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="o">:</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">c</span><span class="p">[</span><span class="o">:</span><span class="p">]</span><span class="w"> </span><span class="c"># OK!</span>
<span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="o">:</span><span class="p">]</span><span class="w"> </span><span class="o">.=</span><span class="w"> </span><span class="n">c</span><span class="p">[</span><span class="o">:</span><span class="p">]</span><span class="w"> </span><span class="c"># OK!</span>
</code></pre></div>
<p>an interesting phenomenon is the type returned after assigning regardless <code>a[1,:]</code> or <code>a[:,1]</code></p>
<div class="highlight"><pre><span></span><code><span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">a</span><span class="p">[</span><span class="o">:</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">c</span><span class="w"> </span>
<span class="mi">1</span><span class="o">×</span><span class="mi">2</span><span class="w"> </span><span class="kt">Array</span><span class="p">{</span><span class="kt">Float64</span><span class="p">,</span><span class="mi">2</span><span class="p">}</span><span class="o">:</span>
<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">a</span><span class="p">[</span><span class="o">:</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">c</span><span class="p">[</span><span class="o">:</span><span class="p">]</span>
<span class="mi">2</span><span class="o">-</span><span class="n">element</span><span class="w"> </span><span class="kt">Array</span><span class="p">{</span><span class="kt">Float64</span><span class="p">,</span><span class="mi">1</span><span class="p">}</span><span class="o">:</span>
<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">a</span><span class="p">[</span><span class="o">:</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">.=</span><span class="w"> </span><span class="n">c</span><span class="p">[</span><span class="o">:</span><span class="p">]</span>
<span class="mi">2</span><span class="o">-</span><span class="n">element</span><span class="w"> </span><span class="n">view</span><span class="p">(</span><span class="o">::</span><span class="kt">Array</span><span class="p">{</span><span class="kt">Float64</span><span class="p">,</span><span class="mi">2</span><span class="p">},</span><span class="w"> </span><span class="o">:</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">eltype</span><span class="w"> </span><span class="kt">Float64</span><span class="o">:</span>
</code></pre></div>
<h3 id="dims1"><code>dims=1</code><a class="headerlink" href="#dims1" title="Permanent link">&para;</a></h3>
<p>总是记不太清 <code>sum</code>, <code>mean</code> 的时候 <code>dims=1</code> 是按行求和还是按列求和，经常先玩个 toy example 才能分辨出来。比如，</p>
<div class="highlight"><pre><span></span><code><span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rand</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span>
<span class="mi">4</span><span class="o">×</span><span class="mi">3</span><span class="w"> </span><span class="kt">Array</span><span class="p">{</span><span class="kt">Float64</span><span class="p">,</span><span class="mi">2</span><span class="p">}</span><span class="o">:</span>
<span class="w"> </span><span class="mf">0.279181</span><span class="w">  </span><span class="mf">0.0903167</span><span class="w">  </span><span class="mf">0.148329</span>
<span class="w"> </span><span class="mf">0.486691</span><span class="w">  </span><span class="mf">0.869156</span><span class="w">   </span><span class="mf">0.0538834</span>
<span class="w"> </span><span class="mf">0.110781</span><span class="w">  </span><span class="mf">0.836284</span><span class="w">   </span><span class="mf">0.486467</span>
<span class="w"> </span><span class="mf">0.810343</span><span class="w">  </span><span class="mf">0.208659</span><span class="w">   </span><span class="mf">0.759561</span>

<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">sum</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">dims</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="mi">1</span><span class="o">×</span><span class="mi">3</span><span class="w"> </span><span class="kt">Array</span><span class="p">{</span><span class="kt">Float64</span><span class="p">,</span><span class="mi">2</span><span class="p">}</span><span class="o">:</span>
<span class="w"> </span><span class="mf">1.687</span><span class="w">  </span><span class="mf">2.00442</span><span class="w">  </span><span class="mf">1.44824</span>
</code></pre></div>
<p>即把 <code>dims</code> 所代表的维度元素加起来，或者说沿着 dims 进行运算。这一点与 <code>R</code> 的函数 <code>apply</code> 中 <code>margin</code> 参数作用刚好相反，</p>
<div class="highlight"><pre><span></span><code><span class="o">&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">matrix</span><span class="p">(</span><span class="nf">rnorm</span><span class="p">(</span><span class="m">12</span><span class="p">),</span><span class="w"> </span><span class="m">4</span><span class="p">,</span><span class="w"> </span><span class="m">3</span><span class="p">)</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">a</span>
<span class="w">           </span><span class="p">[,</span><span class="m">1</span><span class="p">]</span><span class="w">        </span><span class="p">[,</span><span class="m">2</span><span class="p">]</span><span class="w">       </span><span class="p">[,</span><span class="m">3</span><span class="p">]</span>
<span class="p">[</span><span class="m">1</span><span class="p">,]</span><span class="w">  </span><span class="m">1.1535199</span><span class="w">  </span><span class="m">0.03198768</span><span class="w">  </span><span class="m">0.2857126</span>
<span class="p">[</span><span class="m">2</span><span class="p">,]</span><span class="w"> </span><span class="m">-1.3616720</span><span class="w">  </span><span class="m">0.32325598</span><span class="w">  </span><span class="m">1.9242805</span>
<span class="p">[</span><span class="m">3</span><span class="p">,]</span><span class="w"> </span><span class="m">-0.6519595</span><span class="w"> </span><span class="m">-1.14800119</span><span class="w"> </span><span class="m">-0.3635221</span>
<span class="p">[</span><span class="m">4</span><span class="p">,]</span><span class="w">  </span><span class="m">1.2713182</span><span class="w">  </span><span class="m">0.98515312</span><span class="w">  </span><span class="m">0.2269218</span>
<span class="o">&gt;</span><span class="w"> </span><span class="nf">apply</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="n">sum</span><span class="p">)</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w">  </span><span class="m">1.4712202</span><span class="w">  </span><span class="m">0.8858644</span><span class="w"> </span><span class="m">-2.1634828</span><span class="w">  </span><span class="m">2.4833932</span>
</code></pre></div>
<p>而 Python 的行为与 Julia 类似，先按列求和，再按行求和，但注意其指标从 0 开始，</p>
<div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">);</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">a</span>
<span class="n">array</span><span class="p">([[</span><span class="mf">0.47982003</span><span class="p">,</span> <span class="mf">0.44339329</span><span class="p">,</span> <span class="mf">0.08865359</span><span class="p">,</span> <span class="mf">0.30770283</span><span class="p">],</span>
       <span class="p">[</span><span class="mf">0.03171438</span><span class="p">,</span> <span class="mf">0.82452326</span><span class="p">,</span> <span class="mf">0.62909043</span><span class="p">,</span> <span class="mf">0.95733624</span><span class="p">],</span>
       <span class="p">[</span><span class="mf">0.51522304</span><span class="p">,</span> <span class="mf">0.65602682</span><span class="p">,</span> <span class="mf">0.95936926</span><span class="p">,</span> <span class="mf">0.51930784</span><span class="p">]])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">axis</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">array</span><span class="p">([</span><span class="mf">1.02675744</span><span class="p">,</span> <span class="mf">1.92394337</span><span class="p">,</span> <span class="mf">1.67711328</span><span class="p">,</span> <span class="mf">1.78434691</span><span class="p">])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">axis</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">keepdims</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
<span class="n">array</span><span class="p">([[</span><span class="mf">1.02675744</span><span class="p">,</span> <span class="mf">1.92394337</span><span class="p">,</span> <span class="mf">1.67711328</span><span class="p">,</span> <span class="mf">1.78434691</span><span class="p">]])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">axis</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">array</span><span class="p">([</span><span class="mf">1.31956975</span><span class="p">,</span> <span class="mf">2.44266431</span><span class="p">,</span> <span class="mf">2.64992695</span><span class="p">])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">axis</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">keepdims</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
<span class="n">array</span><span class="p">([[</span><span class="mf">1.31956975</span><span class="p">],</span>
       <span class="p">[</span><span class="mf">2.44266431</span><span class="p">],</span>
       <span class="p">[</span><span class="mf">2.64992695</span><span class="p">]])</span>
</code></pre></div>
<p>另外，Julia 中维度默认不会退化，即对应 Python 中 <code>keepdims = False</code>.</p>
<h3 id="array-in-functions">array in functions<a class="headerlink" href="#array-in-functions" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">g</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="w">           </span><span class="n">x</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">]</span>
<span class="w">       </span><span class="k">end</span>
<span class="n">g</span><span class="w"> </span><span class="p">(</span><span class="n">generic</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">method</span><span class="p">)</span>
<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">g!</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="w">           </span><span class="n">x</span><span class="w"> </span><span class="o">.+=</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">]</span>
<span class="w">       </span><span class="k">end</span>
<span class="n">g!</span><span class="w"> </span><span class="p">(</span><span class="n">generic</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">method</span><span class="p">)</span>
<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">];</span>

<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">g</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">&#39;</span>
<span class="mi">1</span><span class="o">×</span><span class="mi">2</span><span class="w"> </span><span class="kt">Adjoint</span><span class="p">{</span><span class="kt">Int64</span><span class="p">,</span><span class="kt">Array</span><span class="p">{</span><span class="kt">Int64</span><span class="p">,</span><span class="mi">1</span><span class="p">}}</span><span class="o">:</span>
<span class="w"> </span><span class="mi">2</span><span class="w">  </span><span class="mi">4</span>

<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">x</span><span class="o">&#39;</span>
<span class="mi">1</span><span class="o">×</span><span class="mi">2</span><span class="w"> </span><span class="kt">Adjoint</span><span class="p">{</span><span class="kt">Int64</span><span class="p">,</span><span class="kt">Array</span><span class="p">{</span><span class="kt">Int64</span><span class="p">,</span><span class="mi">1</span><span class="p">}}</span><span class="o">:</span>
<span class="w"> </span><span class="mi">1</span><span class="w">  </span><span class="mi">2</span>

<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">g!</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">&#39;</span>
<span class="mi">1</span><span class="o">×</span><span class="mi">2</span><span class="w"> </span><span class="kt">Adjoint</span><span class="p">{</span><span class="kt">Int64</span><span class="p">,</span><span class="kt">Array</span><span class="p">{</span><span class="kt">Int64</span><span class="p">,</span><span class="mi">1</span><span class="p">}}</span><span class="o">:</span>
<span class="w"> </span><span class="mi">2</span><span class="w">  </span><span class="mi">4</span>

<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">x</span><span class="o">&#39;</span>
<span class="mi">1</span><span class="o">×</span><span class="mi">2</span><span class="w"> </span><span class="kt">Adjoint</span><span class="p">{</span><span class="kt">Int64</span><span class="p">,</span><span class="kt">Array</span><span class="p">{</span><span class="kt">Int64</span><span class="p">,</span><span class="mi">1</span><span class="p">}}</span><span class="o">:</span>
<span class="w"> </span><span class="mi">2</span><span class="w">  </span><span class="mi">4</span>
</code></pre></div>
<p>Note that sometimes <code>.+=</code> may make the program much slower, such as <a href="https://github.com/szcf-weiya/en/blob/3c8daeb4e0f477f5ea40dc2bb44d832faa4bbbb6/code/2019-06-14-ML/GD2.jl#L10">en/code/2019-06-14-ML/GD2.jl</a></p>
<h3 id="no-reduction-with-11">no reduction with <code>[1:1]</code><a class="headerlink" href="#no-reduction-with-11" title="Permanent link">&para;</a></h3>
<p>Sometimes, I do not want to the array of array reduces to a single array, then <code>[1:1]</code> would help, instead of <code>[1]</code>, see the following toy example.</p>
<div class="highlight"><pre><span></span><code><span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">x</span>
<span class="mi">2</span><span class="o">-</span><span class="n">element</span><span class="w"> </span><span class="kt">Array</span><span class="p">{</span><span class="kt">Array</span><span class="p">{</span><span class="kt">Int64</span><span class="p">,</span><span class="mi">1</span><span class="p">},</span><span class="mi">1</span><span class="p">}</span><span class="o">:</span>
<span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">]</span>
<span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">]</span>

<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="mi">3</span><span class="o">-</span><span class="n">element</span><span class="w"> </span><span class="kt">Array</span><span class="p">{</span><span class="kt">Int64</span><span class="p">,</span><span class="mi">1</span><span class="p">}</span><span class="o">:</span>
<span class="w"> </span><span class="mi">1</span>
<span class="w"> </span><span class="mi">2</span>
<span class="w"> </span><span class="mi">3</span>

<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="o">:</span><span class="mi">1</span><span class="p">]</span>
<span class="mi">1</span><span class="o">-</span><span class="n">element</span><span class="w"> </span><span class="kt">Array</span><span class="p">{</span><span class="kt">Array</span><span class="p">{</span><span class="kt">Int64</span><span class="p">,</span><span class="mi">1</span><span class="p">},</span><span class="mi">1</span><span class="p">}</span><span class="o">:</span>
<span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">]</span>
</code></pre></div>
<h3 id="convert-a-matrix-into-an-array-of-array">convert a matrix into an array of array<a class="headerlink" href="#convert-a-matrix-into-an-array-of-array" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">zeros</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span>
<span class="mi">3</span><span class="o">×</span><span class="mi">4</span><span class="w"> </span><span class="kt">Array</span><span class="p">{</span><span class="kt">Float64</span><span class="p">,</span><span class="mi">2</span><span class="p">}</span><span class="o">:</span>
<span class="w"> </span><span class="mf">0.0</span><span class="w">  </span><span class="mf">0.0</span><span class="w">  </span><span class="mf">0.0</span><span class="w">  </span><span class="mf">0.0</span>
<span class="w"> </span><span class="mf">0.0</span><span class="w">  </span><span class="mf">0.0</span><span class="w">  </span><span class="mf">0.0</span><span class="w">  </span><span class="mf">0.0</span>
<span class="w"> </span><span class="mf">0.0</span><span class="w">  </span><span class="mf">0.0</span><span class="w">  </span><span class="mf">0.0</span><span class="w">  </span><span class="mf">0.0</span>

<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">mapslices</span><span class="p">(</span><span class="n">x</span><span class="o">-&gt;</span><span class="p">[</span><span class="n">x</span><span class="p">],</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">dims</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span>
<span class="mi">3</span><span class="o">×</span><span class="mi">1</span><span class="w"> </span><span class="kt">Array</span><span class="p">{</span><span class="kt">Array</span><span class="p">{</span><span class="kt">Float64</span><span class="p">,</span><span class="mi">1</span><span class="p">},</span><span class="mi">2</span><span class="p">}</span><span class="o">:</span>
<span class="w"> </span><span class="p">[</span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="p">]</span>
<span class="w"> </span><span class="p">[</span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="p">]</span>
<span class="w"> </span><span class="p">[</span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="p">]</span>

<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">mapslices</span><span class="p">(</span><span class="n">x</span><span class="o">-&gt;</span><span class="p">[</span><span class="n">x</span><span class="p">],</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">dims</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">)[</span><span class="o">:</span><span class="p">]</span>
<span class="mi">3</span><span class="o">-</span><span class="n">element</span><span class="w"> </span><span class="kt">Array</span><span class="p">{</span><span class="kt">Array</span><span class="p">{</span><span class="kt">Float64</span><span class="p">,</span><span class="mi">1</span><span class="p">},</span><span class="mi">1</span><span class="p">}</span><span class="o">:</span>
<span class="w"> </span><span class="p">[</span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="p">]</span>
<span class="w"> </span><span class="p">[</span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="p">]</span>
<span class="w"> </span><span class="p">[</span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="p">]</span>
</code></pre></div>
<p>refer to</p>
<p><a href="https://discourse.julialang.org/t/converting-a-matrix-into-an-array-of-arrays/17038">Converting a matrix into an array of arrays</a></p>
<p>Conversely, we can converting the array of arrays to a matrix, refer to <a href="https://stackoverflow.com/questions/26673412/how-to-convert-an-array-of-array-into-a-matrix">How to convert an array of array into a matrix?</a></p>
<div class="highlight"><pre><span></span><code><span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mapslices</span><span class="p">(</span><span class="n">x</span><span class="o">-&gt;</span><span class="p">[</span><span class="n">x</span><span class="p">],</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">dims</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">)[</span><span class="o">:</span><span class="p">]</span>
<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">hcat</span><span class="p">(</span><span class="n">b</span><span class="o">...</span><span class="p">)</span>
<span class="mi">4</span><span class="o">×</span><span class="mi">3</span><span class="w"> </span><span class="kt">Array</span><span class="p">{</span><span class="kt">Float64</span><span class="p">,</span><span class="mi">2</span><span class="p">}</span><span class="o">:</span>
<span class="w"> </span><span class="mf">0.0</span><span class="w">  </span><span class="mf">0.0</span><span class="w">  </span><span class="mf">0.0</span>
<span class="w"> </span><span class="mf">0.0</span><span class="w">  </span><span class="mf">0.0</span><span class="w">  </span><span class="mf">0.0</span>
<span class="w"> </span><span class="mf">0.0</span><span class="w">  </span><span class="mf">0.0</span><span class="w">  </span><span class="mf">0.0</span>
<span class="w"> </span><span class="mf">0.0</span><span class="w">  </span><span class="mf">0.0</span><span class="w">  </span><span class="mf">0.0</span>
<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">reduce</span><span class="p">(</span><span class="n">hcat</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">)</span>
<span class="mi">4</span><span class="o">×</span><span class="mi">3</span><span class="w"> </span><span class="kt">Array</span><span class="p">{</span><span class="kt">Float64</span><span class="p">,</span><span class="mi">2</span><span class="p">}</span><span class="o">:</span>
<span class="w"> </span><span class="mf">0.0</span><span class="w">  </span><span class="mf">0.0</span><span class="w">  </span><span class="mf">0.0</span>
<span class="w"> </span><span class="mf">0.0</span><span class="w">  </span><span class="mf">0.0</span><span class="w">  </span><span class="mf">0.0</span>
<span class="w"> </span><span class="mf">0.0</span><span class="w">  </span><span class="mf">0.0</span><span class="w">  </span><span class="mf">0.0</span>
<span class="w"> </span><span class="mf">0.0</span><span class="w">  </span><span class="mf">0.0</span><span class="w">  </span><span class="mf">0.0</span>
</code></pre></div>
<h3 id="index-from-0">index from 0<a class="headerlink" href="#index-from-0" title="Permanent link">&para;</a></h3>
<p>using <code>OffsetArrays</code> package, refer to</p>
<p><a href="https://github.com/JuliaArrays/OffsetArrays.jl">Github: OffsetArrays</a></p>
<h2 id="base">Base<a class="headerlink" href="#base" title="Permanent link">&para;</a></h2>
<h3 id="disable-warning">disable warning<a class="headerlink" href="#disable-warning" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="nd">@warn</span><span class="w"> </span><span class="mi">1</span><span class="o">+</span><span class="mi">1</span>
<span class="n">┌</span><span class="w"> </span><span class="n">Warning</span><span class="o">:</span><span class="w"> </span><span class="mi">2</span>
<span class="n">└</span><span class="w"> </span><span class="err">@</span><span class="w"> </span><span class="n">Main</span><span class="w"> </span><span class="n">REPL</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">:</span><span class="mi">1</span>

<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="k">using</span><span class="w"> </span><span class="n">Logging</span>

<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">Logging</span><span class="o">.</span><span class="n">disable_logging</span><span class="p">(</span><span class="n">Logging</span><span class="o">.</span><span class="n">Warn</span><span class="p">)</span>
<span class="n">LogLevel</span><span class="p">(</span><span class="mi">1001</span><span class="p">)</span>

<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="nd">@warn</span><span class="w"> </span><span class="mi">1</span><span class="o">+</span><span class="mi">1</span>
</code></pre></div>
<p>refers to the <a href="https://docs.julialang.org/en/v1/stdlib/Logging/#Logging.disable_logging">official documentation</a></p>
<p>also tried the command options, <code>-g</code>, <code>--warn-scope</code>, but not work</p>
<h3 id="__dir__"><code>@__DIR__</code><a class="headerlink" href="#__dir__" title="Permanent link">&para;</a></h3>
<p>It expands to the folder of the current file, no matter where we call the script. However, with RCall or PyCall, the expansion would be the folder that executes the script. To expand to the folder of the script, we can first assign it to a variable. </p>
<div class="highlight"><pre><span></span><code><span class="k">using</span><span class="w"> </span><span class="n">RCall</span>
<span class="k">using</span><span class="w"> </span><span class="n">PyCall</span>


<span class="n">println</span><span class="p">(</span><span class="s">&quot;R: &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">rcopy</span><span class="p">(</span><span class="sa">R</span><span class="s">&quot;</span><span class="si">$</span><span class="p">(</span><span class="nd">@__DIR__</span><span class="p">)</span><span class="s">&quot;</span><span class="p">))</span>
<span class="n">println</span><span class="p">(</span><span class="s">&quot;Python&quot;</span><span class="p">,</span><span class="w"> </span><span class="sa">py</span><span class="s">&quot;</span><span class="si">$</span><span class="p">(</span><span class="nd">@__DIR__</span><span class="p">)</span><span class="s">&quot;</span><span class="p">)</span>
<span class="n">println</span><span class="p">(</span><span class="s">&quot;Julia:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nd">@__DIR__</span><span class="p">)</span>

<span class="n">println</span><span class="p">()</span>
<span class="n">println</span><span class="p">(</span><span class="s">&quot;Assign @__DIR__ to a variable:&quot;</span><span class="p">)</span>
<span class="n">println</span><span class="p">()</span>

<span class="n">current_folder</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nd">@__DIR__</span>

<span class="n">println</span><span class="p">(</span><span class="s">&quot;R: &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">rcopy</span><span class="p">(</span><span class="sa">R</span><span class="s">&quot;</span><span class="si">$</span><span class="p">(</span><span class="n">current_folder</span><span class="p">)</span><span class="s">&quot;</span><span class="p">))</span>
<span class="n">println</span><span class="p">(</span><span class="s">&quot;Python&quot;</span><span class="p">,</span><span class="w"> </span><span class="sa">py</span><span class="s">&quot;</span><span class="si">$</span><span class="p">(</span><span class="n">current_folder</span><span class="p">)</span><span class="s">&quot;</span><span class="p">)</span>
<span class="n">println</span><span class="p">(</span><span class="s">&quot;Julia:&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">current_folder</span><span class="p">)</span>
</code></pre></div>
<p>Run the above scripts from <code>~</code>, it outputs</p>
<div class="highlight"><pre><span></span><code><span class="o">~$</span><span class="w"> </span><span class="n">julia1</span><span class="mf">.8</span><span class="w"> </span><span class="o">~/</span><span class="n">github</span><span class="o">/</span><span class="n">techNotes</span><span class="o">/</span><span class="n">docs</span><span class="o">/</span><span class="n">julia</span><span class="o">/</span><span class="n">MWE</span><span class="o">/</span><span class="n">dirpath</span><span class="o">/</span><span class="n">main</span><span class="o">.</span><span class="n">jl</span><span class="w"> </span>
<span class="n">R</span><span class="o">:</span><span class="w"> </span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">weiya</span>
<span class="n">Python</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">weiya</span>
<span class="n">Julia</span><span class="o">:/</span><span class="n">home</span><span class="o">/</span><span class="n">weiya</span><span class="o">/</span><span class="n">github</span><span class="o">/</span><span class="n">techNotes</span><span class="o">/</span><span class="n">docs</span><span class="o">/</span><span class="n">julia</span><span class="o">/</span><span class="n">MWE</span><span class="o">/</span><span class="n">dirpath</span>

<span class="n">Assign</span><span class="w"> </span><span class="nd">@__DIR__</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">variable</span><span class="o">:</span>

<span class="n">R</span><span class="o">:</span><span class="w"> </span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">weiya</span><span class="o">/</span><span class="n">github</span><span class="o">/</span><span class="n">techNotes</span><span class="o">/</span><span class="n">docs</span><span class="o">/</span><span class="n">julia</span><span class="o">/</span><span class="n">MWE</span><span class="o">/</span><span class="n">dirpath</span>
<span class="n">Python</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">weiya</span><span class="o">/</span><span class="n">github</span><span class="o">/</span><span class="n">techNotes</span><span class="o">/</span><span class="n">docs</span><span class="o">/</span><span class="n">julia</span><span class="o">/</span><span class="n">MWE</span><span class="o">/</span><span class="n">dirpath</span>
<span class="n">Julia</span><span class="o">:/</span><span class="n">home</span><span class="o">/</span><span class="n">weiya</span><span class="o">/</span><span class="n">github</span><span class="o">/</span><span class="n">techNotes</span><span class="o">/</span><span class="n">docs</span><span class="o">/</span><span class="n">julia</span><span class="o">/</span><span class="n">MWE</span><span class="o">/</span><span class="n">dirpath</span>
</code></pre></div>
<h3 id="relative-path-in-include-vs-read">Relative path in <code>include</code> vs <code>read</code><a class="headerlink" href="#relative-path-in-include-vs-read" title="Permanent link">&para;</a></h3>
<p>Suppose we have two files</p>
<div class="highlight"><pre><span></span><code><span class="c"># file: relpath/a.jl</span>
<span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span>
</code></pre></div>
<p>and</p>
<div class="highlight"><pre><span></span><code><span class="c"># file: relpath/a.jl</span>
<span class="n">include</span><span class="p">(</span><span class="s">&quot;a.jl&quot;</span><span class="p">)</span>

<span class="n">println</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>

<span class="n">println</span><span class="p">(</span><span class="kt">String</span><span class="p">(</span><span class="n">read</span><span class="p">(</span><span class="s">&quot;a.jl&quot;</span><span class="p">)))</span>
</code></pre></div>
<p>If we run the scripts from <code>docs/julia/MWE</code></p>
<div class="highlight"><pre><span></span><code><span class="c1"># file: relpath/b.jl</span>
$<span class="w"> </span>julia<span class="w"> </span>relpath/b.jl
</code></pre></div>
<p>it will throw an error that <code>a.jl</code> is not found. But note that <code>include</code> also use the same relative path. The reason is that</p>
<div class="highlight"><pre><span></span><code><span class="n">help</span><span class="o">?&gt;</span><span class="w"> </span><span class="n">include</span>
<span class="o">...</span><span class="n">During</span><span class="w"> </span><span class="n">including</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">task</span><span class="o">-</span><span class="k">local</span><span class="w"> </span><span class="n">include</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span>
<span class="w">  </span><span class="n">directory</span><span class="w"> </span><span class="n">containing</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">file</span><span class="o">.</span>
</code></pre></div>
<h3 id="_1">连等号赋值<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h3>
<p>如果采用 <code>a=b=c=ones(10)</code> 形式赋值的话，则如果后面改变 <code>a</code> 的值，<code>b</code> 和 <code>c</code> 的值也将随之改变。</p>
<p>但如果 <code>a=b=c=1</code> 为常值的话，则三个变量的值还是独立的。</p>
<h3 id="error-expected-typet">ERROR: <code>expected Type{T}</code><a class="headerlink" href="#error-expected-typet" title="Permanent link">&para;</a></h3>
<p>参考 <a href="https://discourse.julialang.org/t/error-loaderror-typeerror-type-expression-expected-type-t-got-module/1230/4">ERROR: LoadError: TypeError: Type{&hellip;} expression: expected Type{T}, got Module</a></p>
<p>其中举了一个小例子</p>
<div class="highlight"><pre><span></span><code><span class="k">module</span><span class="w"> </span><span class="n">Foo</span><span class="w"> </span><span class="k">end</span>
<span class="kt">Foo</span><span class="p">{</span><span class="kt">Int64</span><span class="p">}</span>
</code></pre></div>
<p>会爆出这样的错误。但是一开始竟然没有仔细类比，最后在 REPL 中逐行试验才发现是，<code>using SharedArrays</code> 后直接用 <code>SharedArrays{Float64}(10)</code>，这与上面 <code>Foo</code> 的错误形式完全一样，竟然没有仔细类比。哎，看来以后多思考一下错误可能的原因，不要一味蛮力试验。</p>
<h3 id="type-instance-and-object">type, instance, and object<a class="headerlink" href="#type-instance-and-object" title="Permanent link">&para;</a></h3>
<p>看两个句子：</p>
<ol>
<li>A type union is a special abstract type which includes as objects all instances of any of its argument types</li>
<li><code>Nothing</code> is the singleton type whose only instance is the object <code>nothing</code>.</li>
</ol>
<p>从中分析知道，instance 相对于 types，而 object 相对 instance。一个 type 可能有多个 instance，每个 instance 称之为 object。</p>
<ol>
<li>instance of some types</li>
<li>object of some instances</li>
</ol>
<h2 id="control-flow">Control Flow<a class="headerlink" href="#control-flow" title="Permanent link">&para;</a></h2>
<h3 id="priority-of">priority of <code>&amp;</code><a class="headerlink" href="#priority-of" title="Permanent link">&para;</a></h3>
<p>use</p>
<div class="highlight"><pre><span></span><code><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">width</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">height</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="w"> </span><span class="o">&gt;=</span><span class="mi">0</span><span class="p">)</span>
</code></pre></div>
<p>instead of</p>
<div class="highlight"><pre><span></span><code><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">width</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">x</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">height</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">x</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="w"> </span><span class="o">&gt;=</span><span class="mi">0</span>
</code></pre></div>
<h3 id="ifelse-vs"><code>ifelse</code> vs <code>?</code><a class="headerlink" href="#ifelse-vs" title="Permanent link">&para;</a></h3>
<p><code>ifelse</code> differs from <code>?</code> or <code>if</code> in that it is an ordinary function, so all the arguments are evaluated first.</p>
<p>For example, it will try to evaluate the second clause, </p>
<div class="highlight"><pre><span></span><code><span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">isnothing</span><span class="p">(</span><span class="nb">nothing</span><span class="p">)</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="nd">@sprintf</span><span class="w"> </span><span class="s">&quot;</span><span class="si">%.4f</span><span class="s">&quot;</span><span class="w"> </span><span class="nb">nothing</span>
<span class="s">&quot;&quot;</span>

<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">ifelse</span><span class="p">(</span><span class="n">isnothing</span><span class="p">(</span><span class="nb">nothing</span><span class="p">),</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="nd">@sprintf</span><span class="w"> </span><span class="s">&quot;</span><span class="si">%.4f</span><span class="s">&quot;</span><span class="w"> </span><span class="nb">nothing</span><span class="p">)</span>
<span class="n">ERROR</span><span class="o">:</span><span class="w"> </span><span class="kt">MethodError</span><span class="o">:</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">method</span><span class="w"> </span><span class="n">matching</span><span class="w"> </span><span class="n">isfinite</span><span class="p">(</span><span class="o">::</span><span class="kt">Nothing</span><span class="p">)</span>
</code></pre></div>
<p>Adopted from <a href="https://github.com/szcf-weiya/Clouds/issues/32">Clouds#32</a></p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>The specifiers in <code>@sprintf</code> should be consists of ones in C++, and the detailed explanation refers to <a href="/Cpp/#print-format">Print Format &ndash; C/C++</a></p>
<p>Note that, <code>%g</code> uses the shorter representation between <code>%e</code> and <code>%f</code>.</p>
</div>
<h3 id="for-in-array"><code>for</code> in array<a class="headerlink" href="#for-in-array" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="o">:</span><span class="mi">3</span>
<span class="w">           </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">i</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="o">:</span><span class="mi">3</span><span class="p">]</span>
<span class="w">           </span><span class="n">println</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="w">       </span><span class="k">end</span>
<span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">]</span>
<span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">]</span>
<span class="p">[</span><span class="mi">3</span><span class="p">]</span>
</code></pre></div>
<p>same iterative variable <code>i</code>, but it works well.</p>
<h2 id="distributed">Distributed<a class="headerlink" href="#distributed" title="Permanent link">&para;</a></h2>
<h3 id="distributed_1"><code>@distributed</code><a class="headerlink" href="#distributed_1" title="Permanent link">&para;</a></h3>
<p>如果配合 <code>sharedarrays</code> 使用时，需要加上 <code>@sync</code>, 参考<a href="https://docs.julialang.org/en/v1/stdlib/Distributed/#Distributed.@fetch">@fetch</a></p>
<h3 id="sync-vs-async"><code>@sync</code> vs <code>@async</code><a class="headerlink" href="#sync-vs-async" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="nd">@time</span><span class="w"> </span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="w">  </span><span class="mf">2.003579</span><span class="w"> </span><span class="n">seconds</span><span class="w"> </span><span class="p">(</span><span class="mi">5</span><span class="w"> </span><span class="n">allocations</span><span class="o">:</span><span class="w"> </span><span class="mi">128</span><span class="w"> </span><span class="n">bytes</span><span class="p">)</span>

<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="nd">@time</span><span class="w"> </span><span class="nd">@async</span><span class="w"> </span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="w">  </span><span class="mf">0.015021</span><span class="w"> </span><span class="n">seconds</span><span class="w"> </span><span class="p">(</span><span class="mf">6.57</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="n">allocations</span><span class="o">:</span><span class="w"> </span><span class="mf">379.004</span><span class="w"> </span><span class="n">KiB</span><span class="p">)</span>
<span class="kt">Task</span><span class="w"> </span><span class="p">(</span><span class="n">runnable</span><span class="p">)</span><span class="w"> </span><span class="err">@</span><span class="mh">0x00007f24428409d0</span>

<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="nd">@time</span><span class="w"> </span><span class="nd">@sync</span><span class="w"> </span><span class="nd">@async</span><span class="w"> </span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="w">  </span><span class="mf">2.008425</span><span class="w"> </span><span class="n">seconds</span><span class="w"> </span><span class="p">(</span><span class="mf">1.62</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="n">allocations</span><span class="o">:</span><span class="w"> </span><span class="mf">79.125</span><span class="w"> </span><span class="n">KiB</span><span class="p">)</span>
<span class="kt">Task</span><span class="w"> </span><span class="p">(</span><span class="n">done</span><span class="p">)</span><span class="w"> </span><span class="err">@</span><span class="mh">0x00007f24429ebd00</span>
</code></pre></div>
<ul>
<li><code>@async</code>: for whatever falls within its scope, Julia will start this task running but then proceed to whatever comes next in the script without waiting for the task to be complete</li>
<li><code>@sync</code>: wait until all lexically-enclosed uses of <code>@async</code>, <code>@spawn</code>, <code>@spawnat</code> and <code>@distributed</code> are complete, where <strong>complete</strong> matters how you define the tasks within the scope, such as <code>remotecall_fetch</code> (only finished when it gets the message from the worker that its task is complete) vs <code>remotecall</code> (finished once it has sent the worker the job to do)</li>
</ul>
<p>With setting</p>
<div class="highlight"><pre><span></span><code><span class="k">using</span><span class="w"> </span><span class="n">Distributed</span>
<span class="n">cell</span><span class="p">(</span><span class="n">N</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">Vector</span><span class="p">{</span><span class="kt">Any</span><span class="p">}(</span><span class="nb">undef</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="p">)</span>

<span class="n">addprocs</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</code></pre></div>
<div class="tabbed-set tabbed-alternate" data-tabs="1:5"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><input id="__tabbed_1_3" name="__tabbed_1" type="radio" /><input id="__tabbed_1_4" name="__tabbed_1" type="radio" /><input id="__tabbed_1_5" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">None</label><label for="__tabbed_1_2">sync + async</label><label for="__tabbed_1_3">None + async</label><label for="__tabbed_1_4">async + None</label><label for="__tabbed_1_5">sync+async + None</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="nd">@time</span><span class="w"> </span><span class="k">begin</span>
<span class="w">       </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cell</span><span class="p">(</span><span class="n">nworkers</span><span class="p">())</span>
<span class="w">       </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">idx</span><span class="p">,</span><span class="w"> </span><span class="n">pid</span><span class="p">)</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">enumerate</span><span class="p">(</span><span class="n">workers</span><span class="p">())</span>
<span class="w">           </span><span class="n">a</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">remotecall_fetch</span><span class="p">(</span><span class="n">sleep</span><span class="p">,</span><span class="w"> </span><span class="n">pid</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span>
<span class="w">       </span><span class="k">end</span>
<span class="w">   </span><span class="k">end</span>
<span class="w">  </span><span class="mf">4.270026</span><span class="w"> </span><span class="n">seconds</span><span class="w"> </span><span class="p">(</span><span class="mf">28.35</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="n">allocations</span><span class="o">:</span><span class="w"> </span><span class="mf">1.384</span><span class="w"> </span><span class="n">MiB</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="nd">@time</span><span class="w"> </span><span class="k">begin</span>
<span class="w">       </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cell</span><span class="p">(</span><span class="n">nworkers</span><span class="p">())</span>
<span class="w">       </span><span class="nd">@sync</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">idx</span><span class="p">,</span><span class="w"> </span><span class="n">pid</span><span class="p">)</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">enumerate</span><span class="p">(</span><span class="n">workers</span><span class="p">())</span>
<span class="w">           </span><span class="nd">@async</span><span class="w"> </span><span class="n">a</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">remotecall_fetch</span><span class="p">(</span><span class="n">sleep</span><span class="p">,</span><span class="w"> </span><span class="n">pid</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span>
<span class="w">       </span><span class="k">end</span>
<span class="w">   </span><span class="k">end</span>
<span class="w">  </span><span class="mf">2.031801</span><span class="w"> </span><span class="n">seconds</span><span class="w"> </span><span class="p">(</span><span class="mf">2.50</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="n">allocations</span><span class="o">:</span><span class="w"> </span><span class="mf">144.907</span><span class="w"> </span><span class="n">KiB</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="nd">@time</span><span class="w"> </span><span class="k">begin</span>
<span class="w">       </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cell</span><span class="p">(</span><span class="n">nworkers</span><span class="p">())</span>
<span class="w">       </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">idx</span><span class="p">,</span><span class="w"> </span><span class="n">pid</span><span class="p">)</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">enumerate</span><span class="p">(</span><span class="n">workers</span><span class="p">())</span>
<span class="w">           </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;sending work to </span><span class="si">$pid</span><span class="s">&quot;</span><span class="p">)</span>
<span class="w">           </span><span class="nd">@async</span><span class="w"> </span><span class="n">a</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">remotecall_fetch</span><span class="p">(</span><span class="n">sleep</span><span class="p">,</span><span class="w"> </span><span class="n">pid</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span>
<span class="w">       </span><span class="k">end</span>
<span class="w">   </span><span class="k">end</span>
<span class="n">sending</span><span class="w"> </span><span class="n">work</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="mi">2</span>
<span class="n">sending</span><span class="w"> </span><span class="n">work</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="mi">3</span>
<span class="mf">0.020147</span><span class="w"> </span><span class="n">seconds</span><span class="w"> </span><span class="p">(</span><span class="mf">2.10</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="n">allocations</span><span class="o">:</span><span class="w"> </span><span class="mf">121.017</span><span class="w"> </span><span class="n">KiB</span><span class="p">)</span>

<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">a</span>
<span class="mi">2</span><span class="o">-</span><span class="n">element</span><span class="w"> </span><span class="kt">Array</span><span class="p">{</span><span class="kt">Any</span><span class="p">,</span><span class="mi">1</span><span class="p">}</span><span class="o">:</span>
<span class="w"> </span><span class="c">#undef</span>
<span class="w"> </span><span class="c">#undef</span>

<span class="c"># wait around 2 seconds</span>
<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">a</span>
<span class="mi">2</span><span class="o">-</span><span class="n">element</span><span class="w"> </span><span class="kt">Array</span><span class="p">{</span><span class="kt">Any</span><span class="p">,</span><span class="mi">1</span><span class="p">}</span><span class="o">:</span>
<span class="w"> </span><span class="nb">nothing</span>
<span class="w"> </span><span class="nb">nothing</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="nd">@time</span><span class="w"> </span><span class="k">begin</span>
<span class="w">       </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cell</span><span class="p">(</span><span class="n">nworkers</span><span class="p">())</span>
<span class="w">       </span><span class="nd">@async</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">idx</span><span class="p">,</span><span class="w"> </span><span class="n">pid</span><span class="p">)</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">enumerate</span><span class="p">(</span><span class="n">workers</span><span class="p">())</span>
<span class="w">           </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;sending work to </span><span class="si">$pid</span><span class="s">&quot;</span><span class="p">)</span>
<span class="w">           </span><span class="n">a</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">remotecall_fetch</span><span class="p">(</span><span class="n">sleep</span><span class="p">,</span><span class="w"> </span><span class="n">pid</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span>
<span class="w">       </span><span class="k">end</span>
<span class="w">   </span><span class="k">end</span>
<span class="w">  </span><span class="n">sending</span><span class="w"> </span><span class="n">work</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="mi">2</span>
<span class="mf">0.000141</span><span class="w"> </span><span class="n">seconds</span><span class="w"> </span><span class="p">(</span><span class="mi">32</span><span class="w"> </span><span class="n">allocations</span><span class="o">:</span><span class="w"> </span><span class="mf">2.867</span><span class="w"> </span><span class="n">KiB</span><span class="p">)</span>
<span class="kt">Task</span><span class="w"> </span><span class="p">(</span><span class="n">runnable</span><span class="p">)</span><span class="w"> </span><span class="err">@</span><span class="mh">0x00007f2442843d00</span>

<span class="c"># wait around 2 seconds, it prints</span>
<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">sending</span><span class="w"> </span><span class="n">work</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="mi">3</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="nd">@time</span><span class="w"> </span><span class="k">begin</span>
<span class="w">       </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cell</span><span class="p">(</span><span class="n">nworkers</span><span class="p">())</span>
<span class="w">       </span><span class="nd">@sync</span><span class="w"> </span><span class="nd">@async</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">idx</span><span class="p">,</span><span class="w"> </span><span class="n">pid</span><span class="p">)</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">enumerate</span><span class="p">(</span><span class="n">workers</span><span class="p">())</span>
<span class="w">           </span><span class="n">a</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">remotecall_fetch</span><span class="p">(</span><span class="n">sleep</span><span class="p">,</span><span class="w"> </span><span class="n">pid</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span>
<span class="w">       </span><span class="k">end</span>
<span class="w">   </span><span class="k">end</span>
<span class="w">  </span><span class="mf">4.017451</span><span class="w"> </span><span class="n">seconds</span><span class="w"> </span><span class="p">(</span><span class="mf">13.96</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="n">allocations</span><span class="o">:</span><span class="w"> </span><span class="mf">692.136</span><span class="w"> </span><span class="n">KiB</span><span class="p">)</span>
<span class="kt">Task</span><span class="w"> </span><span class="p">(</span><span class="n">done</span><span class="p">)</span><span class="w"> </span><span class="err">@</span><span class="mh">0x00007f2442dfdfc0</span>
</code></pre></div>
</div>
</div>
</div>
<p>refer to <a href="https://stackoverflow.com/questions/37287020/how-and-when-to-use-async-and-sync-in-julia">How and When to Use @async and @sync in Julia - Stack Overflow</a></p>
<p>And as the <a href="https://docs.julialang.org/en/v1/manual/distributed-computing/">official documentation</a> said, </p>
<blockquote>
<p>@async is similar to @spawnat, but only runs tasks on the local process. We use it to create a &ldquo;feeder&rdquo; task for each process. Each task picks the next index that needs to be computed, then waits for its process to finish, then repeats until we run out of indices. Note that the feeder tasks do not begin to execute until the main task reaches the end of the @sync block, at which point it surrenders control and waits for all the local tasks to complete before returning from the function. </p>
</blockquote>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Applications in my project: <a href="https://github.com/szcf-weiya/Cell-Video/blob/5ea7c550987a8f495b2fb238b32a331318347970/DP/num-disappeared-delta.jl#L55">parallel.job</a>, where it is much like the feeder, although it might be quite fast.</p>
</div>
<h2 id="gurobi">Gurobi<a class="headerlink" href="#gurobi" title="Permanent link">&para;</a></h2>
<ul>
<li>Currently (2022-09-23) no way to enable Gurobi.jl in GitHub Actions. <a href="https://github.com/jump-dev/Gurobi.jl/pull/428#issuecomment-1256638713"><img alt="🔗" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.0.3/assets/svg/1f517.svg" title=":link:" /></a></li>
<li>hide message of <code>Set parameter ...</code>: <code>GRBsetintparam(GRB_ENV, GRB_INT_PAR_OUTPUTFLAG, 0)</code>. Inspired by the way for C++ API of Gurobi, <a href="https://support.gurobi.com/hc/en-us/community/posts/4412624836753-Do-not-print-Set-parameter-Username-in-console"><img alt="🔗" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.0.3/assets/svg/1f517.svg" title=":link:" /></a> and <a href="https://github.com/jump-dev/Gurobi.jl/blob/master/src/gen91/libgrb_api.jl"><img alt="🔗" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.0.3/assets/svg/1f517.svg" title=":link:" /></a></li>
</ul>
<h2 id="jld-vs-jld2">JLD vs JLD2<a class="headerlink" href="#jld-vs-jld2" title="Permanent link">&para;</a></h2>
<p>JLD depends on HDF5, whose installation requires to login in, while JLD2 avoid the dependence of HDF5.</p>
<p><a href="https://github.com/szcf-weiya/Cell-Video/issues/172#issuecomment-660467001">Source</a></p>
<h2 id="juno">Juno<a class="headerlink" href="#juno" title="Permanent link">&para;</a></h2>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>An IDE on Atom.</p>
</div>
<h3 id="shortcuts">Shortcuts<a class="headerlink" href="#shortcuts" title="Permanent link">&para;</a></h3>
<ul>
<li><code>Ctrl+J Ctrl+E</code>: switch from REPL to editor, refer to <a href="https://discourse.julialang.org/t/win10-how-to-switch-keyshort-from-editor-to-repl/22911">the correct shortcut is be Ctrl-J Ctrl-E (and the command is called Julia Client: Focus Last Editor)</a>, an inspiration is that I can check it via <code>Ctrl-Shift-P</code>.</li>
</ul>
<h3 id="bug-when-cltr-enter">Bug when <code>Cltr + Enter</code><a class="headerlink" href="#bug-when-cltr-enter" title="Permanent link">&para;</a></h3>
<p>当我使用 <code>Ctrl + Enter</code> 运行下列语句时，</p>
<div class="highlight"><pre><span></span><code><span class="k">using</span><span class="w"> </span><span class="n">Images</span><span class="p">,</span><span class="w"> </span><span class="n">ImageView</span>
<span class="n">img</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">load</span><span class="p">(</span><span class="n">download</span><span class="p">(</span><span class="s">&quot;https://juliaimages.org/latest/assets/segmentation/horse.jpg&quot;</span><span class="p">));</span>
<span class="n">imshow</span><span class="p">(</span><span class="n">img</span><span class="p">)</span>
</code></pre></div>
<p>REPL 冻住了，一直停在</p>
<div class="highlight"><pre><span></span><code><span class="kt">Dict</span><span class="p">{</span><span class="kt">String</span><span class="p">,</span><span class="kt">Any</span><span class="p">}</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="n">entries</span><span class="o">:</span>
</code></pre></div>
<p>而我如果直接将上述语句复制到 REPL 中运行时，一切 OK，正常显示为</p>
<div class="highlight"><pre><span></span><code><span class="kt">Dict</span><span class="p">{</span><span class="kt">String</span><span class="p">,</span><span class="kt">Any</span><span class="p">}</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="n">entries</span><span class="o">:</span>
<span class="w">  </span><span class="s">&quot;gui&quot;</span><span class="w">         </span><span class="o">=&gt;</span><span class="w"> </span><span class="kt">Dict</span><span class="p">{</span><span class="kt">String</span><span class="p">,</span><span class="kt">Any</span><span class="p">}(</span><span class="s">&quot;window&quot;</span><span class="o">=&gt;</span><span class="n">GtkWindowLeaf</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">wi…</span>
<span class="w">  </span><span class="s">&quot;roi&quot;</span><span class="w">         </span><span class="o">=&gt;</span><span class="w"> </span><span class="kt">Dict</span><span class="p">{</span><span class="kt">String</span><span class="p">,</span><span class="kt">Any</span><span class="p">}(</span><span class="s">&quot;redraw&quot;</span><span class="o">=&gt;</span><span class="mi">50</span><span class="o">:</span><span class="w"> </span><span class="s">&quot;map(clim-mapped image, input…</span>
<span class="s">  &quot;</span><span class="sa">annotations</span><span class="s">&quot; =&gt; 3: &quot;</span><span class="sa">input</span><span class="o">-</span><span class="mi">2</span><span class="s">&quot; = Dict{UInt64,Any}() Dict{UInt64,Any}</span>
<span class="s">  &quot;</span><span class="sa">clim</span><span class="s">&quot;        =&gt; 2: &quot;</span><span class="sa">CLim</span><span class="s">&quot; = CLim{RGB{Float64}}(RGB{Float64}(0.0,0.0,0.0), RG…</span>
</code></pre></div>
<p>找到类似的 Issue: <a href="https://github.com/JunoLab/Juno.jl/issues/320">[BUG] Evaluation in Editor freezes Atom occasionally</a></p>
<p>虽然其解决方案不太清楚，是有关 notification-daemon，但是维护者 @pfitzseb 的回复</p>
<blockquote>
<p>OS level notifications are disabled completly in the latest Juno release because they were causing crashes on Mac and didn&rsquo;t really seem to work on other platforms.</p>
</blockquote>
<p>提醒我或许是因为 Juno 的版本问题，当前版本为 v0.7.2, 最新版本为 v0.8.1</p>
<p>仅仅更新 Juno.jl 的版本似乎还不行，另外将 Atom.jl 从 v0.12.8 更新到 v0.12.9</p>
<p>最后竟然<a href="https://github.com/JunoLab/Juno.jl/issues/320#issuecomment-599213691">真的解决了！</a></p>
<h3 id="system-proxy">System Proxy<a class="headerlink" href="#system-proxy" title="Permanent link">&para;</a></h3>
<p>当在 <code>.bashrc</code> 添加 <code>http_proxy</code> 和 <code>https_proxy</code> 中并 source 之后，直接在 shell 里面开的 julia session 中，验证当前 ip</p>
<div class="highlight"><pre><span></span><code><span class="n">run</span><span class="p">(</span><span class="sb">`curl ifconfig.me`</span><span class="p">)</span>
</code></pre></div>
<p>或者直接查看</p>
<div class="highlight"><pre><span></span><code><span class="nb">ENV</span><span class="p">[</span><span class="s">&quot;http_proxy&quot;</span><span class="p">]</span>
</code></pre></div>
<p>发现可以使用系统代理。但是在 Atom 中开的 julia，则不行。找到 Atom 一条相关的 issue: <a href="https://github.com/atom/atom/issues/18318">[Atom 1.32.0] Does not inherit environment variables when launched not from the command line</a>，但是我已经是最新版了，不应该存在这个问题。但是当我通过 <code>Ctrl-Shift-i</code> 打开 devtools，验证 <code>process.env["http_proxy"]</code>，显示 undefined；而且直接在 source 之后的 terminal 中打开，也显示 undefined。猜想，只对 PATH 有效？或者因为 Juno.jl?</p>
<p>跳过这个问题，最后直接在 <code>startup.jl</code> 文件中添加</p>
<div class="highlight"><pre><span></span><code><span class="nb">ENV</span><span class="p">[</span><span class="s">&quot;http_proxy&quot;</span><span class="p">]</span><span class="w"> </span><span class="o">=</span>
<span class="nb">ENV</span><span class="p">[</span><span class="s">&quot;https_proxy&quot;</span><span class="p">]</span>
</code></pre></div>
<p>进行设置，这参考了 <a href="https://discourse.julialang.org/t/install-packages-behind-the-proxy/23298/2">Install packages behind the proxy</a></p>
<h2 id="function">Function<a class="headerlink" href="#function" title="Permanent link">&para;</a></h2>
<h3 id="calculation-in-arguments">calculation in arguments<a class="headerlink" href="#calculation-in-arguments" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">;</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="n">m</span><span class="o">=</span><span class="n">n</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="o">+</span><span class="n">m</span>
<span class="n">f</span><span class="w"> </span><span class="p">(</span><span class="n">generic</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">method</span><span class="p">)</span>

<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">f</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="mf">6.0</span>
</code></pre></div>
<p>where <code>m = n/2</code> is allowed. But Python does not support this feature.</p>
<div class="admonition bug">
<p class="admonition-title">Bug</p>
<div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="n">m</span> <span class="o">=</span> <span class="n">n</span><span class="o">/</span><span class="mi">2</span><span class="p">):</span>
<span class="o">...</span>     <span class="n">x</span> <span class="o">+</span> <span class="n">m</span>
<span class="o">...</span> 
<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
<span class="n">File</span> <span class="s2">&quot;&lt;stdin&gt;&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="ne">NameError</span><span class="p">:</span> <span class="n">name</span> <span class="s1">&#39;n&#39;</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">defined</span>
</code></pre></div>
</div>
<h3 id="function-redefinition-in-if">function redefinition in <code>if</code><a class="headerlink" href="#function-redefinition-in-if" title="Permanent link">&para;</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="2:2"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1">Wrong</label><label for="__tabbed_2_2">Correct: anonymous functions</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">f</span><span class="p">()</span>
<span class="w">        </span><span class="n">flag</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">flag</span>
<span class="w">            </span><span class="n">g</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span>
<span class="w">        </span><span class="k">else</span>
<span class="w">            </span><span class="n">g</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span>
<span class="w">        </span><span class="k">end</span>
<span class="w">        </span><span class="n">println</span><span class="p">(</span><span class="n">g</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<span class="w">    </span><span class="k">end</span>
<span class="n">WARNING</span><span class="o">:</span><span class="w"> </span><span class="kt">Method</span><span class="w"> </span><span class="n">definition</span><span class="w"> </span><span class="n">g</span><span class="p">(</span><span class="kt">Any</span><span class="p">)</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">module</span><span class="w"> </span><span class="n">Main</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">REPL</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">:</span><span class="mi">4</span><span class="w"> </span><span class="n">overwritten</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">REPL</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">:</span><span class="mf">6.</span>
<span class="n">f</span><span class="w"> </span><span class="p">(</span><span class="n">generic</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">method</span><span class="p">)</span>

<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">f</span><span class="p">()</span>
<span class="mi">2</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">f</span><span class="p">()</span>
<span class="w">        </span><span class="n">flag</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">flag</span>
<span class="w">            </span><span class="n">g</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="o">-&gt;</span><span class="mi">1</span>
<span class="w">        </span><span class="k">else</span>
<span class="w">            </span><span class="n">g</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="o">-&gt;</span><span class="mi">2</span>
<span class="w">        </span><span class="k">end</span>
<span class="w">        </span><span class="n">println</span><span class="p">(</span><span class="n">g</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<span class="w">    </span><span class="k">end</span>
<span class="n">f</span><span class="w"> </span><span class="p">(</span><span class="n">generic</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">method</span><span class="p">)</span>

<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">f</span><span class="p">()</span>
<span class="mi">1</span>
</code></pre></div>
</div>
</div>
</div>
<p>The correct way is to use the anonymous function, see also <a href="https://discourse.julialang.org/t/defining-a-function-inside-if-else-end-not-as-expected/13815/6">Defining a function inside if&hellip;else..end NOT as expected? - New to Julia - JuliaLang</a></p>
<h3 id="invoke-function-via-string">invoke function via string<a class="headerlink" href="#invoke-function-via-string" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">getfield</span><span class="p">(</span><span class="n">Main</span><span class="p">,</span><span class="w"> </span><span class="kt">Symbol</span><span class="p">(</span><span class="s">&quot;exp&quot;</span><span class="p">))(</span><span class="mi">1</span><span class="p">)</span>
<span class="mf">2.718281828459045</span>
</code></pre></div>
<p>refer to <a href="https://stackoverflow.com/questions/34016768/julia-invoke-a-function-by-a-given-string">reflection - Julia: invoke a function by a given string - Stack Overflow</a></p>
<h3 id="default-argument-and-optional-arguments">default argument and optional arguments<a class="headerlink" href="#default-argument-and-optional-arguments" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="o">=</span><span class="nb">nothing</span><span class="p">;</span><span class="w"> </span><span class="n">z</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="w">           </span><span class="k">if</span><span class="w"> </span><span class="n">isnothing</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="w">               </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;x + z = </span><span class="si">$</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">z</span><span class="p">)</span><span class="s">&quot;</span><span class="p">)</span>
<span class="w">           </span><span class="k">else</span>
<span class="w">               </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;x + y + z = </span><span class="si">$</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="o">+</span><span class="n">z</span><span class="p">)</span><span class="s">&quot;</span><span class="p">)</span>
<span class="w">           </span><span class="k">end</span>
<span class="w">       </span><span class="k">end</span>

<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">f</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">z</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span>

<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">f</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span>
<span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">z</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span>
</code></pre></div>
<p>with this format, we can avoid define two functions <code>f(x; )</code> and <code>f(x, y;)</code> respectively.</p>
<h3 id="function-in-function">function in function<a class="headerlink" href="#function-in-function" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">f2</span><span class="p">()</span>
<span class="w">           </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span>
<span class="w">           </span><span class="k">function</span><span class="w"> </span><span class="n">g</span><span class="p">()</span>
<span class="w">               </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="o">+</span><span class="mi">10</span>
<span class="w">           </span><span class="k">end</span>
<span class="w">           </span><span class="n">g</span><span class="p">()</span>
<span class="w">           </span><span class="n">println</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="w">       </span><span class="k">end</span>
<span class="n">f2</span><span class="w"> </span><span class="p">(</span><span class="n">generic</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">method</span><span class="p">)</span>

<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">f2</span><span class="p">()</span>
<span class="mi">20</span>
</code></pre></div>
<p>but</p>
<div class="highlight"><pre><span></span><code><span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">f2</span><span class="p">()</span>
<span class="w">           </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span>
<span class="w">           </span><span class="n">g</span><span class="p">()</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">10</span>
<span class="w">           </span><span class="n">g</span><span class="p">()</span>
<span class="w">           </span><span class="n">println</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="w">       </span><span class="k">end</span>
<span class="n">f2</span><span class="w"> </span><span class="p">(</span><span class="n">generic</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">method</span><span class="p">)</span>

<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">f2</span><span class="p">()</span>
<span class="mi">10</span>
</code></pre></div>
<p>since the first one does not have <code>return</code>, but <code>g()</code> has <code>return</code> and the addition is not on <code>a</code>.</p>
<h2 id="pkg">Pkg<a class="headerlink" href="#pkg" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="https://julialang.org/blog/2019/11/artifacts/#binarybuilderjl">Pkg + BinaryBuilder</a>: binary objects that are not Julia packages</li>
<li>[<code>dev</code> + <code>test</code>]: test project instead of <code>include</code> scripts. Specifically, open a Julia session <strong>without</strong> <code>--project</code> option in the project folder, and then switch into the Pkg environment, type <code>dev .</code> &amp; <code>test YourProjectName</code>. See <a href="https://github.com/szcf-weiya/Clouds/issues/97#issuecomment-1256742348">more attempts</a>.</li>
</ul>
<h2 id="pycall">PyCall<a class="headerlink" href="#pycall" title="Permanent link">&para;</a></h2>
<h3 id="update-matplotlib">Update Matplotlib<a class="headerlink" href="#update-matplotlib" title="Permanent link">&para;</a></h3>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Post: 2022-04-09 19:13:48</p>
</div>
<div class="highlight"><pre><span></span><code><span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">pyplot</span><span class="p">()</span>
<span class="p">[</span><span class="w"> </span><span class="n">Info</span><span class="o">:</span><span class="w"> </span><span class="n">Precompiling</span><span class="w"> </span><span class="n">PyPlot</span><span class="w"> </span><span class="p">[</span><span class="n">d330b81b</span><span class="o">-</span><span class="mi">6</span><span class="n">aea</span><span class="o">-</span><span class="mi">500</span><span class="n">a</span><span class="o">-</span><span class="mi">939</span><span class="n">a</span><span class="o">-</span><span class="mi">2</span><span class="n">ce795aea3ee</span><span class="p">]</span>
<span class="n">┌</span><span class="w"> </span><span class="n">Warning</span><span class="o">:</span><span class="w"> </span><span class="n">You</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="k">using</span><span class="w"> </span><span class="n">Matplotlib</span><span class="w"> </span><span class="mf">3.1.3</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">longer</span>
<span class="n">│</span><span class="w"> </span><span class="n">officialy</span><span class="w"> </span><span class="n">supported</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">Plots</span><span class="w"> </span><span class="n">community</span><span class="o">.</span><span class="w"> </span><span class="n">To</span><span class="w"> </span><span class="n">ensure</span><span class="w"> </span><span class="n">smooth</span><span class="w"> </span><span class="n">Plots</span><span class="o">.</span><span class="n">jl</span>
<span class="n">│</span><span class="w"> </span><span class="n">integration</span><span class="w"> </span><span class="n">update</span><span class="w"> </span><span class="n">your</span><span class="w"> </span><span class="n">Matplotlib</span><span class="w"> </span><span class="n">library</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mf">3.4.0</span>
<span class="n">│</span><span class="w"> </span>
<span class="n">│</span><span class="w"> </span><span class="n">If</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">Conda</span><span class="o">.</span><span class="n">jl</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">install</span><span class="w"> </span><span class="n">PyPlot</span><span class="w"> </span><span class="p">(</span><span class="n">default</span><span class="w"> </span><span class="n">installation</span><span class="p">),</span>
<span class="n">│</span><span class="w"> </span><span class="n">upgrade</span><span class="w"> </span><span class="n">your</span><span class="w"> </span><span class="n">matplotlib</span><span class="w"> </span><span class="n">via</span><span class="w"> </span><span class="n">Conda</span><span class="o">.</span><span class="n">jl</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">rebuild</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">PyPlot</span><span class="o">.</span>
<span class="n">│</span><span class="w"> </span>
<span class="n">│</span><span class="w"> </span><span class="n">If</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">sure</span><span class="p">,</span><span class="w"> </span><span class="n">here</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">instructions</span><span class="o">:</span>
<span class="n">│</span><span class="w"> </span>
<span class="n">│</span><span class="w"> </span><span class="n">In</span><span class="w"> </span><span class="n">Julia</span><span class="w"> </span><span class="n">REPL</span><span class="o">:</span>
<span class="n">│</span><span class="w"> </span><span class="sb">```</span>
<span class="sb">│ import Pkg;</span>
<span class="sb">│ Pkg.add(&quot;Conda&quot;)</span>
<span class="sb">│ import Conda</span>
<span class="sb">│ Conda.update()</span>
<span class="sb">│ Pkg.build(&quot;PyPlot&quot;)</span>
<span class="sb">│ ```</span>
<span class="n">│</span><span class="w"> </span>
<span class="n">└</span><span class="w"> </span><span class="err">@</span><span class="w"> </span><span class="n">Plots</span><span class="w"> </span><span class="o">~/.</span><span class="n">julia</span><span class="o">/</span><span class="n">packages</span><span class="o">/</span><span class="n">Plots</span><span class="o">/</span><span class="mi">9</span><span class="n">C6z9</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">backends</span><span class="o">/</span><span class="n">pyplot</span><span class="o">.</span><span class="n">jl</span><span class="o">:</span><span class="mi">29</span>
</code></pre></div>
<p>Then follow the instruction,</p>
<div class="highlight"><pre><span></span><code><span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="k">import</span><span class="w"> </span><span class="n">Conda</span>

<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">Conda</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
<span class="p">[</span><span class="w"> </span><span class="n">Info</span><span class="o">:</span><span class="w"> </span><span class="n">Running</span><span class="w"> </span><span class="sb">`conda update -y --all conda`</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="n">environment</span>
<span class="n">Collecting</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="n">metadata</span><span class="w"> </span><span class="p">(</span><span class="n">current_repodata</span><span class="o">.</span><span class="n">json</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="n">done</span>
<span class="n">Solving</span><span class="w"> </span><span class="n">environment</span><span class="o">:</span><span class="w"> </span><span class="n">done</span>

<span class="c">## Package Plan ##</span>

<span class="w">  </span><span class="n">environment</span><span class="w"> </span><span class="n">location</span><span class="o">:</span><span class="w"> </span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">weiya</span><span class="o">/.</span><span class="n">julia</span><span class="o">/</span><span class="n">conda</span><span class="o">/</span><span class="mi">3</span>

<span class="w">  </span><span class="n">added</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">updated</span><span class="w"> </span><span class="n">specs</span><span class="o">:</span>
<span class="w">    </span><span class="o">-</span><span class="w"> </span><span class="n">conda</span>
</code></pre></div>
<p>it implies that the env created by <code>Conda.jl</code> is <code>~/.julia/conda/3</code></p>
<p>If I check all env in the shell, it returns</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>conda<span class="w"> </span>env<span class="w"> </span>list
<span class="c1"># conda environments:</span>
<span class="c1">#</span>
<span class="w">                         </span>/home/weiya/.julia/conda/3
<span class="w">                         </span>/home/weiya/.julia/conda/3/envs/_ORCA_jl_
base<span class="w">                     </span>/home/weiya/anaconda3
py37<span class="w">                     </span>/home/weiya/anaconda3/envs/py37
...
</code></pre></div>
<h3 id="couldnt-find-libpython-error">Couldn&rsquo;t find libpython error<a class="headerlink" href="#couldnt-find-libpython-error" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nb">ENV</span><span class="p">[</span><span class="s">&quot;PYTHON&quot;</span><span class="p">]</span><span class="o">=</span><span class="s">&quot;&quot;</span><span class="p">;</span><span class="w"> </span><span class="n">Pkg</span><span class="o">.</span><span class="n">build</span><span class="p">(</span><span class="s">&quot;PyCall&quot;</span><span class="p">)</span>
</code></pre></div>
<p>to install its own private Miniconda distribution for you, in a way that won&rsquo;t interfere with your other Python installations.</p>
<p>Refer to <a href="https://github.com/JuliaPy/PyCall.jl/issues/199">Couldn&rsquo;t find libpython error #199</a></p>
<p>Actually, using <code>PyPlot</code> also encounters the similar question, cannot find <code>matplotlib</code>, then I changed to the conda environment contained such package, and then</p>
<div class="highlight"><pre><span></span><code><span class="nb">ENV</span><span class="p">[</span><span class="s">&quot;PYTHON&quot;</span><span class="p">]</span><span class="o">=</span><span class="s">&quot;the-python-path&quot;</span><span class="p">;</span>
<span class="c"># change to package command line</span>
<span class="n">build</span><span class="w"> </span><span class="n">PyCall</span>
</code></pre></div>
<p>it works. And it seems that it does NOT depend on conda environment any more, i.e., <code>PyPlot</code> still works for different conda environment, even without <code>matplotlib</code> package in such environment.</p>
<p>In the words of the <a href="https://github.com/JuliaPy/PyCall.jl">official documentation</a>,</p>
<blockquote>
<p>If you use Python virtualenvs, then be aware that PyCall uses the virtualenv it was built with by default, even if you switch virtualenvs. If you want to switch PyCall to use a different virtualenv, then you should switch virtualenvs and run rm(Pkg.dir(&ldquo;PyCall&rdquo;,&rdquo;deps&rdquo;,&rdquo;PYTHON&rdquo;)); Pkg.build(&ldquo;PyCall&rdquo;).</p>
</blockquote>
<p>which supports my above guess.</p>
<h3 id="record-for-install-pycall">Record for install <code>PyCall</code><a class="headerlink" href="#record-for-install-pycall" title="Permanent link">&para;</a></h3>
<p>Switch to <code>py37</code> conda environment, then run <code>julia1.2.0</code></p>
<div class="highlight"><pre><span></span><code><span class="p">(</span><span class="n">v1</span><span class="mf">.2</span><span class="p">)</span><span class="w"> </span><span class="n">pkg</span><span class="o">&gt;</span><span class="w"> </span><span class="n">add</span><span class="w"> </span><span class="n">PyCall</span>
</code></pre></div>
<p>Then test to import module in the same REPL,</p>
<div class="highlight"><pre><span></span><code><span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="k">using</span><span class="w"> </span><span class="n">PyCall</span>
<span class="p">[</span><span class="w"> </span><span class="n">Info</span><span class="o">:</span><span class="w"> </span><span class="n">Recompiling</span><span class="w"> </span><span class="n">stale</span><span class="w"> </span><span class="n">cache</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">weiya</span><span class="o">/.</span><span class="n">julia</span><span class="o">/</span><span class="n">compiled</span><span class="o">/</span><span class="n">v1</span><span class="mf">.2</span><span class="o">/</span><span class="n">PyCall</span><span class="o">/</span><span class="n">GkzkC</span><span class="o">.</span><span class="n">ji</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">PyCall</span><span class="w"> </span><span class="p">[</span><span class="mf">438e738</span><span class="n">f</span><span class="o">-</span><span class="mi">606</span><span class="n">a</span><span class="o">-</span><span class="mi">5</span><span class="n">dbb</span><span class="o">-</span><span class="n">bf0a</span><span class="o">-</span><span class="n">cddfbfd45ab0</span><span class="p">]</span>

<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">math</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pyimport</span><span class="p">(</span><span class="s">&quot;math&quot;</span><span class="p">)</span>
<span class="n">PyObject</span><span class="w"> </span><span class="o">&lt;</span><span class="k">module</span><span class="w"> </span><span class="err">&#39;</span><span class="n">math</span><span class="o">&#39;</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="err">&#39;</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">weiya</span><span class="o">/</span><span class="n">anaconda3</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python3</span><span class="mf">.7</span><span class="o">/</span><span class="n">lib</span><span class="o">-</span><span class="n">dynload</span><span class="o">/</span><span class="n">math</span><span class="o">.</span><span class="n">cpython</span><span class="o">-</span><span class="mi">37</span><span class="n">m</span><span class="o">-</span><span class="n">x86_64</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">.</span><span class="n">so</span><span class="o">&#39;&gt;</span>
</code></pre></div>
<p>Now open a new julia session under different conda environment (or no any conda environment), re-run the above code</p>
<div class="highlight"><pre><span></span><code><span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="k">using</span><span class="w"> </span><span class="n">PyCall</span>

<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">math</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pyimport</span><span class="p">(</span><span class="s">&quot;math&quot;</span><span class="p">)</span>
<span class="n">PyObject</span><span class="w"> </span><span class="o">&lt;</span><span class="k">module</span><span class="w"> </span><span class="err">&#39;</span><span class="n">math</span><span class="o">&#39;</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="err">&#39;</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">weiya</span><span class="o">/</span><span class="n">anaconda3</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python3</span><span class="mf">.7</span><span class="o">/</span><span class="n">lib</span><span class="o">-</span><span class="n">dynload</span><span class="o">/</span><span class="n">math</span><span class="o">.</span><span class="n">cpython</span><span class="o">-</span><span class="mi">37</span><span class="n">m</span><span class="o">-</span><span class="n">x86_64</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">.</span><span class="n">so</span><span class="o">&#39;&gt;</span>
</code></pre></div>
<p>As you can see, no any compiling info when using <code>PyCall</code>, and return the same <code>math</code> module. However such module does not corresponds to the <code>py37</code> conda environment. The official documentation says</p>
<blockquote>
<p>On GNU/Linux systems, PyCall will default to using the python3 program (if any, otherwise <code>python</code>) in your PATH.</p>
</blockquote>
<p>Then to specify the version of python such as</p>
<div class="highlight"><pre><span></span><code><span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="nb">ENV</span><span class="p">[</span><span class="s">&quot;PYTHON&quot;</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Sys</span><span class="o">.</span><span class="n">which</span><span class="p">(</span><span class="s">&quot;python&quot;</span><span class="p">)</span>
<span class="s">&quot;/home/weiya/anaconda3/envs/py37/bin/python3.7&quot;</span>
</code></pre></div>
<p>and rebuild, note that need to restart the julia session to recompiling,</p>
<div class="highlight"><pre><span></span><code><span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="k">using</span><span class="w"> </span><span class="n">PyCall</span>
<span class="p">[</span><span class="w"> </span><span class="n">Info</span><span class="o">:</span><span class="w"> </span><span class="n">Recompiling</span><span class="w"> </span><span class="n">stale</span><span class="w"> </span><span class="n">cache</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">weiya</span><span class="o">/.</span><span class="n">julia</span><span class="o">/</span><span class="n">compiled</span><span class="o">/</span><span class="n">v1</span><span class="mf">.2</span><span class="o">/</span><span class="n">PyCall</span><span class="o">/</span><span class="n">GkzkC</span><span class="o">.</span><span class="n">ji</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">PyCall</span><span class="w"> </span><span class="p">[</span><span class="mf">438e738</span><span class="n">f</span><span class="o">-</span><span class="mi">606</span><span class="n">a</span><span class="o">-</span><span class="mi">5</span><span class="n">dbb</span><span class="o">-</span><span class="n">bf0a</span><span class="o">-</span><span class="n">cddfbfd45ab0</span><span class="p">]</span>

<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">pyimport</span><span class="p">(</span><span class="s">&quot;math&quot;</span><span class="p">)</span>
<span class="n">PyObject</span><span class="w"> </span><span class="o">&lt;</span><span class="k">module</span><span class="w"> </span><span class="err">&#39;</span><span class="n">math</span><span class="o">&#39;</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="err">&#39;</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">weiya</span><span class="o">/</span><span class="n">anaconda3</span><span class="o">/</span><span class="n">envs</span><span class="o">/</span><span class="n">py37</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python3</span><span class="mf">.7</span><span class="o">/</span><span class="n">lib</span><span class="o">-</span><span class="n">dynload</span><span class="o">/</span><span class="n">math</span><span class="o">.</span><span class="n">cpython</span><span class="o">-</span><span class="mi">37</span><span class="n">m</span><span class="o">-</span><span class="n">x86_64</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">.</span><span class="n">so</span><span class="o">&#39;&gt;</span>
</code></pre></div>
<p>then the module corresponds to the specified conda environment, and then like the above test, it also can be used in other conda environment without recompiling.</p>
<h2 id="rcall">RCall<a class="headerlink" href="#rcall" title="Permanent link">&para;</a></h2>
<ul>
<li><code>rcopy(NA)</code> return <code>missing</code>, <a href="https://github.com/szcf-weiya/Clouds/issues/2"><img alt="🔗" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.0.3/assets/svg/1f517.svg" title=":link:" /></a></li>
</ul>
<div class="highlight"><pre><span></span><code><span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">rcopy</span><span class="p">(</span><span class="sa">R</span><span class="s">&quot;lm(</span><span class="si">$dop</span><span class="s"> ~ 0 + </span><span class="si">$H</span><span class="s">)</span><span class="si">$coefficients</span><span class="s">&quot;</span><span class="p">)</span>
<span class="mi">100</span><span class="o">-</span><span class="n">element</span><span class="w"> </span><span class="n">reshape</span><span class="p">(</span><span class="o">::</span><span class="kt">Array</span><span class="p">{</span><span class="kt">Union</span><span class="p">{</span><span class="kt">Missing</span><span class="p">,</span><span class="w"> </span><span class="kt">Float64</span><span class="p">},</span><span class="mi">1</span><span class="p">},</span><span class="w"> </span><span class="mi">100</span><span class="p">)</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">eltype</span><span class="w"> </span><span class="kt">Union</span><span class="p">{</span><span class="kt">Missing</span><span class="p">,</span><span class="w"> </span><span class="kt">Float64</span><span class="p">}</span><span class="o">:</span>
<span class="w">     </span><span class="nb">missing</span>
<span class="w">   </span><span class="o">-</span><span class="mf">1.909321682273283e-23</span>
</code></pre></div>
<p>A related error is</p>
<div class="highlight"><pre><span></span><code><span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="kt">Array</span><span class="p">{</span><span class="kt">Float64</span><span class="p">}(</span><span class="n">rcopy</span><span class="p">(</span><span class="sa">R</span><span class="s">&quot;lm(</span><span class="si">$dop</span><span class="s"> ~ 0 + </span><span class="si">$H</span><span class="s">)</span><span class="si">$coefficients</span><span class="s">&quot;</span><span class="p">))</span>
<span class="n">ERROR</span><span class="o">:</span><span class="w"> </span><span class="kt">MethodError</span><span class="o">:</span><span class="w"> </span><span class="n">Cannot</span><span class="w"> </span><span class="sb">`convert`</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">object</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="kt">Missing</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">object</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="kt">Float64</span>
<span class="n">Closest</span><span class="w"> </span><span class="n">candidates</span><span class="w"> </span><span class="n">are</span><span class="o">:</span>
<span class="w">  </span><span class="n">convert</span><span class="p">(</span><span class="o">::</span><span class="kt">Type</span><span class="p">{</span><span class="kt">T</span><span class="p">},</span><span class="w"> </span><span class="o">::</span><span class="kt">T</span><span class="p">)</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="kt">T</span><span class="o">&lt;:</span><span class="kt">Number</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">number</span><span class="o">.</span><span class="n">jl</span><span class="o">:</span><span class="mi">6</span>
<span class="w">  </span><span class="n">convert</span><span class="p">(</span><span class="o">::</span><span class="kt">Type</span><span class="p">{</span><span class="kt">T</span><span class="p">},</span><span class="w"> </span><span class="o">::</span><span class="kt">Number</span><span class="p">)</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="kt">T</span><span class="o">&lt;:</span><span class="kt">Number</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">number</span><span class="o">.</span><span class="n">jl</span><span class="o">:</span><span class="mi">7</span>
<span class="w">  </span><span class="n">convert</span><span class="p">(</span><span class="o">::</span><span class="kt">Type</span><span class="p">{</span><span class="kt">T</span><span class="p">},</span><span class="w"> </span><span class="o">::</span><span class="kt">Base</span><span class="o">.</span><span class="n">TwicePrecision</span><span class="p">)</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="kt">T</span><span class="o">&lt;:</span><span class="kt">Number</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">twiceprecision</span><span class="o">.</span><span class="n">jl</span><span class="o">:</span><span class="mi">250</span>
</code></pre></div>
<h2 id="random">Random<a class="headerlink" href="#random" title="Permanent link">&para;</a></h2>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Caution for <code>Random.seed!()</code>. Be careful to use it in a function.
Adapt it from <a href=""></a></p>
</div>
<h3 id="case-1-two-files">Case 1: Two files<a class="headerlink" href="#case-1-two-files" title="Permanent link">&para;</a></h3>
<p>Suppose I have the following two files,</p>
<div class="tabbed-set tabbed-alternate" data-tabs="3:2"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio" /><input id="__tabbed_3_2" name="__tabbed_3" type="radio" /><div class="tabbed-labels"><label for="__tabbed_3_1">a.jl</label><label for="__tabbed_3_2">b.jl</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">using</span><span class="w"> </span><span class="n">Random</span>
<span class="k">import</span><span class="w"> </span><span class="n">StatsBase</span><span class="o">.</span><span class="n">sample</span>
<span class="k">function</span><span class="w"> </span><span class="n">g</span><span class="p">(</span><span class="n">seed</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1234</span><span class="p">)</span>
<span class="w">    </span><span class="n">println</span><span class="p">(</span><span class="n">sample</span><span class="p">(</span><span class="n">Random</span><span class="o">.</span><span class="n">seed!</span><span class="p">(</span><span class="n">seed</span><span class="p">),</span><span class="w"> </span><span class="mi">1</span><span class="o">:</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">))</span>
<span class="k">end</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">include</span><span class="p">(</span><span class="s">&quot;a.jl&quot;</span><span class="p">)</span>

<span class="k">function</span><span class="w"> </span><span class="n">f</span><span class="p">()</span>
<span class="w">    </span><span class="n">println</span><span class="p">(</span><span class="n">rand</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="w">    </span><span class="n">g</span><span class="p">(</span><span class="mi">1234</span><span class="p">)</span>
<span class="w">    </span><span class="n">println</span><span class="p">(</span><span class="n">rand</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="k">end</span>
</code></pre></div>
</div>
</div>
</div>
<p>after first different results, it repeats to show the same results.</p>
<div class="highlight"><pre><span></span><code><span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">include</span><span class="p">(</span><span class="s">&quot;b.jl&quot;</span><span class="p">)</span>
<span class="n">f</span><span class="w"> </span><span class="p">(</span><span class="n">generic</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">method</span><span class="p">)</span>

<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">f</span><span class="p">()</span>
<span class="p">[</span><span class="mf">0.8484503038106239</span><span class="p">,</span><span class="w"> </span><span class="mf">0.6270935436096212</span><span class="p">,</span><span class="w"> </span><span class="mf">0.8958165220379257</span><span class="p">]</span>
<span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">]</span>
<span class="p">[</span><span class="mf">0.3728458178193992</span><span class="p">,</span><span class="w"> </span><span class="mf">0.2631210819875911</span><span class="p">,</span><span class="w"> </span><span class="mf">0.9886904946486306</span><span class="p">]</span>

<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">f</span><span class="p">()</span>
<span class="p">[</span><span class="mf">0.4898584067326506</span><span class="p">,</span><span class="w"> </span><span class="mf">0.4252112774882528</span><span class="p">,</span><span class="w"> </span><span class="mf">0.37976500269509095</span><span class="p">]</span>
<span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">]</span>
<span class="p">[</span><span class="mf">0.3728458178193992</span><span class="p">,</span><span class="w"> </span><span class="mf">0.2631210819875911</span><span class="p">,</span><span class="w"> </span><span class="mf">0.9886904946486306</span><span class="p">]</span>

<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">f</span><span class="p">()</span>
<span class="p">[</span><span class="mf">0.4898584067326506</span><span class="p">,</span><span class="w"> </span><span class="mf">0.4252112774882528</span><span class="p">,</span><span class="w"> </span><span class="mf">0.37976500269509095</span><span class="p">]</span>
<span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">]</span>
<span class="p">[</span><span class="mf">0.3728458178193992</span><span class="p">,</span><span class="w"> </span><span class="mf">0.2631210819875911</span><span class="p">,</span><span class="w"> </span><span class="mf">0.9886904946486306</span><span class="p">]</span>
</code></pre></div>
<h3 id="case-2-a-single-file">Case 2: a single file<a class="headerlink" href="#case-2-a-single-file" title="Permanent link">&para;</a></h3>
<p>The above phenomenon can be observed in a single file,</p>
<div class="highlight"><pre><span></span><code><span class="k">using</span><span class="w"> </span><span class="n">Random</span>

<span class="k">function</span><span class="w"> </span><span class="n">f</span><span class="p">(</span><span class="n">seed</span><span class="p">)</span>
<span class="w">    </span><span class="n">println</span><span class="p">(</span><span class="n">rand</span><span class="p">(</span><span class="n">Random</span><span class="o">.</span><span class="n">seed!</span><span class="p">(</span><span class="n">seed</span><span class="p">)))</span>
<span class="k">end</span>

<span class="k">function</span><span class="w"> </span><span class="n">g</span><span class="p">(</span><span class="n">seed</span><span class="p">)</span>
<span class="w">    </span><span class="n">println</span><span class="p">(</span><span class="n">rand</span><span class="p">())</span>
<span class="w">    </span><span class="n">f</span><span class="p">(</span><span class="n">seed</span><span class="p">)</span>
<span class="w">    </span><span class="n">println</span><span class="p">(</span><span class="n">rand</span><span class="p">())</span>
<span class="k">end</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">include</span><span class="p">(</span><span class="s">&quot;c.jl&quot;</span><span class="p">)</span>
<span class="n">g</span><span class="w"> </span><span class="p">(</span><span class="n">generic</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">method</span><span class="p">)</span>

<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">g</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="mf">0.8797616728308622</span>
<span class="mf">0.23603334566204692</span>
<span class="mf">0.34651701419196046</span>

<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">g</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="mf">0.3127069683360675</span>
<span class="mf">0.23603334566204692</span>
<span class="mf">0.34651701419196046</span>

<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">g</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="mf">0.3127069683360675</span>
<span class="mf">0.23603334566204692</span>
<span class="mf">0.34651701419196046</span>
</code></pre></div>
<h3 id="a-correct-way">A Correct Way<a class="headerlink" href="#a-correct-way" title="Permanent link">&para;</a></h3>
<p>replace <code>Random.seed!(seed)</code> with <code>MersenneTwister</code></p>
<div class="highlight"><pre><span></span><code><span class="k">using</span><span class="w"> </span><span class="n">Random</span>

<span class="k">function</span><span class="w"> </span><span class="n">f</span><span class="p">(</span><span class="n">seed</span><span class="p">)</span>
<span class="w">    </span><span class="n">println</span><span class="p">(</span><span class="n">rand</span><span class="p">(</span><span class="n">MersenneTwister</span><span class="p">(</span><span class="n">seed</span><span class="p">)))</span>
<span class="k">end</span>

<span class="k">function</span><span class="w"> </span><span class="n">g</span><span class="p">(</span><span class="n">seed</span><span class="p">)</span>
<span class="w">    </span><span class="n">println</span><span class="p">(</span><span class="n">rand</span><span class="p">())</span>
<span class="w">    </span><span class="n">f</span><span class="p">(</span><span class="n">seed</span><span class="p">)</span>
<span class="w">    </span><span class="n">println</span><span class="p">(</span><span class="n">rand</span><span class="p">())</span>
<span class="k">end</span>
</code></pre></div>
<p>it behaves as expected,</p>
<div class="highlight"><pre><span></span><code><span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">include</span><span class="p">(</span><span class="s">&quot;d.jl&quot;</span><span class="p">)</span>
<span class="n">g</span><span class="w"> </span><span class="p">(</span><span class="n">generic</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">method</span><span class="p">)</span>

<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">g</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="mf">0.12495220703448995</span>
<span class="mf">0.23603334566204692</span>
<span class="mf">0.41171274946529546</span>

<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">g</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="mf">0.7243446710747494</span>
<span class="mf">0.23603334566204692</span>
<span class="mf">0.3672395293576307</span>

<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">g</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="mf">0.5368102592873767</span>
<span class="mf">0.23603334566204692</span>
<span class="mf">0.6466136938696847</span>
</code></pre></div>
<h2 id="revise">Revise<a class="headerlink" href="#revise" title="Permanent link">&para;</a></h2>
<h3 id="is-there-a-way-to-undo-using-in-julia">Is there a way to undo <code>using</code> in Julia?<a class="headerlink" href="#is-there-a-way-to-undo-using-in-julia" title="Permanent link">&para;</a></h3>
<p>NO</p>
<ol>
<li><a href="https://stackoverflow.com/questions/33927523/can-i-make-julia-forget-a-method-from-the-repl">https://stackoverflow.com/questions/33927523/can-i-make-julia-forget-a-method-from-the-repl</a></li>
<li><a href="https://stackoverflow.com/questions/36249313/is-there-a-way-to-undo-using-in-julia">https://stackoverflow.com/questions/36249313/is-there-a-way-to-undo-using-in-julia</a></li>
</ol>
<p>Although we cannot remove some defined function, with the powerful <a href="https://github.com/timholy/Revise.jl">Revise.jl</a>, we can update the functions without reloading the scripts.</p>
<h2 id="statistics-statsbase-distributions">Statistics (StatsBase, Distributions)<a class="headerlink" href="#statistics-statsbase-distributions" title="Permanent link">&para;</a></h2>
<h3 id="mean">关于 <code>mean()</code><a class="headerlink" href="#mean" title="Permanent link">&para;</a></h3>
<ol>
<li><code>using Statistics</code> 后才能用 <code>mean()</code>，而 <code>using Distributions</code> 后也能用 <code>mean()</code>。前者表示 <code>generic function with 5 methods</code>，后者称 <code>generic function with 78 methods</code>.</li>
</ol>
<h3 id="normal-0"><code>Normal</code> 中标准差为 0 的问题<a class="headerlink" href="#normal-0" title="Permanent link">&para;</a></h3>
<p><img alt="" src="normal-zero-var.png" /></p>
<p>可知，最低可以支持 <code>1e-323</code>，所以似乎也支持 <code>sqrt(1e-646)</code>，但并没有，而且当 <code>sqrt(1e-324)</code> 时精度就不够了，似乎 <code>sqrt(x)</code> 的精度与 <code>x</code> 的精度相当。</p>
<h2 id="sympy-symbolic-math">SymPy: Symbolic Math<a class="headerlink" href="#sympy-symbolic-math" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="k">using</span><span class="w"> </span><span class="n">SymPy</span>
<span class="p">[</span><span class="w"> </span><span class="n">Info</span><span class="o">:</span><span class="w"> </span><span class="n">Precompiling</span><span class="w"> </span><span class="n">SymPy</span><span class="w"> </span><span class="p">[</span><span class="mf">24249f21</span><span class="o">-</span><span class="n">da20</span><span class="o">-</span><span class="mi">56</span><span class="n">a4</span><span class="o">-</span><span class="mi">8</span><span class="n">eb1</span><span class="o">-</span><span class="mi">6</span><span class="n">a02cf4ae2e6</span><span class="p">]</span>
<span class="n">ERROR</span><span class="o">:</span><span class="w"> </span><span class="kt">InitError</span><span class="o">:</span><span class="w"> </span><span class="n">PyError</span><span class="w"> </span><span class="p">(</span><span class="n">PyImport_ImportModule</span>

<span class="n">The</span><span class="w"> </span><span class="n">Python</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="n">sympy</span><span class="w"> </span><span class="n">could</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">imported</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">pyimport</span><span class="o">.</span><span class="w"> </span><span class="n">Usually</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">means</span>
<span class="n">that</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">did</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">install</span><span class="w"> </span><span class="n">sympy</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">Python</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="n">being</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">PyCall</span><span class="o">.</span>

<span class="n">PyCall</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">currently</span><span class="w"> </span><span class="n">configured</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">use</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">Python</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="n">at</span><span class="o">:</span>

<span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">weiya</span><span class="o">/</span><span class="n">anaconda3</span><span class="o">/</span><span class="n">envs</span><span class="o">/</span><span class="n">py37</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">python3</span><span class="mf">.7</span>

<span class="n">and</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">use</span><span class="w"> </span><span class="n">whatever</span><span class="w"> </span><span class="n">mechanism</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">usually</span><span class="w"> </span><span class="n">use</span><span class="w"> </span><span class="p">(</span><span class="n">apt</span><span class="o">-</span><span class="n">get</span><span class="p">,</span><span class="w"> </span><span class="n">pip</span><span class="p">,</span><span class="w"> </span><span class="n">conda</span><span class="p">,</span>
<span class="n">etcetera</span><span class="p">)</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">install</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">Python</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="n">containing</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">sympy</span><span class="w"> </span><span class="k">module</span><span class="o">.</span>

<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="nd">@vars</span><span class="w"> </span><span class="n">x</span>
<span class="p">(</span><span class="n">x</span><span class="p">,)</span>

<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">/</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="nb">pi</span><span class="p">)</span>
<span class="w">                     </span><span class="mi">2</span><span class="w"> </span>
<span class="w">                   </span><span class="o">-</span><span class="n">x</span><span class="w">  </span>
<span class="w">                   </span><span class="n">────</span>
<span class="w">                    </span><span class="mi">2</span><span class="w">  </span>
<span class="mf">0.398942280401433</span><span class="o">⋅</span><span class="nb">ℯ</span><span class="w">    </span>

<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">/</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="nb">pi</span><span class="p">)</span>
<span class="n">f</span><span class="w"> </span><span class="p">(</span><span class="n">generic</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">method</span><span class="p">)</span>

<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">integrate</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">),</span><span class="w"> </span><span class="n">x</span><span class="p">)</span>
<span class="w">                           </span><span class="n">⎛√2⋅x⎞</span>
<span class="mf">0.199471140200716</span><span class="o">⋅√</span><span class="mi">2</span><span class="o">⋅√</span><span class="nb">π</span><span class="o">⋅</span><span class="n">erf⎜────⎟</span>
<span class="w">                           </span><span class="n">⎝</span><span class="w"> </span><span class="mi">2</span><span class="w">  </span><span class="n">⎠</span>

<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">integrate</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="nb">Inf</span><span class="p">,</span><span class="w"> </span><span class="nb">Inf</span><span class="p">))</span>
<span class="mf">0.398942280401433</span><span class="o">⋅√</span><span class="mi">2</span><span class="o">⋅√</span><span class="nb">π</span>

<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">integrate</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="nb">Inf</span><span class="p">,</span><span class="w"> </span><span class="nb">Inf</span><span class="p">))</span>
<span class="mi">0</span>

<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">integrate</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">),</span><span class="w"> </span><span class="n">x</span><span class="p">)</span>
<span class="w">                      </span><span class="mi">2</span><span class="w"> </span>
<span class="w">                    </span><span class="o">-</span><span class="n">x</span><span class="w">  </span>
<span class="w">                    </span><span class="n">────</span>
<span class="w">                     </span><span class="mi">2</span><span class="w">  </span>
<span class="o">-</span><span class="mf">0.398942280401433</span><span class="o">⋅</span><span class="nb">ℯ</span><span class="w">    </span>

<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">integrate</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="nb">Inf</span><span class="p">,</span><span class="w"> </span><span class="nb">Inf</span><span class="p">))</span>
<span class="mi">0</span>

<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">integrate</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="nb">Inf</span><span class="p">,</span><span class="w"> </span><span class="nb">Inf</span><span class="p">))</span>
<span class="mf">0.159154943091895</span><span class="o">⋅√</span><span class="nb">π</span>

<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">integrate</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">)</span>
<span class="mf">0.0795774715459477</span><span class="o">⋅√</span><span class="nb">π</span><span class="o">⋅</span><span class="n">erf</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</code></pre></div>
<p>where <code>erf</code> is <a href="https://en.wikipedia.org/wiki/Error_function">https://en.wikipedia.org/wiki/Error_function</a></p>
<h2 id="parallel">parallel<a class="headerlink" href="#parallel" title="Permanent link">&para;</a></h2>
<p>references</p>
<ol>
<li><a href="https://stackoverflow.com/questions/43079309/julia-parallel-computing-over-multiple-nodes-in-cluster">Julia parallel computing over multiple nodes in cluster</a></li>
<li><a href="https://white.ucc.asn.au/2017/08/17/starting-workers.html">Using julia -L startupfile.jl, rather than machinefiles for starting workers.</a></li>
<li><a href="https://discourse.julialang.org/t/help-setting-up-julia-on-a-cluster/5519">Help setting up Julia on a cluster</a></li>
</ol>
<h2 id="pbsdsh-unsolved">pbsdsh (unsolved)<a class="headerlink" href="#pbsdsh-unsolved" title="Permanent link">&para;</a></h2>
<p>Submit a pbsdsh job and specify multiply nodes with multiply cores, say <code>nodes=2:ppn=4</code></p>
<p>error log file (see full file in the cluster: <code>dshmcmc.e21907</code>):</p>
<div class="highlight"><pre><span></span><code>fatal: error thrown and no exception handler available.
InitError(mod=:Base, error=ArgumentError(msg=&quot;Package Sockets not found in current path:
- Run `Pkg.add(&quot;Sockets&quot;)` to install the Sockets package.
&quot;))
rec_backtrace at /buildworker/worker/package_linux64/build/src/stackwalk.c:94
record_backtrace at /buildworker/worker/package_linux64/build/src/task.c:246
jl_throw at /buildworker/worker/package_linux64/build/src/task.c:577
require at ./loading.jl:817
init_stdio at ./stream.jl:237
jfptr_init_stdio_4446.clone_1 at /opt/share/julia-1.0.0/lib/julia/sys.so (unknown line)
jl_apply_generic at /buildworker/worker/package_linux64/build/src/gf.c:2182
reinit_stdio at ./libuv.jl:121
__init__ at ./sysimg.jl:470
jl_apply_generic at /buildworker/worker/package_linux64/build/src/gf.c:2182
jl_apply at /buildworker/worker/package_linux64/build/src/julia.h:1536 [inlined]
jl_module_run_initializer at /buildworker/worker/package_linux64/build/src/toplevel.c:90
_julia_init at /buildworker/worker/package_linux64/build/src/init.c:811
julia_init__threading at /buildworker/worker/package_linux64/build/src/task.c:302
main at /buildworker/worker/package_linux64/build/ui/repl.c:227
__libc_start_main at /lib64/libc.so.6 (unknown line)
_start at /opt/share/julia-1.0.0/bin/julia (unknown line)
</code></pre></div>
<p>But when I just use single node, and arbitrary cores, say <code>nodes=1:ppn=2</code>, it works well.</p>
<h3 id="references">references<a class="headerlink" href="#references" title="Permanent link">&para;</a></h3>
<ol>
<li><a href="https://wikis.nyu.edu/display/NYUHPC/PBSDSH">PBSDSH - High Performance Computing at NYU - NYU Wikis</a></li>
<li><a href="http://docs.adaptivecomputing.com/torque/4-1-3/Content/topics/commands/pbsdsh.htm">pbsdsh usage</a></li>
</ol>
<h2 id="julia-local-package">julia local package 失败折腾记录<a class="headerlink" href="#julia-local-package" title="Permanent link">&para;</a></h2>
<ol>
<li>no error after <code>add ~/GitHub/adm.jl</code>, but <code>using adm</code> cannot work. refer to <a href="https://docs.julialang.org/en/latest/stdlib/Pkg/#Adding-a-local-package-1">Adding a local package</a></li>
<li>set <code>startup.jl</code> but still not work. refer to <a href="https://en.wikibooks.org/wiki/Introducing_Julia/Modules_and_packages">How does Julia find a module?</a></li>
<li>one possible way: <a href="http://www.stochasticlifestyle.com/finalizing-julia-package-documentation-testing-coverage-publishing/">Finalizing Your Julia Package: Documentation, Testing, Coverage, and Publishing</a></li>
</ol>
<h2 id="variable-scopes">Variable Scopes<a class="headerlink" href="#variable-scopes" title="Permanent link">&para;</a></h2>
<h3 id="for-loop"><code>for</code> loop<a class="headerlink" href="#for-loop" title="Permanent link">&para;</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="4:3"><input checked="checked" id="__tabbed_4_1" name="__tabbed_4" type="radio" /><input id="__tabbed_4_2" name="__tabbed_4" type="radio" /><input id="__tabbed_4_3" name="__tabbed_4" type="radio" /><div class="tabbed-labels"><label for="__tabbed_4_1">mwe1.jl</label><label for="__tabbed_4_2">mwe2.jl</label><label for="__tabbed_4_3">mwe3.jl</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
<span class="k">for</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="o">:</span><span class="mi">2</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">i</span>
<span class="w">        </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;ok&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="k">end</span>
<span class="k">end</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
<span class="k">for</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="o">:</span><span class="mi">2</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">i</span>
<span class="w">        </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;ok&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="k">end</span>
<span class="w">    </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">j</span>
<span class="k">end</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
<span class="k">for</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="o">:</span><span class="mi">2</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">i</span>
<span class="w">        </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;ok&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="k">end</span>
<span class="w">    </span><span class="k">global</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">j</span>
<span class="k">end</span>
</code></pre></div>
</div>
</div>
</div>
<p>The results are</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>julia<span class="w"> </span>mwe1.jl
ok
ok
$<span class="w"> </span>julia<span class="w"> </span>mwe2.jl
ERROR:<span class="w"> </span>LoadError:<span class="w"> </span>UndefVarError:<span class="w"> </span>i<span class="w"> </span>not<span class="w"> </span>defined
<span class="c1"># more information given in julia1.5.2</span>
$<span class="w"> </span>julia1.5.2<span class="w"> </span>mwe2.jl
┌<span class="w"> </span>Warning:<span class="w"> </span>Assignment<span class="w"> </span>to<span class="w"> </span><span class="sb">`</span>i<span class="sb">`</span><span class="w"> </span><span class="k">in</span><span class="w"> </span>soft<span class="w"> </span>scope<span class="w"> </span>is<span class="w"> </span>ambiguous<span class="w"> </span>because<span class="w"> </span>a<span class="w"> </span>global<span class="w"> </span>variable<span class="w"> </span>by<span class="w"> </span>the<span class="w"> </span>same<span class="w"> </span>name<span class="w"> </span>exists:<span class="w"> </span><span class="sb">`</span>i<span class="sb">`</span><span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>treated<span class="w"> </span>as<span class="w"> </span>a<span class="w"> </span>new<span class="w"> </span>local.<span class="w"> </span>Disambiguate<span class="w"> </span>by<span class="w"> </span>using<span class="w"> </span><span class="sb">`</span><span class="nb">local</span><span class="w"> </span>i<span class="sb">`</span><span class="w"> </span>to<span class="w"> </span>suppress<span class="w"> </span>this<span class="w"> </span>warning<span class="w"> </span>or<span class="w"> </span><span class="sb">`</span>global<span class="w"> </span>i<span class="sb">`</span><span class="w"> </span>to<span class="w"> </span>assign<span class="w"> </span>to<span class="w"> </span>the<span class="w"> </span>existing<span class="w"> </span>global<span class="w"> </span>variable.
ERROR:<span class="w"> </span>LoadError:<span class="w"> </span>UndefVarError:<span class="w"> </span>i<span class="w"> </span>not<span class="w"> </span>defined
$<span class="w"> </span>julia<span class="w"> </span>mwe3.jl
ok
ok
</code></pre></div>
<p>Thus, the reason is that <span class="arithmatex"><span class="MathJax_Preview">i</span><script type="math/tex">i</script></span> is a global variable, we cannot modify a global variable in a local block without <code>global</code> keyword, i.e., <code>global i = i + 1</code>, but we can read <code>i</code> in the <code>for</code> loop.</p>
<p>Alternatively, we can use <code>let</code> block,</p>
<div class="highlight"><pre><span></span><code><span class="k">let</span>
<span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
<span class="k">for</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="o">:</span><span class="mi">2</span>
<span class="w">    </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span>
<span class="k">end</span>
<span class="n">i</span>
<span class="k">end</span>
</code></pre></div>
<p>then <code>i</code> isn&rsquo;t really a global variable anymore.</p>
<p>References:</p>
<ol>
<li><a href="https://discourse.julialang.org/t/repl-and-for-loops-scope-behavior-change/13514/3">REPL and for loops (scope behavior change)</a></li>
<li><a href="https://stackoverflow.com/questions/51930537/scope-of-variables-in-julia/">Scope of variables in Julia</a></li>
<li><a href="https://docs.julialang.org/en/v1/manual/variables-and-scoping/index.html">Manual: Scope of Variables</a></li>
</ol>
<h3 id="while-loop"><code>while</code> loop<a class="headerlink" href="#while-loop" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">function</span><span class="w"> </span><span class="n">test_while</span><span class="p">(</span><span class="n">flag</span><span class="p">)</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">flag</span>
<span class="w">        </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span>
<span class="w">    </span><span class="k">else</span>
<span class="w">        </span><span class="k">while</span><span class="w"> </span><span class="nb">true</span>
<span class="w">            </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span>
<span class="w">            </span><span class="k">break</span>
<span class="w">        </span><span class="k">end</span>
<span class="w">    </span><span class="k">end</span>
<span class="w">    </span><span class="n">println</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="k">end</span>
<span class="k">function</span><span class="w"> </span><span class="n">test_while2</span><span class="p">(</span><span class="n">flag</span><span class="p">)</span>
<span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="nb">true</span>
<span class="w">        </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span>
<span class="w">        </span><span class="k">break</span>
<span class="w">    </span><span class="k">end</span>
<span class="w">    </span><span class="n">println</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="k">end</span>
</code></pre></div>
<p>the results are</p>
<div class="highlight"><pre><span></span><code><span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">test_while</span><span class="p">(</span><span class="nb">false</span><span class="p">)</span>
<span class="mi">2</span>

<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">test_while2</span><span class="p">(</span><span class="nb">false</span><span class="p">)</span>
<span class="n">ERROR</span><span class="o">:</span><span class="w"> </span><span class="kt">UndefVarError</span><span class="o">:</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">defined</span>
</code></pre></div>
<h2 id="and-hash">自定义 <code>==</code> and <code>hash()</code><a class="headerlink" href="#and-hash" title="Permanent link">&para;</a></h2>
<p>对于自定义的 mutable struct, 直接用 <code>==</code> 返回 <code>false</code>，因此需要自己定义等号，比如</p>
<div class="highlight"><pre><span></span><code><span class="n">Base</span><span class="o">.:</span><span class="p">(</span><span class="o">==</span><span class="p">)(</span><span class="n">x</span><span class="o">::</span><span class="kt">Reaction</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="o">::</span><span class="kt">Reaction</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">all</span><span class="p">([</span>
<span class="w">    </span><span class="n">x</span><span class="o">.</span><span class="n">substrate</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">y</span><span class="o">.</span><span class="n">substrate</span><span class="p">,</span>
<span class="w">    </span><span class="n">x</span><span class="o">.</span><span class="n">product</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">y</span><span class="o">.</span><span class="n">product</span><span class="p">,</span>
<span class="w">    </span><span class="n">x</span><span class="o">.</span><span class="n">reversible</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">y</span><span class="o">.</span><span class="n">reversible</span><span class="p">,</span>
<span class="w">    </span><span class="n">x</span><span class="o">.</span><span class="n">species</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">y</span><span class="o">.</span><span class="n">species</span><span class="p">])</span>
</code></pre></div>
<p>而如果想用 <code>unique</code> 函数的话，其基于 <code>isequal</code> 函数，而 <code>isequal</code> 是通过判断 hash 值来判定的，所以仅仅定义了 <code>==</code> 仍不够，还需要定义 <code>hash</code> 函数，这很简单，比如</p>
<div class="highlight"><pre><span></span><code><span class="k">function</span><span class="w"> </span><span class="n">Base</span><span class="o">.</span><span class="n">hash</span><span class="p">(</span><span class="n">obj</span><span class="o">::</span><span class="kt">Reaction</span><span class="p">,</span><span class="w"> </span><span class="n">h</span><span class="o">::</span><span class="kt">UInt</span><span class="p">)</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">hash</span><span class="p">((</span><span class="n">obj</span><span class="o">.</span><span class="n">substrate</span><span class="p">,</span><span class="w"> </span><span class="n">obj</span><span class="o">.</span><span class="n">product</span><span class="p">,</span><span class="w"> </span><span class="n">obj</span><span class="o">.</span><span class="n">reversible</span><span class="p">,</span><span class="w"> </span><span class="n">obj</span><span class="o">.</span><span class="n">species</span><span class="p">),</span><span class="w"> </span><span class="n">h</span><span class="p">)</span>
<span class="k">end</span>
</code></pre></div>
<blockquote>
<p>hash（散列、杂凑）函数，是将任意长度的数据映射到有限长度的域上。直观解释起来，就是对一串数据m进行杂糅，输出另一段固定长度的数据h，作为这段数据的特征（指纹）。</p>
<p>or</p>
<p>HASH函数是这么一种函数，他接受一段数据作为输入，然后生成一串数据作为输出，从理论上说，设计良好的HASH函数，对于任何不同的输入数据，都应该以极高的概率生成不同的输出数据，因此可以作为“指纹”使用，来判断两个文件是否相同。
    数据 ----&gt;输入 HASH 函数  ----&gt;输出指纹数据</p>
</blockquote>
<p>参考</p>
<ol>
<li><a href="https://stackoverflow.com/questions/50052668/hash-function-for-custom-type">Hash function for custom type</a></li>
<li><a href="https://discourse.julialang.org/t/surprising-struct-equality-test/4890">Surprising struct equality test</a></li>
<li><a href="https://docs.julialang.org/en/v1/manual/faq/#What-is-the-difference-between-%22using%22-and-%22import%22?-1">What is the difference between &ldquo;using&rdquo; and &ldquo;import&rdquo;?</a></li>
</ol>
<div class="admonition tip">
<p class="admonition-title">import vs using</p>
<p>Instead of explicitly redefine function with <code>Module.function</code> name, we can first import it, e.g., <code>pdf</code>, we need to use <code>import Distributions.pdf</code>. <a href="https://github.com/szcf-weiya/MCF/blob/6068353e1b3bd08594c1f3761a948fc13f1f6e70/src/util.jl#L3-L4"><img alt="🔗" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.0.3/assets/svg/1f517.svg" title=":link:" /></a></p>
</div>
<h2 id="methoderror-objects-of-type-module-are-not-callable"><code>MethodError: objects of type Module are not callable</code><a class="headerlink" href="#methoderror-objects-of-type-module-are-not-callable" title="Permanent link">&para;</a></h2>
<p>check if the function is mistaken by the module name, such as <code>AxisArray</code> vs. <code>AxisArrays</code>.</p>
<h2 id="libx86_64-linux-gnulibzso1-versionzlib_129-not-found"><code>/lib/x86_64-linux-gnu/libz.so.1: version</code>ZLIB_1.2.9&rsquo; not found`<a class="headerlink" href="#libx86_64-linux-gnulibzso1-versionzlib_129-not-found" title="Permanent link">&para;</a></h2>
<p>ref to <a href="https://stackoverflow.com/questions/48306849/lib-x86-64-linux-gnu-libz-so-1-version-zlib-1-2-9-not-found">https://stackoverflow.com/questions/48306849/lib-x86-64-linux-gnu-libz-so-1-version-zlib-1-2-9-not-found</a></p>
<h2 id="work-with-gpu">work with GPU<a class="headerlink" href="#work-with-gpu" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="https://nextjournal.com/sdanisch/julia-gpu-programming">An Introduction to GPU Programming in Julia</a></li>
<li>Re-build after install cudnn, refer to <a href="https://github.com/FluxML/Flux.jl/issues/286">GPU on cluster: conversion to pointer not defined for CuArray{Float32,2}</a></li>
</ul>
<h2 id="load-imageview-on-server">load <code>ImageView</code> on Server<a class="headerlink" href="#load-imageview-on-server" title="Permanent link">&para;</a></h2>
<p>when <code>using ImageView</code>, it throws an error,</p>
<blockquote>
<p>ERROR: LoadError: InitError: Cannot open display:</p>
</blockquote>
<p>fixed by <code>ssh -X</code>. If further ssh on the node, it still works.</p>
<h2 id="-i-vs-l"><code>-i</code> vs <code>-L</code><a class="headerlink" href="#-i-vs-l" title="Permanent link">&para;</a></h2>
<p>if need to REPL and also arguments, then <code>-i</code> would be suitable.</p>
<p>And note that <code>--</code> should be separated the switches and program files. (but seems not necessary)</p>
<p><a href="https://docs.julialang.org/en/v1/manual/getting-started/index.html">Julia docs: Getting Started</a></p>
<h2 id="unable-to-display-plot-using-the-repl-gks-errors">Unable to display plot using the REPL. GKS errors<a class="headerlink" href="#unable-to-display-plot-using-the-repl-gks-errors" title="Permanent link">&para;</a></h2>
<p>The reason would be relate to the <code>GR</code> package,</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>.julia/packages/GR/ZI5OE/deps/gr/bin/
ldd<span class="w"> </span>gksqt
</code></pre></div>
<p>and then get</p>
<div class="highlight"><pre><span></span><code>linux-vdso.so.1<span class="w"> </span><span class="o">=</span>&gt;<span class="w">  </span><span class="o">(</span>0x00007ffdc1e58000<span class="o">)</span>
libQt5Widgets.so.5<span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span>not<span class="w"> </span>found
libQt5Gui.so.5<span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span>not<span class="w"> </span>found
libQt5Network.so.5<span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span>not<span class="w"> </span>found
libQt5Core.so.5<span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span>not<span class="w"> </span>found
libGL.so.1<span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span>/lib64/libGL.so.1<span class="w"> </span><span class="o">(</span>0x00002ae608a73000<span class="o">)</span>
libpthread.so.0<span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span>/lib64/libpthread.so.0<span class="w"> </span><span class="o">(</span>0x00002ae608ce5000<span class="o">)</span>
libstdc++.so.6<span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span>/lib64/libstdc++.so.6<span class="w"> </span><span class="o">(</span>0x00002ae608f01000<span class="o">)</span>
libm.so.6<span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span>/lib64/libm.so.6<span class="w"> </span><span class="o">(</span>0x00002ae609209000<span class="o">)</span>
libgcc_s.so.1<span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span>/lib64/libgcc_s.so.1<span class="w"> </span><span class="o">(</span>0x00002ae60950b000<span class="o">)</span>
libc.so.6<span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span>/lib64/libc.so.6<span class="w"> </span><span class="o">(</span>0x00002ae609721000<span class="o">)</span>
libexpat.so.1<span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span>/lib64/libexpat.so.1<span class="w"> </span><span class="o">(</span>0x00002ae609aef000<span class="o">)</span>
libxcb-dri3.so.0<span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span>/lib64/libxcb-dri3.so.0<span class="w"> </span><span class="o">(</span>0x00002ae609d19000<span class="o">)</span>
libxcb-xfixes.so.0<span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span>/lib64/libxcb-xfixes.so.0<span class="w"> </span><span class="o">(</span>0x00002ae609f1c000<span class="o">)</span>
libxcb-present.so.0<span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span>/lib64/libxcb-present.so.0<span class="w"> </span><span class="o">(</span>0x00002ae60a125000<span class="o">)</span>
libxcb-sync.so.1<span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span>/lib64/libxcb-sync.so.1<span class="w"> </span><span class="o">(</span>0x00002ae60a328000<span class="o">)</span>
libxshmfence.so.1<span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span>/lib64/libxshmfence.so.1<span class="w"> </span><span class="o">(</span>0x00002ae60a52f000<span class="o">)</span>
libglapi.so.0<span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span>/lib64/libglapi.so.0<span class="w"> </span><span class="o">(</span>0x00002ae60a733000<span class="o">)</span>
libselinux.so.1<span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span>/lib64/libselinux.so.1<span class="w"> </span><span class="o">(</span>0x00002ae60a963000<span class="o">)</span>
libXext.so.6<span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span>/lib64/libXext.so.6<span class="w"> </span><span class="o">(</span>0x00002ae60ab8a000<span class="o">)</span>
libXdamage.so.1<span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span>/lib64/libXdamage.so.1<span class="w"> </span><span class="o">(</span>0x00002ae60ad9d000<span class="o">)</span>
libXfixes.so.3<span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span>/lib64/libXfixes.so.3<span class="w"> </span><span class="o">(</span>0x00002ae60afa0000<span class="o">)</span>
libX11-xcb.so.1<span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span>/lib64/libX11-xcb.so.1<span class="w"> </span><span class="o">(</span>0x00002ae60b1a6000<span class="o">)</span>
libX11.so.6<span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span>/lib64/libX11.so.6<span class="w"> </span><span class="o">(</span>0x00002ae60b3a9000<span class="o">)</span>
libxcb.so.1<span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span>/lib64/libxcb.so.1<span class="w"> </span><span class="o">(</span>0x00002ae60b6e7000<span class="o">)</span>
libxcb-glx.so.0<span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span>/lib64/libxcb-glx.so.0<span class="w"> </span><span class="o">(</span>0x00002ae60b90f000<span class="o">)</span>
libxcb-dri2.so.0<span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span>/lib64/libxcb-dri2.so.0<span class="w"> </span><span class="o">(</span>0x00002ae60bb2b000<span class="o">)</span>
libXxf86vm.so.1<span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span>/lib64/libXxf86vm.so.1<span class="w"> </span><span class="o">(</span>0x00002ae60bd30000<span class="o">)</span>
libdrm.so.2<span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span>/lib64/libdrm.so.2<span class="w"> </span><span class="o">(</span>0x00002ae60bf36000<span class="o">)</span>
libdl.so.2<span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span>/lib64/libdl.so.2<span class="w"> </span><span class="o">(</span>0x00002ae60c148000<span class="o">)</span>
/lib64/ld-linux-x86-64.so.2<span class="w"> </span><span class="o">(</span>0x0000557abc358000<span class="o">)</span>
libXau.so.6<span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span>/lib64/libXau.so.6<span class="w"> </span><span class="o">(</span>0x00002ae60c34c000<span class="o">)</span>
libpcre.so.1<span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span>/lib64/libpcre.so.1<span class="w"> </span><span class="o">(</span>0x00002ae60c551000<span class="o">)</span>
</code></pre></div>
<p>(refer to <a href="https://github.com/JuliaPlots/Plots.jl/issues/1649#issuecomment-478520497">one comment in Error: GKS: can&rsquo;t connect to GKS socket application</a>)</p>
<p>So it seems that it is due to the missing of <code>libqt5</code>. If I have the <code>sudo</code> privilege, maybe just type</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>qt5-default
</code></pre></div>
<p>but I cannot. But I noticed that I have installed <code>miniconda3</code>, and the <code>qt</code> is installed,</p>
<div class="highlight"><pre><span></span><code>qmake<span class="w"> </span>-v
<span class="c1"># QMake version 3.1</span>
<span class="c1"># Using Qt version 5.9.7 in /users/xxx/miniconda3/lib</span>
</code></pre></div>
<p>So a natural way is to append the library path of <code>qt</code> to <code>LD_LIBRARY_PATH</code>, that is,</p>
<div class="highlight"><pre><span></span><code><span class="c1"># in .bashrc</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">LD_LIBRARY_PATH</span><span class="o">=</span>/users/xxx/miniconda3/lib:<span class="nv">$LD_LIBRARY_PATH</span>
</code></pre></div>
<p>then rebuild <code>GR</code> package in the julia REPL.</p>
<p>This solution should work, but actually it failed at the first time. Do not be too frustrated, I found the reason is that I type <code>miniconda3</code> as <code>minconda3</code> in the path.</p>
<p>It works now, although it still throw an error,</p>
<div class="highlight"><pre><span></span><code><span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">libGL</span><span class="w"> </span><span class="n">error</span><span class="o">:</span><span class="w"> </span><span class="n">unable</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">load</span><span class="w"> </span><span class="n">driver</span><span class="o">:</span><span class="w"> </span><span class="n">swrast_dri</span><span class="o">.</span><span class="n">so</span>
<span class="n">libGL</span><span class="w"> </span><span class="n">error</span><span class="o">:</span><span class="w"> </span><span class="n">failed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">load</span><span class="w"> </span><span class="n">driver</span><span class="o">:</span><span class="w"> </span><span class="n">swrast</span>
</code></pre></div>
<h2 id="reset-kw-value">reset <code>kw...</code> value<a class="headerlink" href="#reset-kw-value" title="Permanent link">&para;</a></h2>
<p>In the following situation, I want to reset a particular argument in <code>kw...</code>.</p>
<div class="highlight"><pre><span></span><code><span class="k">function</span><span class="w"> </span><span class="n">f</span><span class="p">(;</span><span class="w"> </span><span class="n">kw</span><span class="o">...</span><span class="p">)</span>
<span class="w">    </span><span class="n">g</span><span class="p">(;</span><span class="w"> </span><span class="n">kw</span><span class="o">...</span><span class="p">)</span>
<span class="k">end</span>
</code></pre></div>
<p>Note that the type of <code>kw</code> is <code>Base.Iterators.Pairs</code>, firstly I want to directly reset the value via</p>
<div class="highlight"><pre><span></span><code><span class="n">h</span><span class="p">(;</span><span class="n">kw</span><span class="o">...</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">kw</span>
<span class="n">h</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span>
</code></pre></div>
<p>but it throws</p>
<div class="highlight"><pre><span></span><code>ERROR: setfield! immutable struct of type NamedTuple cannot be changed
Stacktrace:
 [1] setproperty!(::NamedTuple{(:a,),Tuple{Int64}}, ::Symbol, ::Int64) at ./Base.jl:21
 [2] top-level scope at none:0
</code></pre></div>
<p>So I need to find new method, or give up such idea. Fortunately, the <a href="https://docs.julialang.org/en/v1/manual/functions/">official documentation of Julia</a> says</p>
<blockquote>
<p>The nature of keyword arguments makes it possible to specify the same argument more than once. For example, in the call <code>plot(x, y; options..., width=2)</code> it is possible that the options structure also contains a value for <code>width</code>.</p>
</blockquote>
<p>Thus, I can write</p>
<p><div class="highlight"><pre><span></span><code><span class="k">function</span><span class="w"> </span><span class="n">f</span><span class="p">(;</span><span class="w"> </span><span class="n">kw</span><span class="o">...</span><span class="p">)</span>
<span class="w">    </span><span class="n">g</span><span class="p">(;</span><span class="w"> </span><span class="n">kw</span><span class="o">...</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">6</span><span class="p">)</span>
<span class="k">end</span>
</code></pre></div>
to solve my problem, where <code>b</code> is the argument I want to reset.</p>
<h2 id="some-interesting-behavior">some interesting behavior<a class="headerlink" href="#some-interesting-behavior" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="n">d</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">Dict</span><span class="p">{</span><span class="kt">Int</span><span class="p">,</span><span class="w"> </span><span class="kt">Int</span><span class="p">}()</span>
<span class="n">d</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span>
</code></pre></div>
<p>if we access</p>
<div class="highlight"><pre><span></span><code><span class="n">d</span><span class="o">.</span><span class="n">vals</span>
<span class="c"># d.keys</span>
</code></pre></div>
<p>it will return a <code>16-element Array{Int64,1}</code>, but if we use</p>
<div class="highlight"><pre><span></span><code><span class="n">values</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
<span class="n">keys</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
</code></pre></div>
<p>it correctly returns the exactly one elements, but with type <code>Base.ValueIterator for a Dict{Int64,Int64} with 1 entry</code>.</p>
<h2 id="pass-array-into-function">pass array into function<a class="headerlink" href="#pass-array-into-function" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span>
<span class="mi">2</span><span class="o">-</span><span class="n">element</span><span class="w"> </span><span class="kt">Array</span><span class="p">{</span><span class="kt">Int64</span><span class="p">,</span><span class="mi">1</span><span class="p">}</span><span class="o">:</span>
<span class="w"> </span><span class="mi">1</span>
<span class="w"> </span><span class="mi">2</span>

<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">f</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="w">           </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">.+</span><span class="w"> </span><span class="mi">1</span>
<span class="w">       </span><span class="k">end</span>
<span class="n">f</span><span class="w"> </span><span class="p">(</span><span class="n">generic</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">method</span><span class="p">)</span>

<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">f</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="mi">2</span><span class="o">-</span><span class="n">element</span><span class="w"> </span><span class="kt">Array</span><span class="p">{</span><span class="kt">Int64</span><span class="p">,</span><span class="mi">1</span><span class="p">}</span><span class="o">:</span>
<span class="w"> </span><span class="mi">2</span>
<span class="w"> </span><span class="mi">3</span>

<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">a</span>
<span class="mi">2</span><span class="o">-</span><span class="n">element</span><span class="w"> </span><span class="kt">Array</span><span class="p">{</span><span class="kt">Int64</span><span class="p">,</span><span class="mi">1</span><span class="p">}</span><span class="o">:</span>
<span class="w"> </span><span class="mi">1</span>
<span class="w"> </span><span class="mi">2</span>

<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">g</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="w">           </span><span class="n">a</span><span class="w"> </span><span class="o">.=</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">.+</span><span class="w"> </span><span class="mi">1</span>
<span class="w">       </span><span class="k">end</span>
<span class="n">g</span><span class="w"> </span><span class="p">(</span><span class="n">generic</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">method</span><span class="p">)</span>

<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">g</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="mi">2</span><span class="o">-</span><span class="n">element</span><span class="w"> </span><span class="kt">Array</span><span class="p">{</span><span class="kt">Int64</span><span class="p">,</span><span class="mi">1</span><span class="p">}</span><span class="o">:</span>
<span class="w"> </span><span class="mi">2</span>
<span class="w"> </span><span class="mi">3</span>

<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">a</span>
<span class="mi">2</span><span class="o">-</span><span class="n">element</span><span class="w"> </span><span class="kt">Array</span><span class="p">{</span><span class="kt">Int64</span><span class="p">,</span><span class="mi">1</span><span class="p">}</span><span class="o">:</span>
<span class="w"> </span><span class="mi">2</span>
<span class="w"> </span><span class="mi">3</span>
</code></pre></div>
<h2 id="check-whether-array-entry-is-undef">check whether array entry is undef<a class="headerlink" href="#check-whether-array-entry-is-undef" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">Array</span><span class="p">{</span><span class="kt">Array</span><span class="p">{</span><span class="kt">Int</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">}}(</span><span class="nb">undef</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span>
<span class="n">isdefined</span><span class="p">(</span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
<span class="c"># or</span>
<span class="n">isassigned</span><span class="p">(</span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
<span class="c"># not</span>
<span class="c"># isdefined(b[1])</span>
</code></pre></div>
<p>refer to <a href="https://stackoverflow.com/questions/25020448/julia-check-whether-array-entry-is-undef">Julia: check whether array entry is undef</a></p>
<h2 id="memory-allocation">Memory Allocation<a class="headerlink" href="#memory-allocation" title="Permanent link">&para;</a></h2>
<h3 id="usage-of-gcgc">Usage of <code>GC.gc()</code><a class="headerlink" href="#usage-of-gcgc" title="Permanent link">&para;</a></h3>
<p>Manually run <code>GC.gc()</code> can release the occupied memory,</p>
<p>The experiments are as follows,</p>
<ul>
<li>open a <code>julia1.6</code> session</li>
<li>run <code>tseries = zeros(1024,1024, 5, 50);</code>, it allocates 1.953GB, roughtly <code>1.953/16 = 12%</code>, while the column <code>MEM%</code> displayed by <code>htop</code> indeed show <code>11.4</code>.</li>
<li>repeat to run, then <code>MEM%</code> increses to <code>21.5</code></li>
<li>run <code>GC.gc()</code>, then <code>MEM%</code> decreases to <code>11.0</code></li>
<li>repeat to run 2 times, then <code>MEM%</code> increases to <code>31.2</code></li>
<li>run <code>GC.gc()</code>, then <code>MEM%</code> decreases to <code>11.0</code></li>
<li>set <code>tseries = nothing</code>, and run <code>GC.gc()</code>, it disappears from the top line of <code>htop</code>, i.e., (nearly) zero memory.</li>
</ul>
<p>Refer to the following video for the whole experiments.</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/ZVF8PmQkgdY" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<p>Another experiments are for <code>for</code> loop,</p>
<div class="highlight"><pre><span></span><code><span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="o">:</span><span class="mi">6</span>
<span class="w">           </span><span class="n">tseries</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">zeros</span><span class="p">(</span><span class="mi">1024</span><span class="p">,</span><span class="mi">1024</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">);</span>
<span class="w">           </span><span class="n">sleep</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="w">           </span><span class="k">if</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span>
<span class="w">               </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;gc...&quot;</span><span class="p">)</span>
<span class="w">               </span><span class="n">GC</span><span class="o">.</span><span class="n">gc</span><span class="p">();</span><span class="w"> </span><span class="n">sleep</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="w">           </span><span class="k">end</span>
<span class="w">       </span><span class="k">end</span>
</code></pre></div>
<p>It can be observed that <code>MEM%</code> increses from ~10 to ~20, and then ~30, then decreases to ~10 after first GC.</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/CoV2annLH1g" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<p>With monitoring the memory from <code>top</code>, we can use the following <code>memuse()</code> function to get the memory usage of the current process.</p>
<div class="highlight"><pre><span></span><code><span class="k">function</span><span class="w"> </span><span class="n">memuse</span><span class="p">()</span>
<span class="w">    </span><span class="n">pid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">getpid</span><span class="p">()</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">round</span><span class="p">(</span><span class="kt">Int</span><span class="p">,</span><span class="n">parse</span><span class="p">(</span><span class="kt">Int</span><span class="p">,</span><span class="n">read</span><span class="p">(</span><span class="sb">`ps -p </span><span class="si">$pid</span><span class="sb"> -o rss=`</span><span class="p">,</span><span class="w"> </span><span class="kt">String</span><span class="p">))</span><span class="o">/</span><span class="mi">1024</span><span class="p">)</span>
<span class="k">end</span>

<span class="n">println</span><span class="p">(</span><span class="s">&quot;init mem = &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">memuse</span><span class="p">(),</span><span class="w"> </span><span class="s">&quot;MB&quot;</span><span class="p">)</span>
<span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="o">:</span><span class="mi">6</span>
<span class="w">    </span><span class="c"># tseries = zeros(1024,1024, 5, 50);</span>
<span class="w">    </span><span class="n">r</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sa">R</span><span class="s">&quot;rnorm(1024*1024*5*50)&quot;</span>
<span class="w">    </span><span class="c"># sleep(3)</span>
<span class="w">    </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;i = &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;, mem = &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">memuse</span><span class="p">(),</span><span class="w"> </span><span class="s">&quot;MB&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span>
<span class="w">        </span><span class="n">finalize</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
<span class="w">        </span><span class="n">GC</span><span class="o">.</span><span class="n">gc</span><span class="p">();</span><span class="w"> </span><span class="n">GC</span><span class="o">.</span><span class="n">gc</span><span class="p">();</span><span class="w"> </span><span class="n">GC</span><span class="o">.</span><span class="n">gc</span><span class="p">();</span><span class="w"> </span><span class="n">GC</span><span class="o">.</span><span class="n">gc</span><span class="p">();</span><span class="w"> </span>
<span class="w">        </span><span class="sa">R</span><span class="s">&quot;gc()&quot;</span><span class="p">;</span><span class="w"> </span><span class="sa">R</span><span class="s">&quot;gc()&quot;</span><span class="p">;</span>
<span class="w">        </span><span class="n">sleep</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="w">        </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;after gc..., mem = &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">memuse</span><span class="p">(),</span><span class="w"> </span><span class="s">&quot;MB&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="k">end</span>
<span class="k">end</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="k">function</span><span class="w"> </span><span class="n">test</span><span class="p">()</span>
<span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="o">:</span><span class="mi">2</span><span class="w">   </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">i=</span><span class="si">$i</span><span class="s">&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rand</span><span class="p">(</span><span class="mi">10000</span><span class="p">,</span><span class="mi">10000</span><span class="p">)</span>
<span class="w">    </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Created a </span><span class="si">$</span><span class="p">(</span><span class="n">memuse</span><span class="p">())</span><span class="s">&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
<span class="w">    </span><span class="n">GC</span><span class="o">.</span><span class="n">gc</span><span class="p">()</span>
<span class="w">    </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Release a </span><span class="si">$</span><span class="p">(</span><span class="n">memuse</span><span class="p">())</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)</span>

<span class="w">    </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rand</span><span class="p">(</span><span class="mi">10000</span><span class="p">,</span><span class="mi">10000</span><span class="p">)</span>
<span class="w">    </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Created b </span><span class="si">$</span><span class="p">(</span><span class="n">memuse</span><span class="p">())</span><span class="s">&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
<span class="w">    </span><span class="n">GC</span><span class="o">.</span><span class="n">gc</span><span class="p">()</span>
<span class="w">    </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Release b </span><span class="si">$</span><span class="p">(</span><span class="n">memuse</span><span class="p">())</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)</span>

<span class="w">    </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rand</span><span class="p">(</span><span class="mi">10000</span><span class="p">,</span><span class="mi">10000</span><span class="p">)</span>
<span class="w">    </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Created c </span><span class="si">$</span><span class="p">(</span><span class="n">memuse</span><span class="p">())</span><span class="s">&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="mi">0</span>
<span class="w">    </span><span class="n">GC</span><span class="o">.</span><span class="n">gc</span><span class="p">()</span>
<span class="w">    </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Release c </span><span class="si">$</span><span class="p">(</span><span class="n">memuse</span><span class="p">())</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)</span>
<span class="w">  </span><span class="k">end</span>
<span class="k">end</span>
</code></pre></div>
<p>See also:</p>
<ul>
<li><a href="https://discourse.julialang.org/t/running-gc-gc-multiple-times/20229">Running GC.gc() multiple times</a></li>
<li><a href="https://discourse.julialang.org/t/understanding-when-gc-gc-frees-memory-and-doesnt/51682">Understanding when GC.gc() frees memory and doesn’t</a></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The most possible reason for abnormally increasing memory is due to memory leak instead of insufficient <code>gc()</code>. This part is my exploration when I encounter (possibly) memory leak with <code>ECOS</code>, but the issue disappears when I switched it to <code>Gurobi</code>. Refer to <a href="https://github.com/szcf-weiya/Clouds/commit/f2ea59144ed014e38ee3a15c92e2fcbcfed930f7">this private commit</a> for more details.</p>
</div>
<h3 id="memory-allocation-of-undef">memory allocation of <code>undef</code><a class="headerlink" href="#memory-allocation-of-undef" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="nd">@time</span><span class="w"> </span><span class="kt">Array</span><span class="p">{</span><span class="kt">Array</span><span class="p">{</span><span class="kt">Int</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">},</span><span class="w"> </span><span class="mi">2</span><span class="p">}(</span><span class="nb">undef</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">);</span>
<span class="w">  </span><span class="mf">0.000024</span><span class="w"> </span><span class="n">seconds</span><span class="w"> </span><span class="p">(</span><span class="mi">6</span><span class="w"> </span><span class="n">allocations</span><span class="o">:</span><span class="w"> </span><span class="mf">78.359</span><span class="w"> </span><span class="n">KiB</span><span class="p">)</span>
<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="nd">@time</span><span class="w"> </span><span class="n">zeros</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="w">  </span><span class="mf">0.000014</span><span class="w"> </span><span class="n">seconds</span><span class="w"> </span><span class="p">(</span><span class="mi">6</span><span class="w"> </span><span class="n">allocations</span><span class="o">:</span><span class="w"> </span><span class="mf">78.359</span><span class="w"> </span><span class="n">KiB</span><span class="p">)</span>
<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="nd">@time</span><span class="w"> </span><span class="n">zeros</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">);</span>
<span class="w">  </span><span class="mf">0.000077</span><span class="w"> </span><span class="n">seconds</span><span class="w"> </span><span class="p">(</span><span class="mi">6</span><span class="w"> </span><span class="n">allocations</span><span class="o">:</span><span class="w"> </span><span class="mf">781.484</span><span class="w"> </span><span class="n">KiB</span><span class="p">)</span>
</code></pre></div>
<h2 id="wrong-arrangement-of-multiple-figures-in-a-grid">wrong arrangement of multiple figures in a grid<a class="headerlink" href="#wrong-arrangement-of-multiple-figures-in-a-grid" title="Permanent link">&para;</a></h2>
<p>Hi, I am confused by the arrangement of multiple figures in a grid. I begin with the example code in the README,</p>
<div class="highlight"><pre><span></span><code><span class="n">gui</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">imshow_gui</span><span class="p">((</span><span class="mi">300</span><span class="p">,</span><span class="w"> </span><span class="mi">300</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">))</span><span class="w">  </span><span class="c"># 2 columns, 1 row of images (each initially 300×300)</span>
<span class="n">canvases</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">gui</span><span class="p">[</span><span class="s">&quot;canvas&quot;</span><span class="p">]</span>
<span class="n">imshow</span><span class="p">(</span><span class="n">canvases</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span><span class="w"> </span><span class="n">testimage</span><span class="p">(</span><span class="s">&quot;lighthouse&quot;</span><span class="p">))</span>
<span class="n">imshow</span><span class="p">(</span><span class="n">canvases</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span><span class="w"> </span><span class="n">testimage</span><span class="p">(</span><span class="s">&quot;mandrill&quot;</span><span class="p">))</span>
<span class="n">Gtk</span><span class="o">.</span><span class="n">showall</span><span class="p">(</span><span class="n">gui</span><span class="p">[</span><span class="s">&quot;window&quot;</span><span class="p">])</span>
</code></pre></div>
<p>it throws an error when accessing <code>canvases[1,2]</code></p>
<div class="highlight"><pre><span></span><code><span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">imshow</span><span class="p">(</span><span class="n">canvases</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span><span class="w"> </span><span class="n">testimage</span><span class="p">(</span><span class="s">&quot;mandrill&quot;</span><span class="p">))</span>
<span class="n">ERROR</span><span class="o">:</span><span class="w"> </span><span class="kt">BoundsError</span><span class="o">:</span><span class="w"> </span><span class="n">attempt</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">access</span><span class="w"> </span><span class="mi">2</span><span class="o">×</span><span class="mi">1</span><span class="w"> </span><span class="kt">Array</span><span class="p">{</span><span class="kt">Any</span><span class="p">,</span><span class="mi">2</span><span class="p">}</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">]</span>
</code></pre></div>
<p>and I check the size of <code>canvases</code> is</p>
<div class="highlight"><pre><span></span><code><span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">size</span><span class="p">(</span><span class="n">canvases</span><span class="p">)</span>
<span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
</code></pre></div>
<p>it seems that the canvases will arrage by column while the gui declares it should be by rows.</p>
<p>On the other hand, if I run</p>
<div class="highlight"><pre><span></span><code><span class="n">gui</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">imshow_gui</span><span class="p">((</span><span class="mi">300</span><span class="p">,</span><span class="w"> </span><span class="mi">300</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">))</span><span class="w">  </span><span class="c"># 2 columns, 1 row of images (each initially 300×300)</span>
<span class="n">canvases</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">gui</span><span class="p">[</span><span class="s">&quot;canvas&quot;</span><span class="p">]</span>
<span class="n">imshow</span><span class="p">(</span><span class="n">canvases</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span><span class="w"> </span><span class="n">testimage</span><span class="p">(</span><span class="s">&quot;lighthouse&quot;</span><span class="p">))</span>
<span class="n">imshow</span><span class="p">(</span><span class="n">canvases</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span><span class="w"> </span><span class="n">testimage</span><span class="p">(</span><span class="s">&quot;mandrill&quot;</span><span class="p">))</span>
<span class="n">Gtk</span><span class="o">.</span><span class="n">showall</span><span class="p">(</span><span class="n">gui</span><span class="p">[</span><span class="s">&quot;window&quot;</span><span class="p">])</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">gui</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">imshow_gui</span><span class="p">((</span><span class="mi">300</span><span class="p">,</span><span class="w"> </span><span class="mi">300</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">))</span><span class="w">  </span><span class="c"># 2 columns, 1 row of images (each initially 300×300)</span>
<span class="n">canvases</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">gui</span><span class="p">[</span><span class="s">&quot;canvas&quot;</span><span class="p">]</span>
<span class="n">imshow</span><span class="p">(</span><span class="n">canvases</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span><span class="w"> </span><span class="n">testimage</span><span class="p">(</span><span class="s">&quot;lighthouse&quot;</span><span class="p">))</span>
<span class="n">imshow</span><span class="p">(</span><span class="n">canvases</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span><span class="w"> </span><span class="n">testimage</span><span class="p">(</span><span class="s">&quot;mandrill&quot;</span><span class="p">))</span>
<span class="n">Gtk</span><span class="o">.</span><span class="n">showall</span><span class="p">(</span><span class="n">gui</span><span class="p">[</span><span class="s">&quot;window&quot;</span><span class="p">])</span>
</code></pre></div>
<p>Then I guess it might due to the version of some packages&hellip;</p>
<h2 id="package">同时安装多个 package<a class="headerlink" href="#package" title="Permanent link">&para;</a></h2>
<p>用空格隔开，如</p>
<div class="highlight"><pre><span></span><code><span class="n">add</span><span class="w"> </span><span class="n">Distributions</span><span class="w"> </span><span class="n">Combinatorics</span><span class="w"> </span><span class="n">MATLAB</span><span class="w"> </span><span class="n">PyPlot</span><span class="w"> </span><span class="n">LightGraphsFlows</span><span class="w"> </span><span class="n">LightGraphs</span><span class="w"> </span><span class="n">Clp</span><span class="w"> </span><span class="n">Plots</span>
</code></pre></div>
<h2 id="_2">内地镜像源<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h2>
<p>安装 <a href="https://github.com/sunoru/PkgMirrors.jl">PkgMirrors</a>，则可以用中科大或者浙大的镜像源了</p>
<p>初次设置后，以后直接 <code>using PkgMirrors</code> 便切换到设置好的镜像，以后直接通过镜像源安装。</p>
<h2 id="select-text-in-the-output-pdf">select text in the output pdf<a class="headerlink" href="#select-text-in-the-output-pdf" title="Permanent link">&para;</a></h2>
<p>Several weeks ago, the text, such as the label, title or legend, in the output pdf via <code>savefig("xxx.pdf")</code> can be selected, but recently I found that I cannot select the text in the pdf. The reason would be the version of the packages.</p>
<p>I had tried <a href="https://heliosdrm.github.io/GRUtils.jl/stable/"><code>GRUtils</code></a>, and <code>GRUtils.savefig</code> can output pdf to select the texts, so I think the reason is some changes in <code>Plots</code> package.</p>
<p>And I found that with <code>Plots@0.27.0</code> in <code>Julia1.0</code>, I can select the text, but currently the newer <code>Plots@1.2.0</code> cannot produce such pdf. To determine the change, maybe I need more effort to try different versions. But now I can downgrade the version to satisfy my requirement.</p>
<h2 id="colorviews-for-images"><code>colorviews</code> for images<a class="headerlink" href="#colorviews-for-images" title="Permanent link">&para;</a></h2>
<p>check the help document by <code>?colorviews</code>, and there are some examples to illustrate its usage, but here I add some examples that I used in my projects.</p>
<div class="highlight"><pre><span></span><code><span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">colorview</span><span class="p">(</span><span class="n">RGB</span><span class="p">,</span><span class="w"> </span><span class="n">rand</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
<span class="mi">10</span><span class="o">×</span><span class="mi">10</span><span class="w"> </span><span class="n">reshape</span><span class="p">(</span><span class="n">reinterpret</span><span class="p">(</span><span class="kt">RGB</span><span class="p">{</span><span class="kt">Float64</span><span class="p">},</span><span class="w"> </span><span class="o">::</span><span class="kt">Array</span><span class="p">{</span><span class="kt">Float64</span><span class="p">,</span><span class="mi">3</span><span class="p">}),</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">eltype</span><span class="w"> </span><span class="kt">RGB</span><span class="p">{</span><span class="kt">Float64</span><span class="p">}</span><span class="o">:</span>
</code></pre></div>
<p>and we need to permutate the dims such that the first dim matches with RGB.</p>
<div class="highlight"><pre><span></span><code><span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">colorview</span><span class="p">(</span><span class="n">RGB</span><span class="p">,</span><span class="w"> </span><span class="n">permutedims</span><span class="p">(</span><span class="n">rand</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)))</span>
<span class="mi">10</span><span class="o">×</span><span class="mi">10</span><span class="w"> </span><span class="n">reshape</span><span class="p">(</span><span class="n">reinterpret</span><span class="p">(</span><span class="kt">RGB</span><span class="p">{</span><span class="kt">Float64</span><span class="p">},</span><span class="w"> </span><span class="o">::</span><span class="kt">Array</span><span class="p">{</span><span class="kt">Float64</span><span class="p">,</span><span class="mi">3</span><span class="p">}),</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">eltype</span><span class="w"> </span><span class="kt">RGB</span><span class="p">{</span><span class="kt">Float64</span><span class="p">}</span><span class="o">:</span>
</code></pre></div>
<p>we also can append the alpha channel to an image, such as</p>
<div class="highlight"><pre><span></span><code><span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">colorview</span><span class="p">(</span><span class="n">RGBA</span><span class="p">,</span><span class="w"> </span><span class="n">colorview</span><span class="p">(</span><span class="n">RGB</span><span class="p">,</span><span class="w"> </span><span class="n">rand</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">)),</span><span class="w"> </span><span class="n">rand</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">))</span>
<span class="mi">10</span><span class="o">×</span><span class="mi">10</span><span class="w"> </span><span class="n">mappedarray</span><span class="p">(</span><span class="kt">RGBA</span><span class="p">{</span><span class="kt">Float64</span><span class="p">},</span><span class="w"> </span><span class="n">ImageCore</span><span class="o">.</span><span class="n">extractchannels</span><span class="p">,</span><span class="w"> </span><span class="n">reshape</span><span class="p">(</span><span class="n">reinterpret</span><span class="p">(</span><span class="kt">RGB</span><span class="p">{</span><span class="kt">Float64</span><span class="p">},</span><span class="w"> </span><span class="o">::</span><span class="kt">Array</span><span class="p">{</span><span class="kt">Float64</span><span class="p">,</span><span class="mi">3</span><span class="p">}),</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">),</span><span class="w"> </span><span class="o">::</span><span class="kt">Array</span><span class="p">{</span><span class="kt">Float64</span><span class="p">,</span><span class="mi">2</span><span class="p">})</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">eltype</span><span class="w"> </span><span class="kt">RGBA</span><span class="p">{</span><span class="kt">Float64</span><span class="p">}</span><span class="o">:</span>
</code></pre></div>
<p>but directly append the array does not work,</p>
<div class="highlight"><pre><span></span><code><span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">colorview</span><span class="p">(</span><span class="n">RGBA</span><span class="p">,</span><span class="w"> </span><span class="n">rand</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">),</span><span class="w"> </span><span class="n">rand</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">))</span>
<span class="n">ERROR</span><span class="o">:</span><span class="w"> </span><span class="kt">DimensionMismatch</span><span class="p">(</span><span class="s">&quot;arrays do not all have the same axes (got (Base.OneTo(3), Base.OneTo(10), Base.OneTo(10)) and (Base.OneTo(10), Base.OneTo(10)))&quot;</span><span class="p">)</span>
</code></pre></div>
<p>which should be replaced with</p>
<div class="highlight"><pre><span></span><code><span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">colorview</span><span class="p">(</span><span class="n">RGBA</span><span class="p">,</span><span class="w"> </span><span class="n">rand</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">))</span>
<span class="mi">10</span><span class="o">×</span><span class="mi">10</span><span class="w"> </span><span class="n">reshape</span><span class="p">(</span><span class="n">reinterpret</span><span class="p">(</span><span class="kt">RGBA</span><span class="p">{</span><span class="kt">Float64</span><span class="p">},</span><span class="w"> </span><span class="o">::</span><span class="kt">Array</span><span class="p">{</span><span class="kt">Float64</span><span class="p">,</span><span class="mi">3</span><span class="p">}),</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">eltype</span><span class="w"> </span><span class="kt">RGBA</span><span class="p">{</span><span class="kt">Float64</span><span class="p">}</span><span class="o">:</span>
</code></pre></div>
<p>To use <code>RGB{N0f8}</code>, the input array should be <code>UInt8</code> not <code>Int</code>,</p>
<div class="highlight"><pre><span></span><code><span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">colorview</span><span class="p">(</span><span class="kt">RGB</span><span class="p">{</span><span class="kt">N0f8</span><span class="p">},</span><span class="w"> </span><span class="kt">Array</span><span class="p">{</span><span class="kt">UInt8</span><span class="p">}(</span><span class="n">fill</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">)))</span>
<span class="mi">10</span><span class="o">×</span><span class="mi">10</span><span class="w"> </span><span class="n">reshape</span><span class="p">(</span><span class="n">reinterpret</span><span class="p">(</span><span class="kt">RGB</span><span class="p">{</span><span class="kt">N0f8</span><span class="p">},</span><span class="w"> </span><span class="n">view</span><span class="p">(</span><span class="o">::</span><span class="kt">Array</span><span class="p">{</span><span class="kt">UInt8</span><span class="p">,</span><span class="mi">3</span><span class="p">},</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="o">:</span><span class="p">,</span><span class="w"> </span><span class="o">:</span><span class="p">)),</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">eltype</span><span class="w"> </span><span class="kt">RGB</span><span class="p">{</span><span class="kt">Normed</span><span class="p">{</span><span class="kt">UInt8</span><span class="p">,</span><span class="mi">8</span><span class="p">}}</span><span class="o">:</span>
</code></pre></div>
<h2 id="return-values-of-function">return values of function<a class="headerlink" href="#return-values-of-function" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">versioninfo</span><span class="p">()</span>
<span class="n">Julia</span><span class="w"> </span><span class="n">Version</span><span class="w"> </span><span class="mf">1.4.0</span>
<span class="n">Commit</span><span class="w"> </span><span class="n">b8e9a9ecc6</span><span class="w"> </span><span class="p">(</span><span class="mi">2020</span><span class="o">-</span><span class="mi">03</span><span class="o">-</span><span class="mi">21</span><span class="w"> </span><span class="mi">16</span><span class="o">:</span><span class="mi">36</span><span class="w"> </span><span class="n">UTC</span><span class="p">)</span>
<span class="n">Platform</span><span class="w"> </span><span class="n">Info</span><span class="o">:</span>
<span class="w">  </span><span class="n">OS</span><span class="o">:</span><span class="w"> </span><span class="n">Linux</span><span class="w"> </span><span class="p">(</span><span class="n">x86_64</span><span class="o">-</span><span class="n">pc</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="p">)</span>
<span class="w">  </span><span class="n">CPU</span><span class="o">:</span><span class="w"> </span><span class="n">Intel</span><span class="p">(</span><span class="n">R</span><span class="p">)</span><span class="w"> </span><span class="n">Core</span><span class="p">(</span><span class="n">TM</span><span class="p">)</span><span class="w"> </span><span class="n">i5</span><span class="o">-</span><span class="mi">6300</span><span class="n">HQ</span><span class="w"> </span><span class="n">CPU</span><span class="w"> </span><span class="err">@</span><span class="w"> </span><span class="mf">2.30</span><span class="n">GHz</span>
<span class="w">  </span><span class="n">WORD_SIZE</span><span class="o">:</span><span class="w"> </span><span class="mi">64</span>
<span class="w">  </span><span class="n">LIBM</span><span class="o">:</span><span class="w"> </span><span class="n">libopenlibm</span>
<span class="w">  </span><span class="n">LLVM</span><span class="o">:</span><span class="w"> </span><span class="n">libLLVM</span><span class="o">-</span><span class="mf">8.0.1</span><span class="w"> </span><span class="p">(</span><span class="n">ORCJIT</span><span class="p">,</span><span class="w"> </span><span class="n">skylake</span><span class="p">)</span>

<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">f</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="n">c</span><span class="p">,</span><span class="w"> </span><span class="n">d</span><span class="p">)</span>
<span class="w">           </span><span class="k">return</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="n">c</span><span class="p">,</span><span class="w"> </span><span class="n">d</span>
<span class="w">       </span><span class="k">end</span>
<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">f</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">);</span>

<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">a</span>
<span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span>

<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">f</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">);</span>

<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">a</span>
<span class="mi">1</span>

<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">b</span>
<span class="mi">2</span>

<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">f</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">);</span>

<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">a</span>
<span class="mi">1</span>

<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">b</span>
<span class="mi">2</span>

<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">c</span>
<span class="mi">3</span>
</code></pre></div>
<h2 id="string">String<a class="headerlink" href="#string" title="Permanent link">&para;</a></h2>
<h3 id="padding-zero-on-the-left">padding zero on the left<a class="headerlink" href="#padding-zero-on-the-left" title="Permanent link">&para;</a></h3>
<p>For example, convert &ldquo;1&rdquo; to &ldquo;001&rdquo;,</p>
<div class="tabbed-set tabbed-alternate" data-tabs="5:2"><input checked="checked" id="__tabbed_5_1" name="__tabbed_5" type="radio" /><input id="__tabbed_5_2" name="__tabbed_5" type="radio" /><div class="tabbed-labels"><label for="__tabbed_5_1">Julia</label><label for="__tabbed_5_2">Python</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">lpad</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="p">)</span>
<span class="s">&quot;001&quot;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">1</span>
<span class="o">&gt;&gt;&gt;</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">a</span><span class="si">:</span><span class="s2">03</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="s1">&#39;001&#39;</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="check-if-substring">check if substring<a class="headerlink" href="#check-if-substring" title="Permanent link">&para;</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="6:2"><input checked="checked" id="__tabbed_6_1" name="__tabbed_6" type="radio" /><input id="__tabbed_6_2" name="__tabbed_6" type="radio" /><div class="tabbed-labels"><label for="__tabbed_6_1">Julia</label><label for="__tabbed_6_2">Python</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">occursin</span><span class="p">(</span><span class="s">&quot;tech&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;techNotes&quot;</span><span class="p">)</span>
<span class="nb">true</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="s2">&quot;tech&quot;</span> <span class="ow">in</span> <span class="s2">&quot;techNotes&quot;</span>
<span class="kc">True</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="singledouble-quoting">single/double quoting<a class="headerlink" href="#singledouble-quoting" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">&#39;</span><span class="n">www</span><span class="o">&#39;</span>
<span class="n">ERROR</span><span class="o">:</span><span class="w"> </span><span class="n">syntax</span><span class="o">:</span><span class="w"> </span><span class="n">invalid</span><span class="w"> </span><span class="n">character</span><span class="w"> </span><span class="n">literal</span>

<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;w&#39;</span>
<span class="sc">&#39;w&#39;</span><span class="o">:</span><span class="w"> </span><span class="n">ASCII</span><span class="o">/</span><span class="n">Unicode</span><span class="w"> </span><span class="n">U</span><span class="o">+</span><span class="mi">0077</span><span class="w"> </span><span class="p">(</span><span class="n">category</span><span class="w"> </span><span class="n">Ll</span><span class="o">:</span><span class="w"> </span><span class="n">Letter</span><span class="p">,</span><span class="w"> </span><span class="n">lowercase</span><span class="p">)</span>

<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;ww&quot;</span>
<span class="s">&quot;ww&quot;</span>
</code></pre></div>
<p>refer to <a href="https://github.com/szcf-weiya/Cell-Video/issues/105">#105</a>.</p>
<h2 id="run-command-line">run command line<a class="headerlink" href="#run-command-line" title="Permanent link">&para;</a></h2>
<p>For example, to combine different figures,</p>
<div class="highlight"><pre><span></span><code><span class="n">run</span><span class="p">(</span><span class="sb">`convert p1.png p2.png +append p12.png`</span><span class="p">)</span>
</code></pre></div>
<p>but if there are two many figures to combine, the correct way is to keep the multiple figure name as an array,</p>
<div class="highlight"><pre><span></span><code><span class="n">figs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;p&quot;</span><span class="w"> </span><span class="o">.*</span><span class="w"> </span><span class="n">string</span><span class="o">.</span><span class="p">(</span><span class="mi">1</span><span class="o">:</span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="o">.*</span><span class="w"> </span><span class="s">&quot;.png&quot;</span>
<span class="n">run</span><span class="p">(</span><span class="sb">`convert </span><span class="si">$figs</span><span class="sb"> +append pall.png`</span><span class="p">)</span>
</code></pre></div>
<p>instead of trying to convert the array to a string,</p>
<div class="highlight"><pre><span></span><code><span class="c"># WRONG!!!</span>
<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">figs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">prod</span><span class="p">(</span><span class="s">&quot;p&quot;</span><span class="w"> </span><span class="o">.*</span><span class="w"> </span><span class="n">string</span><span class="o">.</span><span class="p">(</span><span class="mi">1</span><span class="o">:</span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="o">.*</span><span class="w"> </span><span class="s">&quot;.png &quot;</span><span class="p">)</span>
<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">run</span><span class="p">(</span><span class="sb">`convert </span><span class="si">$figs</span><span class="sb"> +append pall.png`</span><span class="p">)</span>
<span class="n">convert</span><span class="o">:</span><span class="w"> </span><span class="n">unable</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">open</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="err">&#39;</span><span class="n">p1</span><span class="o">.</span><span class="n">png</span><span class="w"> </span><span class="n">p2</span><span class="o">.</span><span class="n">png</span><span class="w"> </span><span class="o">...</span><span class="w"> </span><span class="n">p10</span><span class="o">.</span><span class="n">png</span><span class="w"> </span><span class="err">&#39;</span>
</code></pre></div>
<p>or writting all command as a string</p>
<div class="highlight"><pre><span></span><code><span class="c"># WRONG!!!</span>
<span class="n">command</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;convert &quot;</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">prod</span><span class="p">(</span><span class="s">&quot;p&quot;</span><span class="w"> </span><span class="o">.*</span><span class="w"> </span><span class="n">string</span><span class="o">.</span><span class="p">(</span><span class="mi">1</span><span class="o">:</span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="o">.*</span><span class="w"> </span><span class="s">&quot;.png &quot;</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="s">&quot;+append pall.png&quot;</span>
<span class="n">run</span><span class="p">(</span><span class="sb">`</span><span class="si">$command</span><span class="sb">`</span><span class="p">)</span>
</code></pre></div>
<p>Special characters <code>#{}()[]&lt;&gt;|&amp;*?~;</code> need to be quoted,</p>
<div class="highlight"><pre><span></span><code><span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">run</span><span class="p">(</span><span class="sb">`ls *.toml`</span><span class="p">)</span>
<span class="n">ERROR</span><span class="o">:</span><span class="w"> </span><span class="kt">LoadError</span><span class="o">:</span><span class="w"> </span><span class="n">parsing</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="sb">`ls *.toml`</span><span class="o">:</span><span class="w"> </span><span class="n">special</span><span class="w"> </span><span class="n">characters</span><span class="w"> </span><span class="s">&quot;#{}()[]&lt;&gt;|&amp;*?~;&quot;</span><span class="w"> </span><span class="n">must</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">quoted</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">commands</span>
</code></pre></div>
<p>the quote is not just for the special character, which will fix the filename in the above example,</p>
<div class="highlight"><pre><span></span><code>julia&gt;<span class="w"> </span>run<span class="o">(</span><span class="sb">`</span>ls<span class="w"> </span><span class="s2">&quot;*.toml&quot;</span><span class="sb">`</span><span class="o">)</span>
ls:<span class="w"> </span>cannot<span class="w"> </span>access<span class="w"> </span><span class="s1">&#39;*.toml&#39;</span>:<span class="w"> </span>No<span class="w"> </span>such<span class="w"> </span>file<span class="w"> </span>or<span class="w"> </span>directory
</code></pre></div>
<p>but quoting is not enough, </p>
<div class="highlight"><pre><span></span><code><span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">run</span><span class="p">(</span><span class="sb">`&quot;ls *.toml&quot;`</span><span class="p">)</span>
<span class="n">ERROR</span><span class="o">:</span><span class="w"> </span><span class="n">IOError</span><span class="o">:</span><span class="w"> </span><span class="n">could</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">spawn</span><span class="w"> </span><span class="sb">`&#39;ls *.toml&#39;`</span><span class="o">:</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">such</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">or</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="p">(</span><span class="n">ENOENT</span><span class="p">)</span>
</code></pre></div>
<p>the right way is </p>
<div class="highlight"><pre><span></span><code><span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">run</span><span class="p">(</span><span class="sb">`bash -c &quot;ls *.toml&quot;`</span><span class="p">)</span>
<span class="n">Manifest</span><span class="o">.</span><span class="n">toml</span><span class="w">  </span><span class="n">Project</span><span class="o">.</span><span class="n">toml</span>
<span class="n">Process</span><span class="p">(</span><span class="sb">`bash -c &#39;ls *.toml&#39;`</span><span class="p">,</span><span class="w"> </span><span class="n">ProcessExited</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
</code></pre></div>
<p>refer to <a href="https://discourse.julialang.org/t/quoting-in-shell-commands/6781/4">Quoting in shell commands - General Usage - JuliaLang</a></p>
<h2 id="foreach">foreach<a class="headerlink" href="#foreach" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">foreach</span><span class="p">(</span><span class="n">readdir</span><span class="p">(</span><span class="s">&quot;.&quot;</span><span class="p">))</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="n">filename</span>
<span class="w">           </span><span class="n">println</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
<span class="w">       </span><span class="k">end</span>
<span class="c"># or a more concise way</span>
<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">foreach</span><span class="p">(</span><span class="n">println</span><span class="p">,</span><span class="w"> </span><span class="n">readdir</span><span class="p">(</span><span class="s">&quot;.&quot;</span><span class="p">))</span>
</code></pre></div>
<p><a href="https://github.com/szcf-weiya/Cell-Video/blob/8cffd45451c0b1af9da4199c7ef611d836c0e86e/DP/visualization.jl#L166">an example</a></p>
<h2 id="regex">Regex<a class="headerlink" href="#regex" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">split</span><span class="p">(</span><span class="s">&quot;juliaxxxjulia&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;julia&quot;</span><span class="p">)</span>
<span class="mi">3</span><span class="o">-</span><span class="n">element</span><span class="w"> </span><span class="kt">Array</span><span class="p">{</span><span class="kt">SubString</span><span class="p">{</span><span class="kt">String</span><span class="p">},</span><span class="mi">1</span><span class="p">}</span><span class="o">:</span>
<span class="w"> </span><span class="s">&quot;&quot;</span>
<span class="w"> </span><span class="s">&quot;xxx&quot;</span>
<span class="w"> </span><span class="s">&quot;&quot;</span>

<span class="c"># ^ requires `Regex`</span>
<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">split</span><span class="p">(</span><span class="s">&quot;juliaaaajulia&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;^julia&quot;</span><span class="p">)</span>
<span class="mi">1</span><span class="o">-</span><span class="n">element</span><span class="w"> </span><span class="kt">Array</span><span class="p">{</span><span class="kt">SubString</span><span class="p">{</span><span class="kt">String</span><span class="p">},</span><span class="mi">1</span><span class="p">}</span><span class="o">:</span>
<span class="s">&quot;juliaaaajulia&quot;</span>


<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">split</span><span class="p">(</span><span class="s">&quot;juliaxxxjulia&quot;</span><span class="p">,</span><span class="w"> </span><span class="kt">Regex</span><span class="p">(</span><span class="s">&quot;^julia&quot;</span><span class="p">))</span>
<span class="mi">2</span><span class="o">-</span><span class="n">element</span><span class="w"> </span><span class="kt">Array</span><span class="p">{</span><span class="kt">SubString</span><span class="p">{</span><span class="kt">String</span><span class="p">},</span><span class="mi">1</span><span class="p">}</span><span class="o">:</span>
<span class="w"> </span><span class="s">&quot;&quot;</span>
<span class="w"> </span><span class="s">&quot;xxxjulia&quot;</span>

<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;xxx&quot;</span>
<span class="s">&quot;xxx&quot;</span>

<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">split</span><span class="p">(</span><span class="s">&quot;juliaxxxjulia&quot;</span><span class="p">,</span><span class="w"> </span><span class="kt">Regex</span><span class="p">(</span><span class="s">&quot;^julia</span><span class="si">$x</span><span class="s">&quot;</span><span class="p">))</span>
<span class="mi">2</span><span class="o">-</span><span class="n">element</span><span class="w"> </span><span class="kt">Array</span><span class="p">{</span><span class="kt">SubString</span><span class="p">{</span><span class="kt">String</span><span class="p">},</span><span class="mi">1</span><span class="p">}</span><span class="o">:</span>
<span class="w"> </span><span class="s">&quot;&quot;</span>
<span class="w"> </span><span class="s">&quot;julia&quot;</span>
</code></pre></div>
<p>adopted from <a href="https://github.com/szcf-weiya/Cell-Video/blob/8cffd45451c0b1af9da4199c7ef611d836c0e86e/DP/visualization.jl#L260"><code>pattern = Regex("^"*pattern)</code></a></p>
<h2 id="underscores">Underscores<a class="headerlink" href="#underscores" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">ff</span><span class="p">()</span>
<span class="w">           </span><span class="k">return</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span>
<span class="w">       </span><span class="k">end</span>
<span class="n">ff</span><span class="w"> </span><span class="p">(</span><span class="n">generic</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">method</span><span class="p">)</span>

<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">_</span><span class="p">,</span><span class="w"> </span><span class="n">_</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ff</span><span class="p">()</span>
<span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span>

<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">a</span>
<span class="mi">3</span>

<span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">_</span>
<span class="n">ERROR</span><span class="o">:</span><span class="w"> </span><span class="n">all</span><span class="o">-</span><span class="n">underscore</span><span class="w"> </span><span class="n">identifier</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">rvalue</span>
</code></pre></div>
<p>where the formal definition for <code>rvalue</code> refers to <a href="https://en.cppreference.com/w/cpp/language/value_category">Value categories</a></p>







  
    
  
  
    
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Last update">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">August 31, 2023</span>
  </span>

    
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Created">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">August 27, 2017</span>
  </span>

    
    
    
  </aside>





                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2017-2024 weiya
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/szcf-weiya" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1M480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2m-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3m-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://esl.hohoweiya.xyz" target="_blank" rel="noopener" title="esl.hohoweiya.xyz" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M96 0C43 0 0 43 0 96v320c0 53 43 96 96 96h320c17.7 0 32-14.3 32-32s-14.3-32-32-32v-64c17.7 0 32-14.3 32-32V32c0-17.7-14.3-32-32-32H96m0 384h256v64H96c-17.7 0-32-14.3-32-32s14.3-32 32-32m32-240c0-8.8 7.2-16 16-16h192c8.8 0 16 7.2 16 16s-7.2 16-16 16H144c-8.8 0-16-7.2-16-16m16 48h192c8.8 0 16 7.2 16 16s-7.2 16-16 16H144c-8.8 0-16-7.2-16-16s7.2-16 16-16"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://hohoweiya.xyz" target="_blank" rel="noopener" title="hohoweiya.xyz" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M575.8 255.5c0 18-15 32.1-32 32.1h-32l.7 160.2c0 2.7-.2 5.4-.5 8.1v16.2c0 22.1-17.9 40-40 40h-16c-1.1 0-2.2 0-3.3-.1-1.4.1-2.8.1-4.2.1L416 512h-24c-22.1 0-40-17.9-40-40v-88c0-17.7-14.3-32-32-32h-64c-17.7 0-32 14.3-32 32v88c0 22.1-17.9 40-40 40h-55.9c-1.5 0-3-.1-4.5-.2-1.2.1-2.4.2-3.6.2h-16c-22.1 0-40-17.9-40-40V360c0-.9 0-1.9.1-2.8v-69.7h-32c-18 0-32-14-32-32.1 0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7l255.4 224.5c8 7 12 15 11 24"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://stats.hohoweiya.xyz" target="_blank" rel="noopener" title="stats.hohoweiya.xyz" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M168 80c-13.3 0-24 10.7-24 24v304c0 8.4-1.4 16.5-4.1 24H440c13.3 0 24-10.7 24-24V104c0-13.3-10.7-24-24-24zM72 480c-39.8 0-72-32.2-72-72V112c0-13.3 10.7-24 24-24s24 10.7 24 24v296c0 13.3 10.7 24 24 24s24-10.7 24-24V104c0-39.8 32.2-72 72-72h272c39.8 0 72 32.2 72 72v304c0 39.8-32.2 72-72 72zm104-344c0-13.3 10.7-24 24-24h96c13.3 0 24 10.7 24 24v80c0 13.3-10.7 24-24 24h-96c-13.3 0-24-10.7-24-24zm200-24h32c13.3 0 24 10.7 24 24s-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24s10.7-24 24-24m0 80h32c13.3 0 24 10.7 24 24s-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24s10.7-24 24-24m-176 80h208c13.3 0 24 10.7 24 24s-10.7 24-24 24H200c-13.3 0-24-10.7-24-24s10.7-24 24-24m0 80h208c13.3 0 24 10.7 24 24s-10.7 24-24 24H200c-13.3 0-24-10.7-24-24s10.7-24 24-24"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://blog.hohoweiya.xyz" target="_blank" rel="noopener" title="blog.hohoweiya.xyz" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M64 80c-8.8 0-16 7.2-16 16v320c0 8.8 7.2 16 16 16h224v-80c0-17.7 14.3-32 32-32h80V96c0-8.8-7.2-16-16-16zm224 400H64c-35.3 0-64-28.7-64-64V96c0-35.3 28.7-64 64-64h320c35.3 0 64 28.7 64 64v229.5c0 17-6.7 33.3-18.7 45.3l-90.5 90.5c-12 12-28.3 18.7-45.3 18.7z"/></svg>
    </a>
  
    
    
    
    
    <a href="mailto:szcfweiya@gmail.com" target="_blank" rel="noopener" title="" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M64 112c-8.8 0-16 7.2-16 16v22.1l172.5 141.6c20.7 17 50.4 17 71.1 0L464 150.1V128c0-8.8-7.2-16-16-16zM48 212.2V384c0 8.8 7.2 16 16 16h384c8.8 0 16-7.2 16-16V212.2L322 328.8c-38.4 31.5-93.7 31.5-132 0zM0 128c0-35.3 28.7-64 64-64h384c35.3 0 64 28.7 64 64v256c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tabs", "navigation.sections", "navigation.top", "navigation.indexes", "content.action.edit"], "search": "../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.d6f25eb3.min.js"></script>
      
        <script src="../javascripts/baiduzhanzhang.js"></script>
      
        <script src="../javascripts/extra.js"></script>
      
        <script src="../javascripts/mathjax.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
    
  </body>
</html>